{"version":3,"sources":["assets/images/zoom-logo.svg","assets/images/zoom-logo-mono.svg","assets/images/cytoscape-logo-mono-light.svg","components/NDExSignInModal/assets/images/google-logo.svg","components/NDExSignInModal/assets/images/google-logo-disabled.svg","assets/images/ndex-logo-mono-light.svg","assets/images/github.svg","assets/images/search-logo.svg","assets/images/ucsd-logo.svg","actions/search.js","actions/uiState.js","actions/network.js","actions/source.js","actions/cyrest.js","actions/ndexSave.js","components/GeneList/index.jsx","components/InputPanel/index.jsx","components/Results/HoverTab.jsx","components/Results/Empty.jsx","components/AppShell/MessageSnackbar.jsx","components/Results/CytoscapeViewer/Warning.jsx","components/Results/CytoscapeViewer/LayoutSettings.js","api/config.js","components/Results/CytoscapeViewer/index.jsx","components/LoadingPanel/index.jsx","components/Results/Ndex/PathwayFigureViewer.jsx","components/Results/Ndex/NetworkViewer.jsx","components/Results/TableBrowser/attribute-util.js","components/Results/TableBrowser/camel-case-util.js","components/Results/TableBrowser/strip-scripts-util.js","components/Results/TableBrowser/ExpandPanel.jsx","components/Results/TableBrowser/NetworkProperties.jsx","components/Results/TableBrowser/GeneAnnotationList.jsx","components/Results/TableBrowser/NodeProperties.jsx","components/Results/TableBrowser/EdgeProperties.jsx","components/Results/TableBrowser/TableBrowserPanel.jsx","components/Results/TableBrowser/index.jsx","api/cyrest.js","sagas/cyRestStatusSaga.js","components/Results/Ndex/OpenInCytoscapeButton.jsx","components/Results/Ndex/ResetZoomButton.jsx","components/Results/Ndex/ResetPathwayFigureZoomButton.jsx","components/Results/Ndex/Highlighter.jsx","components/Results/Ndex/SaveToNDExButton.jsx","components/NDExSave/index.jsx","components/NDExSignInModal/index.jsx","components/Results/Ndex/OpenOriginalNetworkButton.jsx","components/Results/Ndex/LayoutSelector.jsx","components/Results/Ndex/NetworkToolbar.jsx","components/Results/Ndex/NetworkView.jsx","components/Results/Ndex/InfoModal.jsx","components/Results/Ndex/SortPanel.jsx","components/Results/Ndex/NetworkList.jsx","components/Results/Ndex/index.jsx","components/Results/TabContent.jsx","components/Results/index.jsx","components/AppShell/GeneTextBox.jsx","components/AppShell/TitleBar.jsx","components/SettingsPanel/index.jsx","components/AppShell/index.jsx","components/HomePanel/index.jsx","containers/MainContainer/index.jsx","components/TopPage/SearchTextBox.jsx","components/TopPage/Footer.jsx","components/TopPage/StartPanel.jsx","components/TopPage/index.jsx","containers/TopPageContainer/index.jsx","App.js","serviceWorker.js","reducers/search.js","reducers/uiState.js","reducers/network.js","reducers/source.ts","reducers/cyrest.ts","reducers/ndexSave.js","reducers/index.js","api/ndex.js","api/mygene.js","api/search.js","sagas/ndexSaga-util.ts","sagas/ndexSaga.ts","sagas/cyRestSaga.js","api/ndexSave.js","sagas/ndexSaveSaga.js","analytics.js","index.js","assets/images/ndex-logo.svg","assets/images/cytoscape-logo.svg"],"names":["module","exports","SET_QUERY","CLEAR_QUERY","SEARCH_STARTED","SEARCH_SUCCEEDED","SEARCH_FAILED","SET_SEARCH_RESULT","FETCH_RESULT_STARTED","FETCH_RESULT_SUCCEEDED","FETCH_RESULT_FAILED","CLEAR_ALL","SET_SELECTED_GENES","CLEAR_SELECTED_GENES","SET_SEARCH_RESULT_ORDER","SET_ACTUAL_RESULTS","setQuery","createAction","clearQuery","searchStarted","searchSucceeded","searchFailed","setSearchResult","fetchResultStarted","fetchResultSucceeded","fetchResultFailed","clearAll","setSelectedGenes","clearSelectedGenes","setSearchResultOrder","setActualResults","SET_SETTINGS_OPEN","setSettingsOpen","SET_CYTOSCAPE_STATUS","setCytoscapeStatus","SET_SERVICES_LIST_OPEN","setServicesListOpen","SET_HIGHLIGHTS","setHighlights","SET_SELECTED_SOURCE","setSelectedSource","SET_PATHWAY_FIGURE","setPathwayFigure","SET_PATHWAY_FIGURE_SOURCE","setPathwayFigureSource","SET_FIT_PATHWAY_FIGURE","setFitPathwayFigure","SET_SORT_OPTIONS","SET_SORT_BY","setSortOptions","setSortBy","SET_LAYOUT","SET_LAYOUTS","setLayout","setLayouts","SET_ANNOTATIONS","setAnnotations","FIT_NETWORK_VIEW","fitNetworkView","UPDATE","update","NETWORK_FETCH_STARTED","NETWORK_FETCH_SUCCEEDED","NETWORK_FETCH_FAILED","NETWORK_CLEAR","SELECT_NODES","UNSELECT_NODES","SELECT_EDGES","UNSELECT_EDGES","DESELECT_ALL","CHANGE_TAB","CHANGE_LIST_INDEX","SET_ORIGINAL_NETWORK_URL","networkFetchStarted","networkFetchSucceeded","networkFetchFailed","networkClear","selectNodes","unselectNodes","selectEdges","unselectEdges","deselectAll","changeTab","changeListIndex","setOriginalNetworkUrl","FIND_SOURCE_STARTED","FIND_SOURCE_SUCCEEDED","FIND_SOURCE_FAILED","SET_CURRENT_SOURCE","findSourceStarted","findSourceSucceeded","findSourceFailed","setCurrentSource","IMPORT_NETWORK_STARTED","IMPORT_NETWORK_SUCCEEDED","IMPORT_NETWORK_FAILED","importNetworkStarted","importNetworkSucceeded","importNetworkFailed","SET_PORT","setPort","FETCH_AVAILABLE","SET_AVAILABLE","fetchAvailable","setAvailable","START_CYREST_POLLING","STOP_CYREST_POLLING","startCyRestPolling","stopCyRestPolling","SET_NDEX_MODAL_OPEN","setNDExModalOpen","SET_PROFILE","setProfile","CREDENTIALS_SIGN_ON","credentialsSignOn","GOOGLE_SIGN_ON","googleSignOn","SAVE_TO_NDEX","saveToNDEx","SET_NETWORK_URL","setNetworkUrl","SET_ERROR_MESSAGE","setErrorMessage","buttonStyle","padding","borderRadius","height","borderWidth","backgroundColor","selectedButtonStyle","selectedChipStyle","margin","toggleButtonGroupStyle","ToggleButton","withStyles","label","MuiToggleButton","getChip","value","hitSets","has","toUpperCase","Chip","avatar","Avatar","style","width","position","left","variant","color","key","selected","clickable","GeneList","props","results","search","hits","network","hitGenes","Set","handleChange","event","newAlignment","geneToNodeMap","alignment","selectedGenes","searchActions","className","geneList","genes","matched","unmatched","unique","values","gene","add","symbol","push","matchedSorted","sort","unmatchedSorted","sorted","List","map","geneValue","ListItem","ToggleButtonGroup","exclusive","onChange","InputPanel","nodeList","nodeAttributes","originalCX","i","length","nodes","geneName","currentAttribute","n","nodeName","filter","node","po","geneNames","v","j","startsWith","substring","size","HoverTab","Hover","theme","root","minHeight","minheight","backgroundcolor","opacity","tooltip","Tooltip","title","Tab","Empty","Typography","message","details","MessageSnackbar","handleClose","reason","setOpen","Snackbar","anchorOrigin","vertical","horizontal","open","autoHideDuration","onClose","ContentProps","id","action","IconButton","aria-label","onClick","container","display","justifyContent","alignItems","overflow","classes","useState","state","setState","setMessage","uuid","cyrest","available","isLoadingNetwork","lastResponse","cycleId","type","currentId","setTimeout","Fragment","placement","aria-haspopup","handleImportNetwork","alt","src","cytoLogo","align","CONCENTRIC_LAYOUT","name","minNodeSpacing","animate","COSE_LAYOUT","nodeRepulsion","nodeOverlap","idealEdgeLength","edge","fit","MAX_NETWORK_SIZE","MYGENE_BASE_URL","GENE_CARDS_URL","HELP_URL","FEEDBACK_URL","CYTOSCAPE_URL","DEPLOY_ENVIRON","SERVICE_SERVER_URL","BASE_URL","GOOGLE_CLIENT_ID","COPYRIGHT","UCSD_URL","GENESET_EXAMPLES","undefined","window","ndexSettings","console","log","iQuery","myGeneUri","geneCardsUri","helpUri","feedBackUri","cytoscapeUri","deployEnvironment","ndexServerUri","baseUri","googleClientId","geneSetExamples","ucsdUri","copyRight","maxNetworkSize","APP_VERSION","Cytoscape","use","CyCanvas","cyInstance","annotationRenderer","CxToCyCanvas","CxToJs","utils","CyNetworkUtils","CytoscapeViewer","propLayouts","propLayout","uiState","highlights","cyjs","cloneDeep","elements","originalElements","PRESET_LAYOUT","positions","_private","data","elem","toString","layout","useEffect","on","target","networkActions","e","warn","selectEdge","edges","$","forEach","element","selectNode","removeClass","this","source","addClass","isLayout","Promise","resolve","reject","networkAttr","entry","networkAttributes","firstEntry","annotationEntry","attr","nice","rawCXtoNiceCX","drawAnnotationsFromNiceCX","drawBackground","renderAnnotations","then","uiStateActions","layouts","targets","zoom","center","eles","duration","err","resize","stop","background","stylesheet","cy","LoadingPanel","CircularProgress","useStyles","makeStyles","imageContainer","messageContainer","top","PathwayFigureViewer","scale","translation","x","y","zoomValue","setZoomValue","imageHeight","setImageHeight","imageWidth","setImageWidth","imageContainerRef","useRef","imageRef","centerFigure","containerHeight","current","offsetHeight","containerWidth","offsetWidth","heightScale","widthScale","fitPathwayFigure","figureSource","pathwayFigureSource","ref","onLoad","naturalHeight","naturalWidth","NetworkViewer","isFetching","actualResults","nodeCount","edgeCount","selectedSource","pathwayFigure","resized","findAttributes","attrType","len","camelCaseToTitleCase","camelCaseString","slice","result","replace","trim","charAt","stripScripts","ExpandPanel","React","defaultExpanded","divider","borderTop","button","Math","random","ListItemText","primary","summary","Collapse","in","timeout","unmountOnExit","component","disablePadding","index","boxSizing","paddingLeft","paddingTop","lessPadding","noPadding","paddingBottom","extractContent","modifiedText","Array","isArray","join","extractTitle","formatPrimary","endsWith","parse","formatContext","context","returnArray","valign","NetworkProperties","content","leftDisplayItems","properties","contributors","wikiPathways","indraGO","networkInformation","rightDisplayItems","attributes","displayed","latinIndex","toLowerCase","indexOf","split","newTitle","splice","rightDisplay","list","currentEntry","secondaryString","primaryString","leftDisplay","keyId","sizes","gutterSize","GeneAnnotationList","handleClick","tag","curState","getListItem","geneEntry","description","_id","disableGutters","ListItemAvatar","marginLeft","inline","href","search_results","geneSymbol","upperListItem","get","Component","marginTop","linkIcon","nested","spacing","wideList","table","tableLayout","icon","weidth","MemoNodeProperties","memo","listProperties","setDefaultExpanded","selectedNodes","nodeData","entityProperties","nodeProperties","displayItems","a","b","topDisplay","geneAnnotation","inset","querynode","completeListProperties","property","listForThisNode","represents","prefix","test","propertyName","propertyList","propertyString","displayCol1","displayCol2","colSpan","oldProps","newProps","isEqual","findNode","nodeId","nodeArray","isNaN","returnNode","item","MemoEdgeProperties","selectedEdges","edgeProperties","aScore","bScore","aSource","aTarget","bSource","bTarget","originalId","listForThisEdge","noBreak","listPadding","queryList","includes","prevProps","subtitle","TabContent","JSON","edgeAttributes","contextUpper","mapKeys","k","nodeListProperties","r","d","propDict","concat","edgeListProperties","edgeId","DISABLED_STYLE","TableBrowserPanel","tableDisplayTab","Tabs","newValue","MemoTableBrowser","status","cyRESTPort","fetch","CYREST_BASE_URL","method","importNetwork","payload","importNetworkUrl","headers","Accept","body","stringify","_fetchCyRESTAvailable","_cyRestStatusSaga","delay","currentConnectionState","call","put","take","race","all","BootstrapButton","borderColor","fade","Button","buttonIcon","minWidth","cyrestActions","disabled","disableFocusListener","logoDisabled","logo","disabledLogo","textAlign","lignHeight","highlight","evt","loggedInUserRaw","localStorage","getItem","loggedInUser","lProfile","firstName","image","authorization","token","btoa","userName","ndexSaveActions","fontSize","NDExSave","cx","networkUrl","ndexSave","profile","DialogContentText","DialogActions","PaperComponent","cancel","Paper","GoogleSignOn","onFailure","error","onError","googleSSO","onSuccess","clsName","GoogleLogo","GoogleLogoDisabled","clientId","render","renderProps","buttonText","CredentialsSignOn","handleCredentialsSignOn","button_cls","onSubmit","FormControl","TextField","placeholder","required","autoComplete","rel","NDExSignIn","handleError","onLoginSuccess","DialogTitle","DialogContent","Grid","xs","NDExSignInModal","onLogout","removeItem","preventDefault","handleOnSuccess","resp","Dialog","ndexModal","aria-labelledby","scroll","errorMessage","url","handleOpen","formControl","input","focused","notchedOutline","menuItems","inputLabel","labelWidth","setLabelWidth","InputLabel","htmlFor","Select","OutlinedInput","MenuItem","toolbar","paddingRight","grow","flexGrow","menuButton","marginRight","breakpoints","up","shape","palette","common","white","searchIcon","pointerEvents","inputRoot","inputInput","transition","transitions","create","buttons","border","openIcon","other","networkName","tab","setTab","handleTabChange","request","XMLHttpRequest","send","onreadystatechange","noWrap","DEFAULT_RATIO","NetworkView","setResize","direction","onDragEnd","infoStyle","iconStyle","bottom","InfoModal","cursor","dividers","BootstrapInput","textColor","InputBase","formStyle","marginBottom","divStyle","borderBottom","textStyle","selectStyle","SortPanel","sortBy","sortOptions","displayEmpty","findSort","PValue","rank","similarity","networkAvatar","menuItem","menuText","secondary","plot","openFirst","first","handleFetch","networkUUID","networkCount","totalNetworkCount","firstHit","sortFunction","opened","listIndex","handleListItemClick","enrichmentStyle","selectedIndex","MenuList","renderNetworkListItem","titleStyle","lineHeight","wordBreak","subtitleStyle","edgeStyle","tableStyle","borderCollapse","borderSpacing","Ndex","sourceUUID","jobId","updateHistory","searchResults","sourceName","history","renderNetworkListItemEnrichment","networkEntry","imageURL","ListItemIcon","newline","pVal","threshold","pow","ceil","LN10","toExponential","pv","sim","toFixed","rowSpan","renderNetworkListItemInteractome","parent_network_nodes","parent_network_edges","renderNetworkListItemDefault","querySize","totalNetworks","sourceId","numberOfNetworks","tooltipStyle","TAB_LABELS","getSourceName","sources","idx","findResult","resultArray","currentResult","tabs","others","setSelectedTabIndex","selectedSourceName","flex","iconButton","geneTextRef","anchorEl","query","queryGenes","menuOpen","Boolean","loadCSS","document","querySelector","handleSearch","sourceNames","elevation","currentTarget","transformOrigin","example","exampleIdx","Divider","getElementById","select","execCommand","Icon","classNames","onKeyDown","textTransform","TitleBar","handleMenu","isSettingsOpen","handleHomeButton","AppBar","appBar","appBarShift","Toolbar","homeLogo","textBox","openLink","hide","easing","sharp","leavingScreen","easeOut","enteringScreen","whiteSpace","withTheme","SettingsPanel","handleServicesItemClick","servicesListOpen","handleDrawerClose","isOpen","Drawer","drawer","anchor","paper","drawerPaper","sourceEntry","version","text","LINKS","link","github","flexShrink","drawerHeader","mixins","contentShift","cyrestport","URLSearchParams","location","CssBaseline","children","HomePanel","historyListener","pathname","listen","withRouter","connect","dispatch","bindActionCreators","sourceActions","ReactGA","set","page","pageview","searchButtonEl","autoFocus","searchLogo","Footer","ndexLogo","cyLogo","ucsdLogo","StartPanel","queryString","isSearching","ndex","TopPage","Top","App","hostname","match","EMPTY_STATE","searchStatus","resultList","RegExp","handleActions","newQueryList","singleResult","sortOrder","annotations","cx2js","vs","selector","css","fadedNode","fadedEdge","activeObject","isLayoutComplete","convertCx2cyjs","Error","getBackGround","niceCX","attributeNameMap","elementsObj","cyElementsFromNiceCX","cyStyleFromNiceCX","newStyle","styleUpdater","updatedNodes","adjustLayout","checkLayout","vps","p","upperQuery","isFetchingSource","currentSource","info","port","isFetchingAvailable","isPollingAvailable","rootReducer","combineReducers","fetchNetwork","fetchUrl","searchGenes","getSource","mode","response","ok","catch","checkStatus","getResult","resultUrl","URL","searchParams","append","postQuery","sourceList","searchUrl","queryObject","header","Headers","filterGenes","uniqueGeneMap","Map","notFound","notfound","watchSearch","watchSearchResult","fetchSource","rootSaga","sourceJson","geneListString","myGeneApi","geneRes","searchRes","geneJson","resultLocation","parts","filtered","sleep","ms","finishedSourceNames","statusRes","statusJson","progress","resultRes","json","finishCount","params","api","orderedSources","takeLatest","cyrestSaga","watchImportNetwork","getCyRESTPort","addNumberVerification","aspect","patchedCX","numberVerification","longNumber","responseJson","NDEX_USER_VALIDATION","NDEX_SAVE","ndexValidation","ndexSaveSaga","watchGoogleSignOn","watchCredentialsSignOn","watchSaveToNDEx","tokenObj","token_type","id_token","profileObj","imageUrl","Authorization","user","basicAuthSignIn","accountName","pwd","password","auth","lastName","externalId","setItem","responseText","lastSlash","lastIndexOf","networkURL","protocol","initialize","gaOptions","siteSpeedSampleRate","EventActions","SetQuery","OpenInCytoscape","NetworkSelected","handleEvent","eventType","category","sagaMiddleware","createSagaMiddleware","store","createStore","composeWithDevTools","applyMiddleware","next","run","cyRestSaga","cyRestStatusSaga","basename","process","exact","path","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.76bc040d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/zoom-logo.55a0b3a1.svg\";","module.exports = __webpack_public_path__ + \"static/media/zoom-logo-mono.1cd5bbee.svg\";","module.exports = __webpack_public_path__ + \"static/media/cytoscape-logo-mono-light.5b5f28e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/google-logo.c21ca9d1.svg\";","module.exports = __webpack_public_path__ + \"static/media/google-logo-disabled.02062f61.svg\";","module.exports = __webpack_public_path__ + \"static/media/ndex-logo-mono-light.b9de38dc.svg\";","module.exports = __webpack_public_path__ + \"static/media/github.617870e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/search-logo.19dae5a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/ucsd-logo.5838f23e.svg\";","import { createAction } from 'redux-actions';\n\nexport const SET_QUERY = 'SET_QUERY';\nexport const CLEAR_QUERY = 'CLEAR_QUERY';\n\nexport const SEARCH_STARTED = 'SEARCH_STARTED';\nexport const SEARCH_SUCCEEDED = 'SEARCH_SUCCEEDED';\nexport const SEARCH_FAILED = 'SEARCH_FAILED';\n\nexport const SET_SEARCH_RESULT = 'SET_SEARCH_RESULT';\n\nexport const FETCH_RESULT_STARTED = 'FETCH_RESULT_STARTED';\nexport const FETCH_RESULT_SUCCEEDED = 'FETCH_RESULT_SUCCEEDED';\nexport const FETCH_RESULT_FAILED = 'FETCH_RESULT_FAILED';\n\nexport const CLEAR_ALL = 'CLEAR_ALL';\n\nexport const SET_SELECTED_GENES = 'SET_SELECTED_GENES';\nexport const CLEAR_SELECTED_GENES = 'CLEAR_SELECTED_GENES';\n\nexport const SET_SEARCH_RESULT_ORDER = 'SET_SEARCH_RESULT_ORDER';\nexport const SET_ACTUAL_RESULTS = 'SET_ACUTAL_RESULTS';\n\nexport const setQuery = createAction(SET_QUERY);\nexport const clearQuery = createAction(CLEAR_QUERY);\n\n// For sending Job\nexport const searchStarted = createAction(SEARCH_STARTED);\nexport const searchSucceeded = createAction(SEARCH_SUCCEEDED);\nexport const searchFailed = createAction(SEARCH_FAILED);\n\nexport const setSearchResult = createAction(SET_SEARCH_RESULT);\n\n// For getting result\nexport const fetchResultStarted = createAction(FETCH_RESULT_STARTED);\nexport const fetchResultSucceeded = createAction(FETCH_RESULT_SUCCEEDED);\nexport const fetchResultFailed = createAction(FETCH_RESULT_FAILED);\n\nexport const clearAll = createAction(CLEAR_ALL);\n\nexport const setSelectedGenes = createAction(SET_SELECTED_GENES);\nexport const clearSelectedGenes = createAction(CLEAR_SELECTED_GENES);\n\nexport const setSearchResultOrder = createAction(SET_SEARCH_RESULT_ORDER);\nexport const setActualResults = createAction(SET_ACTUAL_RESULTS);\n","import { createAction } from 'redux-actions';\n\n/**\n * Global state for the application UI\n *\n * @type {string}\n */\nexport const SET_SETTINGS_OPEN = 'SET_SETTINGS_OPEN';\nexport const setSettingsOpen = createAction(SET_SETTINGS_OPEN);\n\nexport const SET_CYTOSCAPE_STATUS = 'SET_CYTOSCAPE_STATUS';\nexport const setCytoscapeStatus = createAction(SET_CYTOSCAPE_STATUS);\n\nexport const SET_SERVICES_LIST_OPEN = 'SET_SERVICES_LIST_OPEN';\nexport const setServicesListOpen = createAction(SET_SERVICES_LIST_OPEN);\n\nexport const SET_HIGHLIGHTS = 'SET_HIGHLIGHTS';\nexport const setHighlights = createAction(SET_HIGHLIGHTS);\n\n// Selected tab\nexport const SET_SELECTED_SOURCE = 'SET_SELECTED_SOURCE';\nexport const setSelectedSource = createAction(SET_SELECTED_SOURCE);\n\nexport const SET_PATHWAY_FIGURE = 'SET_PATHWAY_FIGURE';\nexport const setPathwayFigure = createAction(SET_PATHWAY_FIGURE);\nexport const SET_PATHWAY_FIGURE_SOURCE = 'SET_PATHWAY_FIGURE_SOURCE';\nexport const setPathwayFigureSource = createAction(SET_PATHWAY_FIGURE_SOURCE);\nexport const SET_FIT_PATHWAY_FIGURE = 'SET_FIT_PATHWAY_FIGURE';\nexport const setFitPathwayFigure = createAction(SET_FIT_PATHWAY_FIGURE);\n\n// Sort settings\nexport const SET_SORT_OPTIONS = 'SET_SORT_OPTIONS';\nexport const SET_SORT_BY = 'SET_SORT_BY';\nexport const setSortOptions = createAction(SET_SORT_OPTIONS);\nexport const setSortBy = createAction(SET_SORT_BY);\n\n//Layout\nexport const SET_LAYOUT = 'SET_LAYOUT';\nexport const SET_LAYOUTS = 'SET_LAYOUTS';\nexport const setLayout = createAction(SET_LAYOUT);\nexport const setLayouts = createAction(SET_LAYOUTS);\n\n//Annotations\nexport const SET_ANNOTATIONS = 'SET_ANNOTATIONS';\nexport const setAnnotations = createAction(SET_ANNOTATIONS);\n\n//Fit\nexport const FIT_NETWORK_VIEW = 'FIT_NETWORK_VIEW';\nexport const fitNetworkView = createAction(FIT_NETWORK_VIEW);\n\nexport const UPDATE = 'UPDATE';\nexport const update = createAction(UPDATE);\n","import { createAction } from 'redux-actions'\n\nexport const NETWORK_FETCH_STARTED = 'NETWORK_FETCH_STARTED'\nexport const NETWORK_FETCH_SUCCEEDED = 'NETWORK_FETCH_SUCCEEDED'\nexport const NETWORK_FETCH_FAILED = 'NETWORK_FETCH_FAILED'\n\nexport const NETWORK_CLEAR = 'NETWORK_CLEAR'\n\nexport const SELECT_NODES = 'SELECT_NODES'\nexport const UNSELECT_NODES = 'UNSELECT_NODES'\nexport const SELECT_EDGES = 'SELECT_EDGES'\nexport const UNSELECT_EDGES = 'UNSELECT_EDGES'\nexport const DESELECT_ALL = 'DESELECT_ALL'\nexport const CHANGE_TAB = 'CHANGE_TAB'\nexport const CHANGE_LIST_INDEX = 'CHANGE_LIST_INDEX'\n\nexport const SET_ORIGINAL_NETWORK_URL = 'SET_ORIGINAL_NETWORK_URL'\n\nexport const networkFetchStarted = createAction(NETWORK_FETCH_STARTED)\nexport const networkFetchSucceeded = createAction(NETWORK_FETCH_SUCCEEDED)\nexport const networkFetchFailed = createAction(NETWORK_FETCH_FAILED)\n\nexport const networkClear = createAction(NETWORK_CLEAR)\n\n// Object selection in the network window\nexport const selectNodes = createAction(SELECT_NODES)\nexport const unselectNodes = createAction(UNSELECT_NODES)\nexport const selectEdges = createAction(SELECT_EDGES)\nexport const unselectEdges = createAction(UNSELECT_EDGES)\nexport const deselectAll = createAction(DESELECT_ALL)\nexport const changeTab = createAction(CHANGE_TAB)\nexport const changeListIndex = createAction(CHANGE_LIST_INDEX)\n\nexport const setOriginalNetworkUrl = createAction(SET_ORIGINAL_NETWORK_URL)\n","import { createAction } from 'redux-actions'\n\nexport const FIND_SOURCE_STARTED = 'FIND_SOURCE_STARTED'\nexport const FIND_SOURCE_SUCCEEDED = 'FIND_SOURCE_SUCCEEDED'\nexport const FIND_SOURCE_FAILED = 'FIND_SOURCE_FAILED'\nexport const SET_CURRENT_SOURCE = 'SET_CURRENT_SOURCE'\n\nexport const findSourceStarted = createAction(FIND_SOURCE_STARTED)\nexport const findSourceSucceeded = createAction(FIND_SOURCE_SUCCEEDED)\nexport const findSourceFailed = createAction(FIND_SOURCE_FAILED)\nexport const setCurrentSource = createAction(SET_CURRENT_SOURCE)\n","import { createAction } from 'redux-actions'\n\nexport const IMPORT_NETWORK_STARTED = 'IMPORT_NETWORK_STARTED'\nexport const IMPORT_NETWORK_SUCCEEDED = 'IMPORT_NETWORK_SUCCEEDED'\nexport const IMPORT_NETWORK_FAILED = 'IMPORT_NETWORK_FAILED'\n\nexport const importNetworkStarted = createAction(IMPORT_NETWORK_STARTED)\nexport const importNetworkSucceeded = createAction(IMPORT_NETWORK_SUCCEEDED)\nexport const importNetworkFailed = createAction(IMPORT_NETWORK_FAILED)\n\nexport const SET_PORT = 'SET_PORT'\nexport const setPort = createAction(SET_PORT)\n\nexport const FETCH_AVAILABLE = 'FETCH_AVAILABLE'\nexport const SET_AVAILABLE = 'SET_AVAILABLE'\n\nexport const fetchAvailable = createAction(FETCH_AVAILABLE)\nexport const setAvailable = createAction(SET_AVAILABLE)\n\nexport const START_CYREST_POLLING = 'START_CYREST_POLLING'\nexport const STOP_CYREST_POLLING = 'STOP_CYREST_POLLING'\n\nexport const startCyRestPolling = createAction(START_CYREST_POLLING)\nexport const stopCyRestPolling = createAction(STOP_CYREST_POLLING)\n","import { createAction } from 'redux-actions'\n\n/**\n * State for ndexSave UI\n *\n * @type {string}\n */\nexport const SET_NDEX_MODAL_OPEN = 'SET_NDEX_MODAL_OPEN'\nexport const setNDExModalOpen = createAction(SET_NDEX_MODAL_OPEN)\n\nexport const SET_PROFILE = 'SET_PROFILE'\nexport const setProfile = createAction(SET_PROFILE)\n\nexport const CREDENTIALS_SIGN_ON = 'CREDENTIALS_SIGN_ON'\nexport const credentialsSignOn = createAction(CREDENTIALS_SIGN_ON)\n\nexport const GOOGLE_SIGN_ON = 'GOOGLE_SIGN_ON'\nexport const googleSignOn = createAction(GOOGLE_SIGN_ON)\n\nexport const SAVE_TO_NDEX = 'SAVE_TO_NDEX'\nexport const saveToNDEx = createAction(SAVE_TO_NDEX)\n\nexport const SET_NETWORK_URL = 'SET_NETWORK_URL'\nexport const setNetworkUrl = createAction(SET_NETWORK_URL)\n\nexport const SET_ERROR_MESSAGE = 'SET_ERROR_MESSAGE'\nexport const setErrorMessage = createAction(SET_ERROR_MESSAGE)\n","import React from 'react';\nimport { withStyles } from '@material-ui/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport Chip from '@material-ui/core/Chip';\nimport CheckIcon from '@material-ui/icons/Check';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport MuiToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\n\nconst buttonStyle = {\n  padding: '0',\n  borderRadius: '20px',\n  height: '32px',\n  borderWidth: '0',\n  backgroundColor: '#FFFFFF',\n};\n\nconst selectedButtonStyle = {\n  padding: '0',\n  borderRadius: '20px',\n  height: '32px',\n  borderWidth: '0',\n  backgroundColor: 'rgb(252, 235, 242)',\n};\n\nconst selectedChipStyle = {\n  margin: '0',\n  borderRadius: '20px',\n};\n\nconst toggleButtonGroupStyle = {\n  backgroundColor: 'transparent',\n};\n\nconst ToggleButton = withStyles({\n  label: {\n    backgroundColor: 'transparent',\n  },\n})(MuiToggleButton);\n\nconst GeneList = (props) => {\n  const results = props.search.results;\n  const hits = props.network.hitGenes;\n  const hitSets = new Set(hits);\n\n  const handleChange = (event, newAlignment) => {\n    if (newAlignment in props.geneToNodeMap) {\n      const alignment = props.geneToNodeMap[newAlignment];\n      if (alignment === props.search.selectedGenes[0]) {\n        props.searchActions.clearSelectedGenes();\n      } else {\n        props.searchActions.setSelectedGenes(alignment);\n      }\n    } else {\n      if (newAlignment === props.search.selectedGenes[0]) {\n        props.searchActions.clearSelectedGenes();\n      } else {\n        props.searchActions.setSelectedGenes(newAlignment);\n      }\n    }\n  };\n\n  if (!results) {\n    return <div className='gene-list-wrapper' />;\n  }\n\n  const geneList = results.genes;\n\n  if (!geneList) {\n    return <div className='gene-list-wrapper' />;\n  }\n\n  const matched = [];\n  const unmatched = [];\n\n  const unique = new Set();\n  for (const gene of geneList.values()) {\n    unique.add(gene.symbol);\n  }\n\n  for (const value of unique) {\n    if (hitSets.has(value.toUpperCase())) {\n      matched.push(value.toUpperCase());\n    } else {\n      unmatched.push(value.toUpperCase());\n    }\n  }\n\n  const matchedSorted = matched.sort();\n  const unmatchedSorted = unmatched.sort();\n  const sorted = [...matchedSorted, ...unmatchedSorted];\n\n  return (\n    <div className='gene-list-wrapper'>\n      <List>\n        {sorted.map((geneValue) => (\n          <ListItem key={geneValue}>\n            <ToggleButtonGroup\n              value={props.search.selectedGenes}\n              exclusive\n              onChange={handleChange}\n              style={toggleButtonGroupStyle}\n            >\n              <ToggleButton\n                value={geneValue}\n                style={\n                  hitSets.has(geneValue) &&\n                  props.search.selectedGenes[0] === geneValue\n                    ? selectedButtonStyle\n                    : buttonStyle\n                }\n              >\n                {getChip(geneValue, hitSets)}\n              </ToggleButton>\n            </ToggleButtonGroup>\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  );\n};\n\nconst getChip = (value, hitSets) => {\n  if (hitSets.has(value.toUpperCase())) {\n    return (\n      <Chip\n        avatar={\n          <Avatar\n            style={{\n              height: '32px',\n              width: '32px',\n              position: 'relative',\n              left: '-4px',\n            }}\n          >\n            <CheckIcon style={{ height: '18px' }} />\n          </Avatar>\n        }\n        label={value}\n        variant='outlined'\n        color={'secondary'}\n        key={value}\n        selected\n        style={selectedChipStyle}\n        clickable={true}\n      />\n    );\n  } else {\n    return (\n      <Chip\n        avatar={\n          <Avatar\n            style={{\n              height: '32px',\n              width: '32px',\n              position: 'relative',\n              left: '-4px',\n            }}\n          >\n            -\n          </Avatar>\n        }\n        label={value}\n        variant='outlined'\n        color={'default'}\n        key={value}\n        selected\n        style={selectedChipStyle}\n        clickable={false}\n      />\n    );\n  }\n};\n\nexport default GeneList;\n","import React from 'react';\nimport './style.css';\n\nimport GeneList from '../GeneList';\n\n/**\n * Top page for the application\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst InputPanel = (props) => {\n  const stripGene = (geneName) => {\n    if (geneName == null) {\n      return null;\n    }\n    if (geneName.startsWith('hgnc.symbol:') && geneName.length > 12) {\n      return geneName.substring(12);\n    }\n    return geneName;\n  };\n\n  const geneToNodeMap = {};\n  let nodeList;\n  let nodeAttributes;\n  if (props.network.originalCX != null) {\n    for (let i = 0; i < props.network.originalCX.length; i++) {\n      if (props.network.originalCX[i].nodes != null) {\n        nodeList = props.network.originalCX[i].nodes;\n        if (nodeAttributes != null) {\n          break;\n        }\n      }\n      if (props.network.originalCX[i].nodeAttributes != null) {\n        nodeAttributes = props.network.originalCX[i].nodeAttributes;\n        if (nodeList != null) {\n          break;\n        }\n      }\n    }\n\n    for (let i = 0; i < nodeAttributes.length; i++) {\n      const currentAttribute = nodeAttributes[i];\n      if (currentAttribute.n === 'member') {\n        const nodeName = nodeList.filter(\n          (node) => node['@id'] === currentAttribute.po\n        )[0].n;\n        const geneNames = currentAttribute.v;\n        for (let j = 0; j < geneNames.length; j++) {\n          geneToNodeMap[stripGene(currentAttribute.v[j])] = nodeName;\n        }\n      }\n    }\n  }\n\n  return (\n    <div className='input-container'>\n      <div className='input-wrapper'>\n        <div className={'gene-list-title'}>\n          Query Genes{' '}\n          {props.search.results && props.search.results.genes\n            ? '(' +\n              props.network.hitGenes.length +\n              '/' +\n              props.search.results.genes.size +\n              ')'\n            : null}\n        </div>\n        <GeneList geneToNodeMap={geneToNodeMap} {...props} />\n      </div>\n    </div>\n  );\n};\n\nexport default InputPanel;\n","import React from 'react';\nimport Tab from '@material-ui/core/Tab';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\n\nconst HoverTab = (props) => {\n  const Hover = withStyles((theme) => ({\n    root: {\n      minHeight: props.minheight,\n      height: props.height,\n      '&:hover': {\n        backgroundColor: props.backgroundcolor,\n        opacity: 1,\n      },\n    },\n  }))((props) =>\n    props.tooltip ? (\n      <Tooltip title={props.tooltip}>\n        <Tab {...props} />\n      </Tooltip>\n    ) : (\n      <Tab {...props} />\n    )\n  );\n  return <Hover {...props} />;\n};\n\nexport default HoverTab;\n","import React from 'react'\nimport { Typography } from '@material-ui/core'\n\nimport './style.css'\n\n/**\n * Default panel when user start searching\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst Empty = props => (\n  <div className=\"results-container\">\n    <div className=\"message\">\n      <Typography variant=\"h3\">{props.message}</Typography>\n      { props.details && <Typography variant=\"h4\">{props.details}</Typography>}\n    </div>\n  </div>\n)\n\nexport default Empty\n","import React from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\n\nconst MessageSnackbar = (props) => {\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    props.setOpen(false);\n  };\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical: props.vertical,\n        horizontal: props.horizontal,\n      }}\n      open={props.open}\n      autoHideDuration={props.autoHideDuration || null}\n      onClose={handleClose}\n      ContentProps={{\n        'aria-describedby': 'message-id',\n      }}\n      message={<span id='message-id'>{props.message}</span>}\n      action={[\n        <IconButton\n          color='inherit'\n          key='close'\n          aria-label='Close'\n          onClick={props.handleClose || handleClose}\n        >\n          <CloseIcon />\n        </IconButton>,\n      ]}\n    />\n  );\n};\n\nexport default MessageSnackbar;\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\nimport cytoLogo from '../../../assets/images/cytoscape-logo.svg';\nimport { withStyles } from '@material-ui/core/styles';\nimport MessageSnackbar from '../../AppShell/MessageSnackbar.jsx';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport './style.css';\n\nconst styles = (theme) => ({\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    width: '100%',\n    overflow: 'hidden',\n  },\n});\n\nconst Warning = (props) => {\n  const { classes } = props;\n\n  const [open, setOpen] = useState(false);\n  const [state, setState] = useState('dormant');\n  const [message, setMessage] = useState(null);\n\n  const handleClick = () => {\n    props.handleImportNetwork();\n  };\n\n  if (\n    props.network.uuid &&\n    props.network.uuid.length > 0 &&\n    props.cyrest.available\n  ) {\n    //Snackbar\n    const isLoadingNetwork = props.cyrest.isLoadingNetwork;\n    const lastResponse = props.cyrest.lastResponse;\n\n    let cycleId = 0;\n\n    if (state === 'dormant' && isLoadingNetwork) {\n      setMessage('Opening network in Cytoscape Desktop . . .');\n      setState('openLoading');\n      if (!open) {\n        setOpen(true);\n      }\n    }\n    if (\n      (state === 'openLoading' || state === 'closeLoading') &&\n      lastResponse != null\n    ) {\n      setState('openResult');\n      if (lastResponse.type === 'IMPORT_NETWORK_SUCCEEDED') {\n        setMessage('Network opened in Cytoscape Desktop!');\n      } else {\n        setMessage('Network failed to open in Cytoscape Desktop');\n      }\n      if (!open) {\n        setOpen(true);\n      }\n    }\n    if (state === 'openResult' && !open) {\n      setOpen(true);\n    }\n    if (state === 'openResult' && open) {\n      const currentId = cycleId;\n      setTimeout(() => {\n        if (state === 'openResult' && currentId === cycleId) {\n          setState('dormant');\n          cycleId++;\n          setOpen(false);\n        }\n      }, 6000);\n    }\n\n    const handleClose = (event, reason) => {\n      if (state === 'openLoading') {\n        setState('closeLoading');\n      } else if (state === 'openResult') {\n        setState('dormant');\n        cycleId++;\n      }\n      setOpen(false);\n    };\n\n    return (\n      <React.Fragment>\n        <div className={classes.container}>\n          <Tooltip title='Open in cytoscape' placement='bottom'>\n            <IconButton\n              aria-haspopup='true'\n              color='default'\n              onClick={handleClick}\n            >\n              <img alt='Cytoscape logo' src={cytoLogo} />\n              <Typography variant='subtitle2' color='textSecondary'>\n                Network is too big for interactive view. <br />\n                Click to open in Cytoscape Desktop.\n              </Typography>\n            </IconButton>\n          </Tooltip>\n        </div>\n        <MessageSnackbar\n          open={open}\n          setOpen={setOpen}\n          message={message}\n          setMessage={setMessage}\n          autoHideDuration={null}\n          horizontal={'right'}\n          vertical={'bottom'}\n          handleClose={handleClose}\n        />\n      </React.Fragment>\n    );\n  } else {\n    return (\n      <div className={classes.container}>\n        <Typography variant='subtitle2' color='textSecondary' align='center'>\n          Network is too big for interactive view. <br />\n          Please open Cytoscape Desktop to view.\n        </Typography>\n      </div>\n    );\n  }\n};\n\nexport default withStyles(styles)(Warning);\n","export const PRESET_LAYOUT = {\n  name: 'preset',\n  padding: 6,\n  animate: false,\n  positions: function(node) {\n    const x = node[0]._private.position.x * 0;\n    const y = node[0]._private.position.y * 0;\n    return {\n      x: x, //node[0]._private.position.x,\n      y: y, //node[0]._private.position.y\n    };\n  },\n};\n\nexport const CONCENTRIC_LAYOUT = {\n  name: 'concentric',\n  padding: 6,\n  minNodeSpacing: 100,\n  animate: false,\n};\n\nexport const COSE_LAYOUT = {\n  name: 'cose',\n  padding: 6,\n  nodeRepulsion: function(node) {\n    return 10080000;\n  },\n  nodeOverlap: 400000,\n  idealEdgeLength: function(edge) {\n    return 10;\n  },\n  animate: false,\n  fit: false,\n};\n","export const METHOD_POST = 'POST';\nexport const METHOD_GET = 'GET';\n\nexport const CYREST_BASE_URL = 'http://127.0.0.1';\n\nvar MAX_NETWORK_SIZE = 5000;\nvar MYGENE_BASE_URL = 'https://mygene.info/v3/query';\nvar GENE_CARDS_URL = 'https://www.genecards.org/cgi-bin/carddisp.pl?gene=';\nvar HELP_URL =\n'https://github.com/cytoscape/search-portal/blob/master/README.md';\n\nvar FEEDBACK_URL = 'https://home.ndexbio.org/contact-us/';\nvar CYTOSCAPE_URL = 'https://cytoscape.org';\nvar DEPLOY_ENVIRON = ' on localhost';\nvar SERVICE_SERVER_URL = 'https://dev.ndexbio.org/v2'\nvar BASE_URL = 'https://dev.ndexbio.org/integratedsearch/v1/';\nvar GOOGLE_CLIENT_ID = '';\nvar COPYRIGHT = '2021 UC San Diego Ideker Lab';\nvar UCSD_URL = 'https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx';\nvar GENESET_EXAMPLES = [\n  {\n    \"name\": \"Hypoxia\",\n    \"genes\": \"ADM ADORA2B AK4 AKAP12 ALDOA ALDOB ALDOC AMPD3 ANGPTL4 ANKZF1 ANXA2 ATF3 ATP7A B3GALT6 B4GALNT2 BCAN BCL2 BGN BHLHE40 BNIP3L BRS3 BTG1 CA12 CASP6 CAV1 CCNG2 CCRN4L CDKN1A CDKN1B CDKN1C CHST2 CHST3 CITED2 COL5A1 CP CSRP2 CTGF CXCR4 CXCR7 CYR61 DCN DDIT3 DDIT4 DPYSL4 DTNA DUSP1 EDN2 EFNA1 EFNA3 EGFR ENO1 ENO2 ENO3 ERO1L ERRFI1 ETS1 EXT1 F3 FAM162A FBP1 FOS FOSL2 FOXO3 GAA GALK1 GAPDH GAPDHS GBE1 GCK GCNT2 GLRX GPC1 GPC3 GPC4 GPI GRHPR GYS1 HAS1 HDLBP HEXA HK1 HK2 HMOX1 HOXB9 HS3ST1 HSPA5 IDS IER3 IGFBP1 IGFBP3 IL6 ILVBL INHA IRS2 ISG20 JMJD6 JUN KDELR3 KDM3A KIF5A KLF6 KLF7 KLHL24 LALBA LARGE LDHA LDHC LOX LXN MAFF MAP3K1 MIF MT1E MT2A MXI1 MYH9 NAGK NCAN NDRG1 NDST1 NDST2 NEDD4L NFIL3 NR3C1 P4HA1 P4HA2 PAM PCK1 PDGFB PDK1 PDK3 PFKFB3 PFKL PFKP PGAM2 PGF PGK1 PGM1 PGM2 PHKG1 PIM1 PKLR PKP1 PLAC8 PLAUR PLIN2 PNRC1 PPARGC1A PPFIA4 PPP1R15A PPP1R3C PRDX5 PRKCA PRKCDBP PTRF PYGM RBPJ RORA RRAGD S100A4 SAP30 SCARB1 SDC2 SDC3 SDC4 SELENBP1 SERPINE1 SIAH2 SLC25A1 SLC2A1 SLC2A3 SLC2A5 SLC37A4 SLC6A6 SRPX STBD1 STC1 STC2 SULT2B1 TES TGFB3 TGFBI TGM2 TIPARP TKTL1 TMEM45A TNFAIP3 TPBG TPD52 TPI1 TPST2 UGP2 VEGFA VHL VLDLR WISP2 WSB1 XPNPEP1 ZFP36 ZNF292\",\n    \"description\": \"The 200 genes comprising the MSigDB Hallmark Gene Set for Hypoxia\"\n  },\n];\n\nif (window.ndexSettings === undefined){\n  console.log('ndexSettings is not defined. Using dummy config');\n} else \n{\n  if (window.ndexSettings.iQuery === undefined){\n    console.log('ndexSettings.iQuery is not defined. Using dummy config');\n  } else {\n      MYGENE_BASE_URL = window.ndexSettings.iQuery.myGeneUri;\n      GENE_CARDS_URL = window.ndexSettings.iQuery.geneCardsUri;\n      HELP_URL = window.ndexSettings.iQuery.helpUri;\n      FEEDBACK_URL = window.ndexSettings.iQuery.feedBackUri;\n      CYTOSCAPE_URL = window.ndexSettings.iQuery.cytoscapeUri;\n      DEPLOY_ENVIRON = window.ndexSettings.iQuery.deployEnvironment;\n      SERVICE_SERVER_URL = window.ndexSettings.ndexServerUri;\n      BASE_URL = window.ndexSettings.iQuery.baseUri;\n      GOOGLE_CLIENT_ID = window.ndexSettings.googleClientId;\n      GENESET_EXAMPLES = window.ndexSettings.iQuery.geneSetExamples;\n      UCSD_URL = window.ndexSettings.iQuery.ucsdUri;\n      COPYRIGHT = window.ndexSettings.iQuery.copyRight;\n      MAX_NETWORK_SIZE = window.ndexSettings.iQuery.maxNetworkSize;\n  }\n}\n\n// Version of IQuery shown on main landing page of App\nvar APP_VERSION = 'v1.3' + DEPLOY_ENVIRON\n\nexport { MYGENE_BASE_URL, GENE_CARDS_URL, HELP_URL, FEEDBACK_URL, CYTOSCAPE_URL,\n         GOOGLE_CLIENT_ID, BASE_URL, SERVICE_SERVER_URL, DEPLOY_ENVIRON, APP_VERSION,\n        GENESET_EXAMPLES, UCSD_URL, COPYRIGHT, MAX_NETWORK_SIZE };\n","import React, { useEffect, useState } from 'react';\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport { CxToJs, CyNetworkUtils } from 'cytoscape-cx2js';\nimport Cytoscape from 'cytoscape';\nimport CyCanvas from 'cytoscape-canvas';\nimport { CxToCyCanvas } from 'cyannotation-cx2js';\nimport Warning from './Warning';\nimport { CONCENTRIC_LAYOUT, COSE_LAYOUT } from './LayoutSettings';\nimport { cloneDeep } from 'lodash';\nimport { MAX_NETWORK_SIZE } from '../../../api/config';\nimport './style.css';\n\n\n// For supporting visual annotation\nCytoscape.use(CyCanvas);\n\n// This is the global instance of Cytoscape.js\nlet cyInstance = null;\n\n// For annotation rendering\nconst annotationRenderer = new CxToCyCanvas(CxToJs);\nconst utils = new CyNetworkUtils();\n\n// This is the network attributes storing graphical annotations.\nconst ANNOTATION_TAG = '__Annotations';\n\n// Default network background color\nconst DEF_BG_COLOR = '#FFFFFF';\n\n/**\n *\n * Simple wrapper for cytoscape.js react component\n *\n * @param props\n * @returns {*}\n * @constructor\n */\n\nconst CytoscapeViewer = (props) => {\n  const { highlights, fit } = props.uiState;\n  const { originalCX } = props.network;\n  const cyjs = props.network.network;\n  const [originalElements, setOriginalElements] = useState(\n    cyjs ? cloneDeep(cyjs.elements) : null\n  );\n\n  const PRESET_LAYOUT = {\n    name: 'preset',\n    padding: 6,\n    animate: false,\n    positions: function(node) {\n      const id = node[0]._private.data.id;\n      const analog = originalElements\n        ? originalElements.filter((elem) => {\n            return elem.data.id.toString() === id.toString();\n          })\n        : [{ position: null }];\n      const position = analog[0].position;\n      return position;\n    },\n  };\n  const [layout, setLayout] = useState(PRESET_LAYOUT);\n  let propLayouts;\n  let propLayout;\n\n  // Use default color if this property is not available.\n  let backgroundColor = props.network.backgroundColor;\n  if (backgroundColor === null || backgroundColor === undefined) {\n    backgroundColor = DEF_BG_COLOR;\n  }\n\n  const renderAnnotations = () => {\n    if (layout.name === 'preset' && originalCX) {\n      const networkAttr = originalCX.filter(\n        (entry) => entry.networkAttributes !== undefined\n      );\n      if (networkAttr !== undefined) {\n        const firstEntry = networkAttr[0];\n        if (firstEntry !== undefined && firstEntry.networkAttributes !== null) {\n          const netAttrArray = firstEntry.networkAttributes;\n          const annotationEntry = netAttrArray.filter(\n            (attr) => attr.n === ANNOTATION_TAG\n          );\n          if (annotationEntry.length !== 0 && cyInstance) {\n            const nice = utils.rawCXtoNiceCX(originalCX);\n            console.log(\n              '* Registering annotation renderer for this niceCX:',\n              annotationEntry\n            );\n            annotationRenderer.drawAnnotationsFromNiceCX(cyInstance, nice);\n            annotationRenderer.drawBackground(cyInstance, backgroundColor);\n          }\n        }\n      }\n    }\n    return;\n  };\n\n  /*\n    Node/Edge Selections\n   */\n\n  useEffect(() => {\n    // Event handler can be set only when Cytoscape.js instance is available.\n    if (cyInstance === undefined || cyInstance === null) {\n      return;\n    }\n\n    // Background tapped: Remove selection\n    // (This is the standard Cytosape UX)\n    cyInstance.on('tap', function(event) {\n      try {\n        if (event.target === cyInstance) {\n          props.networkActions.unselectEdges();\n          props.networkActions.unselectNodes();\n        }\n      } catch (e) {\n        console.warn(e);\n      }\n    });\n\n    const selectEdge = () => {\n      setTimeout(() => {\n        const edges = [];\n        const selectedEdges = cyInstance.$('edge:selected');\n        selectedEdges.forEach((element) => {\n          edges.push(element.data());\n        });\n        if (edges.length === 0) {\n          props.networkActions.unselectEdges();\n        } else {\n          props.networkActions.selectEdges(edges);\n        }\n      }, 1);\n    };\n\n    const selectNode = () => {\n      setTimeout(() => {\n        const nodes = [];\n        const selectedNodes = cyInstance.$('node:selected');\n        selectedNodes.forEach((element) => {\n          if (element.data().name !== '') {\n            nodes.push(element.data());\n          }\n        });\n        if (nodes.length === 0) {\n          props.networkActions.unselectNodes();\n        } else {\n          props.networkActions.selectNodes(nodes);\n        }\n      }, 1);\n    };\n\n    cyInstance.on('tap', 'node', function() {\n      try {\n        cyInstance.nodes().removeClass('connected');\n      } catch (e) {\n        console.warn(e);\n      }\n      selectNode();\n    });\n\n    cyInstance.on('tap', 'edge', function() {\n      try {\n        cyInstance.nodes().removeClass('connected');\n        const selected = this.data();\n        const { source, target } = selected;\n        cyInstance.$('#' + source + ', #' + target).addClass('connected');\n      } catch (e) {\n        console.warn(e);\n      }\n      selectEdge();\n    });\n\n    cyInstance.on('boxend', function(event) {\n      selectEdge();\n      selectNode();\n    });\n\n    // Reset the UI state (highlight)\n    cyInstance.elements().addClass('faded');\n    const query = cyInstance.filter('node[querynode = \"true\"]');\n    query.addClass('highlight');\n\n    //Layout\n\n    if (cyjs != null) {\n      const isLayoutAvailable = cyjs.isLayout;\n      if (isLayoutAvailable) {\n        propLayouts = ['Preset', 'Cose', 'Concentric'];\n        propLayout = 'Preset';\n        setLayout(PRESET_LAYOUT);\n      } else {\n        propLayouts = ['Cose', 'Concentric'];\n        if (cyjs.elements.length < 500) {\n          propLayout = 'Cose';\n          setLayout(COSE_LAYOUT);\n        } else {\n          propLayout = 'Concentric';\n          setLayout(CONCENTRIC_LAYOUT);\n        }\n      }\n    }\n\n    new Promise(function(resolve, reject) {\n      renderAnnotations();\n      resolve();\n    }).then(() => {\n      props.uiStateActions.update({\n        layouts: propLayouts,\n        layout: propLayout,\n      });\n    });\n\n    return () => {\n      console.log('Network viewer unmounted');\n    };\n  }, []);\n\n  useEffect(() => {\n    if (cyInstance === undefined || cyInstance === null) {\n      return;\n    }\n\n    const targets = props.search.selectedGenes;\n    if (targets === null || targets === undefined) {\n      return;\n    }\n\n    const selected = cyInstance.elements('node[name = \"' + targets[0] + '\"]');\n\n    if (selected.length !== 0) {\n      try {\n        cyInstance.animate(\n          {\n            zoom: 2,\n            center: {\n              eles: selected[0],\n            },\n          },\n          {\n            duration: 500,\n          }\n        );\n      } catch (err) {\n        console.log('Caught cyInstance animate error ', err);\n      }\n    }\n\n    if (targets.length === 0) {\n      try {\n        cyInstance.animate(\n          {\n            fit: {\n              eles: cyInstance.elements(),\n              padding: 6,\n            },\n          },\n          {\n            duration: 500,\n          }\n        );\n      } catch (err) {\n        console.log('Caught cyInstance animate error', err);\n      }\n    }\n  }, [props.search.selectedGenes]);\n\n  useEffect(() => {\n    if (cyInstance === undefined || cyInstance === null) {\n      return;\n    }\n    if (fit) {\n      cyInstance.animate(\n        {\n          fit: {\n            eles: cyInstance.elements(),\n            padding: 6,\n          },\n        },\n        {\n          duration: 500,\n        }\n      );\n      props.uiStateActions.fitNetworkView(false);\n    }\n  }, [fit]);\n\n  useEffect(() => {\n    switch (props.uiState.layout) {\n      case 'Preset':\n        setLayout(PRESET_LAYOUT);\n        break;\n      case 'Cose':\n        setLayout(COSE_LAYOUT);\n        break;\n      case 'Concentric':\n        setLayout(CONCENTRIC_LAYOUT);\n        break;\n    }\n  }, [props.uiState.layout]);\n\n  if (originalElements && originalElements.length > MAX_NETWORK_SIZE) {\n    return <Warning {...props} />;\n  }\n\n  // Render actual network\n  if (cyjs === null || cyjs === undefined) {\n    return null;\n  }\n\n  // Network background should be set via CSS.\n  const networkAreaStyle = {\n    width: '100%',\n    height: '100%',\n    background: 'rgba(0,0,0,0)',\n  };\n\n  if (cyInstance !== null) {\n    cyInstance.resize();\n\n    if (layout === COSE_LAYOUT || layout === CONCENTRIC_LAYOUT) {\n      layout.stop = () => {\n        setTimeout(() => {\n          try {\n            cyInstance.animate(\n              {\n                fit: {\n                  eles: cyInstance.elements(),\n                  padding: 6,\n                },\n              },\n              {\n                duration: 0,\n              }\n            );\n          } catch (err) {\n            console.log('Caught cyInstance animate error ', err);\n          }\n        }, 0);\n      };\n    }\n\n    if (highlights) {\n      cyInstance.elements().addClass('faded');\n      const query = cyInstance.filter('node[querynode = \"true\"]');\n      query.addClass('highlight');\n    } else {\n      cyInstance\n        .elements()\n        .removeClass('faded')\n        .removeClass('highlight');\n    }\n  }\n\n  return (\n    <CytoscapeComponent\n      elements={cyjs.elements}\n      layout={layout}\n      style={networkAreaStyle}\n      stylesheet={cyjs.style}\n      cy={(cy) => {\n        cyInstance = cy;\n      }}\n    />\n  );\n};\n\nexport default CytoscapeViewer;\n","import React from 'react'\nimport './style.css'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Typography from '@material-ui/core/Typography'\n\nconst LoadingPanel = props => (\n  <div className=\"loading-container\" style={{ backgroundColor: props.color }}>\n    <Typography className=\"loading-title\" variant={'h5'} color=\"primary\">\n      {props.title}\n    </Typography>\n    <Typography className=\"loading-message\" variant=\"subtitle1\" color=\"initial\">\n      {props.message}\n    </Typography>\n    <CircularProgress size={100} />\n  </div>\n)\n\nexport default LoadingPanel\n","import React, { useRef, useEffect } from 'react';\nimport { useState } from 'react';\nimport { MapInteractionCSS } from 'react-map-interaction';\nimport { makeStyles } from '@material-ui/styles';\nimport { Typography } from '@material-ui/core';\n\nimport LoadingPanel from '../../LoadingPanel';\n\nconst useStyles = makeStyles((theme) => ({\n  imageContainer: {\n    height: '100%',\n    width: '100%',\n  },\n  messageContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  message: {\n    top: '40%',\n    position: 'relative',\n  },\n}));\n\nconst PathwayFigureViewer = (props) => {\n  const classes = useStyles();\n\n  //Set up figure zoom requirements\n  const [zoomValue, setZoomValue] = useState({\n    scale: 1,\n    translation: { x: 0, y: 0 },\n  });\n  const [imageHeight, setImageHeight] = useState(0);\n  const [imageWidth, setImageWidth] = useState(0);\n\n  const imageContainerRef = useRef(null);\n  const imageRef = useRef(null);\n\n  const centerFigure = (height, width) => {\n    //Resize and center image\n    const containerHeight = imageContainerRef.current.offsetHeight;\n    const containerWidth = imageContainerRef.current.offsetWidth;\n\n    let heightScale = 1;\n    let widthScale = 1;\n    //Find scale\n    if (height > containerHeight) {\n      heightScale = containerHeight / height;\n    }\n    if (width > containerWidth) {\n      widthScale = containerWidth / width;\n    }\n    if (heightScale < widthScale) {\n      //Find translation\n      const xValue = (containerWidth - width * heightScale) / 2;\n      setZoomValue({ scale: heightScale, translation: { x: xValue, y: 0 } });\n    } else {\n      //Find translation\n      const yValue = (containerHeight - height * widthScale) / 2;\n      setZoomValue({ scale: heightScale, translation: { x: 0, y: yValue } });\n    }\n  };\n\n  const handleLoad = () => {\n    const height = imageRef.current.naturalHeight;\n    const width = imageRef.current.naturalWidth;\n    setImageHeight(height);\n    setImageWidth(width);\n    centerFigure(height, width);\n  };\n\n  //Allow zoom to be controlled by external button\n  useEffect(() => {\n    if (props.uiState.fitPathwayFigure) {\n      centerFigure(imageHeight, imageWidth);\n      props.uiStateActions.setFitPathwayFigure(false);\n    }\n  }, [props.uiState.fitPathwayFigure]);\n\n  //Get pathway figure\n  const figureSource = props.uiState.pathwayFigureSource;\n  if (figureSource === 'loading') {\n    return <LoadingPanel title={'Loading Figure...'} />;\n  }\n\n  if (figureSource !== null) {\n    return (\n      <div className={classes.imageContainer} ref={imageContainerRef}>\n        <MapInteractionCSS\n          value={zoomValue}\n          onChange={(value) => setZoomValue(value)}\n        >\n          <img src={figureSource} ref={imageRef} onLoad={handleLoad} />\n        </MapInteractionCSS>\n      </div>\n    );\n  }\n\n  return (\n    <div className={classes.messageContainer}>\n      <Typography\n        variant={'subtitle1'}\n        color={'textSecondary'}\n        className={classes.message}\n      >\n        Pathway figure unavailable\n      </Typography>\n    </div>\n  );\n};\n\nexport default PathwayFigureViewer;\n","import React from 'react';\nimport './style.css';\nimport CytoscapeViewer from '../CytoscapeViewer';\nimport LoadingPanel from '../../LoadingPanel';\nimport Warning from '../CytoscapeViewer/Warning';\nimport PathwayFigureViewer from './PathwayFigureViewer';\nimport { MAX_NETWORK_SIZE } from '../../../api/config';\n\nconst NetworkViewer = (props) => {\n  if (props.network.isFetching) {\n    return (\n      <div className='network-view'>\n        <LoadingPanel title='Loading Network...' color='#FFFFFF' />\n      </div>\n    );\n  } else if (props.search.actualResults.length === 0) {\n    return <div className='network-view' />;\n  } else if (\n    props.network.nodeCount + props.network.edgeCount >\n    MAX_NETWORK_SIZE\n  ) {\n    return (\n      <div className='network-view'>\n        <Warning {...props} />\n      </div>\n    );\n  } else if (props.uiState.selectedSource === 'pathwayfigures') {\n    return (\n      <div className='network-view'>\n        {props.uiState.pathwayFigure ? (\n          <PathwayFigureViewer {...props} />\n        ) : (\n          <CytoscapeViewer resized={props.resized} {...props} />\n        )}\n      </div>\n    );\n  } else {\n    return (\n      <div className='network-view'>\n        <CytoscapeViewer resized={props.resized} {...props} />\n      </div>\n    );\n  }\n};\n\nexport default NetworkViewer;\n","// List attributes starts with this prefix.\nconst LIST_PREFIX = 'list_of_'\n\nexport const getListNodeAttr = (originalCX, nodeId) => {\n  const nodeAttr = findAttributes(originalCX, 'nodeAttributes')\n  const listAttr = nodeAttr.filter(\n    attr => attr.d.startsWith(LIST_PREFIX) && attr.po.toString() === nodeId\n  )\n\n  return getAttrMap(listAttr)\n}\n\nexport const getListNetworkAttr = originalCX => {\n  const networkAttr = findAttributes(originalCX, 'networkAttributes')\n  const listAttr = networkAttr.filter(attr => attr.d.startsWith(LIST_PREFIX))\n\n  return getAttrMap(listAttr)\n}\n\nconst getAttrMap = attrs => {\n  const listAttrMap = {}\n  attrs.forEach(attr => {\n    listAttrMap[attr.n] = attr.v\n  })\n\n  return listAttrMap\n}\n\nexport const findAttributes = (originalCX, attrType) => {\n  let len = originalCX.length\n  let attr = null\n\n  while (len--) {\n    const entry = originalCX[len]\n    if (entry[attrType]) {\n      attr = entry[attrType]\n      break\n    }\n  }\n\n  return attr\n}\n","export const camelCaseToTitleCase = (camelCaseString) => {\n  if (\n    camelCaseString.slice(0, 4) === 'http' ||\n    camelCaseString.slice(0, 5) === 'Prov:'\n  ) {\n    return camelCaseString;\n  }\n  let result = camelCaseString\n    .replace(/([a-z])([A-Z][a-z])/g, '$1 $2')\n    .replace(/([A-Z][a-z])([A-Z])/g, '$1 $2')\n    .replace(/([a-z])([A-Z]+[a-z])/g, '$1 $2')\n    .replace(/([A-Z]+)([A-Z][a-z][a-z])/g, '$1 $2')\n    .replace(/([a-z]+)([A-Z]+)/g, '$1 $2')\n    .replace(/([A-Z]+)([A-Z][a-rt-z][a-z]*)/g, '$1 $2')\n    .replace(/([0-9])([A-Z][a-z]+)/g, '$1 $2')\n    .replace(/([0-9]{2,})([A-Z]{2,})/g, '$1 $2')\n    .trim();\n  result = result.charAt(0).toUpperCase() + result.slice(1);\n  result = result\n    .replace('Wiki Pathways', 'WikiPathways')\n    .replace('Wikipathways', 'WikiPathways')\n    .replace('Sbo ', 'SBO ')\n    .replace('Ncipid', 'NCI PID')\n    .replace('Cptac', 'CPTAC')\n    .replace('Hpmi', 'HPMI')\n    .replace('Ccmi', 'CCMI')\n    .replace('Tcga', 'TCGA')\n    .replace('Querynode', 'Query Node');\n  return result;\n};\n","export const stripScripts = entry => {\n  return entry\n    .toString()\n    .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script\\ *>/gi, '')\n}\n","import React from 'react'\n\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Collapse from '@material-ui/core/Collapse'\nimport ExpandLess from '@material-ui/icons/ExpandLess'\nimport ExpandMore from '@material-ui/icons/ExpandMore'\nimport List from '@material-ui/core/List'\n\nexport default function ExpandPanel(props) {\n  const [open, setOpen] = React.useState(props.defaultExpanded)\n  let style\n\n  function handleClick() {\n    setOpen(!open)\n  }\n\n  if (props.divider) {\n    style = {\n      borderTop: '1px solid #EFEFEF'\n    }\n  } else {\n    style = {}\n  }\n\n  return (\n    <React.Fragment>\n      <ListItem button onClick={handleClick} key={Math.random()} style={style}>\n        <ListItemText primary={props.summary} />\n        {open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={open} timeout=\"auto\" unmountOnExit>\n        <List component=\"div\" disablePadding>\n          <ListItem>\n            <ListItemText primary={props.details} />\n          </ListItem>\n        </List>\n      </Collapse>\n    </React.Fragment>\n  )\n}\n","import React from 'react';\nimport Split from 'react-split';\n\nimport { makeStyles } from '@material-ui/styles';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\n\nimport { camelCaseToTitleCase } from './camel-case-util';\nimport { stripScripts } from './strip-scripts-util';\nimport { findAttributes } from './attribute-util';\n\nimport Linkify from 'linkifyjs/react';\nimport parse from 'html-react-parser';\nimport ExpandPanel from './ExpandPanel';\n\nlet index = 0;\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: '0.2em',\n    backgroundColor: '#FFFFFF',\n    overflow: 'auto',\n    height: '100%',\n    boxSizing: 'content-box',\n  },\n  padding: {\n    paddingLeft: '1em',\n    paddingTop: '0.75em',\n  },\n  lessPadding: {\n    paddingTop: '2.49px',\n  },\n  noPadding: {\n    paddingTop: '0',\n    paddingBottom: '0',\n  },\n}));\n\nconst NetworkProperties = (props) => {\n  index = 0;\n  const originalCX = props.network.originalCX;\n  const context = props.context;\n  const classes = useStyles();\n\n  //Find network props\n  const networkAttr = findAttributes(originalCX, 'networkAttributes');\n  if (networkAttr === null) {\n    return;\n  }\n\n  //What to display\n  const leftDisplayItems = [\n    'Name',\n    'Description',\n    'Methods',\n    'Reference',\n    '@context',\n  ];\n  const properties = ['Organism', 'Cell', 'Disease'];\n  const contributors = ['Author', 'Reviewers', 'Rights Holder', 'Rights'];\n  const wikiPathways = [\n    'WikiPathways ID',\n    'WikiPathways Version',\n    'WikiPathways IRI',\n  ];\n  const indraGO = ['GO Hierarchy', 'GO ID'];\n  const networkInformation = ['Version', 'Network Type', 'Labels'];\n  const rightDisplayItems = [\n    properties,\n    contributors,\n    wikiPathways,\n    indraGO,\n    networkInformation,\n  ];\n\n  //Filter properties\n  const attributes = [];\n  let content;\n  let title;\n\n  networkAttr.forEach((element) => {\n    content = extractContent(element);\n    title = extractTitle(element);\n    if (!title.startsWith('__') && content != null && content !== '') {\n      if (\n        title === 'Description' &&\n        (props.uiState.selectedSource === 'interactome-ppi' ||\n          props.uiState.selectedSource === 'interactome-association')\n      ) {\n        const newTitle = 'Description of parent network';\n        leftDisplayItems.splice(1, 0, newTitle);\n        attributes.push({\n          title: newTitle,\n          content: content,\n          displayed: false,\n        });\n      } else if (title === 'Organism') {\n        const latinName = 'Homo sapiens';\n        const latinIndex = content\n          .toLowerCase()\n          .indexOf(latinName.toLowerCase());\n        if (latinIndex !== -1) {\n          content =\n            content.substring(0, latinIndex) +\n            '<em>' +\n            latinName +\n            '</em>' +\n            content.substring(latinIndex + latinName.length);\n        }\n        attributes.push({\n          title: 'Organism',\n          content: content,\n          displayed: false,\n        });\n      } else if (title === 'GO hierarchy') {\n        attributes.push({\n          title: 'GO Hierarchy',\n          content: content,\n          displayed: false,\n        });\n      } else if (title === 'GO ID') {\n        const id = content.split(':')[1];\n        if (id != null) {\n          attributes.push({\n            title: 'GO ID',\n            content:\n              '<a href=\"http://identifiers.org/GO:' +\n              id +\n              '\">' +\n              content +\n              '</a>',\n            displayed: false,\n          });\n        } else {\n          attributes.push({\n            title: 'GO ID',\n            content: content,\n            displayed: false,\n          });\n        }\n      } else if (title !== '@context') {\n        attributes.push({\n          title: camelCaseToTitleCase(title),\n          content: content,\n          displayed: false,\n        });\n      }\n    } else if (title === 'Name') {\n      attributes.push({\n        title: title,\n        content: 'Untitled',\n        displayed: false,\n      });\n    }\n  });\n\n  //Right side of display\n  const rightDisplay = [];\n  rightDisplayItems.forEach((list) => {\n    let primaryString = '';\n    let currentEntry;\n    list.forEach((element) => {\n      currentEntry = attributes.filter((entry) => {\n        return entry.title === element;\n      })[0];\n      if (currentEntry != null) {\n        primaryString +=\n          currentEntry.title + ': ' + currentEntry.content + '<br>';\n        currentEntry.displayed = true;\n      }\n    });\n    let secondaryString;\n    switch (list) {\n      case properties:\n        secondaryString = 'Properties';\n        break;\n      case contributors:\n        secondaryString = 'Contributors';\n        break;\n      case wikiPathways:\n        secondaryString = 'WikiPathways';\n        break;\n      case indraGO:\n        secondaryString = 'Gene Ontology';\n        break;\n      case networkInformation:\n        secondaryString = 'Network Information';\n        break;\n    }\n    primaryString = formatPrimary(primaryString);\n    if (primaryString !== '') {\n      rightDisplay.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            primary={\n              <React.Fragment>\n                <Typography variant='caption' color='textSecondary'>\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography variant='body2'>{primaryString}</Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      );\n    }\n  });\n\n  //Left side of display\n  const leftDisplay = [];\n  let currentEntry;\n  let primaryString;\n  let secondaryString;\n  leftDisplayItems.forEach((element) => {\n    currentEntry = attributes.filter((entry) => {\n      return entry.title === element;\n    })[0];\n    if (currentEntry != null) {\n      primaryString = formatPrimary(currentEntry.content);\n      secondaryString = element;\n      currentEntry.displayed = true;\n      leftDisplay.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            primary={\n              <React.Fragment>\n                <Typography\n                  component='span'\n                  variant='caption'\n                  color='textSecondary'\n                >\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography component='span' variant='body2'>\n                    {primaryString}\n                  </Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      );\n    }\n  });\n\n  //Context\n  /*\n      if (element === '@context') {\n        primaryString = formatContext(currentEntry.content)\n        currentEntry.displayed = true\n        const summary = (\n          <Typography component=\"span\" variant=\"body2\">\n            Click to view the namespaces associated with this network\n          </Typography>\n        )\n        const details = primaryString\n        leftDisplay.push(\n          <React.Fragment key={index}>\n            <div className={classes.padding}>\n              <Typography\n                component=\"span\"\n                variant=\"caption\"\n                color=\"textSecondary\"\n              >\n                @context\n              </Typography>\n            </div>\n            <ExpandPanel\n              summary={summary}\n              details={details}\n              defaultExpanded={false}\n              keyId={index++}\n              divider={false}\n            />\n          </React.Fragment>\n        )\n        */\n  primaryString = formatContext(context);\n  const summary = (\n    <Typography component='span' variant='body2'>\n      Click to view the namespaces associated with this network\n    </Typography>\n  );\n  const details = primaryString;\n  leftDisplay.push(\n    <React.Fragment key={index}>\n      <div className={classes.padding}>\n        <Typography component='span' variant='caption' color='textSecondary'>\n          @context\n        </Typography>\n      </div>\n      <ExpandPanel\n        summary={summary}\n        details={details}\n        defaultExpanded={false}\n        keyId={index++}\n        divider={false}\n      />\n    </React.Fragment>\n  );\n\n  attributes.forEach((entry) => {\n    if (!entry.displayed) {\n      primaryString = formatPrimary(entry.content);\n      secondaryString = entry.title;\n      entry.displayed = true;\n      leftDisplay.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            primary={\n              <React.Fragment>\n                <Typography\n                  component='span'\n                  variant='caption'\n                  color='textSecondary'\n                >\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography component='span' variant='body2'>\n                    {primaryString}\n                  </Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      );\n    }\n  });\n\n  //Display panes\n  return (\n    <Split sizes={[70, 30]} gutterSize={7} className='network-info'>\n      <div className={'network-info-panel'}>\n        <List className={classes.lessPadding}>{leftDisplay}</List>\n      </div>\n      <div className={'network-info-panel'}>\n        <List className={classes.lessPadding}>{rightDisplay}</List>\n      </div>\n    </Split>\n  );\n};\n\nconst extractContent = (entry) => {\n  let modifiedText = entry.v;\n  if (Array.isArray(entry.v)) {\n    modifiedText = entry.v.join(', ');\n  }\n  return stripScripts(modifiedText.trim());\n};\n\nconst extractTitle = (entry) => {\n  let modifiedText;\n  if (entry.n != null) {\n    modifiedText = entry.n.charAt(0).toUpperCase() + entry.n.slice(1);\n  } else {\n    modifiedText = '';\n  }\n  return stripScripts(modifiedText.trim());\n};\n\nconst formatPrimary = (entry) => {\n  if (entry === '') {\n    return entry;\n  }\n  let modifiedText = entry\n    .replace(/<\\/?p\\/?>/gi, '<br>')\n    .replace(/(<\\/?br\\/?>)+/gi, '<br>')\n    .replace(/(\\n)+/gi, '\\n')\n    .replace(/<a\\s+href=/gi, '<a target=\"_blank\" href=')\n    .trim();\n  if (modifiedText.startsWith('<br>')) {\n    modifiedText = modifiedText.slice(4, modifiedText.length - 1);\n  }\n  if (modifiedText.endsWith('<br>')) {\n    modifiedText = modifiedText.slice(0, modifiedText.length - 4);\n  }\n  modifiedText = modifiedText.charAt(0).toUpperCase() + modifiedText.slice(1);\n  modifiedText = parse(modifiedText);\n  return <Linkify key={Math.random().toString()}>{modifiedText}</Linkify>;\n};\n\nconst formatContext = (context) => {\n  const returnArray = [];\n  for (const key in context) {\n    returnArray.push(\n      <tr key={Math.random().toString()}>\n        <td valign='top'>\n          <Typography variant='body2'>{key}</Typography>\n        </td>\n        <td valign='top'>\n          <Typography variant='body2'>{context[key]}</Typography>\n        </td>\n      </tr>\n    );\n  }\n\n  return (\n    <table>\n      <tbody>{returnArray}</tbody>\n    </table>\n  );\n};\n\nexport default NetworkProperties;\n","import React from 'react'\n\nimport { withStyles } from '@material-ui/core/styles'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar'\nimport Avatar from '@material-ui/core/Avatar'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport LinkIcon from '@material-ui/icons/Launch'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport CheckIcon from '@material-ui/icons/Check'\n\nimport { camelCaseToTitleCase } from './camel-case-util.js'\nimport './style.css'\n\nimport { GENE_CARDS_URL } from '../../../api/config';\n\n// For external link\n\n\nconst styles = theme => ({\n  inline: {\n    display: 'inline'\n  },\n  title: {\n    marginLeft: '0.5em',\n    marginTop: '0.3em'\n  },\n  description: {\n    marginLeft: '1em',\n    marginTop: '0.3em'\n  },\n  matched: {\n    backgroundColor: '#C51162'\n  },\n  unmatched: {\n    backgroundColor: 'red'\n  },\n  linkIcon: {\n    paddingLeft: '1em'\n  },\n  nested: {\n    paddingLeft: theme.spacing(4)\n  }\n})\n\nclass GeneAnnotationList extends React.Component {\n  state = {}\n\n  handleClick = id => {\n    const tag = 'pw_' + id\n    const curState = this.state[tag]\n\n    if (curState === undefined || curState == null) {\n      this.setState(state => ({ [tag]: true }))\n    } else {\n      this.setState(state => ({ [tag]: !curState }))\n    }\n  }\n\n  render() {\n    const { classes } = this.props\n\n    const results = this.props.search_results\n\n    if (!results) {\n      return <div className=\"gene-list-wrapper\" />\n    }\n\n    const geneList = results.genes\n\n    if (!geneList) {\n      return <div className=\"gene-list-wrapper\" />\n    }\n\n    const symbol = this.props.geneSymbol\n    const upperListItem = this.getListItem(geneList.get(symbol), classes)\n    if (upperListItem == null) {\n      return this.getListItem(geneList.get(symbol.toLowerCase()), classes)\n    }\n    return upperListItem\n  }\n\n  getListItem = (geneEntry, classes) => {\n    if (geneEntry === null || geneEntry === undefined) {\n      return null\n    }\n\n    const description = geneEntry.summary\n    return (\n      <ListItem\n        alignItems=\"flex-start\"\n        key={geneEntry._id}\n        onClick={e => this.handleClick(geneEntry._id)}\n        disableGutters={true}\n        style={{ padding: '0' }}\n      >\n        <ListItemAvatar>\n          <Avatar className={classes.matched}>\n            <CheckIcon />\n          </Avatar>\n        </ListItemAvatar>\n\n        <ListItemText\n          primary={\n            <table>\n              <tbody>\n                <tr style={{ marginLeft: '-1' }}>\n                  <td style={{ padding: '0' }}>\n                    <div>\n                      <Typography component=\"span\" variant=\"body2\">\n                        {geneEntry.symbol}\n                      </Typography>\n                    </div>\n                    <div>\n                      <Typography\n                        component=\"span\"\n                        className={classes.inline}\n                        variant=\"caption\"\n                        color=\"textSecondary\"\n                      >\n                        {camelCaseToTitleCase(geneEntry.name)}\n                      </Typography>\n                    </div>\n                    <div>\n                      <Typography variant=\"body2\" color=\"textPrimary\">\n                        {description}\n                      </Typography>\n                    </div>\n                  </td>\n                  <td>\n                    <Tooltip title=\"Open in GeneCards\" placement=\"bottom\">\n                      <IconButton\n                        aria-label=\"Link to GeneCards\"\n                        href={GENE_CARDS_URL + geneEntry.symbol}\n                        target=\"_blank\"\n                      >\n                        <LinkIcon />\n                      </IconButton>\n                    </Tooltip>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          }\n        />\n      </ListItem>\n    )\n  }\n}\n\nexport default withStyles(styles)(GeneAnnotationList)\n","import React, { useState } from 'react'\nimport Linkify from 'linkifyjs/react'\nimport parse from 'html-react-parser'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/styles'\nimport { camelCaseToTitleCase } from './camel-case-util.js'\nimport { stripScripts } from './strip-scripts-util.js'\nimport GeneAnnotationList from './GeneAnnotationList'\nimport ExpandPanel from './ExpandPanel'\nimport { isEqual } from 'lodash'\nimport CheckIcon from '@material-ui/icons/Check'\nimport Avatar from '@material-ui/core/Avatar'\n\nimport { MAX_NETWORK_SIZE } from '../../../api/config'\n\nconst useStyles = makeStyles(theme => ({\n  noPadding: {\n    paddingTop: '0',\n    paddingBottom: '0'\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    display: 'flex',\n    width: '100%'\n  },\n  wideList: {\n    marginTop: '0',\n    width: '100%',\n    padding: '0'\n  },\n  table: {\n    width: '100%',\n    tableLayout: 'fixed'\n  },\n  matched: {\n    marginLeft: '0.5em',\n    backgroundColor: '#C51162',\n    height: '1em',\n    width: '1em'\n  },\n  icon: {\n    height: '0.5em',\n    weidth: '0.5em'\n  }\n}))\n\nlet index = 0\n\nconst NodeProperties = props => {\n  const classes = useStyles()\n\n  const context = props.context\n  const listProperties = props.listProperties\n\n  const [defaultExpanded, setDefaultExpanded] = useState(true)\n\n\n  //Display all nodes if no nodes are selected\n  let nodes\n  \n  if ((props.network.nodeCount + props.network.edgeCount) > MAX_NETWORK_SIZE){\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={classes.center}>\n          <Typography color=\"textSecondary\" variant=\"subtitle1\">\n            Network to big to display nodes\n          </Typography>\n        </div>\n      </div>\n    ) \n  }\n  \n  if (props.network.selectedNodes.length === 0) {\n    nodes = props.network.network.elements\n      .filter(elem => {\n        return elem.data.id[0] !== 'e'\n      })\n      .map(node => {\n        return node.data\n      })\n      .filter(nodeData => {\n        return nodeData.name != null && nodeData.name !== ''\n      })\n  } else {\n    nodes = props.network.selectedNodes\n  }\n\n  const entityProperties = [\n    'Name',\n    'Type',\n    'Location',\n    'ID',\n    'HGNC',\n    'Ensembl',\n    'Alias',\n    'Members',\n    'Member'\n  ]\n\n  const nodeProperties = [\n    'Height',\n    'Width',\n    'Shape',\n    'Is GPML Shape',\n    'Color',\n    'Fill Color',\n    'Transparent',\n    'Border Thickness',\n    'Border Style',\n    'Label Size',\n    'Label Font',\n    'Node Id',\n    'Query Node'\n  ]\n\n  const displayItems = [entityProperties, nodeProperties]\n\n  nodes.sort((a, b) => {\n    if (a.name.toUpperCase() > b.name.toUpperCase()) {\n      return 1\n    } else {\n      return -1\n    }\n  })\n\n  const topDisplay = []\n  nodes.forEach(node => {\n    const attributes = []\n    let content\n    let title\n    let geneAnnotation = null\n    let inset = false\n    let querynode = false\n\n    //Set up dictionary for complete property lists\n    const completeListProperties = {}\n    for (const property in listProperties) {\n      const listForAllNodes = listProperties[property]\n      const listForThisNode = listForAllNodes[node.name]\n      completeListProperties[property] = new Set(listForThisNode)\n    }\n\n    //Add represents\n    if (node.name in props.represents) {\n      const [prefix, id] = props.represents[node.name].split(':')\n      if (id != null && /[^\\s]/.test(id)) {\n        if (prefix.toUpperCase() in context) {\n          attributes.push({\n            title: 'ID',\n            content:\n              '<a href=\"' +\n              context[prefix.toUpperCase()] +\n              id +\n              '\">' +\n              props.represents[node.name] +\n              '</a>',\n            displayed: false\n          })\n        } else {\n          attributes.push({\n            title: 'ID',\n            content: props.represents[node.name],\n            displayed: false\n          })\n        }\n      } else {\n        attributes.push({\n          title: 'ID',\n          content: props.represents[node.name],\n          displayed: false\n        })\n      }\n    }\n\n    //Filter properties\n    for (const key in node) {\n      content = extractContent(node[key])\n      title = extractTitle(key)\n      if (title === 'querynode') {\n        querynode = true\n      }\n      if (\n        !title.startsWith('__') &&\n        content != null &&\n        content !== 'null' &&\n        content !== ''\n      ) {\n        if (title in completeListProperties) {\n          completeListProperties[title].add(content)\n        } else if (title === 'id') {\n          attributes.push({\n            title: 'Node Id',\n            content: content,\n            displayed: false\n          })\n        } else if (title.toUpperCase() in context) {\n          attributes.push({\n            title: camelCaseToTitleCase(title),\n            content:\n              '<a href=\"' +\n              context[title.toUpperCase()] +\n              '/' +\n              content +\n              '\">' +\n              content +\n              '</a>',\n            displayed: false\n          })\n        } else if (title !== 'query') {\n          const [prefix, id] = content.split(':')\n          if (\n            prefix.toUpperCase() in context &&\n            id != null &&\n            /[^\\s]/.test(id)\n          ) {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content:\n                '<a href=\"' +\n                context[prefix.toUpperCase()] +\n                id +\n                '\">' +\n                content +\n                '</a>',\n              displayed: false\n            })\n          } else if (prefix === 'hgnc.symbol') {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content:\n                '<a href=\"https://identifiers.org/hgnc/' +\n                id +\n                '\">' +\n                content +\n                '</a>',\n              displayed: false\n            })\n          } else {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content: content,\n              displayed: false\n            })\n          }\n        }\n      }\n    }\n\n    //Handle list attributes\n    for (const propertyName in completeListProperties) {\n      const propertyList = completeListProperties[propertyName]\n      let propertyString = ''\n      propertyList.forEach(property => {\n        const [prefix, id] = property.split(':')\n        if (prefix.toUpperCase() in context && id != null && /[^\\s]/.test(id)) {\n          propertyString +=\n            '<a href=\"' +\n            context[prefix.toUpperCase()] +\n            id +\n            '\">\\t' +\n            property +\n            '</a><br/>'\n        } else if (id != null && /[^\\s]/.test(id)) {\n          propertyString +=\n            '<a href=\"https://identifiers.org/' +\n            prefix +\n            '/' +\n            id +\n            '\">\\t' +\n            '</a><br/>'\n        } else {\n          propertyString += property + '<br/>'\n        }\n      })\n      if (propertyList.size > 1) {\n        attributes.push({\n          title: camelCaseToTitleCase(propertyName),\n          content:\n            '<div style=\"padding-left:1em;\">' + propertyString + '</div>',\n          displayed: false\n        })\n      } else if (propertyList.size === 1) {\n        attributes.push({\n          title: camelCaseToTitleCase(propertyName),\n          content: propertyString,\n          displayed: false\n        })\n      }\n    }\n\n    //Add gene annotation\n    if (\n      props.search.results != null &&\n      (props.search.results.genes.get(node.name) != null ||\n        props.search.results.genes.get(node.name.toLowerCase()) != null)\n    ) {\n      inset = true\n      geneAnnotation = (\n        <List className={classes.noPadding}>\n          <GeneAnnotationList\n            {...props}\n            search_results={props.search.results}\n            geneSymbol={node.name}\n          />\n        </List>\n      )\n    }\n\n    const displayCol1 = []\n    const displayCol2 = []\n    let primaryString\n    let secondaryString\n    displayItems.forEach(list => {\n      primaryString = ''\n      let currentEntry\n      list.forEach(element => {\n        currentEntry = attributes.filter(entry => {\n          return entry.title === element\n        })[0]\n        if (currentEntry != null && currentEntry.content != null) {\n          primaryString +=\n            currentEntry.title + ': ' + currentEntry.content + '<br>'\n          currentEntry.displayed = true\n        }\n      })\n      primaryString = formatPrimary(primaryString)\n      if (primaryString !== '') {\n        switch (list) {\n          case entityProperties:\n            secondaryString = 'Entity Properties'\n            displayCol1.push(\n              <ListItem\n                key={index++}\n                className={classes.noPadding}\n                disableGutters={true}\n              >\n                <ListItemText\n                  inset={inset}\n                  primary={\n                    <React.Fragment>\n                      <Typography variant=\"caption\" color=\"textSecondary\">\n                        {secondaryString}\n                      </Typography>\n                      <div>\n                        <Typography variant=\"body2\" component=\"div\">\n                          {primaryString}\n                        </Typography>\n                      </div>\n                    </React.Fragment>\n                  }\n                />\n              </ListItem>\n            )\n            break\n          case nodeProperties:\n            secondaryString = 'Node Properties'\n            displayCol2.push(\n              <ListItem\n                key={index++}\n                className={classes.noPadding}\n                disableGutters={true}\n              >\n                <ListItemText\n                  primary={\n                    <React.Fragment>\n                      <Typography variant=\"caption\" color=\"textSecondary\">\n                        {secondaryString}\n                      </Typography>\n                      <div>\n                        <Typography variant=\"body2\">{primaryString}</Typography>\n                      </div>\n                    </React.Fragment>\n                  }\n                />\n              </ListItem>\n            )\n            break\n        }\n      }\n    })\n\n    primaryString = ''\n    attributes.forEach(entry => {\n      if (!entry.displayed) {\n        primaryString += entry.title + ': ' + entry.content + '<br>'\n        entry.displayed = true\n      }\n    })\n    primaryString = formatPrimary(primaryString)\n    secondaryString = 'Additional properties'\n\n    if (primaryString !== '') {\n      displayCol1.push(\n        <ListItem\n          key={index++}\n          className={classes.noPadding}\n          disableGutters={true}\n        >\n          <ListItemText\n            inset={inset}\n            primary={\n              <React.Fragment>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography variant=\"body2\">{primaryString}</Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      )\n    }\n\n    const summary = (\n      <table>\n        <tbody>\n          <tr>\n            <td>\n              <Typography variant=\"body2\">{node.name}</Typography>\n            </td>\n            {querynode ? (\n              <td>\n                <Avatar className={classes.matched}>\n                  <CheckIcon className={classes.icon} />\n                </Avatar>\n              </td>\n            ) : null}\n          </tr>\n        </tbody>\n      </table>\n    )\n    const details = (\n      <table className={classes.table}>\n        <tbody>\n          <tr>\n            <td colSpan=\"2\" valign=\"top\">\n              {geneAnnotation}\n            </td>\n          </tr>\n          <tr>\n            <td valign={'top'}>{displayCol1}</td>\n            <td valign={'top'}>{displayCol2}</td>\n          </tr>\n        </tbody>\n      </table>\n    )\n    topDisplay.push(\n      <ExpandPanel\n        summary={summary}\n        details={details}\n        defaultExpanded={defaultExpanded}\n        key={node.id + index++}\n        divider={true}\n      />\n    )\n  })\n\n  //Don't return nothing\n  if (topDisplay.length === 0) {\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={classes.center}>\n          <Typography color=\"textSecondary\" variant=\"subtitle1\">\n            No nodes to display\n          </Typography>\n        </div>\n      </div>\n    )\n  } else if (topDisplay.length === 1) {\n    if (!defaultExpanded) {\n      setDefaultExpanded(true)\n    }\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={'inner-rectangle'}>\n          <List className={classes.noPadding}>{topDisplay}</List>\n        </div>\n      </div>\n    )\n  } else {\n    if (defaultExpanded) {\n      setDefaultExpanded(false)\n    }\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={'inner-rectangle'}>\n          <div>\n            <List className={classes.noPadding}>{topDisplay}</List>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst extractContent = entry => {\n  if (entry == null) {\n    return ''\n  }\n  return stripScripts(entry)\n}\n\nconst extractTitle = entry => {\n  if (entry == null) {\n    return ''\n  }\n  return stripScripts(entry)\n}\n\nconst formatPrimary = entry => {\n  if (entry === '') {\n    return entry\n  }\n  let modifiedText = entry\n    .replace(/<\\/?p\\/?>/gi, '<br>')\n    .replace(/(<\\/?br\\/?>)+/gi, '<br>')\n    .replace(/(\\n)+/gi, '\\n')\n    .replace(/<a\\s+href=/gi, '<a target=\"_blank\" href=')\n    .trim()\n  if (modifiedText.startsWith('<br>')) {\n    modifiedText = modifiedText.slice(4, modifiedText.length - 1)\n  }\n  if (modifiedText.endsWith('<br>')) {\n    modifiedText = modifiedText.slice(0, modifiedText.length - 4)\n  }\n  modifiedText = parse(modifiedText)\n  return <Linkify key={'link' + index++}>{modifiedText}</Linkify>\n}\n\n//Necessary because otherwise open list items will collapse every time \"SET_AVAILABLE\" happens\nconst MemoNodeProperties = React.memo(NodeProperties, (oldProps, newProps) => {\n  return isEqual(oldProps.network.selectedNodes, newProps.network.selectedNodes)\n})\n\nexport default MemoNodeProperties\n","import React, { useState } from 'react'\nimport Linkify from 'linkifyjs/react'\nimport parse from 'html-react-parser'\nimport { isEqual } from 'lodash'\n\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/styles'\nimport ExpandPanel from './ExpandPanel'\nimport CheckIcon from '@material-ui/icons/Check'\nimport Avatar from '@material-ui/core/Avatar'\n\nimport { camelCaseToTitleCase } from './camel-case-util.js'\nimport { stripScripts } from './strip-scripts-util.js'\n\nimport { MAX_NETWORK_SIZE } from '../../../api/config'\n\nlet index = 0\n\nconst useStyles = makeStyles(theme => ({\n  noPadding: {\n    paddingTop: '0',\n    paddingBottom: '0'\n  },\n  center: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    display: 'flex',\n    width: '100%'\n  },\n  wideList: {\n    marginTop: '0',\n    width: '100%',\n    padding: '0'\n  },\n  table: {\n    width: '100%',\n    tableLayout: 'fixed'\n  },\n  matched: {\n    backgroundColor: '#C51162',\n    height: '1em',\n    width: '1em'\n  },\n  icon: {\n    height: '0.5em',\n    weidth: '0.5em'\n  }\n}))\n\n\nconst EdgeProperties = props => {\n  const classes = useStyles()\n\n  const context = props.context\n  const listProperties = props.listProperties\n  const [defaultExpanded, setDefaultExpanded] = useState(true)\n  \n  if ((props.network.nodeCount + props.network.edgeCount) > MAX_NETWORK_SIZE){\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={classes.center}>\n          <Typography color=\"textSecondary\" variant=\"subtitle1\">\n            Network to big to display edges\n          </Typography>\n        </div>\n      </div>\n    ) \n  }\n\n  let edges\n  if (props.network.selectedEdges.length === 0) {\n    edges = props.network.network.elements\n      .filter(elem => {\n        return elem.data.id[0] === 'e'\n      })\n      .map(elem => {\n        return elem.data\n      })\n  } else {\n    edges = props.network.selectedEdges\n  }\n\n  const nodes = props.nodeList\n  \n\n  const entityProperties = [\n    'Source',\n    'Target',\n    'Type',\n    'SBO Type',\n    'Interaction',\n    'Mechanism',\n    'Throughput',\n    'Location',\n    'Score',\n    'Citation',\n    'Sentence',\n    'Publication 1st Author',\n    'Annotator',\n    'Interaction Detection Methods',\n    'Presence In Other Species',\n    'Source Databases',\n    'Experimental System',\n    'Experimental System Type',\n    'Modification',\n    'Phenotypes',\n    'Qualifications'\n  ]\n\n  const edgeProperties = [\n    'Start Arrow',\n    'End Arrow',\n    'Connector Type',\n    'Line Thickness',\n    'Line Style',\n    'Color',\n    'Directed',\n    'Edge Id'\n  ]\n\n  const displayItems = [entityProperties, edgeProperties]\n\n  edges.sort((a, b) => {\n    let aScore = 0\n    let bScore = 0\n    const aSource = findNode(a.source, nodes)\n    const aTarget = findNode(a.target, nodes)\n    const bSource = findNode(b.source, nodes)\n    const bTarget = findNode(b.target, nodes)\n    if (aSource !== '') {\n      aScore++\n    }\n    if (aTarget !== '') {\n      aScore++\n    }\n    if (bSource !== '') {\n      bScore++\n    }\n    if (bTarget !== '') {\n      bScore++\n    }\n    if (bScore - aScore !== 0) {\n      return bScore - aScore\n    } else if (aSource === '') {\n      return 1\n    } else if (bSource === '') {\n      return -1\n    }\n\n    if (aSource.toUpperCase() > bSource.toUpperCase()) {\n      return 1\n    } else if (aSource.toUpperCase() < bSource.toUpperCase()) {\n      return -1\n    } else if (aTarget.toUpperCase() > bTarget.toUpperCase()) {\n      return 1\n    } else {\n      return -1\n    }\n  })\n\n  const topDisplay = []\n  edges.forEach(edge => {\n    const attributes = []\n    const originalId = edge.id.slice(1)\n    let content\n    let title\n    let source\n    let target\n\n    //Set up dictionary for complete property lists\n    const completeListProperties = {}\n    for (const property in listProperties) {\n      const listForAllEdges = listProperties[property]\n      const listForThisEdge = listForAllEdges[originalId]\n      completeListProperties[property] = new Set(listForThisEdge)\n    }\n\n    //Filter properties\n    for (const key in edge) {\n      content = extractContent(edge[key])\n      title = extractTitle(key)\n      if (\n        !title.startsWith('__') &&\n        content != null &&\n        content !== 'null' &&\n        content !== ''\n      ) {\n        if (title in completeListProperties) {\n          completeListProperties[title].add(content)\n        } else if (title === 'source') {\n          source = findNode(content, nodes)\n          attributes.push({\n            title: 'Source',\n            content: source,\n            displayed: false\n          })\n        } else if (title === 'target') {\n          target = findNode(content, nodes)\n          attributes.push({\n            title: 'Target',\n            content: target,\n            displayed: false\n          })\n        } else if (title === 'id') {\n          attributes.push({\n            title: 'Edge Id',\n            content: originalId,\n            displayed: false\n          })\n        } else if (title === 'sboType') {\n          const id = content.split(':')[1]\n          attributes.push({\n            title: 'SBO Type',\n            content:\n              '<a href=\"' +\n              'https://identifiers.org/SBO:' +\n              id +\n              '\">' +\n              content +\n              '</a>'\n          })\n        } else {\n          const [prefix, id] = content.split(':')\n          if (\n            prefix.toUpperCase() in context &&\n            id != null &&\n            /[^\\s]/.test(id)\n          ) {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content:\n                '<a href=\"' +\n                context[prefix.toUpperCase()] +\n                id +\n                '\">' +\n                content +\n                '</a>',\n              displayed: false\n            })\n          } else {\n            attributes.push({\n              title: camelCaseToTitleCase(title),\n              content: content,\n              displayed: false\n            })\n          }\n        }\n      }\n    }\n\n    //Handle list attributes\n    for (const propertyName in completeListProperties) {\n      const propertyList = completeListProperties[propertyName]\n      let propertyString = ''\n      propertyList.forEach(property => {\n        const [prefix, id] = property.split(':')\n        if (prefix.toUpperCase() in context && id != null && /[^\\s]/.test(id)) {\n          propertyString +=\n            '<a href=\"' +\n            context[prefix.toUpperCase()] +\n            id +\n            '\">' +\n            property +\n            '</a><br/>'\n        } else {\n          propertyString += property + '<br/>'\n        }\n      })\n      if (propertyList.size > 1) {\n        attributes.push({\n          title: camelCaseToTitleCase(propertyName),\n          content:\n            '<div style=\"padding-left:1em;\">' + propertyString + '</div>',\n          displayed: false,\n          noBreak: true\n        })\n      } else if (propertyList.size === 1) {\n        attributes.push({\n          title: camelCaseToTitleCase(propertyName),\n          content: propertyString,\n          displayed: false\n        })\n      }\n    }\n\n    const displayCol1 = []\n    const displayCol2 = []\n    let primaryString\n    let secondaryString\n    displayItems.forEach(list => {\n      primaryString = ''\n      let currentEntry\n      list.forEach(element => {\n        currentEntry = attributes.filter(entry => {\n          return entry.title === element\n        })[0]\n        if (currentEntry != null && currentEntry.content != null) {\n          primaryString +=\n            currentEntry.title +\n            ': ' +\n            currentEntry.content +\n            (currentEntry.noBreak ? '' : '<br>')\n          currentEntry.displayed = true\n        }\n      })\n      primaryString = formatPrimary(primaryString)\n      if (primaryString !== '') {\n        switch (list) {\n          case entityProperties:\n            secondaryString = 'Entity Properties'\n            displayCol1.push(\n              <ListItem key={Math.random()} className={classes.noPadding}>\n                <ListItemText\n                  inset={false}\n                  primary={\n                    <React.Fragment>\n                      <Typography\n                        component=\"span\"\n                        variant=\"caption\"\n                        color=\"textSecondary\"\n                      >\n                        {secondaryString}\n                      </Typography>\n                      <div>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {primaryString}\n                        </Typography>\n                      </div>\n                    </React.Fragment>\n                  }\n                />\n              </ListItem>\n            )\n            break\n          case edgeProperties:\n            secondaryString = 'Edge Properties'\n            displayCol2.push(\n              <ListItem\n                key={Math.random()}\n                className={classes.listPadding}\n                disableGutters={true}\n              >\n                <ListItemText\n                  primary={\n                    <React.Fragment>\n                      <Typography variant=\"caption\" color=\"textSecondary\">\n                        {secondaryString}\n                      </Typography>\n                      <div>\n                        <Typography variant=\"body2\">{primaryString}</Typography>\n                      </div>\n                    </React.Fragment>\n                  }\n                />\n              </ListItem>\n            )\n            break\n        }\n      }\n    })\n\n    primaryString = ''\n    attributes.forEach(entry => {\n      if (!entry.displayed) {\n        primaryString +=\n          entry.title + ': ' + entry.content + (entry.noBreak ? '' : '<br/>')\n        entry.displayed = true\n      }\n    })\n    primaryString = formatPrimary(primaryString)\n    secondaryString = 'Additional properties'\n\n    if (primaryString !== '') {\n      displayCol1.push(\n        <ListItem key={index++} className={classes.noPadding}>\n          <ListItemText\n            inset={false}\n            primary={\n              <React.Fragment>\n                <Typography\n                  component=\"span\"\n                  variant=\"caption\"\n                  color=\"textSecondary\"\n                >\n                  {secondaryString}\n                </Typography>\n                <div>\n                  <Typography component=\"span\" variant=\"body2\">\n                    {primaryString}\n                  </Typography>\n                </div>\n              </React.Fragment>\n            }\n          />\n        </ListItem>\n      )\n    }\n\n    //Create summary\n    const summary = (\n      <table>\n        <tbody>\n          <tr>\n            <td>\n              <Typography variant=\"body2\">{source}</Typography>\n            </td>\n            {props.search.queryList.includes(source.toUpperCase()) ? (\n              <td>\n                <Avatar className={classes.matched}>\n                  <CheckIcon className={classes.icon} />\n                </Avatar>\n              </td>\n            ) : null}\n            <td>\n              <Typography variant=\"body2\">{'  '}</Typography>\n            </td>\n            <td>\n              <Typography variant=\"body2\">{target}</Typography>\n            </td>\n            {props.search.queryList.includes(target.toUpperCase()) ? (\n              <td>\n                <Avatar className={classes.matched}>\n                  <CheckIcon className={classes.icon} />\n                </Avatar>\n              </td>\n            ) : null}\n          </tr>\n        </tbody>\n      </table>\n    )\n    const details = (\n      <table className={classes.table}>\n        <tbody>\n          <tr>\n            <td valign={'top'}>{displayCol1}</td>\n            <td valign={'top'}>{displayCol2}</td>\n          </tr>\n        </tbody>\n      </table>\n    )\n    topDisplay.push(\n      <ExpandPanel\n        summary={summary}\n        details={details}\n        defaultExpanded={defaultExpanded}\n        key={index++}\n        divider={true}\n      />\n    )\n  })\n\n  //Don't return nothing\n  if (topDisplay.length === 0) {\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={classes.center}>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            No edges to display\n          </Typography>\n        </div>\n      </div>\n    )\n  } else if (topDisplay.length === 1) {\n    if (!defaultExpanded) {\n      setDefaultExpanded(true)\n    }\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={'inner-rectangle'}>\n          <List className={classes.noPadding}>{topDisplay}</List>\n        </div>\n      </div>\n    )\n  } else {\n    if (defaultExpanded) {\n      setDefaultExpanded(false)\n    }\n    return (\n      <div className={'outer-rectangle'}>\n        <div className={'inner-rectangle'}>\n          <div>\n            <List className={classes.noPadding}>{topDisplay}</List>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst extractContent = entry => {\n  if (entry == null) {\n    return ''\n  }\n  return stripScripts(entry)\n}\n\nconst extractTitle = entry => {\n  if (entry == null) {\n    return ''\n  }\n  return stripScripts(entry)\n}\n\nconst formatPrimary = entry => {\n  if (entry === '') {\n    return entry\n  }\n  let modifiedText = entry\n    .replace(/<\\/?p\\/?>/gi, '<br>')\n    .replace(/(<\\/?br\\/?>)+/gi, '<br>')\n    .replace(/(\\n)+/gi, '\\n')\n    .replace(/<a\\s+href=/gi, '<a target=\"_blank\" href=')\n    .trim()\n  if (modifiedText.startsWith('<br>')) {\n    modifiedText = modifiedText.slice(4, modifiedText.length - 1)\n  }\n  if (modifiedText.endsWith('<br>')) {\n    modifiedText = modifiedText.slice(0, modifiedText.length - 4)\n  }\n  modifiedText = parse(camelCaseToTitleCase(modifiedText))\n  return <Linkify key={'link:' + index++}>{modifiedText}</Linkify>\n}\n\nconst findNode = (nodeId, nodeArray) => {\n  if (isNaN(nodeId) || nodeId === '') {\n    return nodeId\n  }\n  const returnNode = nodeArray.filter(\n    item => item['@id'].toString() === nodeId.toString()\n  )[0]\n\n  if (returnNode != null) {\n    return returnNode.n\n  } else {\n    return ''\n  }\n}\n\n//Necessary because otherwise open list items will collapse every time \"SET_AVAILABLE\" happens\nconst MemoEdgeProperties = React.memo(EdgeProperties, (prevProps, newProps) => {\n  return isEqual(\n    prevProps.network.selectedEdges,\n    newProps.network.selectedEdges\n  )\n})\n\nexport default MemoEdgeProperties\n","import React from 'react';\nimport Tabs from '@material-ui/core/Tabs';\nimport HoverTab from '../HoverTab';\nimport { makeStyles } from '@material-ui/styles';\n\nimport { findAttributes } from './attribute-util';\n\nimport NetworkProperties from './NetworkProperties';\nimport MemoNodeProperties from './NodeProperties';\nimport MemoEdgeProperties from './EdgeProperties';\n\nimport { mapKeys } from 'lodash';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: '0.2em',\n    backgroundColor: '#FFFFFF',\n    overflow: 'auto',\n  },\n  list: {},\n  subtitle: {\n    marginLeft: '1em',\n    marginTop: '0.5em',\n  },\n  root: {\n    minHeight: 0,\n  },\n}));\n\nconst backgroundcolor = 'rgb(220, 220, 220)';\n\nconst TabContent = (props) => {\n  const { value } = props;\n\n  //Find @context\n  let context;\n  context = findAttributes(props.network.originalCX, '@context');\n  if (context != null) {\n    context = context[0];\n  } else {\n    const networkAttr = findAttributes(\n      props.network.originalCX,\n      'networkAttributes'\n    );\n    if (networkAttr != null) {\n      for (let i = 0; i < networkAttr.length; i++) {\n        if (networkAttr[i].n === '@context') {\n          context = JSON.parse(networkAttr[i].v);\n        }\n      }\n    }\n  }\n  //Uppercase all keys in context\n  const contextUpper = mapKeys(context, function(v, k) {\n    return k.toUpperCase();\n  });\n\n  //Find lists and attributes\n  let nodeList;\n  let nodeAttributes;\n  let edgeAttributes;\n  for (let i = 0; i < props.network.originalCX.length; i++) {\n    if (props.network.originalCX[i].nodes != null) {\n      nodeList = props.network.originalCX[i].nodes;\n      if (nodeAttributes != null && edgeAttributes != null) {\n        break;\n      }\n    }\n    if (props.network.originalCX[i].nodeAttributes != null) {\n      nodeAttributes = props.network.originalCX[i].nodeAttributes;\n      if (nodeList != null && edgeAttributes != null) {\n        break;\n      }\n    }\n    if (props.network.originalCX[i].edgeAttributes != null) {\n      edgeAttributes = props.network.originalCX[i].edgeAttributes;\n      if (nodeList != null && nodeAttributes != null) {\n        break;\n      }\n    }\n  }\n\n  // Find node related properties\n  const represents = {};\n  const nodeListProperties = {}; //Dictionary { property name : dictionary { gene name : list of properties }}\n  if (nodeList != null) {\n    //Find represents\n    for (let i = 0; i < nodeList.length; i++) {\n      if (nodeList[i].r != null) {\n        represents[nodeList[i].n] = nodeList[i].r;\n      }\n    }\n    //Find node properties that are lists\n    if (nodeAttributes != null) {\n      for (let i = 0; i < nodeAttributes.length; i++) {\n        if (nodeAttributes[i].d === 'list_of_string') {\n          let propDict = {};\n          if (nodeListProperties[nodeAttributes[i].n] != null) {\n            propDict = nodeListProperties[nodeAttributes[i].n];\n          }\n          const geneName = nodeList.filter(\n            (node) => node['@id'] === nodeAttributes[i].po\n          )[0].n;\n          if (geneName != null) {\n            if (propDict[geneName] == null) {\n              propDict[geneName] = nodeAttributes[i].v;\n            } else {\n              propDict[geneName] = propDict[geneName].concat(\n                nodeAttributes[i].v\n              );\n            }\n          }\n          nodeListProperties[nodeAttributes[i].n] = propDict;\n        }\n      }\n    }\n  }\n\n  //Find edge properties that are lists\n  const edgeListProperties = {};\n  if (edgeAttributes != null) {\n    for (let i = 0; i < edgeAttributes.length; i++) {\n      if (edgeAttributes[i].d === 'list_of_string') {\n        let propDict = {};\n        if (edgeListProperties[edgeAttributes[i].n] != null) {\n          propDict = edgeListProperties[edgeAttributes[i].n];\n        }\n        const edgeId = edgeAttributes[i].po;\n        if (propDict[edgeId] == null) {\n          propDict[edgeId] = edgeAttributes[i].v;\n        } else {\n          propDict[edgeId] = propDict[edgeId].concat(edgeAttributes[i].v);\n        }\n        edgeListProperties[edgeAttributes[i].n] = propDict;\n      }\n    }\n  }\n\n  if (value === 0) {\n    return <NetworkProperties context={context} {...props} />;\n  } else if (value === 1) {\n    return (\n      <MemoNodeProperties\n        context={contextUpper}\n        represents={represents}\n        listProperties={nodeListProperties}\n        {...props}\n      />\n    );\n  } else {\n    return (\n      <MemoEdgeProperties\n        context={contextUpper}\n        nodeList={nodeList}\n        listProperties={edgeListProperties}\n        {...props}\n      />\n    );\n  }\n};\n\nconst DISABLED_STYLE = {\n  width: '100%',\n};\n\nconst TableBrowserPanel = (props) => {\n  //const network = props.network\n  const classes = useStyles();\n  const value = props.network.tableDisplayTab;\n  const originalCX = props.network.originalCX;\n  if (originalCX === null) {\n    return <div style={DISABLED_STYLE} />;\n  }\n\n  function handleChange(event, newValue) {\n    props.networkActions.changeTab(newValue);\n  }\n\n  //Get current tab selection\n  return (\n    <div className='table-browser-panel'>\n      <Tabs value={value} onChange={handleChange} className={classes.root}>\n        <HoverTab\n          className={classes.root}\n          key={'network-tab'}\n          label={'Network'}\n          backgroundcolor={backgroundcolor}\n        />\n        <HoverTab\n          className={classes.root}\n          key={'nodes-tab'}\n          label={'Nodes'}\n          backgroundcolor={backgroundcolor}\n        />\n        <HoverTab\n          className={classes.root}\n          key={'edges-tab'}\n          label={'Edges'}\n          backgroundcolor={backgroundcolor}\n        />\n      </Tabs>\n      <TabContent value={value} {...props} />\n    </div>\n  );\n};\n\nexport default TableBrowserPanel;\n","import React from 'react'\n\nimport MemoTableBrowserPanel from './TableBrowserPanel'\n\nconst DISABLED_STYLE = {\n  width: '100%'\n}\n\n/**\n *\n * Basic property viewer for nodes and edges\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst TableBrowser = props => {\n  if (\n    props.network.originalCX === null ||\n    props.search.actualResults.length === 0\n  ) {\n    return <div style={DISABLED_STYLE} />\n  }\n\n  return (\n    <div className={'table-browser'}>\n      <MemoTableBrowserPanel {...props} />\n    </div>\n  )\n}\n\nconst MemoTableBrowser = TableBrowser /*React.memo(TableBrowser, (prevProps, newProps) => {\n  return isEqual(prevProps.network.isFetching, newProps.network.isFetching)\n})*/\n\nexport default MemoTableBrowser\n","import { METHOD_GET, METHOD_POST, CYREST_BASE_URL } from './config'\n\nconst status = cyRESTPort => {\n  const statusUrl = CYREST_BASE_URL + ':' + cyRESTPort + '/v1'\n\n  return fetch(statusUrl, {\n    method: METHOD_GET\n  })\n}\n\nconst cyNDExStatus = cyRESTPort => {\n  const cyNDExStatusUrl =\n    CYREST_BASE_URL + ':' + cyRESTPort + '/cyndex2/v1/status'\n\n  return fetch(cyNDExStatusUrl, {\n    method: METHOD_GET\n  })\n}\n\nconst importNetwork = (cyRESTPort, payload) => {\n  const importNetworkUrl =\n    CYREST_BASE_URL + ':' + cyRESTPort + '/cyndex2/v1/networks/cx'\n  console.log('Calling CyREST POST:', importNetworkUrl)\n\n  return fetch(importNetworkUrl, {\n    method: METHOD_POST,\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(payload)\n  })\n}\n\nconst cyndex2Networks = (cyRESTPort, method, suid, payload) => {\n  const currentNetworkUrl =\n    CYREST_BASE_URL + ':' + cyRESTPort + '/cyndex2/v1/networks/' + suid\n  console.log('Calling CyREST getNetwork:', currentNetworkUrl, method, payload)\n  return fetch(currentNetworkUrl, {\n    method: method,\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: payload\n  })\n}\n\nexport { status, cyNDExStatus, importNetwork, cyndex2Networks }\n","import { call, put, all, take, race } from 'redux-saga/effects';\n\nimport {\n  SET_AVAILABLE,\n  START_CYREST_POLLING,\n  STOP_CYREST_POLLING,\n} from '../actions/cyrest';\n\nimport * as cyrest from '../api/cyrest';\n\nfunction delay(duration) {\n  const promise = new Promise((resolve) => {\n    setTimeout(() => resolve(true), duration);\n  });\n  return promise;\n}\n\nexport function* _fetchCyRESTAvailable(action) {\n  // This is for avoiding too many unnecessary state updates.\n  let currentConnectionState = false;\n\n  while (true) {\n    try {\n      yield call(cyrest.status, 1234);\n\n      if (currentConnectionState !== true) {\n        yield put({ type: SET_AVAILABLE, payload: true });\n        currentConnectionState = true;\n      }\n    } catch (e) {\n      if (currentConnectionState === true) {\n        yield put({ type: SET_AVAILABLE, payload: false });\n        currentConnectionState = false;\n      }\n    }\n    yield call(delay, 10000);\n  }\n}\n\nexport function* _cyRestStatusSaga() {\n  while (true) {\n    const data = yield take(START_CYREST_POLLING);\n    yield race([call(_fetchCyRESTAvailable), take(STOP_CYREST_POLLING)]);\n  }\n}\n\nexport default function* root() {\n  yield all([_cyRestStatusSaga()]);\n}\n","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport logo from '../../../assets/images/cytoscape-logo.svg';\nimport logoDisabled from '../../../assets/images/cytoscape-logo-mono-light.svg';\nimport { withStyles } from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\n//import {fade} from \"./color-manipulator-util\"\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { _fetchCyRESTAvailable } from '../../../sagas/cyRestStatusSaga';\n\nimport MessageSnackbar from '../../AppShell/MessageSnackbar.jsx';\n\nconst BootstrapButton = withStyles({\n  root: {\n    marginLeft: '0.5em',\n    borderColor: '#EA9123',\n    '&:active': {\n      borderColor: '#EA9123',\n    },\n    '&:hover': {\n      backgroundColor: fade('#EA9123', 0.08),\n    },\n  },\n})(Button);\n\nconst styles = (theme) => ({\n  buttonIcon: {\n    height: '2em',\n  },\n  button: {\n    height: '3em',\n    width: '4.3em',\n    minWidth: '4.3em',\n  },\n});\n\nconst OpenInCytoscapeButton = (props) => {\n  useEffect(() => {\n    props.cyrestActions.startCyRestPolling();\n    return () => {\n      props.cyrestActions.stopCyRestPolling();\n    };\n  }, []);\n\n  const { classes } = props;\n\n  const disabled =\n    !(props.network.uuid && props.network.uuid.length > 0) ||\n    !props.cyrest.available;\n\n  const handleClick = () => {\n    props.handleImportNetwork();\n  };\n\n  //Snackbar\n  const isLoadingNetwork = props.cyrest.isLoadingNetwork;\n  const lastResponse = props.cyrest.lastResponse;\n\n  const [open, setOpen] = useState(false);\n  const [state, setState] = useState('dormant');\n  const [message, setMessage] = useState(null);\n  let cycleId = 0;\n\n  if (state === 'dormant' && isLoadingNetwork) {\n    setMessage('Opening network in Cytoscape Desktop . . .');\n    setState('openLoading');\n    if (!open) {\n      setOpen(true);\n    }\n  }\n  if (\n    (state === 'openLoading' || state === 'closeLoading') &&\n    lastResponse != null\n  ) {\n    setState('openResult');\n    if (lastResponse.type === 'IMPORT_NETWORK_SUCCEEDED') {\n      setMessage('Network opened in Cytoscape Desktop!');\n    } else {\n      setMessage('Network failed to open in Cytoscape Desktop');\n    }\n    if (!open) {\n      setOpen(true);\n    }\n  }\n  if (state === 'openResult' && !open) {\n    setOpen(true);\n  }\n  if (state === 'openResult' && open) {\n    const currentId = cycleId;\n    setTimeout(() => {\n      if (state === 'openResult' && currentId === cycleId) {\n        setState('dormant');\n        cycleId++;\n        setOpen(false);\n      }\n    }, 6000);\n  }\n\n  const handleClose = (event, reason) => {\n    if (state === 'openLoading') {\n      setState('closeLoading');\n    } else if (state === 'openResult') {\n      setState('dormant');\n      cycleId++;\n    }\n    setOpen(false);\n  };\n\n  return (\n    <React.Fragment>\n      <Tooltip\n        disableFocusListener\n        title={\n          disabled\n            ? 'Open Cytoscape Desktop to view this network'\n            : 'Open this network in Cytoscape Desktop'\n        }\n        placement='bottom'\n      >\n        <div>\n          <BootstrapButton\n            className={classes.button}\n            variant='outlined'\n            disabled={disabled}\n            onClick={handleClick}\n          >\n            <img\n              alt='Cytoscape logo'\n              src={disabled ? logoDisabled : logo}\n              className={classes.buttonIcon}\n            />\n          </BootstrapButton>\n        </div>\n      </Tooltip>\n      <MessageSnackbar\n        open={open}\n        setOpen={setOpen}\n        message={message}\n        setMessage={setMessage}\n        autoHideDuration={null}\n        horizontal={'right'}\n        vertical={'bottom'}\n        handleClose={handleClose}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(OpenInCytoscapeButton);\n","import React from 'react';\nimport './style.css';\n\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles } from '@material-ui/core';\n\nimport logo from '../../../assets/images/zoom-logo.svg';\nimport disabledLogo from '../../../assets/images/zoom-logo-mono.svg';\n\nconst styles = (theme) => ({\n  buttonIcon: {\n    height: '1.75em',\n  },\n});\n\nconst BootstrapButton = withStyles({\n  root: {\n    height: '3em',\n    width: '4.3em',\n    minWidth: '4.3em',\n    marginLeft: '0.5em',\n    borderColor: '#212121',\n    color: '#212121',\n    '&:active': {\n      borderColor: '#212121',\n      color: '#212121',\n    },\n  },\n})(Button);\n\nconst ResetZoomButton = (props) => {\n  const { classes } = props;\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0);\n\n  const handleClick = () => {\n    props.uiStateActions.fitNetworkView();\n  };\n\n  return (\n    <Tooltip title='Fit network to panel' placement='bottom'>\n      <div>\n        <BootstrapButton\n          variant='outlined'\n          disabled={disabled}\n          onClick={handleClick}\n        >\n          <img\n            alt='Zoom logo'\n            src={disabled ? disabledLogo : logo}\n            className={classes.buttonIcon}\n          />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default withStyles(styles)(ResetZoomButton);\n","import React from 'react';\nimport './style.css';\n\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { withStyles } from '@material-ui/core';\n\nimport logo from '../../../assets/images/zoom-logo.svg';\nimport disabledLogo from '../../../assets/images/zoom-logo-mono.svg';\n\nconst styles = (theme) => ({\n  buttonIcon: {\n    height: '1.75em',\n  },\n});\n\nconst BootstrapButton = withStyles({\n  root: {\n    height: '3em',\n    width: '4.3em',\n    minWidth: '4.3em',\n    marginLeft: '0.5em',\n    borderColor: '#212121',\n    color: '#212121',\n    '&:active': {\n      borderColor: '#212121',\n      color: '#212121',\n    },\n  },\n})(Button);\n\nconst ResetPathwayFigureZoomButton = (props) => {\n  const { classes } = props;\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0);\n\n  const handleClick = () => {\n    props.uiStateActions.setFitPathwayFigure(true);\n  };\n\n  return (\n    <Tooltip title='Fit figure to panel' placement='bottom'>\n      <div>\n        <BootstrapButton\n          variant='outlined'\n          disabled={disabled}\n          onClick={handleClick}\n        >\n          <img\n            alt='Zoom logo'\n            src={disabled ? disabledLogo : logo}\n            className={classes.buttonIcon}\n          />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default withStyles(styles)(ResetPathwayFigureZoomButton);\n","import React from 'react'\n\nimport HighlightIcon from '@material-ui/icons/WbIncandescent'\nimport Button from '@material-ui/core/Button'\nimport { withStyles } from '@material-ui/core'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst styles = theme => ({\n  buttonIcon: {\n    textAlign: 'center',\n    lignHeight: '50%',\n    position: 'relative',\n    top: '1px'\n  },\n  button: {\n    height: '3em',\n    width: '4.3em',\n    marginLeft: '0.5em'\n  }\n})\n\nconst Highlighter = props => {\n  const { classes } = props\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0)\n\n  let highlight = props.uiState.highlights\n\n  const handleChange = evt => {\n    if (props.network.uuid && props.network.uuid.length > 0) {\n      highlight = !highlight\n      props.uiStateActions.setHighlights(highlight)\n    }\n  }\n\n  return (\n    <Tooltip title=\"Highlight genes\" placement=\"bottom\">\n      <div>\n        <Button\n          className={classes.button}\n          variant=\"outlined\"\n          color={highlight ? 'secondary' : 'default'}\n          onClick={handleChange}\n          disabled={disabled}\n        >\n          <HighlightIcon\n            className={classes.buttonIcon}\n            color={highlight && !disabled ? 'secondary' : 'disabled'}\n          />\n        </Button>\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default withStyles(styles)(Highlighter)\n","import React from 'react'\nimport './style.css'\n\nimport Button from '@material-ui/core/Button'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { withStyles } from '@material-ui/core'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst styles = theme => ({\n  buttonIcon: {\n    padding: 0,\n    margin: 0,\n    paddingBottom: '0.1em'\n  },\n  button: {\n    height: '3em',\n    width: '4.3em',\n    minWidth: '4.3em',\n    marginLeft: '0.5em'\n  }\n})\n\nconst BootstrapButton = withStyles({\n  root: {\n    width: '4.3em',\n    borderColor: '#212121',\n    color: '#212121',\n    '&:active': {\n      borderColor: '#212121',\n      color: '#212121'\n    }\n  }\n})(Button)\n\nconst SaveToNDExButton = props => {\n  const { classes } = props\n\n  const handleImportNetwork = () => {\n\n  //checking if user has logged in already\n  let loggedInUserRaw = window.localStorage.getItem('loggedInUser');\n  if (loggedInUserRaw){\n    let loggedInUser = JSON.parse(loggedInUserRaw);\n    if (loggedInUser !== null){\n      let lProfile = {};\n      lProfile.name = loggedInUser.firstName;\n      lProfile.image = loggedInUser.image;\n      lProfile.authorization = {};\n      lProfile.authorization.type = \"ndex\";\n      lProfile.authorization.token = 'Basic ' + window.btoa(loggedInUser.userName + ':' + loggedInUser.token);\n      props.ndexSaveActions.setProfile(lProfile);\n    }\n  }\n    props.ndexSaveActions.setNDExModalOpen(true)\n  }\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0)\n\n  return (\n    <Tooltip title=\"Save this network to your NDEx account\" placement=\"bottom\">\n      <div>\n        <BootstrapButton\n          className={classes.button}\n          variant=\"outlined\"\n          disabled={disabled}\n          onClick={handleImportNetwork}\n        >\n          <SaveIcon\n            color={disabled ? 'disabled' : 'inherit'}\n            fontSize=\"large\"\n            className={classes.buttonIcon}\n          />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default withStyles(styles)(SaveToNDExButton)\n\n/*\n            color={disabled ? 'disabled' : 'inherit'}\n            className={classes.buttonIcon}\n            */\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { DialogContentText, DialogActions, Button } from '@material-ui/core';\n\nimport './style.css';\n\nconst styles = (theme) => ({\n  button: {\n    'text-transform': 'none',\n  },\n});\n\nclass NDExSave extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      networkUrl: '',\n    };\n  }\n\n  saveToNDEx = (cx, token) => {\n    this.props.ndexSaveActions.saveToNDEx({ cx: cx, token: token });\n  };\n\n  handleClose = () => {\n    this.props.ndexSaveActions.setNDExModalOpen(false);\n  };\n\n  render() {\n    const { classes, ndexSave, network } = this.props;\n    const token = ndexSave.profile\n      ? ndexSave.profile.authorization.token\n      : null;\n    const cx = network.originalCX;\n\n    const networkUrl = ndexSave.networkUrl;\n\n    return ndexSave && ndexSave.profile ? (\n      <div className='ndex-save'>\n        <DialogContentText>\n          Now that you're logged in, you can save the network to your NDEx\n          account\n        </DialogContentText>\n        <DialogActions>\n          {networkUrl ? (\n            <Button\n              href={networkUrl}\n              className={classes.button}\n              target='_blank'\n            >\n              OPEN IN NDEx\n            </Button>\n          ) : (\n            <Button\n              onClick={() => {\n                this.saveToNDEx(cx, token);\n              }}\n            >\n              Save to my account\n            </Button>\n          )}\n        </DialogActions>\n      </div>\n    ) : null;\n  }\n}\n\nexport default withStyles(styles)(NDExSave);\n","import React from 'react'\nimport Draggable from 'react-draggable'\nimport DialogContentText from '@material-ui/core/DialogContentText'\n\nimport {\n  DialogContent,\n  Dialog,\n  DialogTitle,\n  Button,\n  Grid,\n  Paper,\n  TextField,\n  FormControl,\n  Typography,\n  Avatar\n} from '@material-ui/core'\n\nimport GoogleLogin from 'react-google-login'\nimport GoogleLogo from './assets/images/google-logo.svg'\nimport GoogleLogoDisabled from './assets/images/google-logo-disabled.svg'\n\nimport NDExSave from '../NDExSave'\n\nimport './style.css'\nimport { GOOGLE_CLIENT_ID } from '../../api/config'\nimport { mdiWindowClose } from '@mdi/js'\n\nconst PaperComponent = props => {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  )\n}\n\nclass GoogleSignOn extends React.Component {\n  onFailure = err => {\n    const message =\n      (err.details &&\n        err.details.startsWith(\n          'Not a valid origin for the client: http://localhost:'\n        )) ||\n      (err.error && err['error']) ||\n      JSON.stringify(err)\n    this.props.onError(message, false)\n  }\n\n  render() {\n    const { googleSSO, onSuccess } = this.props\n\n    const clsName = googleSSO\n      ? 'google-sign-in-button'\n      : 'google-sign-in-button googleButtonDisabled'\n    const title = googleSSO\n      ? 'Sign in with your Google account'\n      : \"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.\" +\n        'To use the Google Sign In feature you can do one of two things:' +\n        \"1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or\" +\n        \"2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.\"\n    const logo = googleSSO ? GoogleLogo : GoogleLogoDisabled\n\n    return (\n      <div className=\"google-button\">\n        <GoogleLogin\n          clientId={GOOGLE_CLIENT_ID}\n          render={renderProps => (\n            <Button\n              id=\"googleSignInButtonId\"\n              disabled={!googleSSO}\n              className={clsName}\n              title={title}\n              onClick={renderProps.onClick}\n            >\n              <span className=\"google-sign-in-button-span\">\n                <img src={logo} alt=\"\" className=\"googleLogo\" />\n                <div className=\"googleSignInText\">Sign in with Google</div>\n              </span>\n            </Button>\n          )}\n          buttonText=\"Login\"\n          onSuccess={onSuccess}\n          onFailure={this.onFailure}\n        />\n      </div>\n    )\n  }\n}\n\nclass CredentialsSignOn extends React.Component {\n  render() {\n    const { error, handleCredentialsSignOn } = this.props\n\n    const button_cls = error ? 'btn btn-primary disabled' : 'btn btn-primary'\n\n    return (\n      <form name=\"basicAuthSignIn\" onSubmit={handleCredentialsSignOn}>\n        <FormControl className=\"form-control\">\n          <TextField\n            name=\"accountName\"\n            type=\"text\"\n            placeholder=\"Account Name\"\n            required\n            title=\"\"\n            autoComplete=\"username\"\n          />\n        </FormControl>\n        <FormControl className=\"form-control\">\n          <TextField\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n            title=\"\"\n            autoComplete=\"password\"\n          />\n        </FormControl>\n\n        <div className=\"ndex-account-links\">\n          {/* <div>\n                        <a href=\"/\"\n                        >Forgot Password?</a>\n                    </div> */}\n          <div>\n            <span>Need an account? </span>\n            <a\n              href=\"/\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Click here to sign up!\n            </a>\n          </div>\n        </div>\n\n        {error && (\n          <div className=\"text-danger\">\n            <br />\n            <strong>\n              <span\n              // style=\"font-size: 1.1em\"\n              >\n                {error}\n              </span>\n            </strong>\n          </div>\n        )}\n\n        <div className=\"credentials-button-container\">\n          {this.props.handleClose && (\n            <Button\n              className=\"btn btn-default\"\n              variant=\"contained\"\n              onClick={this.props.handleClose}\n              type=\"button\"\n              style={{ margin: '1em' }}\n            >\n              Cancel\n            </Button>\n          )}\n\n          <Button\n            className={button_cls}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            Sign In\n          </Button>\n        </div>\n      </form>\n    )\n  }\n}\n\nexport class NDExSignIn extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      googleSSO: true\n    }\n  }\n\n  onError = (error, googleSSO) => {\n    this.props.handleError(error)\n    this.setState({ googleSSO })\n  }\n\n  render() {\n    const { googleSSO } = this.state\n\n    const {\n      handleClose,\n      onLoginSuccess,\n      onSuccess,\n      handleCredentialsSignOn,\n      handleError,\n      error\n    } = this.props\n\n    return (\n      <div>\n        <DialogTitle id=\"form-dialog-title\">\n          Sign in to your NDEx Account\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText component=\"div\">\n            <div className=\"NDExSignInContainer\">\n              <Grid container spacing={5}>\n                <Grid item xs={6} className=\"grid\">\n                  <Paper className=\"grid-paper\">\n                    <div className=\"grid-content\">\n                      <GoogleSignOn\n                        onError={this.onError}\n                        googleSSO={googleSSO}\n                        onLoginSuccess={onLoginSuccess}\n                        onSuccess={onSuccess}\n                      />\n                    </div>\n                  </Paper>\n                </Grid>\n                <Grid item xs={6} className=\"grid\">\n                  <Paper className=\"grid-paper\">\n                    <div className=\"grid-content\">\n                      <CredentialsSignOn\n                        onLoginSuccess={onLoginSuccess}\n                        handleClose={handleClose}\n                        handleCredentialsSignOn={handleCredentialsSignOn}\n                        handleError={handleError}\n                        error={error}\n                      />\n                    </div>\n                  </Paper>\n                </Grid>\n              </Grid>\n            </div>\n          </DialogContentText>\n\n          {/*error && (\n            <div className=\"sign-in-error\">\n              <p>{error}</p>\n            </div>\n          )*/}\n        </DialogContent>\n      </div>\n    )\n  }\n}\n\nclass NDExSignInModal extends React.Component {\n  onLoginSuccess = () => {}\n\n  onLogout = () => {\n    this.props.ndexSaveActions.setProfile(null);\n    // remove credentials from local storage\n    window.localStorage.removeItem('loggedInUser');\n    //this.handleClose()\n  }\n\n  handleClose = () => {\n    this.props.ndexSaveActions.setNDExModalOpen(false)\n  }\n\n  handleCredentialsSignOn = event => {\n    event.preventDefault()\n    this.props.ndexSaveActions.credentialsSignOn(event)\n  }\n\n  handleOnSuccess = resp => {\n    this.props.ndexSaveActions.googleSignOn(resp)\n  }\n\n  handleError = error => {\n    this.props.ndexSaveActions.setErrorMessage(error)\n  }\n\n  render() {\n    const { ...props } = this.props\n    const onLogout = this.onLogout\n    const onLoginSuccess = this.onLoginSuccess\n    const handleClose = this.handleClose\n    const handleCredentialsSignOn = this.handleCredentialsSignOn\n    const handleOnSuccess = this.handleOnSuccess\n    const handleError = this.handleError\n    return (\n      <div>\n        <Dialog\n          className=\"sign-in-container\"\n          open={this.props.ndexSave.ndexModal}\n          onClose={handleClose}\n          aria-labelledby=\"form-dialog-title\"\n          PaperComponent={PaperComponent}\n          scroll=\"body\"\n        >\n          {this.props.ndexSave.profile ? (\n            <div className=\"sign-in-header\">\n              <Avatar\n                className=\"ndex-account-avatar\"\n                src={this.props.ndexSave.profile.image}\n              >\n                U\n              </Avatar>\n              <Typography variant=\"h4\" className=\"ndex-account-greeting\">\n                Hi, {this.props.ndexSave.profile.name}\n              </Typography>\n              <Button onClick={onLogout}>Logout</Button>\n            </div>\n          ) : (\n            <NDExSignIn\n              handleClose={handleClose}\n              onLoginSuccess={onLoginSuccess}\n              onLogout={onLogout}\n              handleCredentialsSignOn={handleCredentialsSignOn}\n              onSuccess={handleOnSuccess}\n              handleError={handleError}\n              error={this.props.ndexSave.errorMessage}\n            />\n          )}\n          <NDExSave {...props} />\n        </Dialog>\n      </div>\n    )\n  }\n}\n\nexport default NDExSignInModal\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport { withStyles } from '@material-ui/core';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport logo from '../../../assets/images/ndex-logo.svg';\nimport logoDisabled from '../../../assets/images/ndex-logo-mono-light.svg';\n\n\nconst styles = (theme) => ({\n  buttonIcon: {\n    height: '2em',\n  },\n  button: {\n    height: '3em',\n    width: '4.3em',\n    minWidth: '4.3em',\n    marginLeft: '0.5em',\n    color: '#4DA1DE',\n  },\n});\n\n/**\n * Simply open the parent network\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst OpenOriginalNetworkButton = (props) => {\n  const { classes } = props;\n\n  const handleOpen = () => {\n    let url = 'viewer/networks/' + props.network.uuid;\n    console.log('Opening original network entry:', url);\n    window.open(url, '_blank');\n  };\n\n  const disabled = !(props.network.uuid && props.network.uuid.length > 0);\n\n  const BootstrapButton = withStyles({\n    root: {\n      width: '4.3em',\n      borderColor: '#4DA1DE',\n      color: '#4DA1DE',\n      '&:active': {\n        borderColor: '#4DA1DE',\n        color: '#4DA1DE',\n      },\n      '&:hover': {\n        backgroundColor: fade('#4DA1DE', 0.08),\n      },\n    },\n  })(Button);\n\n  return (\n    <Tooltip\n      disableFocusListener\n      title='View source network in NDEx'\n      placement='bottom'\n    >\n      <div>\n        <BootstrapButton\n          className={classes.button}\n          variant='outlined'\n          disabled={disabled}\n          onClick={() => handleOpen()}\n        >\n          <img\n            alt='NDEx logo'\n            src={disabled ? logoDisabled : logo}\n            className={classes.buttonIcon}\n          />\n        </BootstrapButton>\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default withStyles(styles)(OpenOriginalNetworkButton);\n","import React, { useEffect } from 'react'\n\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\nimport { fade } from '@material-ui/core/styles/colorManipulator'\n\nconst formControl = {\n  height: '3em',\n  paddingTop: '0.8em',\n  marginLeft: '0.3em'\n}\n\nconst styles = theme => ({\n  input: {\n    padding: '8px 26px 8px 12px',\n    backgroundColor: 'rgba(0, 0, 0, 0)',\n    borderRadius: 4,\n    '&:focus': {\n      backgroundColor: 'rgba(0, 0, 0, 0)',\n      borderRadius: 4\n    },\n    '&:hover': {\n      backgroundColor: fade('rgb(65, 84, 178)', 0.08)\n    }\n  },\n  root: {\n    borderColor: '#ced4da',\n    '& $notchedOutline': {\n      borderColor: 'rgb(65, 84, 178)'\n    },\n    '&:hover $notchedOutline': {\n      borderColor: 'rgb(65, 84, 178)'\n    },\n    '&$focused $notchedOutline': {\n      borderColor: 'rgb(65, 84, 178)',\n      borderWidth: '1px'\n    }\n  },\n  focused: {},\n  notchedOutline: {}\n})\n\nconst LayoutSelector = props => {\n  const { classes } = props\n  const menuItems = props.uiState.layouts\n  const inputLabel = React.useRef(null)\n  const [labelWidth, setLabelWidth] = React.useState(0)\n\n  useEffect(() => {\n    setLabelWidth(inputLabel.current.offsetWidth)\n  }, [])\n\n  return (\n    <div style={formControl}>\n      <FormControl variant=\"outlined\">\n        <InputLabel ref={inputLabel} htmlFor=\"outlined\">\n          <font color=\"#4154b2\">Layout</font>\n        </InputLabel>\n        <Select\n          value={props.value}\n          onChange={props.handleChange}\n          input={\n            <OutlinedInput\n              labelWidth={labelWidth}\n              name=\"layout\"\n              id=\"outlined-layout\"\n              classes={classes}\n            />\n          }\n        >\n          {menuItems\n            ? menuItems.map(item => (\n                <MenuItem value={item} key={item}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    {item}\n                  </Typography>\n                </MenuItem>\n              ))\n            : null}\n        </Select>\n      </FormControl>\n    </div>\n  )\n}\n\nexport default withStyles(styles)(LayoutSelector)\n","import './style.css';\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Typography from '@material-ui/core/Typography';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { withStyles } from '@material-ui/core/styles';\nimport { Tooltip } from '@material-ui/core';\nimport Tabs from '@material-ui/core/Tabs';\nimport HoverTab from '../HoverTab';\n\nimport OpenInCytoscapeButton from './OpenInCytoscapeButton';\nimport ResetZoomButton from './ResetZoomButton';\nimport ResetPathwayFigureZoomButton from './ResetPathwayFigureZoomButton';\nimport Highlighter from './Highlighter';\nimport SaveToNDExButton from './SaveToNDExButton';\nimport NDExSignInModal from '../../NDExSignInModal';\nimport NDExSave from '../../NDExSave';\nimport OpenOriginalNetworkButton from './OpenOriginalNetworkButton';\nimport LayoutSelector from './LayoutSelector';\nimport { camelCaseToTitleCase } from '../TableBrowser/camel-case-util';\nimport { findAttributes } from '../TableBrowser/attribute-util';\n\nconst styles = (theme) => ({\n  toolbar: {\n    background: '#EFEFEF',\n    height: '4em',\n    paddingTop: '0',\n    paddingBottom: '0',\n    paddingLeft: '0.5em',\n    paddingRight: '0.5em',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    width: theme.spacing(9),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n    width: '100%',\n  },\n  inputInput: {\n    paddingTop: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    paddingLeft: theme.spacing(10),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 120,\n      '&:focus': {\n        width: 200,\n      },\n    },\n  },\n  buttonIcon: {\n    height: '2.5em',\n    paddingLeft: '0.5em',\n  },\n  buttons: {\n    padding: '0.3em',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    border: 'solid 1px #999999',\n  },\n  openIcon: {\n    marginRight: '0.5em',\n  },\n});\n\nconst NetworkToolbar = (props) => {\n  const { classes, ...other } = props;\n\n  let [prefix, name] = ['', ''];\n\n  if (props.search.actualResults.length !== 0) {\n    [prefix, name] = props.network.networkName.replace(':', '&').split('&');\n  }\n\n  const [layout, setLayout] = useState(props.uiState.layout);\n\n  //Check if pathway figure is valid\n  const [tab, setTab] = useState(props.uiState.pathwayFigure ? 0 : 1);\n  useEffect(() => {\n    props.uiStateActions.setPathwayFigureSource('loading');\n    if (tab === 0) {\n      const { originalCX } = props.network;\n      if (originalCX !== null) {\n        const networkAttr = findAttributes(originalCX, 'networkAttributes');\n        let figureSource;\n        for (let attr of networkAttr) {\n          if (attr['n'] === '__NetworkImage') {\n            figureSource = attr['v'];\n            break;\n          }\n        }\n        if (figureSource == null) {\n          //props.uiStateActions.setPathwayFigureSource(null);\n          handleTabChange(null, 1);\n        } else {\n          //Check if image is valid\n          const request = new XMLHttpRequest();\n          request.open('HEAD', figureSource, true);\n          request.send();\n          request.onreadystatechange = function() {\n            if (\n              request.status === 0 ||\n              (request.status >= 200 && request.status < 400)\n            ) {\n              props.uiStateActions.setPathwayFigureSource(figureSource);\n            } else {\n              props.uiStateActions.setPathwayFigureSource(null);\n              handleTabChange(null, 1);\n            }\n          };\n        }\n      }\n    }\n  }, [props.network.originalCX]);\n\n  const handleLayoutChange = (event) => {\n    setLayout(event.target.value);\n    props.uiStateActions.setLayout(event.target.value);\n  };\n\n  const handleTabChange = (event, newValue) => {\n    if (newValue !== tab) {\n      setTab(newValue);\n      if (newValue === 0) {\n        props.uiStateActions.setPathwayFigure(true);\n      } else {\n        props.uiStateActions.setPathwayFigure(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (props.uiState.pathwayFigure) {\n      setTab(0);\n    } else {\n      setTab(1);\n    }\n  }, [props.uiState.pathwayFigure]);\n\n  useEffect(() => {\n    setLayout(props.uiState.layout);\n  }, [props.uiState.layout]);\n\n  return (\n    <>\n      <div>\n        <div className={classes.toolbar}>\n          <Tooltip\n            title={\n              name\n                ? camelCaseToTitleCase(prefix) + ':' + name\n                : props.network.networkName\n            }\n          >\n            <Typography\n              className={classes.title}\n              variant='subtitle1'\n              color='inherit'\n              noWrap\n            >\n              {name\n                ? camelCaseToTitleCase(prefix) + ':' + name\n                : props.network.networkName}\n            </Typography>\n          </Tooltip>\n\n          <div className={classes.grow} />\n          {props.uiState.selectedSource !== 'pathwayfigures' ||\n          props.uiState.pathwayFigure === false ? (\n            <>\n              <LayoutSelector\n                value={layout}\n                handleChange={handleLayoutChange}\n                {...other}\n              />\n              <ResetZoomButton {...other} />\n              <Highlighter {...other} />\n            </>\n          ) : (\n            <ResetPathwayFigureZoomButton {...other} />\n          )}\n\n          <NDExSignInModal {...other}>\n            <NDExSave {...other} />\n          </NDExSignInModal>\n          <OpenOriginalNetworkButton {...other} />\n          <OpenInCytoscapeButton {...other} />\n          <SaveToNDExButton {...other} />\n        </div>\n        <div>\n          {props.uiState.selectedSource === 'pathwayfigures' ? (\n            <Tabs\n              value={tab}\n              onChange={handleTabChange}\n              className={classes.root}\n              style={{ minHeight: 0 }}\n            >\n              <HoverTab\n                key='pathway-figure-tab'\n                label='Figure'\n                minheight={0}\n                height='2.5em'\n              />\n              <HoverTab\n                key='network-tab'\n                label='Gene List'\n                minheight={0}\n                height='2.5em'\n              />\n            </Tabs>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n};\n\nNetworkToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(NetworkToolbar);\n","import React, { useState } from 'react';\nimport './style.css';\nimport Split from 'react-split';\n\nimport NetworkViewer from './NetworkViewer';\nimport MemoTableBrowser from '../TableBrowser';\nimport NetworkToolbar from './NetworkToolbar';\n\nconst DEFAULT_RATIO = [50, 50];\n\n/**\n * Top page for the application\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst NetworkView = (props) => {\n  const [resized, setResize] = useState(null);\n\n  const handleResizeEnd = (e) => {\n    setResize(e);\n  };\n\n  return (\n    <div className={'network-view-top'}>\n      <NetworkToolbar {...props} />\n      <Split\n        sizes={DEFAULT_RATIO}\n        direction='vertical'\n        gutterSize={7}\n        className={'nv-container'}\n        onDragEnd={handleResizeEnd}\n        style={\n          props.uiState.selectedSource === 'pathwayfigures'\n            ? { top: '6.5em' }\n            : null\n        }\n      >\n        <NetworkViewer resized={resized} {...props} />\n        <MemoTableBrowser {...props} />\n      </Split>\n    </div>\n  );\n};\n\nexport default NetworkView;\n","import React, { useState } from 'react'\n\nimport InfoIcon from '@material-ui/icons/Info'\nimport IconButton from '@material-ui/core/IconButton'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Paper from '@material-ui/core/Paper'\nimport Draggable from 'react-draggable'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\n\nconst infoStyle = {\n  position: 'relative',\n  left: '0.5em',\n  top: '6px',\n  height: '0.5em',\n  width: '0.5em'\n}\n\nconst iconStyle = {\n  height: '0.7em',\n  width: '0.7em',\n  position: 'relative',\n  bottom: '2px',\n  color: '#3576BE'\n}\n\nconst PaperComponent = props => {\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  )\n}\n\nconst InfoModal = props => {\n  const [open, setOpen] = useState(false)\n\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  return (\n    <React.Fragment>\n      <IconButton aria-haspopup=\"true\" onClick={handleOpen} style={infoStyle}>\n        <InfoIcon style={iconStyle} />\n      </IconButton>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        PaperComponent={PaperComponent}\n        aria-labelledby=\"draggable-dialog-title\"\n      >\n        <DialogTitle style={{ cursor: 'move' }} id=\"draggable-dialog-title\">\n          <Typography component=\"span\" variant=\"h6\">\n            Sorting\n          </Typography>\n        </DialogTitle>\n        <DialogContent dividers={true}>\n          <DialogContentText component=\"span\">\n            <Typography component=\"div\" variant=\"h6\" color=\"textPrimary\">\n              Overlap:\n            </Typography>\n            <Typography component=\"div\" variant=\"body2\">\n              This refers to the number of genes that are in both the query set\n              and the network. When sorting by overlap, networks with a high\n              number of overlapping genes are at the top of the list, and\n              networks with a low number of overlapping genes are at the bottom\n              of the list.{' '}\n              <Typography\n                component=\"span\"\n                variant=\"inherit\"\n                color=\"textPrimary\"\n              >\n                <strong>Sorting is stable</strong>\n              </Typography>\n              , so sorting by <em>p</em>-value and then by overlap will result\n              in a list where networks are sorted by overlap, and networks that\n              are tied for overlap are sorted by <em>p</em>-value.\n            </Typography>\n            <br />\n            <Typography component=\"div\" variant=\"h6\" color=\"textPrimary\">\n              <em>P</em>-Value:\n            </Typography>\n            <Typography component=\"div\" variant=\"body2\">\n              This refers to the probability that the query set and the network\n              overlap, to the extent that they do or to a greater extent, by\n              chance. Here, it is calculated using the complementary cumulative\n              distribution function of a{' '}\n              <a\n                href=\"https://en.wikipedia.org/wiki/Hypergeometric_distribution\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                hypergeometric distribution\n              </a>\n              , where:\n              <ul>\n                <li>\n                  The population size (<em>N</em>) is equal to the number of\n                  genes in the entire database;\n                </li>\n                <li>\n                  The number of success states in the population (<em>K</em>) is\n                  equal to the number of genes in the network;\n                </li>\n                <li>\n                  The sample size (<em>n</em>) is equal to the size of the\n                  network; and\n                </li>\n                <li>\n                  The number of observed successes (<em>k</em>) is equal to the\n                  number of genes that are in both the query set and the\n                  network.\n                </li>\n              </ul>\n              Then the <em>p</em>-values are adjusted to compensate for the high\n              false discovery rate that is an effect of querying a large\n              database of networks. This is done using the{' '}\n              <a\n                href=\"http://www.jstor.org/stable/2346101\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Benjamini-Hochberg method\n              </a>\n              , where each <em>p</em>-value is multiplied by the number of\n              networks queried, and then divided by its rank relative to other{' '}\n              <em>p</em>-values (where low <em>p</em>-values have a low rank and\n              vice versa). When sorting by <em>p</em>-value, networks with a low{' '}\n              <em>p</em>-value are at the top of the list, and networks with a\n              high <em>p</em>-value are at the bottom of the list.{' '}\n              <a\n                href=\"https://github.com/ndexbio/ndex-enrichment-rest/wiki/How-Pvalue-is-calculated\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                For implementation details, click here\n              </a>\n              .\n            </Typography>\n            <br />\n            <Typography component=\"div\" variant=\"h6\" color=\"textPrimary\">\n              Similarity:\n            </Typography>\n            <Typography component=\"div\" variant=\"body2\">\n              This is a way of scoring the similarity between the query set and\n              the genes in the network, while taking into account that some\n              genes are much more universal than other genes, and will appear in\n              many more networks without adding much information. This is based\n              on cosine similarity, using values derived from the{' '}\n              <a\n                href=\"https://ethen8181.github.io/machine-learning/clustering_old/tf_idf/tf_idf.html\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Term Frequency-Inverse Document Frequency\n              </a>{' '}\n              of each gene in the query set and the network. Rare genes that are\n              shared between the query set and network will contribute more to\n              the similarity score than common genes, resulting in a higher\n              similarity score. When sorting by similarity, networks that have\n              high similarity are at the top of the list, and networks that have\n              low similarity are at the bottom of the list.{' '}\n            </Typography>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Close</Button>\n        </DialogActions>\n      </Dialog>\n    </React.Fragment>\n  )\n}\n\nexport default InfoModal\n","import React, { useState } from 'react'\n\nimport InfoModal from './InfoModal'\n\nimport { withStyles } from '@material-ui/styles'\nimport Typography from '@material-ui/core/Typography'\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport InputBase from '@material-ui/core/InputBase'\n\nconst BootstrapInput = withStyles(theme => ({\n  root: {\n    'label + &': {\n      marginTop: '0'\n    }\n  },\n  input: {\n    borderRadius: 4,\n    position: 'relative',\n    backgroundColor: '#FFFFFF',\n    border: '1px solid #ced4da',\n    textColor: '#757575',\n    padding: '5px 26px 5px 12px',\n    '&:focus': {\n      borderRadius: 4,\n      backgroundColor: '#FFFFFF'\n    }\n  }\n}))(InputBase)\n\nconst formStyle = {\n  position: 'relative',\n  left: '11px',\n  marginTop: '8px',\n  marginBottom: '8px'\n}\n\nconst divStyle = {\n  paddingLeft: '16px',\n  borderBottom: '1px solid rgba(239, 239, 239, 1)',\n  display: 'inline-block',\n  width: '100%'\n}\n\nconst textStyle = {\n  position: 'relative',\n  top: '8px'\n}\n\nconst selectStyle = {\n  color: 'secondary'\n}\n\nconst SortPanel = props => {\n  const [sortBy, setSortBy] = useState(props.uiState.sortBy)\n  const menuItems = props.uiState.sortOptions\n\n  const handleChange = event => {\n    props.uiStateActions.setSortBy(event.target.value)\n    setSortBy(event.target.value)\n  }\n\n  if (props.uiState.selectedSource === 'enrichment') {\n    return (\n      <React.Fragment>\n        <div style={divStyle}>\n          <Typography\n            variant=\"body2\"\n            display=\"inline\"\n            color=\"textSecondary\"\n            style={textStyle}\n          >\n            Sort by\n          </Typography>\n          <FormControl style={formStyle}>\n            <Select\n              value={sortBy}\n              onChange={handleChange}\n              displayEmpty\n              name=\"Sort by\"\n              style={selectStyle}\n              input={<BootstrapInput name=\"sort\" id=\"sort-customized-select\" />}\n            >\n              {menuItems.map(item => (\n                <MenuItem value={item} key={item}>\n                  <Typography variant=\"body2\" color=\"textSecondary\">\n                    {item}\n                  </Typography>\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          <InfoModal />\n        </div>\n      </React.Fragment>\n    )\n  } else {\n    return null\n  }\n}\n\nexport default SortPanel\n","import React, { useEffect } from 'react';\n\nimport { withStyles } from '@material-ui/core/styles';\n\nimport MenuList from '@material-ui/core/MenuList';\nimport Typography from '@material-ui/core/Typography';\n\nimport SortPanel from './SortPanel';\n\nimport './style.css';\n\nimport { cloneDeep } from 'lodash';\n\nconst styles = (theme) => ({\n  inline: {\n    display: 'inline',\n  },\n  subtitle: {\n    marginLeft: '1em',\n    marginTop: '0.5em',\n  },\n  networkAvatar: {\n    margin: 5,\n    color: '#fff',\n    backgroundColor: '#FAFAFA',\n  },\n  menuItem: {\n    '&:focus': {\n      backgroundColor: 'rgba(230,230,230,0.6)',\n    },\n  },\n  menuText: {\n    '&:focus': {},\n  },\n  secondary: {\n    width: '15em',\n    display: 'flex',\n    alignItems: 'center',\n    padding: '0.2em',\n  },\n  plot: {\n    width: '80%',\n    background: 'teal',\n  },\n  noPadding: {\n    paddingTop: '0',\n    paddingBottom: '0',\n  },\n  center: {\n    justifyContent: 'center',\n    position: 'relative',\n    top: '25%',\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n  },\n});\n\nconst findSort = (sortBy) => {\n  if (sortBy === 'p-Value') {\n    return (a, b) => {\n      if (a.details.PValue > b.details.PValue) {\n        return 1;\n      } else if (a.details.PValue < b.details.PValue) {\n        return -1;\n      } else {\n        if (a.rank > b.rank) {\n          return 1;\n        } else {\n          return -1;\n        }\n      }\n    };\n  } else if (sortBy === 'Similarity') {\n    return (a, b) => {\n      if (a.details.similarity < b.details.similarity) {\n        return 1;\n      } else if (a.details.similarity > b.details.similarity) {\n        return -1;\n      } else {\n        if (a.rank > b.rank) {\n          return 1;\n        } else {\n          return -1;\n        }\n      }\n    };\n  } else {\n    return (a, b) => {\n      if (a.hitGenes.length < b.hitGenes.length) {\n        return 1;\n      } else if (a.hitGenes.length > b.hitGenes.length) {\n        return -1;\n      } else {\n        if (a.rank > b.rank) {\n          return 1;\n        } else {\n          return -1;\n        }\n      }\n    };\n  }\n};\n\nconst NetworkList = (props) => {\n  let hits = props.hits;\n\n  const openFirst = (first) => {\n    if (first != null) {\n      props.handleFetch(\n        first.networkUUID,\n        first.description,\n        first.nodes,\n        first.edges,\n        first.hitGenes\n      );\n      if (first.url != null) {\n        props.networkActions.setOriginalNetworkUrl('https://' + first.url);\n      }\n    } else {\n      props.networkActions.networkClear();\n    }\n  };\n\n  //Adjust p-values\n  useEffect(() => {\n    if (\n      props.uiState.selectedSource === 'enrichment' &&\n      hits != null &&\n      hits[0] != null\n    ) {\n      hits.sort(findSort('p-Value'));\n      const networkCount = hits[0].details.totalNetworkCount;\n      for (let i = 0; i < hits.length; i++) {\n        hits[i].details.PValue =\n          (hits[i].details.PValue * networkCount) / (i + 1);\n      }\n    }\n  }, [hits]);\n\n  //Sort hits\n  useEffect(() => {\n    if (hits !== null) {\n      const firstHit = cloneDeep(hits[0]);\n      if (props.uiState.selectedSource === 'enrichment') {\n        const sortFunction = findSort(props.uiState.sortBy);\n\n        //Allow stable sorting\n        for (let i = 0; i < hits.length; i++) {\n          hits[i].rank = i;\n        }\n\n        hits = hits.sort(sortFunction);\n      }\n      //Check if you need to rerender first hit\n      let opened = false;\n      if (props.search.actualResults.length === 0) {\n        opened = true;\n        props.searchActions.setActualResults(hits);\n        openFirst(hits[0]);\n        props.networkActions.changeListIndex(1);\n      } else {\n        props.searchActions.setActualResults(hits);\n      }\n\n      if (\n        !opened &&\n        (props.network.listIndex !== 1 ||\n          firstHit.description !== hits[0].description)\n      ) {\n        openFirst(hits[0]);\n        props.networkActions.changeListIndex(1);\n      }\n    }\n  }, [props.uiState.sortBy, props.uiState.selectedSource]);\n\n  if (!hits || props.search.actualResults.length === 0) {\n    return (\n      <div className='network-list-wrapper'>\n        <div className='network-list'>\n          <Typography\n            variant={'subtitle1'}\n            color={'textSecondary'}\n            className={props.classes.center}\n          >\n            No results found\n          </Typography>\n        </div>\n      </div>\n    );\n  }\n\n  let index = 1;\n\n  function handleListItemClick(event, index) {\n    props.networkActions.changeListIndex(index);\n    props.uiStateActions.setPathwayFigure(true);\n  }\n\n  const selectedIndex = props.network.listIndex;\n\n  let enrichmentStyle;\n  if (props.uiState.selectedSource === 'enrichment') {\n    enrichmentStyle = {\n      height: 'calc(100% - 49px)',\n    };\n  } else {\n    enrichmentStyle = {};\n  }\n\n  return (\n    <div className='network-list-wrapper'>\n      <SortPanel {...props} />\n      <div className='network-list' style={enrichmentStyle}>\n        <MenuList className={props.classes.noPadding}>\n          {props.search.actualResults.map((entry) =>\n            props.renderNetworkListItem(\n              props.search.queryList.length,\n              entry,\n              props.classes,\n              handleListItemClick,\n              selectedIndex,\n              index++\n            )\n          )}\n        </MenuList>\n      </div>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(NetworkList);\n","import React from 'react';\nimport './style.css';\n\nimport Split from 'react-split';\n\nimport NetworkView from './NetworkView';\nimport NetworkList from './NetworkList';\n\nimport { camelCaseToTitleCase } from '../TableBrowser/camel-case-util';\n\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Typography from '@material-ui/core/Typography';\nimport { ListItem } from '@material-ui/core';\n\nconst titleStyle = {\n  lineHeight: '22px',\n  wordBreak: 'break-word',\n};\n\nconst subtitleStyle = {\n  height: '22px',\n  lineHeight: '22px',\n  wordBreak: 'break-word',\n};\n\nconst infoStyle = {\n  display: 'block',\n  height: '22px',\n  margin: '0',\n  padding: '0',\n};\n\nconst edgeStyle = {\n  display: 'block',\n  height: '22px',\n  margin: '0',\n  padding: '0',\n  position: 'relative',\n  top: '22px',\n};\n\nconst tableStyle = {\n  tableLayout: 'fixed',\n  wordBreak: 'breakWord',\n  borderCollapse: 'collapse',\n  borderSpacing: '0',\n};\n\n/**\n * Top page for the application\n *\n * @param props\n * @returns {*}\n * @constructor\n */\nconst Ndex = (props) => {\n  const handleFetch = (\n    networkUUID,\n    networkName,\n    nodeCount,\n    edgeCount,\n    hitGenes\n  ) => {\n    //checkCytoscapeConnection(props)\n    const geneList = props.search.queryList;\n    const sourceUUID = props.sourceUUID;\n    const id = props.search.results.jobId;\n\n    // Reset selection\n    props.searchActions.clearSelectedGenes();\n    props.networkActions.networkFetchStarted({\n      id,\n      sourceUUID,\n      networkUUID,\n      networkName,\n      geneList,\n      hitGenes,\n      nodeCount,\n      edgeCount,\n    });\n    updateHistory(networkUUID);\n  };\n\n  const updateHistory = (networkUUID) => {\n    // Update URL\n    const jobId = props.search.results.jobId;\n    const searchResults = props.search.searchResults;\n    const sourceName = props.uiState.selectedSource;\n\n    if (searchResults !== undefined && searchResults !== null) {\n      console.log('** network changed:', jobId, sourceName);\n      props.history.push(`/${jobId}/${sourceName}/${networkUUID}`);\n    }\n  };\n\n  const handleImportNetwork = () => {\n    // Reset the UI state (hilight)\n    props.cyrestActions.importNetworkStarted({\n      cx: props.network.originalCX,\n      source: props.network.sourceId,\n      uuid: props.network.uuid,\n    });\n  };\n\n  const renderNetworkListItem = (\n    querySize,\n    networkEntry,\n    classes,\n    handleListItemClick,\n    selectedIndex,\n    index\n  ) => {\n    if (props.uiState.selectedSource === 'enrichment') {\n      return renderNetworkListItemEnrichment(\n        networkEntry,\n        handleListItemClick,\n        selectedIndex,\n        index\n      );\n    } else if (props.uiState.selectedSource.startsWith('interactome')) {\n      return renderNetworkListItemInteractome(\n        networkEntry,\n        handleListItemClick,\n        selectedIndex,\n        index\n      );\n    } else {\n      return renderNetworkListItemDefault(\n        networkEntry,\n        handleListItemClick,\n        selectedIndex,\n        index\n      );\n    }\n  };\n\n  const renderNetworkListItemEnrichment = (\n    networkEntry,\n    handleListItemClick,\n    selectedIndex,\n    index\n  ) => {\n    const {\n      description,\n      networkUUID,\n      nodes,\n      edges,\n      imageURL,\n      hitGenes,\n      details,\n      url,\n    } = networkEntry;\n    const genes = (\n      <span style={infoStyle}>\n        <Typography\n          display='inline'\n          color={\n            props.uiState.sortBy !== 'Overlap' ? 'textSecondary' : 'textPrimary'\n          }\n        >\n          <strong>{hitGenes.length}</strong>{' '}\n        </Typography>\n        <Typography\n          variant='caption'\n          display='inline'\n          color={\n            props.uiState.sortBy === 'Overlap' ? 'textPrimary' : 'textSecondary'\n          }\n        >\n          genes\n        </Typography>\n      </span>\n    );\n\n    const icon = (\n      <ListItemIcon style={{ width: '20px' }}>\n        <img className='list-icon' src={imageURL} alt='list icon' />\n      </ListItemIcon>\n    );\n\n    const newline = <Typography>{'\\n'}</Typography>;\n\n    let pVal = details.PValue;\n    if (pVal != null) {\n      const networkCount = details.totalNetworkCount;\n      const threshold = Math.pow(\n        10,\n        Math.ceil(Math.log(1e-16 * networkCount) / Math.LN10)\n      );\n      if (pVal < threshold) {\n        pVal = '< ' + threshold;\n      } else if (pVal > 1) {\n        pVal = '~ 1';\n      } else {\n        pVal = pVal.toExponential(2);\n      }\n    }\n\n    const pv = (\n      <span style={infoStyle}>\n        <Typography\n          display='inline'\n          color={\n            props.uiState.sortBy === 'p-Value' ? 'textPrimary' : 'textSecondary'\n          }\n        >\n          <strong>{pVal} </strong>\n        </Typography>\n        <Typography\n          variant='caption'\n          display='inline'\n          color={\n            props.uiState.sortBy === 'p-Value' ? 'textPrimary' : 'textSecondary'\n          }\n        >\n          pv\n        </Typography>\n      </span>\n    );\n\n    let similarity;\n    let sim = details.similarity;\n    if (sim !== undefined) {\n      if (isNaN(sim)) {\n        sim = 'NaN';\n      } else {\n        sim = sim.toFixed(2);\n      }\n      similarity = (\n        <span style={infoStyle}>\n          <Typography\n            display='inline'\n            color={\n              props.uiState.sortBy === 'Similarity'\n                ? 'textPrimary'\n                : 'textSecondary'\n            }\n          >\n            <strong>{sim} </strong>\n          </Typography>\n          <Typography\n            variant='caption'\n            display='inline'\n            color={\n              props.uiState.sortBy === 'Similarity'\n                ? 'textPrimary'\n                : 'textSecondary'\n            }\n          >\n            similarity\n          </Typography>\n        </span>\n      );\n    } else {\n      similarity = null;\n    }\n\n    const title = (\n      <Typography style={titleStyle}>\n        {description.split(':').slice(1)}\n      </Typography>\n    );\n\n    const subtitle = (\n      <span style={subtitleStyle}>\n        <Typography variant='caption' color='textSecondary'>\n          <span>Nodes: {nodes}, </span>\n          <span>Edges: {edges}, </span>\n          <span>Source: {camelCaseToTitleCase(description.split(':')[0])}</span>\n        </Typography>\n      </span>\n    );\n\n    return (\n      <ListItem\n        button\n        key={networkUUID}\n        onClick={(event) => {\n          if (selectedIndex !== index) {\n            handleFetch(networkUUID, description, nodes, edges, hitGenes);\n            handleListItemClick(event, index);\n            if (url != null) {\n              props.networkActions.setOriginalNetworkUrl('https://' + url);\n            }\n          }\n        }}\n        selected={selectedIndex === index}\n      >\n        <table style={tableStyle}>\n          <tbody>\n            <tr padding='0'>\n              <td align='center' valign='middle' rowSpan='2' padding='0'>\n                {icon}\n              </td>\n              <td align='left' valign='baseline' width='100px' padding='0'>\n                {genes}\n                {newline}\n                {pv}\n                {newline}\n                {similarity}\n              </td>\n              <td align='left' valign='baseline' padding='0'>\n                {title}\n                {newline}\n                {subtitle}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </ListItem>\n    );\n  };\n\n  const renderNetworkListItemInteractome = (\n    networkEntry,\n    handleListItemClick,\n    selectedIndex,\n    index\n  ) => {\n    const {\n      description,\n      networkUUID,\n      nodes,\n      edges,\n      imageURL,\n      hitGenes,\n      details,\n      url,\n    } = networkEntry;\n    const genes = (\n      <span style={infoStyle}>\n        <Typography\n          display='inline'\n          color={\n            props.uiState.selectedSource === 'enrichment' &&\n            props.uiState.sortBy !== 'Overlap'\n              ? 'textSecondary'\n              : 'textPrimary'\n          }\n        >\n          <strong>{hitGenes.length}</strong>{' '}\n        </Typography>\n        <Typography\n          variant='caption'\n          display='inline'\n          color={\n            props.uiState.selectedSource === 'enrichment' &&\n            props.uiState.sortBy === 'Overlap'\n              ? 'textPrimary'\n              : 'textSecondary'\n          }\n        >\n          genes\n        </Typography>\n      </span>\n    );\n\n    const icon = (\n      <ListItemIcon style={{ width: '20px' }}>\n        <img className='list-icon' src={imageURL} alt='list icon' />\n      </ListItemIcon>\n    );\n\n    const newline = <Typography>{'\\n'}</Typography>;\n\n    if (props.uiState.selectedSource === 'enrichment') {\n      let pVal = details.PValue;\n      if (pVal != null) {\n        const networkCount = details.totalNetworkCount;\n        const threshold = Math.pow(\n          10,\n          Math.ceil(Math.log(1e-16 * networkCount) / Math.LN10)\n        );\n        if (pVal < threshold) {\n          pVal = '< ' + threshold;\n        } else if (pVal > 1) {\n          pVal = '~ 1';\n        } else {\n          pVal = pVal.toExponential(2);\n        }\n      }\n\n      const pv = (\n        <span style={infoStyle}>\n          <Typography\n            display='inline'\n            color={\n              props.uiState.sortBy === 'p-Value'\n                ? 'textPrimary'\n                : 'textSecondary'\n            }\n          >\n            <strong>{pVal} </strong>\n          </Typography>\n          <Typography\n            variant='caption'\n            display='inline'\n            color={\n              props.uiState.sortBy === 'p-Value'\n                ? 'textPrimary'\n                : 'textSecondary'\n            }\n          >\n            pv\n          </Typography>\n        </span>\n      );\n\n      let similarity;\n      let sim = details.similarity;\n      if (sim !== undefined) {\n        if (isNaN(sim)) {\n          sim = 'NaN';\n        } else {\n          sim = sim.toFixed(2);\n        }\n        similarity = (\n          <span style={infoStyle}>\n            <Typography\n              display='inline'\n              color={\n                props.uiState.sortBy === 'Similarity'\n                  ? 'textPrimary'\n                  : 'textSecondary'\n              }\n            >\n              <strong>{sim} </strong>\n            </Typography>\n            <Typography\n              variant='caption'\n              display='inline'\n              color={\n                props.uiState.sortBy === 'Similarity'\n                  ? 'textPrimary'\n                  : 'textSecondary'\n              }\n            >\n              similarity\n            </Typography>\n          </span>\n        );\n      } else {\n        similarity = null;\n      }\n\n      const title = (\n        <Typography style={titleStyle}>\n          {description.split(':').slice(1)}\n        </Typography>\n      );\n\n      const subtitle = (\n        <span style={subtitleStyle}>\n          <Typography variant='caption' color='textSecondary'>\n            <span>Nodes: {nodes}, </span>\n            <span>Edges: {edges}, </span>\n            <span>\n              Source: {camelCaseToTitleCase(description.split(':')[0])}\n            </span>\n          </Typography>\n        </span>\n      );\n\n      return (\n        <ListItem\n          button\n          key={networkUUID}\n          onClick={(event) => {\n            if (selectedIndex !== index) {\n              handleFetch(networkUUID, description, nodes, edges, hitGenes);\n              handleListItemClick(event, index);\n              if (url != null) {\n                props.networkActions.setOriginalNetworkUrl('https://' + url);\n              }\n            }\n          }}\n          selected={selectedIndex === index}\n        >\n          <table style={tableStyle}>\n            <tbody>\n              <tr padding='0'>\n                <td align='center' valign='middle' rowSpan='2' padding='0'>\n                  {icon}\n                </td>\n                <td align='left' valign='baseline' width='100px' padding='0'>\n                  {genes}\n                  {newline}\n                  {pv}\n                  {newline}\n                  {similarity}\n                </td>\n                <td align='left' valign='baseline' padding='0'>\n                  {title}\n                  {newline}\n                  {subtitle}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </ListItem>\n      );\n    } else {\n      const node = (\n        <span style={infoStyle}>\n          <Typography display='inline'>\n            <strong>{nodes}</strong>{' '}\n          </Typography>\n          <Typography variant='caption' display='inline' color='textSecondary'>\n            {'nodes '}\n          </Typography>\n        </span>\n      );\n\n      const edge = (\n        <span style={edgeStyle}>\n          <Typography display='inline'>\n            <strong>{edges}</strong>{' '}\n          </Typography>\n          <Typography variant='caption' display='inline' color='textSecondary'>\n            {'edges'}\n          </Typography>\n        </span>\n      );\n\n      const title = (\n        <Typography color='textPrimary' style={titleStyle}>\n          {description}\n        </Typography>\n      );\n\n      const subtitle = (\n        <span style={subtitleStyle}>\n          <Typography variant='caption' color='textSecondary'>\n            Parent: {details.parent_network_nodes} nodes,{' '}\n            {details.parent_network_edges} edges\n          </Typography>\n        </span>\n      );\n\n      return (\n        <ListItem\n          button\n          key={networkUUID}\n          onClick={(event) => {\n            handleFetch(networkUUID, description, nodes, edges, hitGenes);\n            handleListItemClick(event, index);\n          }}\n          selected={selectedIndex === index}\n        >\n          <table style={tableStyle}>\n            <tbody>\n              <tr padding='0'>\n                <td rowSpan='2' align='center' valign='middle' padding='0'>\n                  {icon}\n                </td>\n                <td align='left' valign='baseline' width='75px'>\n                  {genes}\n                  {newline}\n                  {node}\n                </td>\n                <td align='left' valign='baseline' padding='0' width='80px'>\n                  {edge}\n                </td>\n                <td align='left' valign='baseline'>\n                  {title}\n                  {newline}\n                  {subtitle}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </ListItem>\n      );\n    }\n  };\n\n  const renderNetworkListItemDefault = (\n    networkEntry,\n    handleListItemClick,\n    selectedIndex,\n    index\n  ) => {\n    const {\n      description,\n      networkUUID,\n      nodes,\n      edges,\n      imageURL,\n      hitGenes,\n      details,\n      url,\n    } = networkEntry;\n    const genes = (\n      <span style={infoStyle}>\n        <Typography display='inline' color={'textSecondary'}>\n          <strong>{hitGenes.length}</strong>{' '}\n        </Typography>\n        <Typography variant='caption' display='inline' color={'textSecondary'}>\n          genes\n        </Typography>\n      </span>\n    );\n\n    const newline = <Typography>{'\\n'}</Typography>;\n\n    let pVal = details.PValue;\n    if (pVal != null) {\n      const networkCount = details.totalNetworkCount;\n      const threshold = Math.pow(\n        10,\n        Math.ceil(Math.log(1e-16 * networkCount) / Math.LN10)\n      );\n      if (pVal < threshold) {\n        pVal = '< ' + threshold;\n      } else if (pVal > 1) {\n        pVal = '~ 1';\n      } else {\n        pVal = pVal.toExponential(2);\n      }\n    }\n\n    const pv = (\n      <span style={infoStyle}>\n        <Typography display='inline' color={'textPrimary'}>\n          <strong>{pVal} </strong>\n        </Typography>\n        <Typography variant='caption' display='inline' color={'textPrimary'}>\n          pv\n        </Typography>\n      </span>\n    );\n\n    let similarity;\n    let sim = details.similarity;\n    if (sim !== undefined) {\n      if (isNaN(sim)) {\n        sim = 'NaN';\n      } else {\n        sim = sim.toFixed(2);\n      }\n      similarity = (\n        <span style={infoStyle}>\n          <Typography display='inline' color={'textSecondary'}>\n            <strong>{sim} </strong>\n          </Typography>\n          <Typography\n            variant='caption'\n            display='inline'\n            color={'textSecondary'}\n          >\n            similarity\n          </Typography>\n        </span>\n      );\n    } else {\n      similarity = null;\n    }\n\n    const title = (\n      <Typography style={titleStyle}>\n        {description.split(':').slice(1)}\n      </Typography>\n    );\n\n    const subtitle = (\n      <span style={subtitleStyle}>\n        <Typography variant='caption' color='textSecondary'>\n          <span>\n            Nodes: {nodes}\n            {props.uiState.selectedSource !== 'pathwayfigures' ? ', ' : null}\n          </span>\n          {props.uiState.selectedSource !== 'pathwayfigures' ? (\n            <span>Edges: {edges}</span>\n          ) : null}\n        </Typography>\n      </span>\n    );\n\n    return (\n      <ListItem\n        button\n        key={networkUUID}\n        onClick={(event) => {\n          if (selectedIndex !== index) {\n            handleFetch(networkUUID, description, nodes, edges, hitGenes);\n            handleListItemClick(event, index);\n            if (url != null) {\n              props.networkActions.setOriginalNetworkUrl('https://' + url);\n            }\n          }\n        }}\n        selected={selectedIndex === index}\n      >\n        <table style={tableStyle}>\n          <tbody>\n            <tr padding='0'>\n              <td align='left' valign='baseline' width='100px' padding='0'>\n                {genes}\n                {newline}\n                {pv}\n                {newline}\n                {similarity}\n              </td>\n              <td align='left' valign='baseline' padding='0'>\n                {title}\n                {newline}\n                {subtitle}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </ListItem>\n    );\n  };\n\n  return (\n    <Split sizes={[40, 60]} gutterSize={7} className='ndex-base'>\n      <NetworkList\n        renderNetworkListItem={renderNetworkListItem}\n        handleFetch={handleFetch}\n        hits={props.hits}\n        totalNetworks={props.totalNetworks}\n        {...props}\n      />\n      <NetworkView handleImportNetwork={handleImportNetwork} {...props} />\n    </Split>\n  );\n};\n\nexport default Ndex;\n","import React from 'react'\n\nimport Ndex from './Ndex'\nimport LoadingPanel from '../LoadingPanel'\n\nconst TabContent = props => {\n  const results = props.results\n\n  if (results === null || results === undefined) {\n    return (\n      <LoadingPanel\n        title={'Loading results'}\n        message={<div style={{ color: 'black' }}>Please wait...</div>}\n      />\n    )\n  } else {\n    return (\n      <Ndex\n        hits={results.results}\n        totalNetworks={results.numberOfNetworks}\n        sourceUUID={results.sourceUUID}\n        {...props}\n      />\n    )\n  }\n}\n\nexport default TabContent\n","import React, { useState, useEffect } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Tabs from '@material-ui/core/Tabs';\nimport HoverTab from './HoverTab';\nimport Empty from './Empty';\nimport TabContent from './TabContent';\n\n// Conversion table from tab ID to human-readable labels\nconst tooltipStyle = {\n  textAlign: 'center',\n};\nconst TAB_LABELS = {\n  'enrichment': {\n    label: 'Relevant Pathways',\n    tooltip: (\n      <div style={tooltipStyle}>\n        Selected curated and experimentally derived pathways <br />\n        (NCI-PID, Signor 2.0, etc.)\n      </div>\n    ),\n  },\n  'interactome-ppi': {\n    label: 'Protein Interactions',\n    tooltip: (\n      <div style={tooltipStyle}>\n        PPI networks from several sources (BioGRID, STRING, etc.)\n      </div>\n    ),\n  },\n  'interactome-association': {\n    label: 'Gene Association',\n    tooltip: (\n      <div style={tooltipStyle}>\n        Drug, disease and other gene-association networks <br />\n        (CTD, HPA, etc.)\n      </div>\n    ),\n  },\n  'pathwayfigures': {\n    label: 'Pathway Figures',\n    tooltip: (\n      <div style={tooltipStyle}>\n        Node-only networks generated by optical recognition of published figures\n        (courtesy of the WikiPathways team)\n      </div>\n    ),\n  },\n  'indra': {\n    label: 'INDRA GO',\n    tooltip: (\n      <div style={tooltipStyle}>\n        Collection of machine-curated pathways generated with the INDRA engine\n        (courtesy of the Sorger Lab)\n      </div>\n    ),\n  },\n};\n\nconst backgroundcolor = 'rgb(235, 235, 235)';\n\nconst styles = (theme) => ({\n  tabs: {},\n  grow: {\n    flexGrow: 1,\n  },\n});\n\nconst Results = (props) => {\n  const { classes, ...others } = props;\n\n  // For tab selection\n  const [idx, setSelectedTabIndex] = useState(0);\n\n  useEffect(() => {\n    updateHistory(0);\n  }, []);\n\n  const handleChange = (event, idx) => {\n    setSelectedTabIndex(idx);\n    updateHistory(idx);\n    props.networkActions.networkClear();\n    props.networkActions.changeListIndex(0);\n    if (idx === 3) {\n      props.uiStateActions.setPathwayFigure(true);\n    }\n  };\n\n  const updateHistory = (newValue) => {\n    // Update URL\n    const results = props.search.results;\n    if (results === null || results === undefined) {\n      return;\n    }\n\n    const jobId = results.jobId;\n    const searchResults = props.search.searchResults;\n    if (searchResults !== undefined && searchResults !== null) {\n      const sourceName = getSourceName(sources, newValue);\n      console.log('* Tab change:', jobId, sourceName);\n      props.uiStateActions.setSelectedSource(sourceName);\n      props.history.push(`/${jobId}/${sourceName}`);\n    }\n  };\n\n  // Source list is not available.  Just return empty result\n  const { sources } = props.source;\n  if (sources === null || sources === undefined || sources.length === 0) {\n    return <Empty />;\n  }\n\n  const searchResults = props.search.searchResults;\n  const selectedSourceName = getSourceName(sources, idx);\n\n  if (selectedSourceName == null) {\n    return <Empty />;\n  }\n\n  const results = findResult(selectedSourceName, searchResults);\n\n  // Get current tab selection\n  return (\n    <div className='results-container'>\n      <div className='results-wrapper'>\n        <Tabs value={idx} onChange={handleChange} className={classes.tabs}>\n          {sources.map((source) => (\n            <HoverTab\n              key={source.uuid}\n              label={\n                TAB_LABELS[source.name] ? TAB_LABELS[source.name].label : null\n              }\n              tooltip={\n                TAB_LABELS[source.name] ? TAB_LABELS[source.name].tooltip : null\n              }\n              backgroundcolor={backgroundcolor}\n            />\n          ))}\n        </Tabs>\n\n        {props.search.results.genes.size ? (\n          <TabContent results={results} {...others} />\n        ) : (\n          <Empty\n            message='No valid query genes.'\n            details='Your query did not contain any valid gene names.'\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst getSourceName = (sources, idx) => {\n  if (sources[idx] == null) {\n    return 'enrichment';\n  }\n  return sources[idx].name;\n};\n\nconst findResult = (sourceName, results) => {\n  if (results === null || results === undefined) {\n    return null;\n  }\n\n  const resultArray = results.sources.filter((entry) => entry !== undefined);\n  let idx = resultArray.length;\n\n  while (idx--) {\n    const currentResult = resultArray[idx];\n    if (currentResult.sourceName === sourceName) {\n      return currentResult;\n    }\n  }\n  return null;\n};\n\nexport default withStyles(styles)(Results);\n","import React, { useState, useEffect, useRef } from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\n\nimport { loadCSS } from 'fg-loadcss/src/loadCSS';\nimport Icon from '@material-ui/core/Icon';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport classNames from 'classnames';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport MessageSnackbar from './MessageSnackbar';\n\nimport { GENESET_EXAMPLES } from '../../api/config';\n\n\nconst styles = {\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '60vmin',\n    padding: '0.3em',\n    background: '#f1f1f1',\n    marginLeft: '1em',\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n};\n\nconst ORIGINAL_GENE_TEXT = 'original-gene-text';\n\nconst GeneTextBox = (props) => {\n  const { classes } = props;\n  const geneTextRef = useRef();\n\n  const [state, setState] = useState({\n    anchorEl: null,\n    query: props.search.queryGenes,\n  });\n  const [open, setOpen] = useState(false);\n\n  const menuOpen = Boolean(state.anchorEl);\n\n  useEffect(() => {\n    loadCSS(\n      'https://use.fontawesome.com/releases/v5.1.0/css/all.css',\n      document.querySelector('#insertion-point-jss')\n    );\n    return () => {};\n  }, []);\n\n  const handleCopy = () => {\n    // This is a hack...\n    const copyText = document.getElementById(ORIGINAL_GENE_TEXT);\n    copyText.select();\n    document.execCommand('copy');\n\n    // Show message\n    setOpen(true);\n  };\n\n  const handleSearch = (event, query) => {\n    let genes;\n    if (query == null) {\n      genes = state.query;\n    } else {\n      genes = query;\n    }\n    const sources = props.source.sources;\n\n    if (genes.length === 0 || sources === null || sources.length === 0) {\n      // TODO: add better error message\n      return;\n    }\n\n    const sourceNames = sources.map((source) => source.name);\n    const geneList = genes.split(/\\s*,\\s*|\\s*;\\s*|\\s+/);\n\n    props.uiStateActions.setSelectedSource('enrichment');\n    props.searchActions.clearAll();\n    props.history.push('/');\n    props.searchActions.setQuery(genes);\n    props.searchActions.searchStarted({ geneList, sourceNames });\n  };\n\n  const handleChange = (name) => (event) => {\n    setState({\n      ...props,\n      [name]: event.target.value,\n    });\n  };\n\n  const handleClear = () => {\n    setState({ ...state, query: '' });\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const handleMenu = (event) => {\n    setState({ ...state, anchorEl: event.currentTarget });\n  };\n\n  const handleClose = () => {\n    setState({ ...state, anchorEl: null });\n  };\n\n  const handleExample = (exampleIdx) => {\n    setState({\n      ...props,\n      query: GENESET_EXAMPLES[exampleIdx].genes,\n      anchorEl: null,\n    });\n    handleSearch(null, GENESET_EXAMPLES[exampleIdx].genes);\n  };\n\n  return (\n    <div>\n      <MessageSnackbar\n        open={open}\n        setOpen={setOpen}\n        message={'Genes are copied to clipboard!'}\n        autoHideDuration={4000}\n        horizontal={'left'}\n        vertical={'bottom'}\n      />\n      <Paper className={classes.root} elevation={0}>\n        <Tooltip title='Query gene set examples' placement='bottom'>\n          <div>\n            <IconButton\n              className={classes.iconButton}\n              aria-label='Menu'\n              onClick={handleMenu}\n            >\n              <MenuIcon />\n            </IconButton>\n            <Menu\n              anchorEl={state.anchorEl}\n              anchorOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n              }}\n              open={menuOpen}\n              onClose={handleClose}\n            >\n              {GENESET_EXAMPLES.map((example, idx) => {\n                if (example.name !== 'Estrogen') {\n                  return (\n                    <MenuItem key={idx} onClick={() => handleExample(idx)}>\n                      {example.name}\n                    </MenuItem>\n                  );\n                } else {\n                  return null;\n                }\n              })}\n            </Menu>\n          </div>\n        </Tooltip>\n        <Divider className={classes.divider} />\n        <Tooltip title='Copy' placement='bottom'>\n          <IconButton\n            color='default'\n            className={classes.iconButton}\n            aria-label='Copy'\n            onClick={handleCopy}\n          >\n            <Icon className={classNames(classes.icon, 'far fa-clipboard')} />\n          </IconButton>\n        </Tooltip>\n        <Divider className={classes.divider} />\n        <Tooltip title='Clear gene list' placement='bottom'>\n          <IconButton\n            color='default'\n            className={classes.iconButton}\n            aria-label='Clear'\n            onClick={handleClear}\n          >\n            <DeleteIcon />\n          </IconButton>\n        </Tooltip>\n        <Divider className={classes.divider} />\n        <InputBase\n          id={ORIGINAL_GENE_TEXT}\n          className={classes.input}\n          placeholder='Enter gene list (or click menu for examples)'\n          value={state.query}\n          onChange={handleChange('query')}\n          onKeyDown={handleKeyPress}\n          ref={geneTextRef}\n        />\n\n        <Tooltip title='Start new search' placement='bottom'>\n          <IconButton\n            color='primary'\n            className={classes.iconButton}\n            aria-label='Directions'\n            onClick={handleSearch}\n          >\n            <SearchIcon />\n          </IconButton>\n        </Tooltip>\n      </Paper>\n    </div>\n  );\n};\n\nexport default withStyles(styles)(GeneTextBox);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport HelpIcon from '@material-ui/icons/Help';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Button from '@material-ui/core/Button';\n\nimport classNames from 'classnames';\n\nimport logo from '../../assets/images/ndex-logo.svg';\n//import cytoLogo from '../../assets/images/cytoscape-logo-mono-dark.svg'\n//import nrnbLogo from '../../assets/images/nrnb-logo-mono-dark.svg'\n//import wpLogo from '../../assets/images/wp-logo-mono-dark.svg'\n//import idekerLogo from '../../assets/images/ideker-logo-mono-dark.svg'\nimport HomeIcon from '@material-ui/icons/Home';\n\nimport GeneTextBox from './GeneTextBox';\n\nimport { HELP_URL } from '../../api/config';\n\nconst drawerWidth = 240;\n\nconst styles = (theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  hide: {\n    display: 'none',\n  },\n  menuButton: {\n    marginLeft: 12,\n    marginRight: 10,\n  },\n  logo: {\n    height: '1em',\n    width: '1.5em',\n  },\n  homeLogo: {\n    height: '1em',\n    width: '1em',\n    marginRight: '0.5em',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  textBox: {\n    paddingLeft: '1em',\n    paddingRight: '1em',\n  },\n  noWrap: {\n    display: 'inline-block',\n    whiteSpace: 'nowrap',\n  },\n});\n\nconst titleStyle = {\n  position: 'relative',\n  left: '1em',\n  textTransform: 'none',\n};\n\nclass TitleBar extends React.Component {\n  handleMenu = () => {\n    this.props.uiStateActions.setSettingsOpen(\n      !this.props.uiState.isSettingsOpen\n    );\n  };\n\n  handleHomeButton = () => {\n    this.props.searchActions.clearAll();\n    this.props.uiStateActions.setSelectedSource('enrichment');\n    this.props.networkActions.networkClear();\n    this.props.history.push('/');\n  };\n\n  render() {\n    const { classes, ...others } = this.props;\n    const open = this.props.uiState.isSettingsOpen;\n\n    return (\n      <AppBar\n        position='fixed'\n        color='inherit'\n        className={classNames(classes.appBar, {\n          [classes.appBarShift]: open,\n        })}\n      >\n        <div className={classes.noWrap}>\n          <Toolbar disableGutters={!open}>\n            <Tooltip\n              title='Search by Relevant Pathways / Protein-Protein Interactions / Gene Association'\n              aria-label='NDEx_tooltip'\n            >\n              <div>\n                <Button style={titleStyle} onClick={this.handleHomeButton}>\n                  <HomeIcon fontSize='default' className={classes.homeLogo} />\n                  <Typography variant='h6' color='inherit' noWrap={true}>\n                    NDEx Integrated Query\n                  </Typography>\n                </Button>\n              </div>\n            </Tooltip>\n\n            {this.props.search.results === null ? (\n              <div />\n            ) : (\n              <div className={classes.textBox}>\n                <GeneTextBox {...others} />\n              </div>\n            )}\n\n            <div className={classes.grow} />\n\n            <div>\n              <Tooltip title='NDEx' placement='bottom'>\n                <IconButton\n                  color='default'\n                  aria-label='Home'\n                  onClick={() => openLink(\"/\")}\n                >\n                  <img alt='NDEx logo' src={logo} className={classes.logo} />\n                </IconButton>\n              </Tooltip>\n\n              <Tooltip\n                title='Help'\n                placement='bottom'\n                style={{ marginRight: '1em' }}\n              >\n                <Typography color='textPrimary' noWrap={true} display='inline'>\n                  <IconButton\n                    aria-haspopup='true'\n                    onClick={() => openLink(HELP_URL)}\n                    color='inherit'\n                  >\n                    <HelpIcon className={classes.logo} />\n                  </IconButton>\n                </Typography>\n              </Tooltip>\n            </div>\n          </Toolbar>\n        </div>\n      </AppBar>\n    );\n  }\n}\n\n\nconst openLink = (url) => {\n  window.open(url, '_blank');\n};\n\nTitleBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles, { withTheme: true })(TitleBar);\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { withStyles } from '@material-ui/core/styles'\nimport Collapse from '@material-ui/core/Collapse'\nimport Drawer from '@material-ui/core/Drawer'\nimport List from '@material-ui/core/List'\nimport Divider from '@material-ui/core/Divider'\nimport IconButton from '@material-ui/core/IconButton'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport SettingIcon from '@material-ui/icons/Settings'\nimport CloudIcon from '@material-ui/icons/Cloud'\nimport ExpandLess from '@material-ui/icons/ExpandLess'\nimport ExpandMore from '@material-ui/icons/ExpandMore'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport github from '../../assets/images/github.svg'\n\nimport './style.css'\n\nconst drawerWidth = 240\n\nconst styles = theme => ({\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0\n  },\n  drawerPaper: {\n    width: drawerWidth\n  },\n  nested: {\n    paddingLeft: theme.spacing(4)\n  }\n})\n\nclass SettingsPanel extends React.Component {\n  handleServicesItemClick = () => {\n    const servicesListOpen = this.props.uiState.servicesListOpen\n    this.props.uiStateActions.setServicesListOpen(!servicesListOpen)\n  }\n\n  handleDrawerClose = () => {\n    const isOpen = this.props.uiState.isSettingsOpen\n    this.props.uiStateActions.setSettingsOpen(!isOpen)\n  }\n\n  render() {\n    const { classes, theme } = this.props\n    const isOpen = this.props.uiState.isSettingsOpen\n    const sources = this.props.source.sources\n    const servicesListOpen = this.props.uiState.servicesListOpen\n\n    return (\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={isOpen}\n        classes={{\n          paper: classes.drawerPaper\n        }}\n      >\n        <div className=\"drawerHeader\">\n          <IconButton onClick={this.handleDrawerClose}>\n            {theme.direction === 'ltr' ? (\n              <ChevronLeftIcon />\n            ) : (\n              <ChevronRightIcon />\n            )}\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.root}>\n          <ListItem button onClick={this.handleServicesItemClick}>\n            <ListItemIcon>\n              <CloudIcon />\n            </ListItemIcon>\n            <ListItemText inset primary=\"Services\" />\n            {servicesListOpen ? <ExpandLess /> : <ExpandMore />}\n          </ListItem>\n          <Collapse in={servicesListOpen} timeout=\"auto\" unmountOnExit>\n            <List component=\"div\">\n              {sources.map(sourceEntry => (\n                <Tooltip\n                  title={'Version: ' + sourceEntry.version}\n                  placement=\"right\"\n                  key={sourceEntry.uuid}\n                >\n                  <ListItem\n                    button\n                    key={sourceEntry.uuid}\n                    className={classes.nested}\n                  >\n                    <ListItemIcon>\n                      <CloudIcon />\n                    </ListItemIcon>\n                    <ListItemText\n                      primary={sourceEntry.name}\n                      secondary={' Status: ' + sourceEntry.status}\n                    />\n                  </ListItem>\n                </Tooltip>\n              ))}\n            </List>\n          </Collapse>\n        </List>\n        <Divider />\n        <List>\n          {['Settings'].map((text, index) => (\n            <ListItem button key={text}>\n              <ListItemIcon>\n                <SettingIcon />\n              </ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n        </List>\n        <Divider />\n        <List>\n          {LINKS.map(link => (\n            <ListItem button key={link.name} onClick={() => openLink(link.url)}>\n              <ListItemIcon>\n                <img\n                  src={link.src}\n                  height=\"24px\"\n                  width=\"24px\"\n                  alt=\"list item icon\"\n                />\n              </ListItemIcon>\n              <ListItemText primary={link.name} />\n            </ListItem>\n          ))}\n        </List>\n      </Drawer>\n    )\n  }\n}\n\nconst LINKS = [\n  {\n    name: 'Source Code',\n    url: 'https://github.com/cytoscape/search-portal',\n    src: github\n  }\n]\n\nconst openLink = url => {\n  window.open(url, '_blank')\n}\n\nSettingsPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n  theme: PropTypes.object.isRequired\n}\n\nexport default withStyles(styles, { withTheme: true })(SettingsPanel)\n","import React, { useEffect } from 'react'\nimport './style.css'\n\nimport TitleBar from './TitleBar'\nimport SettingsPanel from '../SettingsPanel'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { withStyles } from '@material-ui/core/styles'\n\nimport classNames from 'classnames'\n\nconst drawerWidth = 240\n\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    height: '100vmin'\n  },\n  drawerHeader: {\n    display: 'flex',\n    padding: '0 0.5em',\n    alignItems: 'center',\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end'\n  },\n  content: {\n    flexGrow: 1,\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    }),\n    marginLeft: -drawerWidth\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen\n    }),\n    marginLeft: 0\n  }\n})\n\nconst AppShell = props => {\n  useEffect(() => {\n    const urlParams = new URLSearchParams(props.history.location.search)\n    const cyrestport = urlParams.get('cyrestport')\n    if (cyrestport) {\n      props.cyrestActions.setPort(cyrestport)\n    }\n    return () => {}\n  }, [])\n  const { classes, ...others } = props\n\n  const open = props.uiState.isSettingsOpen\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <TitleBar {...others} />\n      <SettingsPanel {...others} />\n\n      <div\n        className={classNames(classes.content, {\n          [classes.contentShift]: open\n        })}\n      />\n      {props.children}\n    </div>\n  )\n}\n\nexport default withStyles(styles, { withTheme: true })(AppShell)\n","import React, { useEffect } from 'react';\nimport './style.css';\n\nimport InputPanel from '../InputPanel';\nimport Results from '../Results';\nimport AppShell from '../AppShell';\nimport LoadingPanel from '../LoadingPanel';\n\nconst HomePanel = (props) => {\n\n  const historyListener = (location, action) => {\n    if (action === 'POP' && location.pathname !== '/') {\n      console.log('Back button::', location, action);\n      props.searchActions.clearAll();\n      props.history.push('/');\n    }\n  };\n\n  useEffect(() => {\n    if (props.search.results !== null) {\n      const jobId = props.search.results.jobId;\n      props.searchActions.fetchResultStarted({ jobId });\n    }\n\n    const { queryList } = props.search;\n\n    if (queryList.length === 0) {\n      console.log('* No query genes. Reload called:', props, queryList);\n      props.searchActions.clearAll();\n      props.history.push('/');\n      return;\n    }\n\n    props.history.listen(historyListener);\n\n    return () => {};\n  }, []);\n\n  const isFetching = props.search.isFetching;\n  const searchResults = props.search.searchResults;\n\n  // Still searching and no result is available\n  if (isFetching && searchResults === null) {\n    return (\n      <AppShell {...props}>\n        <LoadingPanel title='Loading Results...' />\n      </AppShell>\n    );\n  }\n\n  return (\n    <AppShell {...props}>\n      <div className='container'>\n        <Results {...props} />\n        <InputPanel {...props} />\n      </div>\n    </AppShell>\n  );\n};\n\nexport default HomePanel;\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { withRouter } from 'react-router-dom'\n\nimport * as searchActions from '../../actions/search'\nimport * as uiStateActions from '../../actions/uiState'\nimport * as networkActions from '../../actions/network'\nimport * as sourceActions from '../../actions/source'\nimport * as cyrestActions from '../../actions/cyrest'\nimport * as ndexSaveActions from '../../actions/ndexSave'\n\nimport ReactGA from 'react-ga'\n\nimport HomePanel from '../../components/HomePanel'\n\nconst MainContainer = props => {\n  useEffect(() => {\n    const { history } = props\n\n    history.listen(({ pathname }) => {\n      ReactGA.set({ page: pathname })\n      ReactGA.pageview(pathname)\n    })\n  }, [])\n  return <HomePanel {...props} />\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.search,\n    uiState: state.uiState,\n    network: state.network,\n    source: state.source,\n    cyrest: state.cyrest,\n    ndexSave: state.ndexSave\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    searchActions: bindActionCreators(searchActions, dispatch),\n    uiStateActions: bindActionCreators(uiStateActions, dispatch),\n    networkActions: bindActionCreators(networkActions, dispatch),\n    sourceActions: bindActionCreators(sourceActions, dispatch),\n    cyrestActions: bindActionCreators(cyrestActions, dispatch),\n    ndexSaveActions: bindActionCreators(ndexSaveActions, dispatch)\n  }\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(MainContainer)\n)\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport InputBase from '@material-ui/core/InputBase';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Typography from '@material-ui/core/Typography';\nimport { Tooltip, Button } from '@material-ui/core';\nimport searchLogo from '../../assets/images/search-logo.svg';\n\nimport { GENESET_EXAMPLES, FEEDBACK_URL } from '../../api/config';\n\n\nconst styles = {\n  root: {\n    padding: '0.1em 0.25em',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  input: {\n    marginLeft: 8,\n    flex: 1,\n  },\n  iconButton: {\n    padding: 10,\n  },\n  divider: {\n    width: 1,\n    height: 28,\n    margin: 4,\n  },\n};\n\nconst SearchTextBox = (props) => {\n  const { classes } = props;\n  const searchButtonEl = useRef();\n\n  const [state, setState] = useState({ anchorEl: null, query: '' });\n\n  useEffect(() => {\n    if (props.search.results !== null) {\n      const jobId = props.search.results.jobId;\n      props.history.push(`/${jobId}`);\n    }\n  }, []);\n\n  const handleExample = (exampleIdx) => {\n    setState({\n      ...props,\n      query: GENESET_EXAMPLES[exampleIdx].genes,\n      anchorEl: null,\n    });\n    handleSearch(null, GENESET_EXAMPLES[exampleIdx].genes);\n  };\n\n  const handleChange = (name) => (event) => {\n    setState({\n      ...props,\n      [name]: event.target.value,\n    });\n  };\n\n  const handleKeyPress = (event) => {\n    if (event.key === 'Enter') {\n      // TODO: add validator here\n      handleSearch();\n    }\n  };\n\n  const handleClear = () => {\n    setState({ ...state, query: '' });\n  };\n\n  const handleSearch = (event, query) => {\n    let genes;\n    if (query == null) {\n      genes = state.query;\n    } else {\n      genes = query;\n    }\n    const sources = props.source.sources;\n\n    if (genes.length === 0 || sources === null || sources.length === 0) {\n      // TODO: add better error message\n      return;\n    }\n\n    const sourceNames = sources.map((source) => source.name);\n    const geneList = genes.toString().split(/\\s*,\\s*|\\s*;\\s*|\\s+/);\n\n    props.searchActions.setQuery(genes);\n    props.searchActions.searchStarted({ geneList, sourceNames });\n  };\n\n  return (\n    <div className={'search-text-panel'}>\n      <Paper className={'search-text-box'} elevation={1}>\n        <IconButton\n          color={'default'}\n          className={classes.iconButton}\n          aria-label='Directions'\n          onClick={handleClear}\n        >\n          <DeleteIcon />\n        </IconButton>\n        <InputBase\n          className={classes.input}\n          placeholder='Enter gene list (or click an example below)'\n          onChange={handleChange('query')}\n          onKeyDown={handleKeyPress}\n          value={state.query}\n          autoFocus={true}\n        />\n        <IconButton\n          ref={searchButtonEl}\n          className={classes.iconButton}\n          aria-label='Search'\n          onClick={handleSearch}\n        >\n          <img\n            alt='Search icon'\n            src={searchLogo}\n            style={{ height: '1.25em' }}\n          />\n        </IconButton>\n      </Paper>\n\n      <div className={'query-example-panel'}>\n        <Typography align={'center'} variant={'subtitle2'}>\n          Query gene set examples:\n        </Typography>\n\n        <div className={'query-examples'}>\n          {GENESET_EXAMPLES.map((example, index) => {\n            return (\n              <div key={example.name}>\n                <Tooltip\n                  title={\n                    <div style={{ textAlign: 'center' }}>\n                      {example.description}\n                    </div>\n                  }\n                  placement='bottom'\n                >\n                  <Button\n                    className='example-text'\n                    color='inherit'\n                    onClick={() => handleExample(index)}\n                  >\n                    {example.name}\n                  </Button>\n                </Tooltip>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <Typography\n        variant='caption'\n        color='textSecondary'\n        align={'center'}\n        className={'search-text-caption'}\n      >\n        <em>\n          Send us\n          <a href={FEEDBACK_URL} target='_blank' rel='noopener noreferrer'>\n            {' '}\n            feedback\n          </a>\n          .\n        </em>\n      </Typography>\n    </div>\n  );\n};\n\nSearchTextBox.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SearchTextBox);\n","import React from 'react'\nimport './style.css'\n\nimport { CYTOSCAPE_URL, UCSD_URL, COPYRIGHT } from '../../api/config'\n\n// SVG images for links\nimport cyLogo from '../../assets/images/cytoscape-logo.svg'\nimport ndexLogo from '../../assets/images/ndex-logo.svg'\nimport ucsdLogo from '../../assets/images/ucsd-logo.svg'\n\nimport Typography from '@material-ui/core/Typography'\n\nconst Footer = props => (\n  <footer className=\"footer-container\">\n    <Typography variant=\"subtitle1\">\n      &copy; {COPYRIGHT}\n    </Typography>\n    <img\n      alt=\"NDEx logo\"\n      src={ndexLogo}\n      className=\"footer-logo\"\n      onClick={() => openLink(\"/\")}\n    />\n    <img\n      alt=\"Cytoscape logo\"\n      src={cyLogo}\n      className=\"footer-logo\"\n      onClick={() => openLink(CYTOSCAPE_URL)}\n    />\n    <img\n      alt=\"UCSD logo\"\n      src={ucsdLogo}\n      className=\"footer-logo\"\n      onClick={() => openLink(UCSD_URL)}\n    />\n  </footer>\n)\n\nconst openLink = url => {\n  window.open(url, '_blank')\n}\n\nexport default Footer\n","import React, { useEffect } from 'react'\nimport SearchTextBox from './SearchTextBox'\nimport Footer from './Footer'\nimport LoadingPanel from '../LoadingPanel'\nimport Typography from '@material-ui/core/Typography'\nimport ndex from '../../assets/images/ndex-logo.svg'\nimport queryString from 'query-string'\nimport './style.css'\n\nimport { APP_VERSION, CYTOSCAPE_URL, FEEDBACK_URL } from '../../api/config'\n\n\nconst StartPanel = props => {\n  useEffect(() => {\n    const params = queryString.parse(props.location.search)\n    const genes = params.genes\n\n    if (genes !== undefined) {\n      const geneList = genes.split(/\\s|,/)\n      props.searchActions.setQuery(genes)\n      props.searchActions.searchStarted({ geneList })\n    }\n    props.sourceActions.findSourceStarted()\n\n    return () => {}\n  }, [])\n\n  if (props.search.isSearching) {\n    return (\n      <LoadingPanel\n        title={'Searching Remote Database'}\n        message={<div style={{ color: 'black' }}>Please wait...</div>}\n      />\n    )\n  }\n\n  return (\n    <div className=\"start-container\">\n      <div className={'start-title'}>\n        <div className={'description-panel'}>\n          <Typography align={'center'} variant={'subtitle2'}>\n            One search finds pathways, queries protein interaction networks, \n            and discovers disease, drug, and tissue associations. Powered by\n            {' '}\n            <a href=\"/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              NDEx</a>{' '} \n            and integrated with{' '} \n            <a href={CYTOSCAPE_URL} target=\"_blank\" rel=\"noopener noreferrer\">\n              Cytoscape</a>\n          </Typography>\n        </div>\n\n        <div className={'title-panel'}>\n          <img\n            className=\"start-logo-main\"\n            src={ndex}\n            alt=\"logo\"\n            style={{ height: '8.75em', paddingRight: '1em' }}\n          />\n          <div className=\"flex\">\n            <div className={'app-title'}>NDEx Integrated Query</div>\n            <Typography\n              align=\"left\"\n              style={{ position: 'relative', left: '0.25em', top: '-0.5em' }}\n            >\n              {APP_VERSION}\n            </Typography>\n          </div>\n        </div>\n\n        <SearchTextBox {...props} />\n\n        <div className={'search-text-note'}>\n          <Typography variant=\"caption\" align=\"left\">\n            NDEx Integrated Query uses selected pathway and \n            interactome networks\n            in NDEx to power gene set analysis. The networks come from many\n            different sources and new networks will be continuously added. Do\n            you have a pathway or an interaction network that you would like to\n            include in these queries? Click{' '}\n            <a href={FEEDBACK_URL} target=\"_blank\" rel=\"noopener noreferrer\">\n              here\n            </a>{' '}\n            to find out how.\n          </Typography>\n        </div>\n        <div style={{ height: '4em' }} />\n      </div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default StartPanel\n","import React from 'react'\n\nimport AppShell from '../AppShell'\nimport StartPanel from './StartPanel'\n\nconst TopPage = props => (\n  <AppShell {...props}>\n    <StartPanel {...props} />\n  </AppShell>\n)\n\nexport default TopPage\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { withRouter } from 'react-router-dom'\n\nimport * as searchActions from '../../actions/search'\nimport * as uiStateActions from '../../actions/uiState'\nimport * as networkActions from '../../actions/network'\nimport * as sourceActions from '../../actions/source'\nimport * as cyrestActions from '../../actions/cyrest'\nimport * as ndexSaveActions from '../../actions/ndexSave'\nimport ReactGA from 'react-ga'\n\nimport TopPage from '../../components/TopPage'\n\nconst TopPageContainer = props => {\n  useEffect(() => {\n    const { pathname } = props.location\n    ReactGA.set({ page: pathname })\n    ReactGA.pageview(pathname)\n\n    const { history } = props\n    history.listen(({ pathname }) => {\n      ReactGA.set({ page: pathname })\n      ReactGA.pageview(pathname)\n    })\n  }, [])\n  return <TopPage {...props} />\n}\n\nfunction mapStateToProps(state) {\n  return {\n    search: state.search,\n    uiState: state.uiState,\n    network: state.network,\n    source: state.source,\n    cyrest: state.cyrest,\n    ndexSave: state.ndexSave\n  }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    searchActions: bindActionCreators(searchActions, dispatch),\n    uiStateActions: bindActionCreators(uiStateActions, dispatch),\n    networkActions: bindActionCreators(networkActions, dispatch),\n    sourceActions: bindActionCreators(sourceActions, dispatch),\n    cyrestActions: bindActionCreators(cyrestActions, dispatch),\n    ndexSaveActions: bindActionCreators(ndexSaveActions, dispatch)\n  }\n}\n\nexport default withRouter(\n  connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(TopPageContainer)\n)\n","import React from 'react'\n\nimport MainContainer from './containers/MainContainer'\nimport TopPageContainer from './containers/TopPageContainer'\n\nconst Top = props => <TopPageContainer {...props} />\nconst App = props => <MainContainer {...props} />\n\nexport { App, Top }\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import { handleActions } from 'redux-actions';\nimport {\n  setQuery,\n  clearQuery,\n  searchStarted,\n  searchSucceeded,\n  searchFailed,\n  clearAll,\n  setSelectedGenes,\n  clearSelectedGenes,\n  fetchResultStarted,\n  fetchResultSucceeded,\n  fetchResultFailed,\n  setSearchResult,\n  setActualResults,\n} from '../actions/search';\n\nconst EMPTY_STATE = {\n  isSearching: false,\n  isFetching: false,\n  queryGenes: '',\n  queryList: [],\n  results: null,\n  searchStatus: null,\n  searchResults: null,\n  selectedGenes: [],\n  resultList: [],\n  actualResults: [],\n};\n\nexport const HGNC_REGEX = RegExp(\n  '(^[a-zA-Z][a-zA-Z0-9-]*$)|(^C[0-9]+orf[0-9]+$)'\n);\n\nconst search = handleActions(\n  {\n    [setQuery]: (state, payload) => {\n      return { ...state, queryGenes: payload.payload };\n    },\n    [clearQuery]: (state, payload) => {\n      return { ...state, queryGenes: '', queryList: [] };\n    },\n    [clearAll]: (state, payload) => {\n      return EMPTY_STATE;\n    },\n    [searchStarted]: (state, payload) => {\n      const newQueryList = state.queryGenes.split(' ');\n      return {\n        ...state,\n        isSearching: true,\n        resultList: [],\n        queryList: newQueryList,\n      };\n    },\n    [searchSucceeded]: (state, payload) => {\n      return { ...state, results: payload.payload, isSearching: false };\n    },\n    [searchFailed]: (state, payload) => {\n      return { ...state, isSearching: false };\n    },\n    [setSelectedGenes]: (state, payload) => {\n      return { ...state, selectedGenes: [payload.payload] };\n    },\n    [clearSelectedGenes]: (state, payload) => {\n      return {\n        ...state,\n        selectedGenes: [],\n      };\n    },\n    [fetchResultStarted]: (state, payload) => {\n      return {\n        ...state,\n        isFetching: true,\n        searchStatus: null,\n        searchResults: null,\n      };\n    },\n    [fetchResultSucceeded]: (state, payload) => {\n      return {\n        ...state,\n        isFetching: false,\n      };\n    },\n    [fetchResultFailed]: (state, payload) => {\n      return { ...state, isFetching: false };\n    },\n    [setSearchResult]: (state, payload) => {\n      const singleResult = payload.payload.singleResult;\n      return {\n        ...state,\n        searchResults: singleResult,\n      };\n    },\n    [setActualResults]: (state, payload) => {\n      return {\n        ...state,\n        actualResults: payload.payload,\n      };\n    },\n  },\n  EMPTY_STATE\n);\n\nexport default search;\n","import { handleActions } from 'redux-actions';\nimport {\n  setSettingsOpen,\n  setServicesListOpen,\n  setHighlights,\n  setSelectedSource,\n  setPathwayFigure,\n  setPathwayFigureSource,\n  setFitPathwayFigure,\n  setSortBy,\n  setSortOptions,\n  setLayout,\n  setLayouts,\n  fitNetworkView,\n  update,\n  setAnnotations,\n} from '../actions/uiState';\n\nconst DEF_STATE = {\n  isSettingsOpen: false,\n  servicesListOpen: false,\n  highlights: false,\n  selectedSource: 'enrichment',\n  pathwayFigure: true,\n  pathwayFigureSource: null,\n  fitPathwayFigure: false,\n  sortOptions: ['Overlap', 'p-Value', 'Similarity'],\n  sortBy: 'Overlap',\n  layout: 'Preset',\n  layouts: [],\n  fit: true,\n  annotations: false,\n};\n\nconst uiState = handleActions(\n  {\n    [setSettingsOpen]: (state, payload) => {\n      console.log('OPEN = ', payload.payload);\n      return { ...state, isSettingsOpen: payload.payload };\n    },\n    [setServicesListOpen]: (state, payload) => {\n      return { ...state, servicesListOpen: payload.payload };\n    },\n    [setHighlights]: (state, payload) => {\n      return { ...state, highlights: payload.payload };\n    },\n    [setSelectedSource]: (state, payload) => {\n      return { ...state, selectedSource: payload.payload };\n    },\n    [setPathwayFigure]: (state, payload) => {\n      return { ...state, pathwayFigure: payload.payload };\n    },\n    [setPathwayFigureSource]: (state, payload) => {\n      return { ...state, pathwayFigureSource: payload.payload };\n    },\n    [setFitPathwayFigure]: (state, payload) => {\n      return { ...state, fitPathwayFigure: payload.payload };\n    },\n    [setSortOptions]: (state, payload) => {\n      return {\n        ...state,\n        sortOrder: payload.payload,\n      };\n    },\n    [setSortBy]: (state, payload) => {\n      return {\n        ...state,\n        sortBy: payload.payload,\n      };\n    },\n    [setLayout]: (state, payload) => {\n      return {\n        ...state,\n        layout: payload.payload,\n      };\n    },\n    [setLayouts]: (state, payload) => {\n      return {\n        ...state,\n        layouts: payload.payload,\n      };\n    },\n    [fitNetworkView]: (state, payload) => {\n      return {\n        ...state,\n        fit: !state.fit,\n      };\n    },\n    [update]: (state, payload) => {\n      return {\n        ...state,\n        layouts: payload.payload.layouts,\n        layout: payload.payload.layout,\n        annotations: payload.payload.annotations\n          ? !state.annotations\n          : state.annotations,\n      };\n    },\n    [setAnnotations]: (state, payload) => {\n      return {\n        ...state,\n        annotations: payload.payload,\n      };\n    },\n  },\n  DEF_STATE\n);\n\nexport default uiState;\n","import { handleActions } from 'redux-actions';\nimport { CxToJs, CyNetworkUtils } from 'cytoscape-cx2js';\nimport { MAX_NETWORK_SIZE } from '../api/config';\nimport * as vs from '../assets/data/styles.json';\n\nimport {\n  networkFetchStarted,\n  networkFetchFailed,\n  networkFetchSucceeded,\n  networkClear,\n  selectNodes,\n  unselectNodes,\n  selectEdges,\n  unselectEdges,\n  deselectAll,\n  changeTab,\n  changeListIndex,\n  setOriginalNetworkUrl,\n} from '../actions/network';\n\nconst defaultState = {\n  isFetching: false,\n  uuid: '',\n  jobId: '',\n  sourceId: '',\n  networkName: '',\n  url: '',\n  queryGenes: [],\n  hitGenes: [],\n  originalCX: null,\n  network: null,\n  nodeCount: 0,\n  edgeCount: 0,\n  isLayoutComplete: false,\n  selectedNodes: [],\n  selectedEdges: [],\n  tableDisplayTab: 0,\n  listIndex: 0,\n};\n\nconst utils = new CyNetworkUtils();\nconst cx2js = new CxToJs(utils);\n\nconst PRESET_VS = vs.default[0].style;\n\n// Standard selection\nPRESET_VS.push({\n  selector: 'node:selected',\n  css: {\n    'background-color': 'red',\n    color: '#FFFFFF',\n    'background-opacity': 1,\n    'border-width': 0,\n    width: 100,\n    height: 100,\n  },\n});\n\n// For class-based style update\nconst fadedNode = {\n  selector: 'node.faded',\n  css: {\n    opacity: 0.9,\n  },\n};\n\nconst fadedEdge = {\n  selector: 'edge.faded',\n  css: {\n    opacity: 0.9,\n  },\n};\n\nconst highlight = {\n  selector: '.highlight',\n  css: {\n    opacity: 1.0,\n    'overlay-color': '#C51162',\n    'overlay-padding': 12,\n    'overlay-opacity': 0.5,\n  },\n};\n\nconst activeObject = {\n  selector: 'node:active',\n  css: {\n    'overlay-color': '#FFFF66',\n    'overlay-padding': 25,\n    'overlay-opacity': 0.3,\n  },\n};\n\nconst network = handleActions(\n  {\n    [networkFetchStarted]: (state, payload) => {\n      console.log('Query start: genes = ', payload);\n      return {\n        ...state,\n        isFetching: true,\n        nodeCount: payload.payload.nodeCount,\n        edgeCount: payload.payload.edgeCount,\n        jobId: payload.payload.id,\n        sourceId: payload.payload.sourceUUID,\n        uuid: payload.payload.networkUUID,\n        url: 'viewer/networks/' + payload.payload.networkUUID,\n        networkName: payload.payload.networkName,\n        queryGenes: payload.payload.geneList,\n        hitGenes: payload.payload.hitGenes,\n        originalCX: null,\n        network: null,\n        isLayoutComplete: false,\n        backgroundColor: '',\n        selectedNodes: [],\n        selectedEdges: [],\n        tableDisplayTab: 0,\n        layout: 'Preset',\n        layouts: [],\n      };\n    },\n    [networkFetchSucceeded]: (state, payload) => {\n      const originalCX = payload.cx;\n      let network = {};\n      let backgroundColor = {};\n      if (state.nodeCount + state.edgeCount <= MAX_NETWORK_SIZE) {\n        try {\n          const cyjsNetwork = convertCx2cyjs(originalCX, state.queryGenes);\n          network = cyjsNetwork;\n        } catch (err) {\n          // This is an error state\n          console.warn('Could not convert given CX to CYJS:', err);\n          throw new Error('Could not convert given CX to CYJS:', err);\n        }\n\n        backgroundColor = getBackGround(originalCX);\n      }\n\n      return {\n        ...state,\n        originalCX,\n        network,\n        backgroundColor,\n        isFetching: false,\n      };\n    },\n    [networkFetchFailed]: (state, payload) => {\n      return {\n        ...state,\n        network: null,\n        originalCX: null,\n        isFetching: false,\n        nodeCount: undefined,\n        edgeCount: undefined,\n      };\n    },\n    [networkClear]: (state, payload) => {\n      return {\n        ...state,\n        uuid: '',\n        networkName: '',\n        originalCX: null,\n        network: null,\n        backgroundColor: null,\n        isFetching: false,\n        nodeCount: undefined,\n        edgeCount: undefined,\n        layout: 'Default',\n      };\n    },\n    [selectNodes]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: 1,\n        selectedNodes: payload.payload,\n      };\n    },\n    [unselectNodes]: (state, payload) => {\n      return {\n        ...state,\n        selectedNodes: [],\n      };\n    },\n    [selectEdges]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: 2,\n        selectedEdges: payload.payload,\n      };\n    },\n    [unselectEdges]: (state, payload) => {\n      return {\n        ...state,\n        selectedEdges: [],\n      };\n    },\n    [deselectAll]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: 0,\n        selectedNodes: [],\n        selectedEdges: [],\n      };\n    },\n    [changeTab]: (state, payload) => {\n      return {\n        ...state,\n        tableDisplayTab: payload.payload,\n      };\n    },\n    [changeListIndex]: (state, payload) => {\n      return {\n        ...state,\n        listIndex: payload.payload,\n      };\n    },\n    [setOriginalNetworkUrl]: (state, payload) => {\n      return {\n        ...state,\n        url: payload.payload,\n      };\n    },\n  },\n  defaultState\n);\n\nconst convertCx2cyjs = (cx, queryGenes) => {\n  const niceCX = utils.rawCXtoNiceCX(cx);\n  const attributeNameMap = {};\n  const elementsObj = cx2js.cyElementsFromNiceCX(niceCX, attributeNameMap);\n\n  // This contains original style.\n  const style = cx2js.cyStyleFromNiceCX(niceCX, attributeNameMap);\n\n  const newStyle = styleUpdater(style);\n\n  // const updatedStyle = styleUpdater(PRESET_VS, queryGenes)\n  const updatedNodes = adjustLayout(elementsObj.nodes, queryGenes);\n  const elements = [...updatedNodes, ...elementsObj.edges];\n  return {\n    elements,\n    style: newStyle,\n    isLayout: checkLayout(elementsObj.nodes),\n  };\n};\n\nconst VS_TAG = 'cyVisualProperties';\nconst getBackGround = (cx) => {\n  const color = '#FFFFFF';\n\n  const vps = cx.filter((entry) => entry[VS_TAG]);\n  if (vps !== undefined && vps !== null && vps.length !== 0) {\n    const vp = vps[0];\n    const allVp = vp[VS_TAG];\n    const networkVp = allVp.filter((p) => p['properties_of'] === 'network');\n    return networkVp[0].properties['NETWORK_BACKGROUND_PAINT'];\n  } else {\n    return color;\n  }\n};\n\n// Utility function to get better results\nconst adjustLayout = (nodes, queryGenes) => {\n  let len = nodes.length;\n\n  const upperQuery = new Set(queryGenes.map((gene) => gene.toUpperCase()));\n\n  while (len--) {\n    const node = nodes[len];\n\n    const name = node.data.name ? node.data.name.toUpperCase() : null;\n    if (upperQuery.has(name)) {\n      node.data['query'] = 'true';\n    }\n  }\n  return nodes;\n};\n\nconst checkLayout = (nodes) => {\n  // Just checks first node only!\n  const node = nodes[0];\n  if (node.position === undefined) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nconst styleUpdater = (style) => {\n  style.push(fadedNode);\n  style.push(fadedEdge);\n  style.push(highlight);\n  style.push(activeObject);\n  return style;\n};\n\nexport default network;\n","import { handleActions } from 'redux-actions'\nimport {\n  findSourceFailed,\n  findSourceStarted,\n  findSourceSucceeded,\n  setCurrentSource\n} from '../actions/source'\n\nimport { SourceState } from './types'\n\nconst defaultState: SourceState = {\n  isFetchingSource: false,\n  sources: [],\n  error: null,\n  currentSource: null\n}\n\nconst source = handleActions(\n  {\n    [findSourceStarted]: (state: SourceState, action) => {\n      return {\n        ...state,\n        isFetchingSource: true,\n        error: null,\n        sources: []\n      }\n    },\n    [findSourceSucceeded]: (state: SourceState, action) => {\n      return {\n        ...state,\n        sources: action.sources,\n        isFetchingSource: false,\n        error: null\n      }\n    },\n    [findSourceFailed]: (state: SourceState, action) => {\n      console.warn('Error:', action.error)\n      return {\n        ...state,\n        isFetchingSource: false,\n        error: action.error,\n        sources: []\n      }\n    },\n    [setCurrentSource]: (state: SourceState, action) => {\n      return {\n        ...state,\n        currentSource: action.payload\n      }\n    }\n  },\n  defaultState\n)\n\nexport default source\n","import { handleActions } from 'redux-actions'\nimport { CyRestState } from './types'\nimport {\n  importNetworkFailed,\n  importNetworkStarted,\n  importNetworkSucceeded,\n  fetchAvailable,\n  setAvailable,\n  startCyRestPolling,\n  stopCyRestPolling,\n  setPort\n} from '../actions/cyrest'\n\nconst defaultState: CyRestState = {\n  isFetchingAvailable: false,\n  available: false,\n  isPollingAvailable: false,\n  port: 1234,\n  error: null,\n  lastResponse: null,\n  isLoadingNetwork: false\n}\n\nconst cyrest = handleActions(\n  {\n    [importNetworkStarted]: (state, payload) => {\n      return {\n        ...state,\n        lastResponse: null,\n        isLoadingNetwork: true,\n        error: null\n      }\n    },\n    [importNetworkSucceeded]: (state, payload) => {\n      return {\n        ...state,\n        lastResponse: payload,\n        isLoadingNetwork: false,\n        error: null\n      }\n    },\n    [importNetworkFailed]: (state, payload) => {\n      return {\n        ...state,\n        lastResponse: payload,\n        error: payload.error,\n        isLoadingNetwork: false\n      }\n    },\n    [setPort]: (state, payload) => {\n      console.info('CyREST port = ', payload.payload)\n      return { ...state, port: payload.payload }\n    },\n    [fetchAvailable]: (state, payload) => {\n      return { ...state, available: null, isFetchingAvailable: true }\n    },\n    [setAvailable]: (state, payload) => {\n      return {\n        ...state,\n        available: payload.payload,\n        isFetchingAvailable: false\n      }\n    },\n    [startCyRestPolling]: (state, payload) => {\n      return { ...state }\n    },\n    [stopCyRestPolling]: (state, payload) => {\n      return { ...state }\n    }\n  },\n  defaultState\n)\n\nexport default cyrest\n","import { handleActions } from 'redux-actions';\nimport {\n  setNDExModalOpen,\n  setProfile,\n  credentialsSignOn,\n  googleSignOn,\n  saveToNDEx,\n  setErrorMessage,\n  setNetworkUrl,\n} from '../actions/ndexSave';\n\nconst DEF_STATE = {\n  ndexModal: false,\n  profile: null,\n  errorMessage: null,\n  networkUrl: null,\n};\n\nconst ndexSave = handleActions(\n  {\n    [setNDExModalOpen]: (state, payload) => {\n      return {\n        ...state,\n        ndexModal: payload.payload,\n        errorMessage: null,\n        networkUrl: null,\n      };\n    },\n    [setProfile]: (state, payload) => {\n      return { ...state, profile: payload.payload };\n    },\n    [credentialsSignOn]: (state, payload) => {\n      return {\n        ...state,\n      };\n    },\n    [googleSignOn]: (state, payload) => {\n      return {\n        ...state,\n      };\n    },\n    [saveToNDEx]: (state, payload) => {\n      return {\n        ...state,\n      };\n    },\n    [setErrorMessage]: (state, payload) => {\n      return {\n        ...state,\n        errorMessage: payload.payload,\n      };\n    },\n    [setNetworkUrl]: (state, payload) => {\n      return {\n        ...state,\n        networkUrl: payload.payload,\n      };\n    },\n  },\n  DEF_STATE\n);\n\nexport default ndexSave;\n","import { combineReducers } from 'redux'\n\nimport search from './search'\nimport uiState from './uiState'\nimport network from './network'\nimport source from './source'\nimport cyrest from './cyrest'\nimport ndexSave from './ndexSave'\n\nconst rootReducer = combineReducers({\n  source,\n  search,\n  uiState,\n  network,\n  cyrest,\n  ndexSave\n})\n\nexport default rootReducer\n","import { METHOD_GET, BASE_URL } from './config'\n\nconst fetchNetwork = (id, sourceUUID, networkUUID) => {\n  const headers = {\n    'Content-Type': 'application/json'\n  }\n  const fetchUrl =\n    BASE_URL +\n    id +\n    '/overlaynetwork?sourceUUID=' +\n    sourceUUID +\n    '&networkUUID=' +\n    networkUUID\n\n  console.log('Calling CX API:', fetchUrl)\n\n  return fetch(fetchUrl, {\n    method: METHOD_GET,\n    headers\n  })\n}\n\nexport { fetchNetwork }\n","import { METHOD_POST, MYGENE_BASE_URL } from './config'\n\n\n/**\n * Client for MyGene.info\n *\n * @param geneList\n * @returns {Promise<Response>}\n */\nconst searchGenes = geneList => {\n  const fields =\n    'fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway'\n  const searchUrl =\n    MYGENE_BASE_URL + '?q=' + geneList + '&scopes=symbol&' + fields\n\n  return fetch(searchUrl, {\n    method: METHOD_POST\n  })\n}\n\nexport { searchGenes }\n","import { METHOD_GET, METHOD_POST, BASE_URL } from './config'\n\n/**\n * Check the status of the services.\n *\n */\nconst getSource = () => {\n  const searchUrl = BASE_URL + 'source'\n  return fetch(searchUrl, {\n    method: METHOD_GET,\n    mode: 'cors'\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error('Failed to fetch source list:' + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nconst checkStatus = jobId => {\n  const checkJobStatusUrl = BASE_URL + jobId + '/status'\n\n  return fetch(checkJobStatusUrl, {\n    method: METHOD_GET\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error('Failed to fetch source list:' + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nconst getResult = (jobId, sourceName = null) => {\n  const url = BASE_URL + jobId\n\n  const resultUrl = new URL(url)\n\n  if (sourceName !== null) {\n    resultUrl.searchParams.append('source', sourceName)\n  }\n\n  return fetch(resultUrl, {\n    method: METHOD_GET\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error('Failed to fetch search result:' + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nconst postQuery = (geneList, sourceList) => {\n  const searchUrl = BASE_URL\n\n  const queryObject = {\n    geneList,\n    sourceList\n  }\n\n  const header = new Headers({\n    'Content-Type': 'application/json'\n  })\n\n  return fetch(searchUrl, {\n    method: METHOD_POST,\n    headers: header,\n    body: JSON.stringify(queryObject)\n  })\n    .then(response => {\n      if (!response.ok) {\n        throw Error('Failed to send query:' + response.status)\n      }\n      return response\n    })\n    .catch(error => ({ error }))\n}\n\nexport { getResult, getSource, postQuery, checkStatus }\n","export type FilteredGenes = {\r\n  uniqueGeneMap: Map<string, Record<string, any>>\r\n  notFound: string[]\r\n}\r\n\r\nconst filterGenes = (resultList: any[]): FilteredGenes => {\r\n  const uniqueGeneMap = new Map<string, Record<string, any>>()\r\n  const notFound = new Array<string>()\r\n\r\n  let len: number = resultList.length\r\n\r\n  while (len--) {\r\n    const entry: Record<string, any> = resultList[len]\r\n    const query: string = entry.query\r\n\r\n    if (entry.notfound) {\r\n      notFound.push(query)\r\n    } else {\r\n      uniqueGeneMap.set(query, entry)\r\n    }\r\n  }\r\n\r\n  return {\r\n    uniqueGeneMap,\r\n    notFound\r\n  } as FilteredGenes\r\n}\r\n\r\nexport { filterGenes }\r\n","import { all, call, put, takeLatest } from 'redux-saga/effects';\nimport * as api from '../api/ndex';\nimport * as myGeneApi from '../api/mygene';\nimport { getResult, checkStatus, getSource, postQuery } from '../api/search';\n\nimport { FilteredGenes, filterGenes } from './ndexSaga-util';\n\nimport {\n  SEARCH_STARTED,\n  SEARCH_FAILED,\n  SEARCH_SUCCEEDED,\n  FETCH_RESULT_STARTED,\n  FETCH_RESULT_SUCCEEDED,\n  FETCH_RESULT_FAILED,\n  SET_SEARCH_RESULT,\n} from '../actions/search';\n\nimport {\n  FIND_SOURCE_STARTED,\n  FIND_SOURCE_FAILED,\n  FIND_SOURCE_SUCCEEDED,\n} from '../actions/source';\n\nimport {\n  NETWORK_FETCH_STARTED,\n  NETWORK_FETCH_SUCCEEDED,\n  NETWORK_FETCH_FAILED,\n} from '../actions/network';\n\nconst API_CALL_INTERVAL = 500;\n\n/**\n * Call IQ service and set state\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchSearch(action) {\n  const geneList: string[] = action.payload.geneList;\n  let sourceNames: string[] = action.payload.sourceNames;\n\n  // If source names are missing, find them:\n  if (!sourceNames || sourceNames.length === 0) {\n    const sources = yield call(getSource);\n    const sourceJson = yield call([sources, 'json']);\n    const sourceList: any[] = sourceJson.results;\n    sourceNames = sourceList.map((source) => source.name);\n    sourceNames = sourceNames.filter((name) => name !== 'keyword');\n  }\n\n  const geneListString: string = geneList.join();\n\n  try {\n    // Call 1: Send query and get JobID w/ gene props from MyGene\n    const [geneRes, searchRes] = yield all([\n      call(myGeneApi.searchGenes, geneListString),\n      call(postQuery, geneList, sourceNames),\n    ]);\n\n    const geneJson = yield call([geneRes, 'json']);\n    const resultLocation = searchRes.headers.get('Location');\n    const parts: string[] = resultLocation.split('/');\n    const jobId: string = parts[parts.length - 1];\n    const filtered: FilteredGenes = filterGenes(geneJson);\n\n    yield put({\n      type: SEARCH_SUCCEEDED,\n      payload: {\n        genes: filtered.uniqueGeneMap,\n        notFound: filtered.notFound,\n        resultLocation,\n        jobId,\n      },\n    });\n  } catch (e) {\n    console.warn('NDEx search error:', e);\n    yield put({\n      type: SEARCH_FAILED,\n      payload: {\n        message: 'NDEx network search error',\n        query: geneListString,\n        error: e.message,\n      },\n    });\n  }\n}\n\n// Simple sleep function using Promise\nconst sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nfunction* watchSearchResult(action) {\n  const jobId: string = action.payload.jobId;\n\n  const resultList: any[] = [];\n  const finishedSourceNames: Set<string> = new Set();\n\n  try {\n    while (true) {\n      // Check overall status\n      const statusRes = yield call(checkStatus, jobId);\n      const statusJson = yield call([statusRes, 'json']);\n\n      const status: any[] = statusJson.sources;\n      let idx: number = status.length;\n\n      while (idx--) {\n        const src: Record<string, any> = status[idx];\n        const { progress, sourceName } = src;\n        if (progress === 100) {\n          if (!finishedSourceNames.has(sourceName)) {\n            const resultRes = yield call(getResult, jobId, sourceName);\n            const json: Record<string, any> = yield call([resultRes, 'json']);\n\n            // Need to add this new result.\n            resultList.push(json.sources[0]);\n            finishedSourceNames.add(sourceName);\n\n            json.sources = resultList;\n\n            yield put({\n              type: SET_SEARCH_RESULT,\n              payload: {\n                singleResult: json,\n              },\n            });\n          }\n        }\n      }\n\n      idx = status.length;\n      let finishCount = 0;\n      while (idx--) {\n        if (status[idx].progress === 100) {\n          finishCount++;\n        }\n      }\n      if (finishCount === status.length) {\n        console.log('!! Search & fetch finished:', finishCount, resultList);\n        break;\n      }\n\n      // Wait 1 sec. and try API call again.\n      yield call(sleep, API_CALL_INTERVAL);\n    }\n\n    yield put({\n      type: FETCH_RESULT_SUCCEEDED,\n      payload: {},\n    });\n  } catch (e) {\n    console.warn('NDEx search error:', e);\n    yield put({\n      type: FETCH_RESULT_FAILED,\n      payload: {\n        message: 'Failed to fetch search result',\n        jobId,\n        error: e.message,\n      },\n    });\n  }\n}\n\nfunction* fetchNetwork(action) {\n  try {\n    const params: Record<string, any> = action.payload;\n    const id: string = params.id;\n    const sourceUUID: string = params.sourceUUID;\n    const networkUUID: string = params.networkUUID;\n\n    const cx = yield call(api.fetchNetwork, id, sourceUUID, networkUUID);\n    const json = yield call([cx, 'json']);\n\n    yield put({ type: NETWORK_FETCH_SUCCEEDED, cx: json });\n  } catch (error) {\n    yield put({ type: NETWORK_FETCH_FAILED, error });\n  }\n}\n\nexport function* fetchSource(action) {\n  try {\n    const sources = yield call(getSource);\n    const json = yield call([sources, 'json']);\n    const orderedSources = json.results;\n    yield put({ type: FIND_SOURCE_SUCCEEDED, sources: orderedSources });\n  } catch (error) {\n    yield put({ type: FIND_SOURCE_FAILED, error });\n  }\n}\n\nexport default function* rootSaga() {\n  yield takeLatest(SEARCH_STARTED, watchSearch);\n  yield takeLatest(FETCH_RESULT_STARTED, watchSearchResult);\n  yield takeLatest(NETWORK_FETCH_STARTED, fetchNetwork);\n  yield takeLatest(FIND_SOURCE_STARTED, fetchSource);\n}\n","import { call, put, takeLatest, select } from 'redux-saga/effects';\nimport * as cyrest from '../api/cyrest';\n\nimport {\n  IMPORT_NETWORK_STARTED,\n  IMPORT_NETWORK_FAILED,\n  IMPORT_NETWORK_SUCCEEDED,\n} from '../actions/cyrest';\n\nexport default function* cyrestSaga() {\n  yield takeLatest(IMPORT_NETWORK_STARTED, watchImportNetwork);\n}\n\nexport const getCyRESTPort = (state) => state.cyrest.port;\n\n/**\n * Calling CyREST network import\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchImportNetwork(action) {\n  const originalCX = action.payload.cx;\n  try {\n    const cyrestport = yield select(getCyRESTPort);\n\n    let addNumberVerification = true;\n\n    originalCX.forEach((aspect) => {\n      if (aspect['numberVerification']) {\n        addNumberVerification = false;\n      }\n    });\n    // Add number verification to fool old versions of CyNDEx-2\n    // remove this step if numberVerification is added elsewhere\n    // or ignored in later versions of CyNDEx-2\n    const patchedCX = (addNumberVerification\n      ? [{ numberVerification: [{ longNumber: 281474976710655 }] }]\n      : []\n    ).concat(originalCX);\n\n    //console.log('CX', patchedCX)\n\n    const response = yield call(cyrest.importNetwork, cyrestport, patchedCX);\n    const responseJson = yield call([response, 'json']);\n\n    console.log('CyREST response:', response);\n\n    yield put({\n      type: IMPORT_NETWORK_SUCCEEDED,\n      payload: responseJson,\n    });\n  } catch (e) {\n    console.warn('CyREST import network error:', e);\n    yield put({\n      type: IMPORT_NETWORK_FAILED,\n      payload: {\n        message: 'CyREST import network error',\n        error: e.message,\n      },\n    });\n  }\n}\n","import { METHOD_GET, METHOD_POST, SERVICE_SERVER_URL } from './config'\n\nconst NDEX_USER_VALIDATION = SERVICE_SERVER_URL + '/user?valid=true'\nconst NDEX_SAVE = SERVICE_SERVER_URL + '/network'\n\nconst ndexValidation = headers => {\n  //console.log('Calling NDEx validation with headers: ', headers)\n\n  return fetch(NDEX_USER_VALIDATION, {\n    method: METHOD_GET,\n    headers: headers\n  })\n}\n\nconst saveToNDEx = (cx, headers) => {\n  //console.log('Calling Save-to-NDEx')\n\n  return fetch(NDEX_SAVE, {\n    method: METHOD_POST,\n    headers: headers,\n    body: JSON.stringify(cx)\n  })\n}\n\nexport { ndexValidation, saveToNDEx }\n","import { call, put, takeLatest, select } from 'redux-saga/effects'\nimport * as ndexSave from '../api/ndexSave'\n\nimport {\n  SET_NDEX_MODAL_OPEN,\n  SET_PROFILE,\n  CREDENTIALS_SIGN_ON,\n  GOOGLE_SIGN_ON,\n  SAVE_TO_NDEX,\n  SET_ERROR_MESSAGE,\n  SET_NETWORK_URL\n} from '../actions/ndexSave'\n\nexport default function* ndexSaveSaga() {\n  yield takeLatest(GOOGLE_SIGN_ON, watchGoogleSignOn)\n  yield takeLatest(CREDENTIALS_SIGN_ON, watchCredentialsSignOn)\n  yield takeLatest(SAVE_TO_NDEX, watchSaveToNDEx)\n}\n\n/**\n * Calling GoogleSignOn\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchGoogleSignOn(action) {\n  const resp = action.payload\n  const token = resp.tokenObj.token_type + ' ' + resp.tokenObj.id_token\n  const profile = {\n    name: resp.profileObj.name,\n    image: resp.profileObj.imageUrl,\n    authorization: {\n      type: 'google',\n      token\n    }\n  }\n\n  const headers = new Headers({\n    Authorization: profile.authorization.token\n  })\n\n  try {\n    const resp = yield call(ndexSave.ndexValidation, headers)\n    const responseJson = yield call([resp, 'json'])\n    // get first name of user from NDEx\n    if (resp.status == 200){\n      profile.name = responseJson.firstName;\n      profile.image = responseJson.image;\n    }\n    yield put({\n      type: SET_PROFILE,\n      payload: profile\n    })\n  } catch (error) {\n    const message =\n      error.response.data.message || 'Failed to verify account. ' + error\n    if (\n      message.startsWith('User with email') &&\n      message.endsWith(\"doesn't exist.\")\n    ) {\n      return\n    }\n  }\n}\n\n/**\n * Calling CredentialsSignOn\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchCredentialsSignOn(action) {\n  const user = window.basicAuthSignIn.accountName.value\n  const pwd = window.basicAuthSignIn.password.value\n\n  const auth = 'Basic ' + window.btoa(user + ':' + pwd)\n  const headers = new Headers({\n    Authorization: auth\n  })\n\n  try {\n    const resp = yield call(ndexSave.ndexValidation, headers)\n    const responseJson = yield call([resp, 'json'])\n    if (resp.status != 200) {\n      yield put({\n        type: SET_ERROR_MESSAGE,\n        payload: responseJson.message\n      })\n      // there was an authentication error remove any record in local storage\n      window.localStorage.removeItem('loggedInUser');\n    } else {\n      const profile = {\n        name: responseJson.firstName,\n        image: responseJson.image,\n        authorization: {\n          type: 'ndex',\n          token: auth\n        }\n      }\n      // save credentials to local storage\n      let loggedInUser = {};\n      loggedInUser.userName = user;\n      loggedInUser.firstName = responseJson.firstName;\n      loggedInUser.lastName = responseJson.lastName;\n      loggedInUser.externalId = responseJson.externalId;\n      loggedInUser.image = responseJson.image;\n      loggedInUser.token = pwd;\n      window.localStorage.setItem('loggedInUser', JSON.stringify(loggedInUser));\n      yield put({\n        type: SET_PROFILE,\n        payload: profile\n      })\n    }\n  } catch (err) {\n    console.log(err)\n    yield put({\n      type: SET_ERROR_MESSAGE,\n      payload: 'Unknown error'\n    })\n    // there was an authentication error remove any record in local storage\n    window.localStorage.removeItem('loggedInUser');\n  }\n}\n\n/**\n * Calling saveToNDEx\n *\n * @param action\n * @returns {IterableIterator<*>}\n */\nfunction* watchSaveToNDEx(action) {\n  const token = action.payload.token\n  const cx = action.payload.cx\n\n  const headers = new Headers({\n    'Content-Type': 'application/json',\n    Authorization: token\n  })\n\n  const resp = yield call(ndexSave.saveToNDEx, cx, headers)\n  console.log('resp', resp)\n  console.log('resp.body' + resp.body)\n\n  const responseText = yield call([resp, 'text'])\n\n  let lastSlash = responseText.lastIndexOf('/');\n  let networkUUID = responseText.substring(lastSlash+1);\n\n  const networkURL = 'viewer/networks/' + networkUUID;\n\n  console.log('networkURL', networkURL);\n  \n  yield put({\n    type: SET_NETWORK_URL,\n    payload: networkURL\n  })\n}\n","// For Google Analygtics\nexport const GA_DEV_ID = 'UA-62588031-6' // Dev server\nexport const GA_STAGING_ID = 'UA-62588031-7' // For staging server\nexport const GA_PRODUCTION = 'UA-62588031-8' // For Production server\n","import React from 'react'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport { Provider } from 'react-redux'\nimport 'typeface-roboto'\nimport { render } from 'react-dom'\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\n\nimport createSagaMiddleware from 'redux-saga'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport './index.css'\nimport { App, Top } from './App'\nimport * as serviceWorker from './serviceWorker'\n\n// Import root reducers\nimport rootReducer from './reducers'\nimport rootSaga from './sagas/ndexSaga'\nimport cyRestSaga from './sagas/cyRestSaga'\nimport cyRestStatusSaga from './sagas/cyRestStatusSaga'\nimport ndexSaveSaga from './sagas/ndexSaveSaga'\nimport ReactGA from 'react-ga'\n\nimport { SET_QUERY } from './actions/search'\n\nimport { GA_DEV_ID, GA_STAGING_ID, GA_PRODUCTION } from './analytics'\n\n// Avoid HTTP\nconst location = window.location\nif (location.hostname !== 'localhost' && location.protocol !== 'https:') {\n  location.replace(`https:${location.href.substring(location.protocol.length)}`)\n}\n\nReactGA.initialize(GA_PRODUCTION, {\n  gaOptions: {\n    siteSpeedSampleRate: 100\n  }\n})\n\nconst EventActions = {\n  SetQuery: SET_QUERY,\n  OpenInCytoscape: 'OPEN_IN_CYTOSCAPE',\n  NetworkSelected: 'NETWORK_FETCH_STARTED'\n}\n\nconst gaMiddleware = store => next => action => {\n  handleEvent(action)\n  return next(action)\n}\n\nconst handleEvent = event => {\n  const eventType = event.type\n  if (eventType === SET_QUERY) {\n    ReactGA.event({\n      category: 'User Action',\n      action: EventActions.SetQuery,\n      label: event.payload\n    })\n  } else if (eventType === 'IMPORT_NETWORK_STARTED') {\n    ReactGA.event({\n      category: 'User Action',\n      action: EventActions.OpenInCytoscape,\n      label: event.payload.uuid\n    })\n  } else if ('NETWORK_FETCH_STARTED') {\n    if (event.payload === undefined || event.payload == null) {\n      return\n    }\n    ReactGA.event({\n      category: 'User Action',\n      action: EventActions.NetworkSelected,\n      label: `${event.payload.sourceUUID}/${event.payload.networkUUID}`\n    })\n  }\n}\n\nconst sagaMiddleware = createSagaMiddleware()\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(sagaMiddleware),\n    applyMiddleware(gaMiddleware)\n  )\n)\n\nsagaMiddleware.run(rootSaga)\nsagaMiddleware.run(cyRestSaga)\nsagaMiddleware.run(cyRestStatusSaga)\nsagaMiddleware.run(ndexSaveSaga)\n\nconst Root = ({ store }) => (\n  <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/\" component={Top} />\n        <Route exact path=\"/iquery\" component={Top} />\n        <Route exact path=\"/iquery/\" component={Top} />\n        <Route exact path=\"/iquery//\" component={Top} />\n        <Route exact path=\"/iquery/iquery\" component={Top} />\n        <Route path=\"/:jobid/:sourceId/:networkId\" component={App} />\n        <Route path=\"/:jobid/:sourceId\" component={App} />\n        <Route path=\"/:jobid\" component={App} />\n      </Switch>\n    </Router>\n  </Provider>\n)\n\nrender(<Root store={store} />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = __webpack_public_path__ + \"static/media/ndex-logo.04d7bf44.svg\";","module.exports = __webpack_public_path__ + \"static/media/cytoscape-logo.4aa4c296.svg\";"],"sourceRoot":""}