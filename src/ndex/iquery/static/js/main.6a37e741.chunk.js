(this["webpackJsonpsearch-portal"]=this["webpackJsonpsearch-portal"]||[]).push([[0],{114:function(e,t,a){e.exports=a.p+"static/media/zoom-logo.55a0b3a1.svg"},115:function(e,t,a){e.exports=a.p+"static/media/zoom-logo-mono.1cd5bbee.svg"},140:function(e,t,a){},147:function(e,t,a){},161:function(e,t,a){e.exports=a.p+"static/media/cytoscape-logo-mono-light.5b5f28e2.svg"},165:function(e,t,a){e.exports=a.p+"static/media/google-logo.c21ca9d1.svg"},166:function(e,t,a){e.exports=a.p+"static/media/google-logo-disabled.02062f61.svg"},167:function(e,t,a){e.exports=a.p+"static/media/ndex-logo-mono-light.b9de38dc.svg"},174:function(e,t,a){e.exports=a.p+"static/media/github.617870e4.svg"},179:function(e,t,a){e.exports=a.p+"static/media/search-logo.19dae5a4.svg"},180:function(e,t,a){e.exports=a.p+"static/media/ucsd-logo.5838f23e.svg"},182:function(e){e.exports=JSON.parse('[{"format_version":"1.0","generated_by":"cytoscape-3.7.1","target_cytoscapejs_version":"~2.1","title":"dark4","style":[{"selector":"node","css":{"background-opacity":1,"shape":"ellipse","height":70,"text-opacity":1,"font-size":18,"border-opacity":1,"color":"rgb(255,255,255)","border-width":0,"text-valign":"center","text-halign":"center","font-family":"SFProText-Medium","font-weight":"normal","background-color":"rgb(0,102,102)","width":110,"border-color":"rgb(255,102,102)","content":"data(name)"}},{"selector":"node[type = \'phenotype\']","css":{"background-opacity":0.39215686274509803,"shape":"roundrectangle","background-color":"rgb(255,255,255)","width":220}},{"selector":"node[type = \'smallmolecule\']","css":{"width":20}},{"selector":"node[type = \'complex\']","css":{"width":180}},{"selector":"node[type = \'smallmolecule\']","css":{"shape":"octagon"}},{"selector":"node[type = \'proteinfamily\']","css":{"shape":"rectangle"}},{"selector":"node[type = \'smallmolecule\']","css":{"height":20}},{"selector":"node[type = \'complex\']","css":{"height":180}},{"selector":"node[type = \'proteinfamily\']","css":{"color":"rgb(153,153,153)"}},{"selector":"node[type = \'smallmolecule\']","css":{"background-color":"rgb(255,255,255)"}},{"selector":"node[type = \'complex\']","css":{"background-color":"rgb(0,153,204)"}},{"selector":"node[type = \'proteinfamily\']","css":{"background-color":"rgb(255,255,255)"}},{"selector":"node[querynode]","css":{"border-width":20}},{"selector":"node[type = \'smallmolecule\']","css":{"text-valign":"bottom"}},{"selector":"edge","css":{"curve-style":"bezier","line-style":"solid","target-arrow-color":"#FFFFFF","line-color":"#FFFFFF","width":2,"opacity":0.39215686274509803}},{"selector":"edge[directed]","css":{"target-arrow-shape":"triangle"}},{"selector":"node:selected","css":{"background-color":"rgb(255,102,102)"}},{"selector":"edge:selected","css":{"target-arrow-shape":"triangle","line-color":"rgb(255,0,0)"}}]}]')},200:function(e,t,a){e.exports=a(266)},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},215:function(e,t,a){},223:function(e,t,a){},241:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},266:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SET_QUERY",(function(){return y})),a.d(n,"CLEAR_QUERY",(function(){return v})),a.d(n,"SEARCH_STARTED",(function(){return O})),a.d(n,"SEARCH_SUCCEEDED",(function(){return S})),a.d(n,"SEARCH_FAILED",(function(){return w})),a.d(n,"SET_SEARCH_RESULT",(function(){return j})),a.d(n,"FETCH_RESULT_STARTED",(function(){return k})),a.d(n,"FETCH_RESULT_SUCCEEDED",(function(){return C})),a.d(n,"FETCH_RESULT_FAILED",(function(){return N})),a.d(n,"CLEAR_ALL",(function(){return x})),a.d(n,"SET_SELECTED_GENES",(function(){return A})),a.d(n,"CLEAR_SELECTED_GENES",(function(){return T})),a.d(n,"SET_SEARCH_RESULT_ORDER",(function(){return L})),a.d(n,"SET_ACTUAL_RESULTS",(function(){return R})),a.d(n,"setQuery",(function(){return P})),a.d(n,"clearQuery",(function(){return _})),a.d(n,"searchStarted",(function(){return I})),a.d(n,"searchSucceeded",(function(){return F})),a.d(n,"searchFailed",(function(){return D})),a.d(n,"setSearchResult",(function(){return U})),a.d(n,"fetchResultStarted",(function(){return G})),a.d(n,"fetchResultSucceeded",(function(){return H})),a.d(n,"fetchResultFailed",(function(){return B})),a.d(n,"clearAll",(function(){return M})),a.d(n,"setSelectedGenes",(function(){return W})),a.d(n,"clearSelectedGenes",(function(){return q})),a.d(n,"setSearchResultOrder",(function(){return K})),a.d(n,"setActualResults",(function(){return z}));var r={};a.r(r),a.d(r,"SET_SETTINGS_OPEN",(function(){return X})),a.d(r,"setSettingsOpen",(function(){return V})),a.d(r,"SET_CYTOSCAPE_STATUS",(function(){return Q})),a.d(r,"setCytoscapeStatus",(function(){return Y})),a.d(r,"SET_SERVICES_LIST_OPEN",(function(){return $})),a.d(r,"setServicesListOpen",(function(){return J})),a.d(r,"SET_HIGHLIGHTS",(function(){return Z})),a.d(r,"setHighlights",(function(){return ee})),a.d(r,"SET_SELECTED_SOURCE",(function(){return te})),a.d(r,"setSelectedSource",(function(){return ae})),a.d(r,"SET_PATHWAY_FIGURE",(function(){return ne})),a.d(r,"setPathwayFigure",(function(){return re})),a.d(r,"SET_PATHWAY_FIGURE_SOURCE",(function(){return oe})),a.d(r,"setPathwayFigureSource",(function(){return ie})),a.d(r,"SET_FIT_PATHWAY_FIGURE",(function(){return ce})),a.d(r,"setFitPathwayFigure",(function(){return le})),a.d(r,"SET_SORT_OPTIONS",(function(){return se})),a.d(r,"SET_SORT_BY",(function(){return ue})),a.d(r,"setSortOptions",(function(){return de})),a.d(r,"setSortBy",(function(){return me})),a.d(r,"SET_LAYOUT",(function(){return pe})),a.d(r,"SET_LAYOUTS",(function(){return ge})),a.d(r,"setLayout",(function(){return he})),a.d(r,"setLayouts",(function(){return Ee})),a.d(r,"SET_ANNOTATIONS",(function(){return fe})),a.d(r,"setAnnotations",(function(){return be})),a.d(r,"FIT_NETWORK_VIEW",(function(){return ye})),a.d(r,"fitNetworkView",(function(){return ve})),a.d(r,"UPDATE",(function(){return Oe})),a.d(r,"update",(function(){return Se}));var o={};a.r(o),a.d(o,"NETWORK_FETCH_STARTED",(function(){return we})),a.d(o,"NETWORK_FETCH_SUCCEEDED",(function(){return je})),a.d(o,"NETWORK_FETCH_FAILED",(function(){return ke})),a.d(o,"NETWORK_CLEAR",(function(){return Ce})),a.d(o,"SELECT_NODES",(function(){return Ne})),a.d(o,"UNSELECT_NODES",(function(){return xe})),a.d(o,"SELECT_EDGES",(function(){return Ae})),a.d(o,"UNSELECT_EDGES",(function(){return Te})),a.d(o,"DESELECT_ALL",(function(){return Le})),a.d(o,"CHANGE_TAB",(function(){return Re})),a.d(o,"CHANGE_LIST_INDEX",(function(){return Pe})),a.d(o,"SET_ORIGINAL_NETWORK_URL",(function(){return _e})),a.d(o,"networkFetchStarted",(function(){return Ie})),a.d(o,"networkFetchSucceeded",(function(){return Fe})),a.d(o,"networkFetchFailed",(function(){return De})),a.d(o,"networkClear",(function(){return Ue})),a.d(o,"selectNodes",(function(){return Ge})),a.d(o,"unselectNodes",(function(){return He})),a.d(o,"selectEdges",(function(){return Be})),a.d(o,"unselectEdges",(function(){return Me})),a.d(o,"deselectAll",(function(){return We})),a.d(o,"changeTab",(function(){return qe})),a.d(o,"changeListIndex",(function(){return Ke})),a.d(o,"setOriginalNetworkUrl",(function(){return ze}));var i={};a.r(i),a.d(i,"FIND_SOURCE_STARTED",(function(){return Xe})),a.d(i,"FIND_SOURCE_SUCCEEDED",(function(){return Ve})),a.d(i,"FIND_SOURCE_FAILED",(function(){return Qe})),a.d(i,"SET_CURRENT_SOURCE",(function(){return Ye})),a.d(i,"findSourceStarted",(function(){return $e})),a.d(i,"findSourceSucceeded",(function(){return Je})),a.d(i,"findSourceFailed",(function(){return Ze})),a.d(i,"setCurrentSource",(function(){return et}));var c={};a.r(c),a.d(c,"IMPORT_NETWORK_STARTED",(function(){return tt})),a.d(c,"IMPORT_NETWORK_SUCCEEDED",(function(){return at})),a.d(c,"IMPORT_NETWORK_FAILED",(function(){return nt})),a.d(c,"importNetworkStarted",(function(){return rt})),a.d(c,"importNetworkSucceeded",(function(){return ot})),a.d(c,"importNetworkFailed",(function(){return it})),a.d(c,"SET_PORT",(function(){return ct})),a.d(c,"setPort",(function(){return lt})),a.d(c,"FETCH_AVAILABLE",(function(){return st})),a.d(c,"SET_AVAILABLE",(function(){return ut})),a.d(c,"fetchAvailable",(function(){return dt})),a.d(c,"setAvailable",(function(){return mt})),a.d(c,"START_CYREST_POLLING",(function(){return pt})),a.d(c,"STOP_CYREST_POLLING",(function(){return gt})),a.d(c,"startCyRestPolling",(function(){return ht})),a.d(c,"stopCyRestPolling",(function(){return Et}));var l={};a.r(l),a.d(l,"SET_NDEX_MODAL_OPEN",(function(){return ft})),a.d(l,"setNDExModalOpen",(function(){return bt})),a.d(l,"SET_PROFILE",(function(){return yt})),a.d(l,"setProfile",(function(){return vt})),a.d(l,"CREDENTIALS_SIGN_ON",(function(){return Ot})),a.d(l,"credentialsSignOn",(function(){return St})),a.d(l,"GOOGLE_SIGN_ON",(function(){return wt})),a.d(l,"googleSignOn",(function(){return jt})),a.d(l,"SAVE_TO_NDEX",(function(){return kt})),a.d(l,"saveToNDEx",(function(){return Ct})),a.d(l,"SET_NETWORK_URL",(function(){return Nt})),a.d(l,"setNetworkUrl",(function(){return xt})),a.d(l,"SET_ERROR_MESSAGE",(function(){return At})),a.d(l,"setErrorMessage",(function(){return Tt}));var s=a(0),u=a.n(s),d=a(21),m=a(84),p=(a(208),a(17)),g=a(108),h=a(23),E=a(183),f=a(149),b=(a(209),a(345)),y="SET_QUERY",v="CLEAR_QUERY",O="SEARCH_STARTED",S="SEARCH_SUCCEEDED",w="SEARCH_FAILED",j="SET_SEARCH_RESULT",k="FETCH_RESULT_STARTED",C="FETCH_RESULT_SUCCEEDED",N="FETCH_RESULT_FAILED",x="CLEAR_ALL",A="SET_SELECTED_GENES",T="CLEAR_SELECTED_GENES",L="SET_SEARCH_RESULT_ORDER",R="SET_ACUTAL_RESULTS",P=Object(b.a)(y),_=Object(b.a)(v),I=Object(b.a)(O),F=Object(b.a)(S),D=Object(b.a)(w),U=Object(b.a)(j),G=Object(b.a)(k),H=Object(b.a)(C),B=Object(b.a)(N),M=Object(b.a)(x),W=Object(b.a)(A),q=Object(b.a)(T),K=Object(b.a)(L),z=Object(b.a)(R),X="SET_SETTINGS_OPEN",V=Object(b.a)(X),Q="SET_CYTOSCAPE_STATUS",Y=Object(b.a)(Q),$="SET_SERVICES_LIST_OPEN",J=Object(b.a)($),Z="SET_HIGHLIGHTS",ee=Object(b.a)(Z),te="SET_SELECTED_SOURCE",ae=Object(b.a)(te),ne="SET_PATHWAY_FIGURE",re=Object(b.a)(ne),oe="SET_PATHWAY_FIGURE_SOURCE",ie=Object(b.a)(oe),ce="SET_FIT_PATHWAY_FIGURE",le=Object(b.a)(ce),se="SET_SORT_OPTIONS",ue="SET_SORT_BY",de=Object(b.a)(se),me=Object(b.a)(ue),pe="SET_LAYOUT",ge="SET_LAYOUTS",he=Object(b.a)(pe),Ee=Object(b.a)(ge),fe="SET_ANNOTATIONS",be=Object(b.a)(fe),ye="FIT_NETWORK_VIEW",ve=Object(b.a)(ye),Oe="UPDATE",Se=Object(b.a)(Oe),we="NETWORK_FETCH_STARTED",je="NETWORK_FETCH_SUCCEEDED",ke="NETWORK_FETCH_FAILED",Ce="NETWORK_CLEAR",Ne="SELECT_NODES",xe="UNSELECT_NODES",Ae="SELECT_EDGES",Te="UNSELECT_EDGES",Le="DESELECT_ALL",Re="CHANGE_TAB",Pe="CHANGE_LIST_INDEX",_e="SET_ORIGINAL_NETWORK_URL",Ie=Object(b.a)(we),Fe=Object(b.a)(je),De=Object(b.a)(ke),Ue=Object(b.a)(Ce),Ge=Object(b.a)(Ne),He=Object(b.a)(xe),Be=Object(b.a)(Ae),Me=Object(b.a)(Te),We=Object(b.a)(Le),qe=Object(b.a)(Re),Ke=Object(b.a)(Pe),ze=Object(b.a)(_e),Xe="FIND_SOURCE_STARTED",Ve="FIND_SOURCE_SUCCEEDED",Qe="FIND_SOURCE_FAILED",Ye="SET_CURRENT_SOURCE",$e=Object(b.a)(Xe),Je=Object(b.a)(Ve),Ze=Object(b.a)(Qe),et=Object(b.a)(Ye),tt="IMPORT_NETWORK_STARTED",at="IMPORT_NETWORK_SUCCEEDED",nt="IMPORT_NETWORK_FAILED",rt=Object(b.a)(tt),ot=Object(b.a)(at),it=Object(b.a)(nt),ct="SET_PORT",lt=Object(b.a)(ct),st="FETCH_AVAILABLE",ut="SET_AVAILABLE",dt=Object(b.a)(st),mt=Object(b.a)(ut),pt="START_CYREST_POLLING",gt="STOP_CYREST_POLLING",ht=Object(b.a)(pt),Et=Object(b.a)(gt),ft="SET_NDEX_MODAL_OPEN",bt=Object(b.a)(ft),yt="SET_PROFILE",vt=Object(b.a)(yt),Ot="CREDENTIALS_SIGN_ON",St=Object(b.a)(Ot),wt="GOOGLE_SIGN_ON",jt=Object(b.a)(wt),kt="SAVE_TO_NDEX",Ct=Object(b.a)(kt),Nt="SET_NETWORK_URL",xt=Object(b.a)(Nt),At="SET_ERROR_MESSAGE",Tt=Object(b.a)(At),Lt=a(44),Rt=(a(210),a(211),a(90)),Pt=a(95),_t=a(267),It=a(348),Ft=a(347),Dt=a(57),Ut=a.n(Dt),Gt=a(269),Ht=a(270),Bt=a(314),Mt=a(346),Wt={padding:"0",borderRadius:"20px",height:"32px",borderWidth:"0",backgroundColor:"#FFFFFF"},qt={padding:"0",borderRadius:"20px",height:"32px",borderWidth:"0",backgroundColor:"rgb(252, 235, 242)"},Kt={margin:"0",borderRadius:"20px"},zt={backgroundColor:"transparent"},Xt=Object(_t.a)({label:{backgroundColor:"transparent"}})(Bt.a),Vt=function(e,t){return t.has(e.toUpperCase())?u.a.createElement(Ft.a,{avatar:u.a.createElement(It.a,{style:{height:"32px",width:"32px",position:"relative",left:"-4px"}},u.a.createElement(Ut.a,{style:{height:"18px"}})),label:e,variant:"outlined",color:"secondary",key:e,selected:!0,style:Kt,clickable:!0}):u.a.createElement(Ft.a,{avatar:u.a.createElement(It.a,{style:{height:"32px",width:"32px",position:"relative",left:"-4px"}},"-"),label:e,variant:"outlined",color:"default",key:e,selected:!0,style:Kt,clickable:!1})},Qt=function(e){var t=e.search.results,a=e.network.hitGenes,n=new Set(a),r=function(t,a){if(a in e.geneToNodeMap){var n=e.geneToNodeMap[a];n===e.search.selectedGenes[0]?e.searchActions.clearSelectedGenes():e.searchActions.setSelectedGenes(n)}else a===e.search.selectedGenes[0]?e.searchActions.clearSelectedGenes():e.searchActions.setSelectedGenes(a)};if(!t)return u.a.createElement("div",{className:"gene-list-wrapper"});var o=t.genes;if(!o)return u.a.createElement("div",{className:"gene-list-wrapper"});var i,c=[],l=[],s=new Set,d=Object(Pt.a)(o.values());try{for(d.s();!(i=d.n()).done;){var m=i.value;s.add(m.symbol)}}catch(y){d.e(y)}finally{d.f()}var p,g=Object(Pt.a)(s);try{for(g.s();!(p=g.n()).done;){var h=p.value;n.has(h.toUpperCase())?c.push(h.toUpperCase()):l.push(h.toUpperCase())}}catch(y){g.e(y)}finally{g.f()}var E=c.sort(),f=l.sort(),b=[].concat(Object(Rt.a)(E),Object(Rt.a)(f));return u.a.createElement("div",{className:"gene-list-wrapper"},u.a.createElement(Gt.a,null,b.map((function(t){return u.a.createElement(Ht.a,{key:t},u.a.createElement(Mt.a,{value:e.search.selectedGenes,exclusive:!0,onChange:r,style:zt},u.a.createElement(Xt,{value:t,style:n.has(t)&&e.search.selectedGenes[0]===t?qt:Wt},Vt(t,n))))}))))},Yt=function(e){var t,a,n={};if(null!=e.network.originalCX){for(var r=0;r<e.network.originalCX.length&&(null==e.network.originalCX[r].nodes||(t=e.network.originalCX[r].nodes,null==a))&&(null==e.network.originalCX[r].nodeAttributes||(a=e.network.originalCX[r].nodeAttributes,null==t));r++);for(var o=function(e){var r,o=a[e];if("member"===o.n)for(var i=t.filter((function(e){return e["@id"]===o.po}))[0].n,c=o.v,l=0;l<c.length;l++)n[(r=o.v[l],null==r?null:r.startsWith("hgnc.symbol:")&&r.length>12?r.substring(12):r)]=i},i=0;i<a.length;i++)o(i)}return u.a.createElement("div",{className:"input-container"},u.a.createElement("div",{className:"input-wrapper"},u.a.createElement("div",{className:"gene-list-title"},"Query Genes"," ",e.search.results&&e.search.results.genes?"("+e.network.hitGenes.length+"/"+e.search.results.genes.size+")":null),u.a.createElement(Qt,Object.assign({geneToNodeMap:n},e))))},$t=a(12),Jt=a(64),Zt=a(7),ea=a(342),ta=a(317),aa=a(349),na=function(e){var t=Object(Zt.a)((function(t){return{root:{minHeight:e.minheight,height:e.height,"&:hover":{backgroundColor:e.backgroundcolor,opacity:1}}}}))((function(e){return e.tooltip?u.a.createElement(aa.a,{title:e.tooltip},u.a.createElement(ta.a,e)):u.a.createElement(ta.a,e)}));return u.a.createElement(t,e)},ra=a(91),oa=(a(215),function(e){return u.a.createElement("div",{className:"results-container"},u.a.createElement("div",{className:"message"},u.a.createElement(ra.a,{variant:"h3"},e.message),e.details&&u.a.createElement(ra.a,{variant:"h4"},e.details)))}),ia=(a(59),a(85)),ca=a(155),la=a.n(ca),sa=a(89),ua=a(125),da=a.n(ua),ma=a(156),pa=a.n(ma),ga=a(157),ha=a(80),Ea=a.n(ha),fa=a(344),ba=a(318),ya=a(158),va=a.n(ya),Oa=function(e){var t=function(t,a){"clickaway"!==a&&e.setOpen(!1)};return u.a.createElement(fa.a,{anchorOrigin:{vertical:e.vertical,horizontal:e.horizontal},open:e.open,autoHideDuration:e.autoHideDuration||null,onClose:t,ContentProps:{"aria-describedby":"message-id"},message:u.a.createElement("span",{id:"message-id"},e.message),action:[u.a.createElement(ba.a,{color:"inherit",key:"close","aria-label":"Close",onClick:e.handleClose||t},u.a.createElement(va.a,null))]})},Sa=(a(140),Object(Zt.a)((function(e){return{container:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%",overflow:"hidden"}}}))((function(e){var t=e.classes,a=Object(s.useState)(!1),n=Object($t.a)(a,2),r=n[0],o=n[1],i=Object(s.useState)("dormant"),c=Object($t.a)(i,2),l=c[0],d=c[1],m=Object(s.useState)(null),p=Object($t.a)(m,2),g=p[0],h=p[1];if(e.network.uuid&&e.network.uuid.length>0&&e.cyrest.available){var E=e.cyrest.isLoadingNetwork,f=e.cyrest.lastResponse,b=0;if("dormant"===l&&E&&(h("Opening network in Cytoscape Desktop . . ."),d("openLoading"),r||o(!0)),"openLoading"!==l&&"closeLoading"!==l||null==f||(d("openResult"),"IMPORT_NETWORK_SUCCEEDED"===f.type?h("Network opened in Cytoscape Desktop!"):h("Network failed to open in Cytoscape Desktop"),r||o(!0)),"openResult"!==l||r||o(!0),"openResult"===l&&r){var y=b;setTimeout((function(){"openResult"===l&&y===b&&(d("dormant"),b++,o(!1))}),6e3)}return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:t.container},u.a.createElement(aa.a,{title:"Open in cytoscape",placement:"bottom"},u.a.createElement(ba.a,{"aria-haspopup":"true",color:"default",onClick:function(){e.handleImportNetwork()}},u.a.createElement("img",{alt:"Cytoscape logo",src:Ea.a}),u.a.createElement(ra.a,{variant:"subtitle2",color:"textSecondary"},"Network is too big for interactive view. ",u.a.createElement("br",null),"Click to open in Cytoscape Desktop.")))),u.a.createElement(Oa,{open:r,setOpen:o,message:g,setMessage:h,autoHideDuration:null,horizontal:"right",vertical:"bottom",handleClose:function(e,t){"openLoading"===l?d("closeLoading"):"openResult"===l&&(d("dormant"),b++),o(!1)}}))}return u.a.createElement("div",{className:t.container},u.a.createElement(ra.a,{variant:"subtitle2",color:"textSecondary",align:"center"},"Network is too big for interactive view. ",u.a.createElement("br",null),"Please open Cytoscape Desktop to view."))}))),wa={name:"concentric",padding:6,minNodeSpacing:100,animate:!1},ja={name:"cose",padding:6,nodeRepulsion:function(e){return 1008e4},nodeOverlap:4e5,idealEdgeLength:function(e){return 10},animate:!1,fit:!1},ka=a(53),Ca=5e3,Na="https://mygene.info/v3/query",xa="https://www.genecards.org/cgi-bin/carddisp.pl?gene=",Aa="https://github.com/cytoscape/search-portal/blob/master/README.md",Ta="https://home.ndexbio.org/contact-us/",La="https://cytoscape.org",Ra=" on localhost",Pa="https://dev.ndexbio.org/v2",_a="https://dev.ndexbio.org/integratedsearch/v1/",Ia="",Fa="2021 UC San Diego Ideker Lab",Da="https://medschool.ucsd.edu/som/medicine/research/labs/ideker/Pages/default.aspx",Ua=[{name:"Hypoxia",genes:"ADM ADORA2B AK4 AKAP12 ALDOA ALDOB ALDOC AMPD3 ANGPTL4 ANKZF1 ANXA2 ATF3 ATP7A B3GALT6 B4GALNT2 BCAN BCL2 BGN BHLHE40 BNIP3L BRS3 BTG1 CA12 CASP6 CAV1 CCNG2 CCRN4L CDKN1A CDKN1B CDKN1C CHST2 CHST3 CITED2 COL5A1 CP CSRP2 CTGF CXCR4 CXCR7 CYR61 DCN DDIT3 DDIT4 DPYSL4 DTNA DUSP1 EDN2 EFNA1 EFNA3 EGFR ENO1 ENO2 ENO3 ERO1L ERRFI1 ETS1 EXT1 F3 FAM162A FBP1 FOS FOSL2 FOXO3 GAA GALK1 GAPDH GAPDHS GBE1 GCK GCNT2 GLRX GPC1 GPC3 GPC4 GPI GRHPR GYS1 HAS1 HDLBP HEXA HK1 HK2 HMOX1 HOXB9 HS3ST1 HSPA5 IDS IER3 IGFBP1 IGFBP3 IL6 ILVBL INHA IRS2 ISG20 JMJD6 JUN KDELR3 KDM3A KIF5A KLF6 KLF7 KLHL24 LALBA LARGE LDHA LDHC LOX LXN MAFF MAP3K1 MIF MT1E MT2A MXI1 MYH9 NAGK NCAN NDRG1 NDST1 NDST2 NEDD4L NFIL3 NR3C1 P4HA1 P4HA2 PAM PCK1 PDGFB PDK1 PDK3 PFKFB3 PFKL PFKP PGAM2 PGF PGK1 PGM1 PGM2 PHKG1 PIM1 PKLR PKP1 PLAC8 PLAUR PLIN2 PNRC1 PPARGC1A PPFIA4 PPP1R15A PPP1R3C PRDX5 PRKCA PRKCDBP PTRF PYGM RBPJ RORA RRAGD S100A4 SAP30 SCARB1 SDC2 SDC3 SDC4 SELENBP1 SERPINE1 SIAH2 SLC25A1 SLC2A1 SLC2A3 SLC2A5 SLC37A4 SLC6A6 SRPX STBD1 STC1 STC2 SULT2B1 TES TGFB3 TGFBI TGM2 TIPARP TKTL1 TMEM45A TNFAIP3 TPBG TPD52 TPI1 TPST2 UGP2 VEGFA VHL VLDLR WISP2 WSB1 XPNPEP1 ZFP36 ZNF292",description:"The 200 genes comprising the MSigDB Hallmark Gene Set for Hypoxia"}];void 0===window.ndexSettings?console.log("ndexSettings is not defined. Using dummy config"):void 0===window.ndexSettings.iQuery?console.log("ndexSettings.iQuery is not defined. Using dummy config"):(Na=window.ndexSettings.iQuery.myGeneUri,xa=window.ndexSettings.iQuery.geneCardsUri,Aa=window.ndexSettings.iQuery.helpUri,Ta=window.ndexSettings.iQuery.feedBackUri,La=window.ndexSettings.iQuery.cytoscapeUri,Ra=window.ndexSettings.iQuery.deployEnvironment,Pa=window.ndexSettings.ndexServerUri,_a=window.ndexSettings.iQuery.baseUri,Ia=window.ndexSettings.googleClientId,Ua=window.ndexSettings.iQuery.geneSetExamples,Da=window.ndexSettings.iQuery.ucsdUri,Fa=window.ndexSettings.iQuery.copyRight,Ca=window.ndexSettings.iQuery.maxNetworkSize);var Ga="v1.3"+Ra;da.a.use(pa.a);var Ha=null,Ba=new ga.CxToCyCanvas(sa.CxToJs),Ma=new sa.CyNetworkUtils,Wa=function(e){var t,a,n=e.uiState,r=n.highlights,o=n.fit,i=e.network.originalCX,c=e.network.network,l=Object(s.useState)(c?Object(ka.cloneDeep)(c.elements):null),d=Object($t.a)(l,2),m=d[0],p=(d[1],{name:"preset",padding:6,animate:!1,positions:function(e){var t=e[0]._private.data.id;return(m?m.filter((function(e){return e.data.id.toString()===t.toString()})):[{position:null}])[0].position}}),g=Object(s.useState)(p),h=Object($t.a)(g,2),E=h[0],f=h[1],b=e.network.backgroundColor;null!==b&&void 0!==b||(b="#FFFFFF");if(Object(s.useEffect)((function(){if(void 0!==Ha&&null!==Ha){Ha.on("tap",(function(t){try{t.target===Ha&&(e.networkActions.unselectEdges(),e.networkActions.unselectNodes())}catch(a){console.warn(a)}}));var n=function(){setTimeout((function(){var t=[];Ha.$("edge:selected").forEach((function(e){t.push(e.data())})),0===t.length?e.networkActions.unselectEdges():e.networkActions.selectEdges(t)}),1)},r=function(){setTimeout((function(){var t=[];Ha.$("node:selected").forEach((function(e){""!==e.data().name&&t.push(e.data())})),0===t.length?e.networkActions.unselectNodes():e.networkActions.selectNodes(t)}),1)};if(Ha.on("tap","node",(function(){try{Ha.nodes().removeClass("connected")}catch(e){console.warn(e)}r()})),Ha.on("tap","edge",(function(){try{Ha.nodes().removeClass("connected");var e=this.data(),t=e.source,a=e.target;Ha.$("#"+t+", #"+a).addClass("connected")}catch(r){console.warn(r)}n()})),Ha.on("boxend",(function(e){n(),r()})),Ha.elements().addClass("faded"),Ha.filter('node[querynode = "true"]').addClass("highlight"),null!=c)c.isLayout?(t=["Preset","Cose","Concentric"],a="Preset",f(p)):(t=["Cose","Concentric"],c.elements.length<500?(a="Cose",f(ja)):(a="Concentric",f(wa)));return new Promise((function(e,t){!function(){if("preset"===E.name&&i){var e=i.filter((function(e){return void 0!==e.networkAttributes}));if(void 0!==e){var t=e[0];if(void 0!==t&&null!==t.networkAttributes){var a=t.networkAttributes.filter((function(e){return"__Annotations"===e.n}));if(0!==a.length&&Ha){var n=Ma.rawCXtoNiceCX(i);console.log("* Registering annotation renderer for this niceCX:",a),Ba.drawAnnotationsFromNiceCX(Ha,n),Ba.drawBackground(Ha,b)}}}}}(),e()})).then((function(){e.uiStateActions.update({layouts:t,layout:a})})),function(){console.log("Network viewer unmounted")}}}),[]),Object(s.useEffect)((function(){if(void 0!==Ha&&null!==Ha){var t=e.search.selectedGenes;if(null!==t&&void 0!==t){var a=Ha.elements('node[name = "'+t[0]+'"]');if(0!==a.length)try{Ha.animate({zoom:2,center:{eles:a[0]}},{duration:500})}catch(n){console.log("Caught cyInstance animate error ",n)}if(0===t.length)try{Ha.animate({fit:{eles:Ha.elements(),padding:6}},{duration:500})}catch(n){console.log("Caught cyInstance animate error",n)}}}}),[e.search.selectedGenes]),Object(s.useEffect)((function(){void 0!==Ha&&null!==Ha&&o&&(Ha.animate({fit:{eles:Ha.elements(),padding:6}},{duration:500}),e.uiStateActions.fitNetworkView(!1))}),[o]),Object(s.useEffect)((function(){switch(e.uiState.layout){case"Preset":f(p);break;case"Cose":f(ja);break;case"Concentric":f(wa)}}),[e.uiState.layout]),m&&m.length>Ca)return u.a.createElement(Sa,e);if(null===c||void 0===c)return null;null!==Ha&&(Ha.resize(),E!==ja&&E!==wa||(E.stop=function(){setTimeout((function(){try{Ha.animate({fit:{eles:Ha.elements(),padding:6}},{duration:0})}catch(e){console.log("Caught cyInstance animate error ",e)}}),0)}),r?(Ha.elements().addClass("faded"),Ha.filter('node[querynode = "true"]').addClass("highlight")):Ha.elements().removeClass("faded").removeClass("highlight"));return u.a.createElement(la.a,{elements:c.elements,layout:E,style:{width:"100%",height:"100%",background:"rgba(0,0,0,0)"},stylesheet:c.style,cy:function(e){Ha=e}})},qa=(a(223),a(319)),Ka=function(e){return u.a.createElement("div",{className:"loading-container",style:{backgroundColor:e.color}},u.a.createElement(ra.a,{className:"loading-title",variant:"h5",color:"primary"},e.title),u.a.createElement(ra.a,{className:"loading-message",variant:"subtitle1",color:"initial"},e.message),u.a.createElement(qa.a,{size:100}))},za=a(159),Xa=a(272),Va=Object(Xa.a)((function(e){return{imageContainer:{height:"100%",width:"100%"},messageContainer:{display:"flex",justifyContent:"center",height:"100%"},message:{top:"40%",position:"relative"}}})),Qa=function(e){var t=Va(),a=Object(s.useState)({scale:1,translation:{x:0,y:0}}),n=Object($t.a)(a,2),r=n[0],o=n[1],i=Object(s.useState)(0),c=Object($t.a)(i,2),l=c[0],d=c[1],m=Object(s.useState)(0),p=Object($t.a)(m,2),g=p[0],h=p[1],E=Object(s.useRef)(null),f=Object(s.useRef)(null),b=function(e,t){var a=E.current.offsetHeight,n=E.current.offsetWidth,r=1,i=1;(e>a&&(r=a/e),t>n&&(i=n/t),r<i)?o({scale:r,translation:{x:(n-t*r)/2,y:0}}):o({scale:r,translation:{x:0,y:(a-e*i)/2}})};Object(s.useEffect)((function(){e.uiState.fitPathwayFigure&&(b(l,g),e.uiStateActions.setFitPathwayFigure(!1))}),[e.uiState.fitPathwayFigure]);var y=e.uiState.pathwayFigureSource;return"loading"===y?u.a.createElement(Ka,{title:"Loading Figure..."}):null!==y?u.a.createElement("div",{className:t.imageContainer,ref:E},u.a.createElement(za.MapInteractionCSS,{value:r,onChange:function(e){return o(e)}},u.a.createElement("img",{src:y,ref:f,onLoad:function(){var e=f.current.naturalHeight,t=f.current.naturalWidth;d(e),h(t),b(e,t)}}))):u.a.createElement("div",{className:t.messageContainer},u.a.createElement(ra.a,{variant:"subtitle1",color:"textSecondary",className:t.message},"Pathway figure unavailable"))},Ya=function(e){return e.network.isFetching?u.a.createElement("div",{className:"network-view"},u.a.createElement(Ka,{title:"Loading Network...",color:"#FFFFFF"})):0===e.search.actualResults.length?u.a.createElement("div",{className:"network-view"}):e.network.nodeCount+e.network.edgeCount>Ca?u.a.createElement("div",{className:"network-view"},u.a.createElement(Sa,e)):"pathwayfigures"===e.uiState.selectedSource?u.a.createElement("div",{className:"network-view"},e.uiState.pathwayFigure?u.a.createElement(Qa,e):u.a.createElement(Wa,Object.assign({resized:e.resized},e))):u.a.createElement("div",{className:"network-view"},u.a.createElement(Wa,Object.assign({resized:e.resized},e)))},$a=function(e,t){for(var a=e.length,n=null;a--;){var r=e[a];if(r[t]){n=r[t];break}}return n},Ja=a(320),Za=function(e){if("http"===e.slice(0,4)||"Prov:"===e.slice(0,5))return e;var t=e.replace(/([a-z])([A-Z][a-z])/g,"$1 $2").replace(/([A-Z][a-z])([A-Z])/g,"$1 $2").replace(/([a-z])([A-Z]+[a-z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-z][a-z])/g,"$1 $2").replace(/([a-z]+)([A-Z]+)/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-rt-z][a-z]*)/g,"$1 $2").replace(/([0-9])([A-Z][a-z]+)/g,"$1 $2").replace(/([0-9]{2,})([A-Z]{2,})/g,"$1 $2").trim();return t=(t=t.charAt(0).toUpperCase()+t.slice(1)).replace("Wiki Pathways","WikiPathways").replace("Wikipathways","WikiPathways").replace("Sbo ","SBO ").replace("Ncipid","NCI PID").replace("Cptac","CPTAC").replace("Hpmi","HPMI").replace("Ccmi","CCMI").replace("Tcga","TCGA").replace("Querynode","Query Node")},en=function(e){return e.toString().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\ *>/gi,"")},tn=a(81),an=a.n(tn),nn=a(82),rn=a.n(nn),on=a(321),cn=a(112),ln=a.n(cn),sn=a(113),un=a.n(sn);function dn(e){var t,a=u.a.useState(e.defaultExpanded),n=Object($t.a)(a,2),r=n[0],o=n[1];return t=e.divider?{borderTop:"1px solid #EFEFEF"}:{},u.a.createElement(u.a.Fragment,null,u.a.createElement(Ht.a,{button:!0,onClick:function(){o(!r)},key:Math.random(),style:t},u.a.createElement(Ja.a,{primary:e.summary}),r?u.a.createElement(ln.a,null):u.a.createElement(un.a,null)),u.a.createElement(on.a,{in:r,timeout:"auto",unmountOnExit:!0},u.a.createElement(Gt.a,{component:"div",disablePadding:!0},u.a.createElement(Ht.a,null,u.a.createElement(Ja.a,{primary:e.details})))))}var mn=0,pn=Object(Xa.a)((function(e){return{container:{padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto",height:"100%",boxSizing:"content-box"},padding:{paddingLeft:"1em",paddingTop:"0.75em"},lessPadding:{paddingTop:"2.49px"},noPadding:{paddingTop:"0",paddingBottom:"0"}}})),gn=function(e){var t=e.v;return Array.isArray(e.v)&&(t=e.v.join(", ")),en(t.trim())},hn=function(e){var t;return t=null!=e.n?e.n.charAt(0).toUpperCase()+e.n.slice(1):"",en(t.trim())},En=function(e){if(""===e)return e;var t=e.replace(/<\/?p\/?>/gi,"<br>").replace(/(<\/?br\/?>)+/gi,"<br>").replace(/(\n)+/gi,"\n").replace(/<a\s+href=/gi,'<a target="_blank" href=').trim();return t.startsWith("<br>")&&(t=t.slice(4,t.length-1)),t.endsWith("<br>")&&(t=t.slice(0,t.length-4)),t=t.charAt(0).toUpperCase()+t.slice(1),t=rn()(t),u.a.createElement(an.a,{key:Math.random().toString()},t)},fn=function(e){var t=[];for(var a in e)t.push(u.a.createElement("tr",{key:Math.random().toString()},u.a.createElement("td",{valign:"top"},u.a.createElement(ra.a,{variant:"body2"},a)),u.a.createElement("td",{valign:"top"},u.a.createElement(ra.a,{variant:"body2"},e[a]))));return u.a.createElement("table",null,u.a.createElement("tbody",null,t))},bn=function(e){mn=0;var t=e.network.originalCX,a=e.context,n=pn(),r=$a(t,"networkAttributes");if(null!==r){var o,i,c=["Name","Description","Methods","Reference","@context"],l=["Organism","Cell","Disease"],s=["Author","Reviewers","Rights Holder","Rights"],d=["WikiPathways ID","WikiPathways Version","WikiPathways IRI"],m=["GO Hierarchy","GO ID"],p=["Version","Network Type","Labels"],g=[l,s,d,m,p],h=[];r.forEach((function(t){if(o=gn(t),(i=hn(t)).startsWith("__")||null==o||""===o)"Name"===i&&h.push({title:i,content:"Untitled",displayed:!1});else if("Description"!==i||"interactome-ppi"!==e.uiState.selectedSource&&"interactome-association"!==e.uiState.selectedSource)if("Organism"===i){var a=o.toLowerCase().indexOf("Homo sapiens".toLowerCase());-1!==a&&(o=o.substring(0,a)+"<em>Homo sapiens</em>"+o.substring(a+"Homo sapiens".length)),h.push({title:"Organism",content:o,displayed:!1})}else if("GO hierarchy"===i)h.push({title:"GO Hierarchy",content:o,displayed:!1});else if("GO ID"===i){var n=o.split(":")[1];null!=n?h.push({title:"GO ID",content:'<a href="http://identifiers.org/GO:'+n+'">'+o+"</a>",displayed:!1}):h.push({title:"GO ID",content:o,displayed:!1})}else"@context"!==i&&h.push({title:Za(i),content:o,displayed:!1});else{var r="Description of parent network";c.splice(1,0,r),h.push({title:r,content:o,displayed:!1})}}));var E=[];g.forEach((function(e){var t,a,r="";switch(e.forEach((function(e){null!=(t=h.filter((function(t){return t.title===e}))[0])&&(r+=t.title+": "+t.content+"<br>",t.displayed=!0)})),e){case l:a="Properties";break;case s:a="Contributors";break;case d:a="WikiPathways";break;case m:a="Gene Ontology";break;case p:a="Network Information"}""!==(r=En(r))&&E.push(u.a.createElement(Ht.a,{key:mn++,className:n.noPadding},u.a.createElement(Ja.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},a),u.a.createElement("div",null,u.a.createElement(ra.a,{variant:"body2"},r)))})))}));var f,b,y,v=[];c.forEach((function(e){null!=(f=h.filter((function(t){return t.title===e}))[0])&&(b=En(f.content),y=e,f.displayed=!0,v.push(u.a.createElement(Ht.a,{key:mn++,className:n.noPadding},u.a.createElement(Ja.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{component:"span",variant:"caption",color:"textSecondary"},y),u.a.createElement("div",null,u.a.createElement(ra.a,{component:"span",variant:"body2"},b)))}))))})),b=fn(a);var O=u.a.createElement(ra.a,{component:"span",variant:"body2"},"Click to view the namespaces associated with this network"),S=b;return v.push(u.a.createElement(u.a.Fragment,{key:mn},u.a.createElement("div",{className:n.padding},u.a.createElement(ra.a,{component:"span",variant:"caption",color:"textSecondary"},"@context")),u.a.createElement(dn,{summary:O,details:S,defaultExpanded:!1,keyId:mn++,divider:!1}))),h.forEach((function(e){e.displayed||(b=En(e.content),y=e.title,e.displayed=!0,v.push(u.a.createElement(Ht.a,{key:mn++,className:n.noPadding},u.a.createElement(Ja.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{component:"span",variant:"caption",color:"textSecondary"},y),u.a.createElement("div",null,u.a.createElement(ra.a,{component:"span",variant:"body2"},b)))}))))})),u.a.createElement(ia.a,{sizes:[70,30],gutterSize:7,className:"network-info"},u.a.createElement("div",{className:"network-info-panel"},u.a.createElement(Gt.a,{className:n.lessPadding},v)),u.a.createElement("div",{className:"network-info-panel"},u.a.createElement(Gt.a,{className:n.lessPadding},E)))}},yn=a(8),vn=a(39),On=a(40),Sn=a(42),wn=a(41),jn=a(322),kn=a(160),Cn=a.n(kn),Nn=(a(241),function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(){var e;Object(vn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.handleClick=function(t){var a="pw_"+t,n=e.state[a];void 0===n||null==n?e.setState((function(e){return Object(yn.a)({},a,!0)})):e.setState((function(e){return Object(yn.a)({},a,!n)}))},e.getListItem=function(t,a){if(null===t||void 0===t)return null;var n=t.summary;return u.a.createElement(Ht.a,{alignItems:"flex-start",key:t._id,onClick:function(a){return e.handleClick(t._id)},disableGutters:!0,style:{padding:"0"}},u.a.createElement(jn.a,null,u.a.createElement(It.a,{className:a.matched},u.a.createElement(Ut.a,null))),u.a.createElement(Ja.a,{primary:u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",{style:{marginLeft:"-1"}},u.a.createElement("td",{style:{padding:"0"}},u.a.createElement("div",null,u.a.createElement(ra.a,{component:"span",variant:"body2"},t.symbol)),u.a.createElement("div",null,u.a.createElement(ra.a,{component:"span",className:a.inline,variant:"caption",color:"textSecondary"},Za(t.name))),u.a.createElement("div",null,u.a.createElement(ra.a,{variant:"body2",color:"textPrimary"},n))),u.a.createElement("td",null,u.a.createElement(aa.a,{title:"Open in GeneCards",placement:"bottom"},u.a.createElement(ba.a,{"aria-label":"Link to GeneCards",href:xa+t.symbol,target:"_blank"},u.a.createElement(Cn.a,null)))))))}))},e}return Object(On.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=this.props.search_results;if(!t)return u.a.createElement("div",{className:"gene-list-wrapper"});var a=t.genes;if(!a)return u.a.createElement("div",{className:"gene-list-wrapper"});var n=this.props.geneSymbol,r=this.getListItem(a.get(n),e);return null==r?this.getListItem(a.get(n.toLowerCase()),e):r}}]),a}(u.a.Component)),xn=Object(Zt.a)((function(e){return{inline:{display:"inline"},title:{marginLeft:"0.5em",marginTop:"0.3em"},description:{marginLeft:"1em",marginTop:"0.3em"},matched:{backgroundColor:"#C51162"},unmatched:{backgroundColor:"red"},linkIcon:{paddingLeft:"1em"},nested:{paddingLeft:e.spacing(4)}}}))(Nn),An=Object(Xa.a)((function(e){return{noPadding:{paddingTop:"0",paddingBottom:"0"},center:{justifyContent:"center",alignItems:"center",display:"flex",width:"100%"},wideList:{marginTop:"0",width:"100%",padding:"0"},table:{width:"100%",tableLayout:"fixed"},matched:{marginLeft:"0.5em",backgroundColor:"#C51162",height:"1em",width:"1em"},icon:{height:"0.5em",weidth:"0.5em"}}})),Tn=0,Ln=function(e){return null==e?"":en(e)},Rn=function(e){return null==e?"":en(e)},Pn=function(e){if(""===e)return e;var t=e.replace(/<\/?p\/?>/gi,"<br>").replace(/(<\/?br\/?>)+/gi,"<br>").replace(/(\n)+/gi,"\n").replace(/<a\s+href=/gi,'<a target="_blank" href=').trim();return t.startsWith("<br>")&&(t=t.slice(4,t.length-1)),t.endsWith("<br>")&&(t=t.slice(0,t.length-4)),t=rn()(t),u.a.createElement(an.a,{key:"link"+Tn++},t)},_n=u.a.memo((function(e){var t,a=An(),n=e.context,r=e.listProperties,o=Object(s.useState)(!0),i=Object($t.a)(o,2),c=i[0],l=i[1];if(e.network.nodeCount+e.network.edgeCount>Ca)return u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:a.center},u.a.createElement(ra.a,{color:"textSecondary",variant:"subtitle1"},"Network to big to display nodes")));t=0===e.network.selectedNodes.length?e.network.network.elements.filter((function(e){return"e"!==e.data.id[0]})).map((function(e){return e.data})).filter((function(e){return null!=e.name&&""!==e.name})):e.network.selectedNodes;var d=["Name","Type","Location","ID","HGNC","Ensembl","Alias","Members","Member"],m=["Height","Width","Shape","Is GPML Shape","Color","Fill Color","Transparent","Border Thickness","Border Style","Label Size","Label Font","Node Id","Query Node"],p=[d,m];t.sort((function(e,t){return e.name.toUpperCase()>t.name.toUpperCase()?1:-1}));var g=[];return t.forEach((function(t){var o,i,l=[],s=null,h=!1,E=!1,f={};for(var b in r){var y=r[b][t.name];f[b]=new Set(y)}if(t.name in e.represents){var v=e.represents[t.name].split(":"),O=Object($t.a)(v,2),S=O[0],w=O[1];null!=w&&/[^\s]/.test(w)&&S.toUpperCase()in n?l.push({title:"ID",content:'<a href="'+n[S.toUpperCase()]+w+'">'+e.represents[t.name]+"</a>",displayed:!1}):l.push({title:"ID",content:e.represents[t.name],displayed:!1})}for(var j in t)if(o=Ln(t[j]),"querynode"===(i=Rn(j))&&(E=!0),!i.startsWith("__")&&null!=o&&"null"!==o&&""!==o)if(i in f)f[i].add(o);else if("id"===i)l.push({title:"Node Id",content:o,displayed:!1});else if(i.toUpperCase()in n)l.push({title:Za(i),content:'<a href="'+n[i.toUpperCase()]+"/"+o+'">'+o+"</a>",displayed:!1});else if("query"!==i){var k=o.split(":"),C=Object($t.a)(k,2),N=C[0],x=C[1];N.toUpperCase()in n&&null!=x&&/[^\s]/.test(x)?l.push({title:Za(i),content:'<a href="'+n[N.toUpperCase()]+x+'">'+o+"</a>",displayed:!1}):"hgnc.symbol"===N?l.push({title:Za(i),content:'<a href="https://identifiers.org/hgnc/'+x+'">'+o+"</a>",displayed:!1}):l.push({title:Za(i),content:o,displayed:!1})}for(var A in f){var T=f[A],L="";T.forEach((function(e){var t=e.split(":"),a=Object($t.a)(t,2),r=a[0],o=a[1];r.toUpperCase()in n&&null!=o&&/[^\s]/.test(o)?L+='<a href="'+n[r.toUpperCase()]+o+'">\t'+e+"</a><br/>":null!=o&&/[^\s]/.test(o)?L+='<a href="https://identifiers.org/'+r+"/"+o+'">\t</a><br/>':L+=e+"<br/>"})),T.size>1?l.push({title:Za(A),content:'<div style="padding-left:1em;">'+L+"</div>",displayed:!1}):1===T.size&&l.push({title:Za(A),content:L,displayed:!1})}null==e.search.results||null==e.search.results.genes.get(t.name)&&null==e.search.results.genes.get(t.name.toLowerCase())||(h=!0,s=u.a.createElement(Gt.a,{className:a.noPadding},u.a.createElement(xn,Object.assign({},e,{search_results:e.search.results,geneSymbol:t.name}))));var R,P,_=[],I=[];p.forEach((function(e){var t;if(R="",e.forEach((function(e){null!=(t=l.filter((function(t){return t.title===e}))[0])&&null!=t.content&&(R+=t.title+": "+t.content+"<br>",t.displayed=!0)})),""!==(R=Pn(R)))switch(e){case d:P="Entity Properties",_.push(u.a.createElement(Ht.a,{key:Tn++,className:a.noPadding,disableGutters:!0},u.a.createElement(Ja.a,{inset:h,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},P),u.a.createElement("div",null,u.a.createElement(ra.a,{variant:"body2",component:"div"},R)))})));break;case m:P="Node Properties",I.push(u.a.createElement(Ht.a,{key:Tn++,className:a.noPadding,disableGutters:!0},u.a.createElement(Ja.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},P),u.a.createElement("div",null,u.a.createElement(ra.a,{variant:"body2"},R)))})))}})),R="",l.forEach((function(e){e.displayed||(R+=e.title+": "+e.content+"<br>",e.displayed=!0)})),R=Pn(R),P="Additional properties",""!==R&&_.push(u.a.createElement(Ht.a,{key:Tn++,className:a.noPadding,disableGutters:!0},u.a.createElement(Ja.a,{inset:h,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},P),u.a.createElement("div",null,u.a.createElement(ra.a,{variant:"body2"},R)))})));var F=u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(ra.a,{variant:"body2"},t.name)),E?u.a.createElement("td",null,u.a.createElement(It.a,{className:a.matched},u.a.createElement(Ut.a,{className:a.icon}))):null))),D=u.a.createElement("table",{className:a.table},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{colSpan:"2",valign:"top"},s)),u.a.createElement("tr",null,u.a.createElement("td",{valign:"top"},_),u.a.createElement("td",{valign:"top"},I))));g.push(u.a.createElement(dn,{summary:F,details:D,defaultExpanded:c,key:t.id+Tn++,divider:!0}))})),0===g.length?u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:a.center},u.a.createElement(ra.a,{color:"textSecondary",variant:"subtitle1"},"No nodes to display"))):1===g.length?(c||l(!0),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement(Gt.a,{className:a.noPadding},g)))):(c&&l(!1),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement("div",null,u.a.createElement(Gt.a,{className:a.noPadding},g)))))}),(function(e,t){return Object(ka.isEqual)(e.network.selectedNodes,t.network.selectedNodes)})),In=0,Fn=Object(Xa.a)((function(e){return{noPadding:{paddingTop:"0",paddingBottom:"0"},center:{justifyContent:"center",alignItems:"center",display:"flex",width:"100%"},wideList:{marginTop:"0",width:"100%",padding:"0"},table:{width:"100%",tableLayout:"fixed"},matched:{backgroundColor:"#C51162",height:"1em",width:"1em"},icon:{height:"0.5em",weidth:"0.5em"}}})),Dn=function(e){return null==e?"":en(e)},Un=function(e){return null==e?"":en(e)},Gn=function(e){if(""===e)return e;var t=e.replace(/<\/?p\/?>/gi,"<br>").replace(/(<\/?br\/?>)+/gi,"<br>").replace(/(\n)+/gi,"\n").replace(/<a\s+href=/gi,'<a target="_blank" href=').trim();return t.startsWith("<br>")&&(t=t.slice(4,t.length-1)),t.endsWith("<br>")&&(t=t.slice(0,t.length-4)),t=rn()(Za(t)),u.a.createElement(an.a,{key:"link:"+In++},t)},Hn=function(e,t){if(isNaN(e)||""===e)return e;var a=t.filter((function(t){return t["@id"].toString()===e.toString()}))[0];return null!=a?a.n:""},Bn=u.a.memo((function(e){var t,a=Fn(),n=e.context,r=e.listProperties,o=Object(s.useState)(!0),i=Object($t.a)(o,2),c=i[0],l=i[1];if(e.network.nodeCount+e.network.edgeCount>Ca)return u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:a.center},u.a.createElement(ra.a,{color:"textSecondary",variant:"subtitle1"},"Network to big to display edges")));t=0===e.network.selectedEdges.length?e.network.network.elements.filter((function(e){return"e"===e.data.id[0]})).map((function(e){return e.data})):e.network.selectedEdges;var d=e.nodeList,m=["Source","Target","Type","SBO Type","Interaction","Mechanism","Throughput","Location","Score","Citation","Sentence","Publication 1st Author","Annotator","Interaction Detection Methods","Presence In Other Species","Source Databases","Experimental System","Experimental System Type","Modification","Phenotypes","Qualifications"],p=["Start Arrow","End Arrow","Connector Type","Line Thickness","Line Style","Color","Directed","Edge Id"],g=[m,p];t.sort((function(e,t){var a=0,n=0,r=Hn(e.source,d),o=Hn(e.target,d),i=Hn(t.source,d),c=Hn(t.target,d);return""!==r&&a++,""!==o&&a++,""!==i&&n++,""!==c&&n++,n-a!==0?n-a:""===r?1:""===i?-1:r.toUpperCase()>i.toUpperCase()?1:r.toUpperCase()<i.toUpperCase()?-1:o.toUpperCase()>c.toUpperCase()?1:-1}));var h=[];return t.forEach((function(t){var o,i,l,s,E=[],f=t.id.slice(1),b={};for(var y in r){var v=r[y][f];b[y]=new Set(v)}for(var O in t)if(o=Dn(t[O]),!(i=Un(O)).startsWith("__")&&null!=o&&"null"!==o&&""!==o)if(i in b)b[i].add(o);else if("source"===i)l=Hn(o,d),E.push({title:"Source",content:l,displayed:!1});else if("target"===i)s=Hn(o,d),E.push({title:"Target",content:s,displayed:!1});else if("id"===i)E.push({title:"Edge Id",content:f,displayed:!1});else if("sboType"===i){var S=o.split(":")[1];E.push({title:"SBO Type",content:'<a href="https://identifiers.org/SBO:'+S+'">'+o+"</a>"})}else{var w=o.split(":"),j=Object($t.a)(w,2),k=j[0],C=j[1];k.toUpperCase()in n&&null!=C&&/[^\s]/.test(C)?E.push({title:Za(i),content:'<a href="'+n[k.toUpperCase()]+C+'">'+o+"</a>",displayed:!1}):E.push({title:Za(i),content:o,displayed:!1})}for(var N in b){var x=b[N],A="";x.forEach((function(e){var t=e.split(":"),a=Object($t.a)(t,2),r=a[0],o=a[1];r.toUpperCase()in n&&null!=o&&/[^\s]/.test(o)?A+='<a href="'+n[r.toUpperCase()]+o+'">'+e+"</a><br/>":A+=e+"<br/>"})),x.size>1?E.push({title:Za(N),content:'<div style="padding-left:1em;">'+A+"</div>",displayed:!1,noBreak:!0}):1===x.size&&E.push({title:Za(N),content:A,displayed:!1})}var T,L,R=[],P=[];g.forEach((function(e){var t;if(T="",e.forEach((function(e){null!=(t=E.filter((function(t){return t.title===e}))[0])&&null!=t.content&&(T+=t.title+": "+t.content+(t.noBreak?"":"<br>"),t.displayed=!0)})),""!==(T=Gn(T)))switch(e){case m:L="Entity Properties",R.push(u.a.createElement(Ht.a,{key:Math.random(),className:a.noPadding},u.a.createElement(Ja.a,{inset:!1,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{component:"span",variant:"caption",color:"textSecondary"},L),u.a.createElement("div",null,u.a.createElement(ra.a,{component:"span",variant:"body2"},T)))})));break;case p:L="Edge Properties",P.push(u.a.createElement(Ht.a,{key:Math.random(),className:a.listPadding,disableGutters:!0},u.a.createElement(Ja.a,{primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},L),u.a.createElement("div",null,u.a.createElement(ra.a,{variant:"body2"},T)))})))}})),T="",E.forEach((function(e){e.displayed||(T+=e.title+": "+e.content+(e.noBreak?"":"<br/>"),e.displayed=!0)})),T=Gn(T),L="Additional properties",""!==T&&R.push(u.a.createElement(Ht.a,{key:In++,className:a.noPadding},u.a.createElement(Ja.a,{inset:!1,primary:u.a.createElement(u.a.Fragment,null,u.a.createElement(ra.a,{component:"span",variant:"caption",color:"textSecondary"},L),u.a.createElement("div",null,u.a.createElement(ra.a,{component:"span",variant:"body2"},T)))})));var _=u.a.createElement("table",null,u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement(ra.a,{variant:"body2"},l)),e.search.queryList.includes(l.toUpperCase())?u.a.createElement("td",null,u.a.createElement(It.a,{className:a.matched},u.a.createElement(Ut.a,{className:a.icon}))):null,u.a.createElement("td",null,u.a.createElement(ra.a,{variant:"body2"}," \u279d ")),u.a.createElement("td",null,u.a.createElement(ra.a,{variant:"body2"},s)),e.search.queryList.includes(s.toUpperCase())?u.a.createElement("td",null,u.a.createElement(It.a,{className:a.matched},u.a.createElement(Ut.a,{className:a.icon}))):null))),I=u.a.createElement("table",{className:a.table},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",{valign:"top"},R),u.a.createElement("td",{valign:"top"},P))));h.push(u.a.createElement(dn,{summary:_,details:I,defaultExpanded:c,key:In++,divider:!0}))})),0===h.length?u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:a.center},u.a.createElement(ra.a,{variant:"body2",color:"textSecondary"},"No edges to display"))):1===h.length?(c||l(!0),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement(Gt.a,{className:a.noPadding},h)))):(c&&l(!1),u.a.createElement("div",{className:"outer-rectangle"},u.a.createElement("div",{className:"inner-rectangle"},u.a.createElement("div",null,u.a.createElement(Gt.a,{className:a.noPadding},h)))))}),(function(e,t){return Object(ka.isEqual)(e.network.selectedEdges,t.network.selectedEdges)})),Mn=Object(Xa.a)((function(e){return{container:{padding:"0.2em",backgroundColor:"#FFFFFF",overflow:"auto"},list:{},subtitle:{marginLeft:"1em",marginTop:"0.5em"},root:{minHeight:0}}})),Wn=function(e){var t,a=e.value;if(null!=(t=$a(e.network.originalCX,"@context")))t=t[0];else{var n=$a(e.network.originalCX,"networkAttributes");if(null!=n)for(var r=0;r<n.length;r++)"@context"===n[r].n&&(t=JSON.parse(n[r].v))}for(var o,i,c,l=Object(ka.mapKeys)(t,(function(e,t){return t.toUpperCase()})),s=0;s<e.network.originalCX.length&&(null==e.network.originalCX[s].nodes||(o=e.network.originalCX[s].nodes,null==i||null==c))&&(null==e.network.originalCX[s].nodeAttributes||(i=e.network.originalCX[s].nodeAttributes,null==o||null==c))&&(null==e.network.originalCX[s].edgeAttributes||(c=e.network.originalCX[s].edgeAttributes,null==o||null==i));s++);var d={},m={};if(null!=o){for(var p=0;p<o.length;p++)null!=o[p].r&&(d[o[p].n]=o[p].r);if(null!=i)for(var g=function(e){if("list_of_string"===i[e].d){var t={};null!=m[i[e].n]&&(t=m[i[e].n]);var a=o.filter((function(t){return t["@id"]===i[e].po}))[0].n;null!=a&&(null==t[a]?t[a]=i[e].v:t[a]=t[a].concat(i[e].v)),m[i[e].n]=t}},h=0;h<i.length;h++)g(h)}var E={};if(null!=c)for(var f=0;f<c.length;f++)if("list_of_string"===c[f].d){var b={};null!=E[c[f].n]&&(b=E[c[f].n]);var y=c[f].po;null==b[y]?b[y]=c[f].v:b[y]=b[y].concat(c[f].v),E[c[f].n]=b}return 0===a?u.a.createElement(bn,Object.assign({context:t},e)):1===a?u.a.createElement(_n,Object.assign({context:l,represents:d,listProperties:m},e)):u.a.createElement(Bn,Object.assign({context:l,nodeList:o,listProperties:E},e))},qn={width:"100%"},Kn=function(e){var t=Mn(),a=e.network.tableDisplayTab;if(null===e.network.originalCX)return u.a.createElement("div",{style:qn});return u.a.createElement("div",{className:"table-browser-panel"},u.a.createElement(ea.a,{value:a,onChange:function(t,a){e.networkActions.changeTab(a)},className:t.root},u.a.createElement(na,{className:t.root,key:"network-tab",label:"Network",backgroundcolor:"rgb(220, 220, 220)"}),u.a.createElement(na,{className:t.root,key:"nodes-tab",label:"Nodes",backgroundcolor:"rgb(220, 220, 220)"}),u.a.createElement(na,{className:t.root,key:"edges-tab",label:"Edges",backgroundcolor:"rgb(220, 220, 220)"})),u.a.createElement(Wn,Object.assign({value:a},e)))},zn={width:"100%"},Xn=function(e){return null===e.network.originalCX||0===e.search.actualResults.length?u.a.createElement("div",{style:zn}):u.a.createElement("div",{className:"table-browser"},u.a.createElement(Kn,e))},Vn=a(58),Qn=a(323),Yn=a(161),$n=a.n(Yn),Jn=a(19),Zn=a.n(Jn),er=a(10),tr=function(e){return fetch("http://127.0.0.1:"+e+"/v1",{method:"GET"})},ar=function(e,t){var a="http://127.0.0.1:"+e+"/cyndex2/v1/networks/cx";return console.log("Calling CyREST POST:",a),fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})},nr=Zn.a.mark(cr),rr=Zn.a.mark(lr),or=Zn.a.mark(sr);function ir(e){return new Promise((function(t){setTimeout((function(){return t(!0)}),e)}))}function cr(e){var t;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1;case 1:return e.prev=2,e.next=5,Object(er.b)(tr,1234);case 5:if(!0===t){e.next=9;break}return e.next=8,Object(er.c)({type:ut,payload:!0});case 8:t=!0;case 9:e.next=17;break;case 11:if(e.prev=11,e.t0=e.catch(2),!0!==t){e.next=17;break}return e.next=16,Object(er.c)({type:ut,payload:!1});case 16:t=!1;case 17:return e.next=19,Object(er.b)(ir,1e4);case 19:e.next=1;break;case 21:case"end":return e.stop()}}),nr,null,[[2,11]])}function lr(){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(er.f)(pt);case 3:return e.sent,e.next=6,Object(er.d)([Object(er.b)(cr),Object(er.f)(gt)]);case 6:e.next=0;break;case 8:case"end":return e.stop()}}),rr)}function sr(){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(er.a)([lr()]);case 2:case"end":return e.stop()}}),or)}var ur=Object(Zt.a)({root:{marginLeft:"0.5em",borderColor:"#EA9123","&:active":{borderColor:"#EA9123"},"&:hover":{backgroundColor:Object(Vn.fade)("#EA9123",.08)}}})(Qn.a),dr=Object(Zt.a)((function(e){return{buttonIcon:{height:"2em"},button:{height:"3em",width:"4.3em",minWidth:"4.3em"}}}))((function(e){Object(s.useEffect)((function(){return e.cyrestActions.startCyRestPolling(),function(){e.cyrestActions.stopCyRestPolling()}}),[]);var t=e.classes,a=!(e.network.uuid&&e.network.uuid.length>0)||!e.cyrest.available,n=e.cyrest.isLoadingNetwork,r=e.cyrest.lastResponse,o=Object(s.useState)(!1),i=Object($t.a)(o,2),c=i[0],l=i[1],d=Object(s.useState)("dormant"),m=Object($t.a)(d,2),p=m[0],g=m[1],h=Object(s.useState)(null),E=Object($t.a)(h,2),f=E[0],b=E[1],y=0;if("dormant"===p&&n&&(b("Opening network in Cytoscape Desktop . . ."),g("openLoading"),c||l(!0)),"openLoading"!==p&&"closeLoading"!==p||null==r||(g("openResult"),"IMPORT_NETWORK_SUCCEEDED"===r.type?b("Network opened in Cytoscape Desktop!"):b("Network failed to open in Cytoscape Desktop"),c||l(!0)),"openResult"!==p||c||l(!0),"openResult"===p&&c){var v=y;setTimeout((function(){"openResult"===p&&v===y&&(g("dormant"),y++,l(!1))}),6e3)}return u.a.createElement(u.a.Fragment,null,u.a.createElement(aa.a,{disableFocusListener:!0,title:a?"Open Cytoscape Desktop to view this network":"Open this network in Cytoscape Desktop",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(ur,{className:t.button,variant:"outlined",disabled:a,onClick:function(){e.handleImportNetwork()}},u.a.createElement("img",{alt:"Cytoscape logo",src:a?$n.a:Ea.a,className:t.buttonIcon})))),u.a.createElement(Oa,{open:c,setOpen:l,message:f,setMessage:b,autoHideDuration:null,horizontal:"right",vertical:"bottom",handleClose:function(e,t){"openLoading"===p?g("closeLoading"):"openResult"===p&&(g("dormant"),y++),l(!1)}}))})),mr=a(114),pr=a.n(mr),gr=a(115),hr=a.n(gr),Er=Object(Zt.a)({root:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em",borderColor:"#212121",color:"#212121","&:active":{borderColor:"#212121",color:"#212121"}}})(Qn.a),fr=Object(Zt.a)((function(e){return{buttonIcon:{height:"1.75em"}}}))((function(e){var t=e.classes,a=!(e.network.uuid&&e.network.uuid.length>0);return u.a.createElement(aa.a,{title:"Fit network to panel",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(Er,{variant:"outlined",disabled:a,onClick:function(){e.uiStateActions.fitNetworkView()}},u.a.createElement("img",{alt:"Zoom logo",src:a?hr.a:pr.a,className:t.buttonIcon}))))})),br=Object(Zt.a)({root:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em",borderColor:"#212121",color:"#212121","&:active":{borderColor:"#212121",color:"#212121"}}})(Qn.a),yr=Object(Zt.a)((function(e){return{buttonIcon:{height:"1.75em"}}}))((function(e){var t=e.classes,a=!(e.network.uuid&&e.network.uuid.length>0);return u.a.createElement(aa.a,{title:"Fit figure to panel",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(br,{variant:"outlined",disabled:a,onClick:function(){e.uiStateActions.setFitPathwayFigure(!0)}},u.a.createElement("img",{alt:"Zoom logo",src:a?hr.a:pr.a,className:t.buttonIcon}))))})),vr=a(162),Or=a.n(vr),Sr=Object(Zt.a)((function(e){return{buttonIcon:{textAlign:"center",lignHeight:"50%",position:"relative",top:"1px"},button:{height:"3em",width:"4.3em",marginLeft:"0.5em"}}}))((function(e){var t=e.classes,a=!(e.network.uuid&&e.network.uuid.length>0),n=e.uiState.highlights;return u.a.createElement(aa.a,{title:"Highlight genes",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(Qn.a,{className:t.button,variant:"outlined",color:n?"secondary":"default",onClick:function(t){e.network.uuid&&e.network.uuid.length>0&&(n=!n,e.uiStateActions.setHighlights(n))},disabled:a},u.a.createElement(Or.a,{className:t.buttonIcon,color:n&&!a?"secondary":"disabled"}))))})),wr=a(163),jr=a.n(wr),kr=Object(Zt.a)({root:{width:"4.3em",borderColor:"#212121",color:"#212121","&:active":{borderColor:"#212121",color:"#212121"}}})(Qn.a),Cr=Object(Zt.a)((function(e){return{buttonIcon:{padding:0,margin:0,paddingBottom:"0.1em"},button:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em"}}}))((function(e){var t=e.classes,a=!(e.network.uuid&&e.network.uuid.length>0);return u.a.createElement(aa.a,{title:"Save this network to your NDEx account",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(kr,{className:t.button,variant:"outlined",disabled:a,onClick:function(){var t=window.localStorage.getItem("loggedInUser");if(t){var a=JSON.parse(t);if(null!==a){var n={};n.name=a.firstName,n.image=a.image,n.authorization={},n.authorization.type="ndex",n.authorization.token="Basic "+window.btoa(a.userName+":"+a.token),e.ndexSaveActions.setProfile(n)}}e.ndexSaveActions.setNDExModalOpen(!0)}},u.a.createElement(jr.a,{color:a?"disabled":"inherit",fontSize:"large",className:t.buttonIcon}))))})),Nr=a(116),xr=a.n(Nr),Ar=a(324),Tr=a(185),Lr=a(326),Rr=a(351),Pr=a(330),_r=a(331),Ir=a(332),Fr=a(333),Dr=a(164),Ur=a.n(Dr),Gr=a(165),Hr=a.n(Gr),Br=a(166),Mr=a.n(Br),Wr=a(325),qr=(a(248),function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(e){var n;return Object(vn.a)(this,a),(n=t.call(this,e)).saveToNDEx=function(e,t){n.props.ndexSaveActions.saveToNDEx({cx:e,token:t})},n.handleClose=function(){n.props.ndexSaveActions.setNDExModalOpen(!1)},n.state={networkUrl:""},n}return Object(On.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.ndexSave,r=t.network,o=n.profile?n.profile.authorization.token:null,i=r.originalCX,c=n.networkUrl;return n&&n.profile?u.a.createElement("div",{className:"ndex-save"},u.a.createElement(Ar.a,null,"Now that you're logged in, you can save the network to your NDEx account"),u.a.createElement(Wr.a,null,c?u.a.createElement(Qn.a,{href:c,className:a.button,target:"_blank"},"OPEN IN NDEx"):u.a.createElement(Qn.a,{onClick:function(){e.saveToNDEx(i,o)}},"Save to my account"))):null}}]),a}(u.a.Component)),Kr=Object(Zt.a)((function(e){return{button:{"text-transform":"none"}}}))(qr),zr=(a(249),function(e){return u.a.createElement(xr.a,{cancel:'[class*="MuiDialogContent-root"]'},u.a.createElement(Tr.a,e))}),Xr=function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(){var e;Object(vn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onFailure=function(t){var a=t.details&&t.details.startsWith("Not a valid origin for the client: http://localhost:")||t.error&&t.error||JSON.stringify(t);e.props.onError(a,!1)},e}return Object(On.a)(a,[{key:"render",value:function(){var e=this.props,t=e.googleSSO,a=e.onSuccess,n=t?"google-sign-in-button":"google-sign-in-button googleButtonDisabled",r=t?"Sign in with your Google account":"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.To use the Google Sign In feature you can do one of two things:1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.",o=t?Hr.a:Mr.a;return u.a.createElement("div",{className:"google-button"},u.a.createElement(Ur.a,{clientId:Ia,render:function(e){return u.a.createElement(Qn.a,{id:"googleSignInButtonId",disabled:!t,className:n,title:r,onClick:e.onClick},u.a.createElement("span",{className:"google-sign-in-button-span"},u.a.createElement("img",{src:o,alt:"",className:"googleLogo"}),u.a.createElement("div",{className:"googleSignInText"},"Sign in with Google")))},buttonText:"Login",onSuccess:a,onFailure:this.onFailure}))}}]),a}(u.a.Component),Vr=function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(){return Object(vn.a)(this,a),t.apply(this,arguments)}return Object(On.a)(a,[{key:"render",value:function(){var e=this.props,t=e.error,a=e.handleCredentialsSignOn,n=t?"btn btn-primary disabled":"btn btn-primary";return u.a.createElement("form",{name:"basicAuthSignIn",onSubmit:a},u.a.createElement(Lr.a,{className:"form-control"},u.a.createElement(Rr.a,{name:"accountName",type:"text",placeholder:"Account Name",required:!0,title:"",autoComplete:"username"})),u.a.createElement(Lr.a,{className:"form-control"},u.a.createElement(Rr.a,{name:"password",type:"password",placeholder:"Password",required:!0,title:"",autoComplete:"password"})),u.a.createElement("div",{className:"ndex-account-links"},u.a.createElement("div",null,u.a.createElement("span",null,"Need an account? "),u.a.createElement("a",{href:"/",target:"_blank",rel:"noopener noreferrer"},"Click here to sign up!"))),t&&u.a.createElement("div",{className:"text-danger"},u.a.createElement("br",null),u.a.createElement("strong",null,u.a.createElement("span",null,t))),u.a.createElement("div",{className:"credentials-button-container"},this.props.handleClose&&u.a.createElement(Qn.a,{className:"btn btn-default",variant:"contained",onClick:this.props.handleClose,type:"button",style:{margin:"1em"}},"Cancel"),u.a.createElement(Qn.a,{className:n,variant:"contained",color:"primary",type:"submit"},"Sign In")))}}]),a}(u.a.Component),Qr=function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(e){var n;return Object(vn.a)(this,a),(n=t.call(this,e)).onError=function(e,t){n.props.handleError(e),n.setState({googleSSO:t})},n.state={googleSSO:!0},n}return Object(On.a)(a,[{key:"render",value:function(){var e=this.state.googleSSO,t=this.props,a=t.handleClose,n=t.onLoginSuccess,r=t.onSuccess,o=t.handleCredentialsSignOn,i=t.handleError,c=t.error;return u.a.createElement("div",null,u.a.createElement(Pr.a,{id:"form-dialog-title"},"Sign in to your NDEx Account"),u.a.createElement(_r.a,null,u.a.createElement(Ar.a,{component:"div"},u.a.createElement("div",{className:"NDExSignInContainer"},u.a.createElement(Ir.a,{container:!0,spacing:5},u.a.createElement(Ir.a,{item:!0,xs:6,className:"grid"},u.a.createElement(Tr.a,{className:"grid-paper"},u.a.createElement("div",{className:"grid-content"},u.a.createElement(Xr,{onError:this.onError,googleSSO:e,onLoginSuccess:n,onSuccess:r})))),u.a.createElement(Ir.a,{item:!0,xs:6,className:"grid"},u.a.createElement(Tr.a,{className:"grid-paper"},u.a.createElement("div",{className:"grid-content"},u.a.createElement(Vr,{onLoginSuccess:n,handleClose:a,handleCredentialsSignOn:o,handleError:i,error:c})))))))))}}]),a}(u.a.Component),Yr=function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(){var e;Object(vn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onLoginSuccess=function(){},e.onLogout=function(){e.props.ndexSaveActions.setProfile(null),window.localStorage.removeItem("loggedInUser")},e.handleClose=function(){e.props.ndexSaveActions.setNDExModalOpen(!1)},e.handleCredentialsSignOn=function(t){t.preventDefault(),e.props.ndexSaveActions.credentialsSignOn(t)},e.handleOnSuccess=function(t){e.props.ndexSaveActions.googleSignOn(t)},e.handleError=function(t){e.props.ndexSaveActions.setErrorMessage(t)},e}return Object(On.a)(a,[{key:"render",value:function(){var e=Object.assign({},this.props),t=this.onLogout,a=this.onLoginSuccess,n=this.handleClose,r=this.handleCredentialsSignOn,o=this.handleOnSuccess,i=this.handleError;return u.a.createElement("div",null,u.a.createElement(Fr.a,{className:"sign-in-container",open:this.props.ndexSave.ndexModal,onClose:n,"aria-labelledby":"form-dialog-title",PaperComponent:zr,scroll:"body"},this.props.ndexSave.profile?u.a.createElement("div",{className:"sign-in-header"},u.a.createElement(It.a,{className:"ndex-account-avatar",src:this.props.ndexSave.profile.image},"U"),u.a.createElement(ra.a,{variant:"h4",className:"ndex-account-greeting"},"Hi, ",this.props.ndexSave.profile.name),u.a.createElement(Qn.a,{onClick:t},"Logout")):u.a.createElement(Qr,{handleClose:n,onLoginSuccess:a,onLogout:t,handleCredentialsSignOn:r,onSuccess:o,handleError:i,error:this.props.ndexSave.errorMessage}),u.a.createElement(Kr,e)))}}]),a}(u.a.Component),$r=a(62),Jr=a.n($r),Zr=a(167),eo=a.n(Zr),to=Object(Zt.a)((function(e){return{buttonIcon:{height:"2em"},button:{height:"3em",width:"4.3em",minWidth:"4.3em",marginLeft:"0.5em",color:"#4DA1DE"}}}))((function(e){var t=e.classes,a=!(e.network.uuid&&e.network.uuid.length>0),n=Object(Zt.a)({root:{width:"4.3em",borderColor:"#4DA1DE",color:"#4DA1DE","&:active":{borderColor:"#4DA1DE",color:"#4DA1DE"},"&:hover":{backgroundColor:Object(Vn.fade)("#4DA1DE",.08)}}})(Qn.a);return u.a.createElement(aa.a,{disableFocusListener:!0,title:"View source network in NDEx",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(n,{className:t.button,variant:"outlined",disabled:a,onClick:function(){return function(){var t="viewer/networks/"+e.network.uuid;console.log("Opening original network entry:",t),window.open(t,"_blank")}()}},u.a.createElement("img",{alt:"NDEx logo",src:a?eo.a:Jr.a,className:t.buttonIcon}))))})),ao=a(343),no=a(334),ro=a(353),oo=a(352),io={height:"3em",paddingTop:"0.8em",marginLeft:"0.3em"},co=Object(Zt.a)((function(e){return{input:{padding:"8px 26px 8px 12px",backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:4,"&:focus":{backgroundColor:"rgba(0, 0, 0, 0)",borderRadius:4},"&:hover":{backgroundColor:Object(Vn.fade)("rgb(65, 84, 178)",.08)}},root:{borderColor:"#ced4da","& $notchedOutline":{borderColor:"rgb(65, 84, 178)"},"&:hover $notchedOutline":{borderColor:"rgb(65, 84, 178)"},"&$focused $notchedOutline":{borderColor:"rgb(65, 84, 178)",borderWidth:"1px"}},focused:{},notchedOutline:{}}}))((function(e){var t=e.classes,a=e.uiState.layouts,n=u.a.useRef(null),r=u.a.useState(0),o=Object($t.a)(r,2),i=o[0],c=o[1];return Object(s.useEffect)((function(){c(n.current.offsetWidth)}),[]),u.a.createElement("div",{style:io},u.a.createElement(Lr.a,{variant:"outlined"},u.a.createElement(ro.a,{ref:n,htmlFor:"outlined"},u.a.createElement("font",{color:"#4154b2"},"Layout")),u.a.createElement(ao.a,{value:e.value,onChange:e.handleChange,input:u.a.createElement(oo.a,{labelWidth:i,name:"layout",id:"outlined-layout",classes:t})},a?a.map((function(e){return u.a.createElement(no.a,{value:e,key:e},u.a.createElement(ra.a,{variant:"body2",color:"textSecondary"},e))})):null)))})),lo=["classes"],so=Object(Zt.a)((function(e){return{toolbar:{background:"#EFEFEF",height:"4em",paddingTop:"0",paddingBottom:"0",paddingLeft:"0.5em",paddingRight:"0.5em",display:"flex",alignItems:"center",justifyContent:"center"},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},title:Object(yn.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(yn.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Vn.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Vn.fade)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{width:e.spacing(9),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(yn.a)({paddingTop:e.spacing(1),paddingRight:e.spacing(1),paddingBottom:e.spacing(1),paddingLeft:e.spacing(10),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:120,"&:focus":{width:200}}),buttonIcon:{height:"2.5em",paddingLeft:"0.5em"},buttons:{padding:"0.3em",display:"flex",alignItems:"center",justifyContent:"flex-start",border:"solid 1px #999999"},openIcon:{marginRight:"0.5em"}}}))((function(e){var t=e.classes,a=Object(Jt.a)(e,lo),n="",r="";if(0!==e.search.actualResults.length){var o=e.network.networkName.replace(":","&").split("&"),i=Object($t.a)(o,2);n=i[0],r=i[1]}var c=Object(s.useState)(e.uiState.layout),l=Object($t.a)(c,2),d=l[0],m=l[1],p=Object(s.useState)(e.uiState.pathwayFigure?0:1),g=Object($t.a)(p,2),h=g[0],E=g[1];Object(s.useEffect)((function(){if(e.uiStateActions.setPathwayFigureSource("loading"),0===h){var t=e.network.originalCX;if(null!==t){var a,n,r=$a(t,"networkAttributes"),o=Object(Pt.a)(r);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("__NetworkImage"===i.n){a=i.v;break}}}catch(l){o.e(l)}finally{o.f()}if(null==a)f(null,1);else{var c=new XMLHttpRequest;c.open("HEAD",a,!0),c.send(),c.onreadystatechange=function(){0===c.status||c.status>=200&&c.status<400?e.uiStateActions.setPathwayFigureSource(a):(e.uiStateActions.setPathwayFigureSource(null),f(null,1))}}}}}),[e.network.originalCX]);var f=function(t,a){a!==h&&(E(a),0===a?e.uiStateActions.setPathwayFigure(!0):e.uiStateActions.setPathwayFigure(!1))};return Object(s.useEffect)((function(){e.uiState.pathwayFigure?E(0):E(1)}),[e.uiState.pathwayFigure]),Object(s.useEffect)((function(){m(e.uiState.layout)}),[e.uiState.layout]),u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,u.a.createElement("div",{className:t.toolbar},u.a.createElement(aa.a,{title:r?Za(n)+":"+r:e.network.networkName},u.a.createElement(ra.a,{className:t.title,variant:"subtitle1",color:"inherit",noWrap:!0},r?Za(n)+":"+r:e.network.networkName)),u.a.createElement("div",{className:t.grow}),"pathwayfigures"!==e.uiState.selectedSource||!1===e.uiState.pathwayFigure?u.a.createElement(u.a.Fragment,null,u.a.createElement(co,Object.assign({value:d,handleChange:function(t){m(t.target.value),e.uiStateActions.setLayout(t.target.value)}},a)),u.a.createElement(fr,a),u.a.createElement(Sr,a)):u.a.createElement(yr,a),u.a.createElement(Yr,a,u.a.createElement(Kr,a)),u.a.createElement(to,a),u.a.createElement(dr,a),u.a.createElement(Cr,a)),u.a.createElement("div",null,"pathwayfigures"===e.uiState.selectedSource?u.a.createElement(ea.a,{value:h,onChange:f,className:t.root,style:{minHeight:0}},u.a.createElement(na,{key:"pathway-figure-tab",label:"Figure",minheight:0,height:"2.5em"}),u.a.createElement(na,{key:"network-tab",label:"Gene List",minheight:0,height:"2.5em"})):null)))})),uo=[50,50],mo=function(e){var t=Object(s.useState)(null),a=Object($t.a)(t,2),n=a[0],r=a[1];return u.a.createElement("div",{className:"network-view-top"},u.a.createElement(so,e),u.a.createElement(ia.a,{sizes:uo,direction:"vertical",gutterSize:7,className:"nv-container",onDragEnd:function(e){r(e)},style:"pathwayfigures"===e.uiState.selectedSource?{top:"6.5em"}:null},u.a.createElement(Ya,Object.assign({resized:n},e)),u.a.createElement(Xn,e)))},po=a(329),go=a(168),ho=a.n(go),Eo={position:"relative",left:"0.5em",top:"6px",height:"0.5em",width:"0.5em"},fo={height:"0.7em",width:"0.7em",position:"relative",bottom:"2px",color:"#3576BE"},bo=function(e){return u.a.createElement(xr.a,{cancel:'[class*="MuiDialogContent-root"]'},u.a.createElement(Tr.a,e))},yo=function(e){var t=Object(s.useState)(!1),a=Object($t.a)(t,2),n=a[0],r=a[1],o=function(){r(!1)};return u.a.createElement(u.a.Fragment,null,u.a.createElement(ba.a,{"aria-haspopup":"true",onClick:function(){r(!0)},style:Eo},u.a.createElement(ho.a,{style:fo})),u.a.createElement(Fr.a,{open:n,onClose:o,PaperComponent:bo,"aria-labelledby":"draggable-dialog-title"},u.a.createElement(Pr.a,{style:{cursor:"move"},id:"draggable-dialog-title"},u.a.createElement(ra.a,{component:"span",variant:"h6"},"Sorting")),u.a.createElement(_r.a,{dividers:!0},u.a.createElement(Ar.a,{component:"span"},u.a.createElement(ra.a,{component:"div",variant:"h6",color:"textPrimary"},"Overlap:"),u.a.createElement(ra.a,{component:"div",variant:"body2"},"This refers to the number of genes that are in both the query set and the network. When sorting by overlap, networks with a high number of overlapping genes are at the top of the list, and networks with a low number of overlapping genes are at the bottom of the list."," ",u.a.createElement(ra.a,{component:"span",variant:"inherit",color:"textPrimary"},u.a.createElement("strong",null,"Sorting is stable")),", so sorting by ",u.a.createElement("em",null,"p"),"-value and then by overlap will result in a list where networks are sorted by overlap, and networks that are tied for overlap are sorted by ",u.a.createElement("em",null,"p"),"-value."),u.a.createElement("br",null),u.a.createElement(ra.a,{component:"div",variant:"h6",color:"textPrimary"},u.a.createElement("em",null,"P"),"-Value:"),u.a.createElement(ra.a,{component:"div",variant:"body2"},"This refers to the probability that the query set and the network overlap, to the extent that they do or to a greater extent, by chance. Here, it is calculated using the complementary cumulative distribution function of a"," ",u.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Hypergeometric_distribution",target:"_blank",rel:"noopener noreferrer"},"hypergeometric distribution"),", where:",u.a.createElement("ul",null,u.a.createElement("li",null,"The population size (",u.a.createElement("em",null,"N"),") is equal to the number of genes in the entire database;"),u.a.createElement("li",null,"The number of success states in the population (",u.a.createElement("em",null,"K"),") is equal to the number of genes in the network;"),u.a.createElement("li",null,"The sample size (",u.a.createElement("em",null,"n"),") is equal to the size of the network; and"),u.a.createElement("li",null,"The number of observed successes (",u.a.createElement("em",null,"k"),") is equal to the number of genes that are in both the query set and the network.")),"Then the ",u.a.createElement("em",null,"p"),"-values are adjusted to compensate for the high false discovery rate that is an effect of querying a large database of networks. This is done using the"," ",u.a.createElement("a",{href:"http://www.jstor.org/stable/2346101",target:"_blank",rel:"noopener noreferrer"},"Benjamini-Hochberg method"),", where each ",u.a.createElement("em",null,"p"),"-value is multiplied by the number of networks queried, and then divided by its rank relative to other"," ",u.a.createElement("em",null,"p"),"-values (where low ",u.a.createElement("em",null,"p"),"-values have a low rank and vice versa). When sorting by ",u.a.createElement("em",null,"p"),"-value, networks with a low"," ",u.a.createElement("em",null,"p"),"-value are at the top of the list, and networks with a high ",u.a.createElement("em",null,"p"),"-value are at the bottom of the list."," ",u.a.createElement("a",{href:"https://github.com/ndexbio/ndex-enrichment-rest/wiki/How-Pvalue-is-calculated",target:"_blank",rel:"noopener noreferrer"},"For implementation details, click here"),"."),u.a.createElement("br",null),u.a.createElement(ra.a,{component:"div",variant:"h6",color:"textPrimary"},"Similarity:"),u.a.createElement(ra.a,{component:"div",variant:"body2"},"This is a way of scoring the similarity between the query set and the genes in the network, while taking into account that some genes are much more universal than other genes, and will appear in many more networks without adding much information. This is based on cosine similarity, using values derived from the"," ",u.a.createElement("a",{href:"https://ethen8181.github.io/machine-learning/clustering_old/tf_idf/tf_idf.html",target:"_blank",rel:"noopener noreferrer"},"Term Frequency-Inverse Document Frequency")," ","of each gene in the query set and the network. Rare genes that are shared between the query set and network will contribute more to the similarity score than common genes, resulting in a higher similarity score. When sorting by similarity, networks that have high similarity are at the top of the list, and networks that have low similarity are at the bottom of the list."," "))),u.a.createElement(Wr.a,null,u.a.createElement(Qn.a,{onClick:o},"Close"))))},vo=a(187),Oo=Object(_t.a)((function(e){return{root:{"label + &":{marginTop:"0"}},input:{borderRadius:4,position:"relative",backgroundColor:"#FFFFFF",border:"1px solid #ced4da",textColor:"#757575",padding:"5px 26px 5px 12px","&:focus":{borderRadius:4,backgroundColor:"#FFFFFF"}}}}))(vo.a),So={position:"relative",left:"11px",marginTop:"8px",marginBottom:"8px"},wo={paddingLeft:"16px",borderBottom:"1px solid rgba(239, 239, 239, 1)",display:"inline-block",width:"100%"},jo={position:"relative",top:"8px"},ko={color:"secondary"},Co=function(e){var t=Object(s.useState)(e.uiState.sortBy),a=Object($t.a)(t,2),n=a[0],r=a[1],o=e.uiState.sortOptions;return"enrichment"===e.uiState.selectedSource?u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:wo},u.a.createElement(ra.a,{variant:"body2",display:"inline",color:"textSecondary",style:jo},"Sort by"),u.a.createElement(Lr.a,{style:So},u.a.createElement(ao.a,{value:n,onChange:function(t){e.uiStateActions.setSortBy(t.target.value),r(t.target.value)},displayEmpty:!0,name:"Sort by",style:ko,input:u.a.createElement(Oo,{name:"sort",id:"sort-customized-select"})},o.map((function(e){return u.a.createElement(no.a,{value:e,key:e},u.a.createElement(ra.a,{variant:"body2",color:"textSecondary"},e))})))),u.a.createElement(yo,null))):null},No=function(e){return"p-Value"===e?function(e,t){return e.details.PValue>t.details.PValue?1:e.details.PValue<t.details.PValue?-1:e.rank>t.rank?1:-1}:"Similarity"===e?function(e,t){return e.details.similarity<t.details.similarity?1:e.details.similarity>t.details.similarity?-1:e.rank>t.rank?1:-1}:function(e,t){return e.hitGenes.length<t.hitGenes.length?1:e.hitGenes.length>t.hitGenes.length?-1:e.rank>t.rank?1:-1}},xo=Object(Zt.a)((function(e){return{inline:{display:"inline"},subtitle:{marginLeft:"1em",marginTop:"0.5em"},networkAvatar:{margin:5,color:"#fff",backgroundColor:"#FAFAFA"},menuItem:{"&:focus":{backgroundColor:"rgba(230,230,230,0.6)"}},menuText:{"&:focus":{}},secondary:{width:"15em",display:"flex",alignItems:"center",padding:"0.2em"},plot:{width:"80%",background:"teal"},noPadding:{paddingTop:"0",paddingBottom:"0"},center:{justifyContent:"center",position:"relative",top:"25%",display:"flex",width:"100%",height:"100%"}}}))((function(e){var t=e.hits,a=function(t){null!=t?(e.handleFetch(t.networkUUID,t.description,t.nodes,t.edges,t.hitGenes),null!=t.url&&e.networkActions.setOriginalNetworkUrl("https://"+t.url)):e.networkActions.networkClear()};if(Object(s.useEffect)((function(){if("enrichment"===e.uiState.selectedSource&&null!=t&&null!=t[0]){t.sort(No("p-Value"));for(var a=t[0].details.totalNetworkCount,n=0;n<t.length;n++)t[n].details.PValue=t[n].details.PValue*a/(n+1)}}),[t]),Object(s.useEffect)((function(){if(null!==t){var n=Object(ka.cloneDeep)(t[0]);if("enrichment"===e.uiState.selectedSource){for(var r=No(e.uiState.sortBy),o=0;o<t.length;o++)t[o].rank=o;t=t.sort(r)}var i=!1;0===e.search.actualResults.length?(i=!0,e.searchActions.setActualResults(t),a(t[0]),e.networkActions.changeListIndex(1)):e.searchActions.setActualResults(t),i||1===e.network.listIndex&&n.description===t[0].description||(a(t[0]),e.networkActions.changeListIndex(1))}}),[e.uiState.sortBy,e.uiState.selectedSource]),!t||0===e.search.actualResults.length)return u.a.createElement("div",{className:"network-list-wrapper"},u.a.createElement("div",{className:"network-list"},u.a.createElement(ra.a,{variant:"subtitle1",color:"textSecondary",className:e.classes.center},"No results found")));var n=1;function r(t,a){e.networkActions.changeListIndex(a),e.uiStateActions.setPathwayFigure(!0)}var o,i=e.network.listIndex;return o="enrichment"===e.uiState.selectedSource?{height:"calc(100% - 49px)"}:{},u.a.createElement("div",{className:"network-list-wrapper"},u.a.createElement(Co,e),u.a.createElement("div",{className:"network-list",style:o},u.a.createElement(po.a,{className:e.classes.noPadding},e.search.actualResults.map((function(t){return e.renderNetworkListItem(e.search.queryList.length,t,e.classes,r,i,n++)})))))})),Ao=a(335),To={lineHeight:"22px",wordBreak:"break-word"},Lo={height:"22px",lineHeight:"22px",wordBreak:"break-word"},Ro={display:"block",height:"22px",margin:"0",padding:"0"},Po={display:"block",height:"22px",margin:"0",padding:"0",position:"relative",top:"22px"},_o={tableLayout:"fixed",wordBreak:"breakWord",borderCollapse:"collapse",borderSpacing:"0"},Io=function(e){var t=function(t,n,r,o,i){var c=e.search.queryList,l=e.sourceUUID,s=e.search.results.jobId;e.searchActions.clearSelectedGenes(),e.networkActions.networkFetchStarted({id:s,sourceUUID:l,networkUUID:t,networkName:n,geneList:c,hitGenes:i,nodeCount:r,edgeCount:o}),a(t)},a=function(t){var a=e.search.results.jobId,n=e.search.searchResults,r=e.uiState.selectedSource;void 0!==n&&null!==n&&(console.log("** network changed:",a,r),e.history.push("/".concat(a,"/").concat(r,"/").concat(t)))},n=function(a,n,r,o){var i=a.description,c=a.networkUUID,l=a.nodes,s=a.edges,d=a.imageURL,m=a.hitGenes,p=a.details,g=a.url,h=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"Overlap"!==e.uiState.sortBy?"textSecondary":"textPrimary"},u.a.createElement("strong",null,m.length)," "),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"Overlap"===e.uiState.sortBy?"textPrimary":"textSecondary"},"genes")),E=u.a.createElement(Ao.a,{style:{width:"20px"}},u.a.createElement("img",{className:"list-icon",src:d,alt:"list icon"})),f=u.a.createElement(ra.a,null,"\n"),b=p.PValue;if(null!=b){var y=p.totalNetworkCount,v=Math.pow(10,Math.ceil(Math.log(1e-16*y)/Math.LN10));b=b<v?"< "+v:b>1?"~ 1":b.toExponential(2)}var O,S=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"p-Value"===e.uiState.sortBy?"textPrimary":"textSecondary"},u.a.createElement("strong",null,b," ")),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"p-Value"===e.uiState.sortBy?"textPrimary":"textSecondary"},"pv")),w=p.similarity;void 0!==w?(w=isNaN(w)?"NaN":w.toFixed(2),O=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"Similarity"===e.uiState.sortBy?"textPrimary":"textSecondary"},u.a.createElement("strong",null,w," ")),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"Similarity"===e.uiState.sortBy?"textPrimary":"textSecondary"},"similarity"))):O=null;var j=u.a.createElement(ra.a,{style:To},i.split(":").slice(1)),k=u.a.createElement("span",{style:Lo},u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},u.a.createElement("span",null,"Nodes: ",l,", "),u.a.createElement("span",null,"Edges: ",s,", "),u.a.createElement("span",null,"Source: ",Za(i.split(":")[0]))));return u.a.createElement(Ht.a,{button:!0,key:c,onClick:function(a){r!==o&&(t(c,i,l,s,m),n(a,o),null!=g&&e.networkActions.setOriginalNetworkUrl("https://"+g))},selected:r===o},u.a.createElement("table",{style:_o},u.a.createElement("tbody",null,u.a.createElement("tr",{padding:"0"},u.a.createElement("td",{align:"center",valign:"middle",rowSpan:"2",padding:"0"},E),u.a.createElement("td",{align:"left",valign:"baseline",width:"100px",padding:"0"},h,f,S,f,O),u.a.createElement("td",{align:"left",valign:"baseline",padding:"0"},j,f,k)))))},r=function(a,n,r,o){var i=a.description,c=a.networkUUID,l=a.nodes,s=a.edges,d=a.imageURL,m=a.hitGenes,p=a.details,g=a.url,h=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"enrichment"===e.uiState.selectedSource&&"Overlap"!==e.uiState.sortBy?"textSecondary":"textPrimary"},u.a.createElement("strong",null,m.length)," "),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"enrichment"===e.uiState.selectedSource&&"Overlap"===e.uiState.sortBy?"textPrimary":"textSecondary"},"genes")),E=u.a.createElement(Ao.a,{style:{width:"20px"}},u.a.createElement("img",{className:"list-icon",src:d,alt:"list icon"})),f=u.a.createElement(ra.a,null,"\n");if("enrichment"===e.uiState.selectedSource){var b=p.PValue;if(null!=b){var y=p.totalNetworkCount,v=Math.pow(10,Math.ceil(Math.log(1e-16*y)/Math.LN10));b=b<v?"< "+v:b>1?"~ 1":b.toExponential(2)}var O,S=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"p-Value"===e.uiState.sortBy?"textPrimary":"textSecondary"},u.a.createElement("strong",null,b," ")),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"p-Value"===e.uiState.sortBy?"textPrimary":"textSecondary"},"pv")),w=p.similarity;void 0!==w?(w=isNaN(w)?"NaN":w.toFixed(2),O=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"Similarity"===e.uiState.sortBy?"textPrimary":"textSecondary"},u.a.createElement("strong",null,w," ")),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"Similarity"===e.uiState.sortBy?"textPrimary":"textSecondary"},"similarity"))):O=null;var j=u.a.createElement(ra.a,{style:To},i.split(":").slice(1)),k=u.a.createElement("span",{style:Lo},u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},u.a.createElement("span",null,"Nodes: ",l,", "),u.a.createElement("span",null,"Edges: ",s,", "),u.a.createElement("span",null,"Source: ",Za(i.split(":")[0]))));return u.a.createElement(Ht.a,{button:!0,key:c,onClick:function(a){r!==o&&(t(c,i,l,s,m),n(a,o),null!=g&&e.networkActions.setOriginalNetworkUrl("https://"+g))},selected:r===o},u.a.createElement("table",{style:_o},u.a.createElement("tbody",null,u.a.createElement("tr",{padding:"0"},u.a.createElement("td",{align:"center",valign:"middle",rowSpan:"2",padding:"0"},E),u.a.createElement("td",{align:"left",valign:"baseline",width:"100px",padding:"0"},h,f,S,f,O),u.a.createElement("td",{align:"left",valign:"baseline",padding:"0"},j,f,k)))))}var C=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline"},u.a.createElement("strong",null,l)," "),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"textSecondary"},"nodes ")),N=u.a.createElement("span",{style:Po},u.a.createElement(ra.a,{display:"inline"},u.a.createElement("strong",null,s)," "),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"textSecondary"},"edges")),x=u.a.createElement(ra.a,{color:"textPrimary",style:To},i),A=u.a.createElement("span",{style:Lo},u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},"Parent: ",p.parent_network_nodes," nodes,"," ",p.parent_network_edges," edges"));return u.a.createElement(Ht.a,{button:!0,key:c,onClick:function(e){t(c,i,l,s,m),n(e,o)},selected:r===o},u.a.createElement("table",{style:_o},u.a.createElement("tbody",null,u.a.createElement("tr",{padding:"0"},u.a.createElement("td",{rowSpan:"2",align:"center",valign:"middle",padding:"0"},E),u.a.createElement("td",{align:"left",valign:"baseline",width:"75px"},h,f,C),u.a.createElement("td",{align:"left",valign:"baseline",padding:"0",width:"80px"},N),u.a.createElement("td",{align:"left",valign:"baseline"},x,f,A)))))},o=function(a,n,r,o){var i=a.description,c=a.networkUUID,l=a.nodes,s=a.edges,d=(a.imageURL,a.hitGenes),m=a.details,p=a.url,g=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"textSecondary"},u.a.createElement("strong",null,d.length)," "),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"textSecondary"},"genes")),h=u.a.createElement(ra.a,null,"\n"),E=m.PValue;if(null!=E){var f=m.totalNetworkCount,b=Math.pow(10,Math.ceil(Math.log(1e-16*f)/Math.LN10));E=E<b?"< "+b:E>1?"~ 1":E.toExponential(2)}var y,v=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"textPrimary"},u.a.createElement("strong",null,E," ")),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"textPrimary"},"pv")),O=m.similarity;void 0!==O?(O=isNaN(O)?"NaN":O.toFixed(2),y=u.a.createElement("span",{style:Ro},u.a.createElement(ra.a,{display:"inline",color:"textSecondary"},u.a.createElement("strong",null,O," ")),u.a.createElement(ra.a,{variant:"caption",display:"inline",color:"textSecondary"},"similarity"))):y=null;var S=u.a.createElement(ra.a,{style:To},i.split(":").slice(1)),w=u.a.createElement("span",{style:Lo},u.a.createElement(ra.a,{variant:"caption",color:"textSecondary"},u.a.createElement("span",null,"Nodes: ",l,"pathwayfigures"!==e.uiState.selectedSource?", ":null),"pathwayfigures"!==e.uiState.selectedSource?u.a.createElement("span",null,"Edges: ",s):null));return u.a.createElement(Ht.a,{button:!0,key:c,onClick:function(a){r!==o&&(t(c,i,l,s,d),n(a,o),null!=p&&e.networkActions.setOriginalNetworkUrl("https://"+p))},selected:r===o},u.a.createElement("table",{style:_o},u.a.createElement("tbody",null,u.a.createElement("tr",{padding:"0"},u.a.createElement("td",{align:"left",valign:"baseline",width:"100px",padding:"0"},g,h,v,h,y),u.a.createElement("td",{align:"left",valign:"baseline",padding:"0"},S,h,w)))))};return u.a.createElement(ia.a,{sizes:[40,60],gutterSize:7,className:"ndex-base"},u.a.createElement(xo,Object.assign({renderNetworkListItem:function(t,a,i,c,l,s){return"enrichment"===e.uiState.selectedSource?n(a,c,l,s):e.uiState.selectedSource.startsWith("interactome")?r(a,c,l,s):o(a,c,l,s)},handleFetch:t,hits:e.hits,totalNetworks:e.totalNetworks},e)),u.a.createElement(mo,Object.assign({handleImportNetwork:function(){e.cyrestActions.importNetworkStarted({cx:e.network.originalCX,source:e.network.sourceId,uuid:e.network.uuid})}},e)))},Fo=function(e){var t=e.results;return null===t||void 0===t?u.a.createElement(Ka,{title:"Loading results",message:u.a.createElement("div",{style:{color:"black"}},"Please wait...")}):u.a.createElement(Io,Object.assign({hits:t.results,totalNetworks:t.numberOfNetworks,sourceUUID:t.sourceUUID},e))},Do=["classes"],Uo={textAlign:"center"},Go={enrichment:{label:"Relevant Pathways",tooltip:u.a.createElement("div",{style:Uo},"Selected curated and experimentally derived pathways ",u.a.createElement("br",null),"(NCI-PID, Signor 2.0, etc.)")},"interactome-ppi":{label:"Protein Interactions",tooltip:u.a.createElement("div",{style:Uo},"PPI networks from several sources (BioGRID, STRING, etc.)")},"interactome-association":{label:"Gene Association",tooltip:u.a.createElement("div",{style:Uo},"Drug, disease and other gene-association networks ",u.a.createElement("br",null),"(CTD, HPA, etc.)")},pathwayfigures:{label:"Pathway Figures",tooltip:u.a.createElement("div",{style:Uo},"Node-only networks generated by optical recognition of published figures (courtesy of the WikiPathways team)")},indra:{label:"INDRA GO",tooltip:u.a.createElement("div",{style:Uo},"Collection of machine-curated pathways generated with the INDRA engine (courtesy of the Sorger Lab)")}},Ho=function(e,t){return null==e[t]?"enrichment":e[t].name},Bo=function(e,t){if(null===t||void 0===t)return null;for(var a=t.sources.filter((function(e){return void 0!==e})),n=a.length;n--;){var r=a[n];if(r.sourceName===e)return r}return null},Mo=Object(Zt.a)((function(e){return{tabs:{},grow:{flexGrow:1}}}))((function(e){var t=e.classes,a=Object(Jt.a)(e,Do),n=Object(s.useState)(0),r=Object($t.a)(n,2),o=r[0],i=r[1];Object(s.useEffect)((function(){c(0)}),[]);var c=function(t){var a=e.search.results;if(null!==a&&void 0!==a){var n=a.jobId,r=e.search.searchResults;if(void 0!==r&&null!==r){var o=Ho(l,t);console.log("* Tab change:",n,o),e.uiStateActions.setSelectedSource(o),e.history.push("/".concat(n,"/").concat(o))}}},l=e.source.sources;if(null===l||void 0===l||0===l.length)return u.a.createElement(oa,null);var d=e.search.searchResults,m=Ho(l,o);if(null==m)return u.a.createElement(oa,null);var p=Bo(m,d);return u.a.createElement("div",{className:"results-container"},u.a.createElement("div",{className:"results-wrapper"},u.a.createElement(ea.a,{value:o,onChange:function(t,a){i(a),c(a),e.networkActions.networkClear(),e.networkActions.changeListIndex(0),3===a&&e.uiStateActions.setPathwayFigure(!0)},className:t.tabs},l.map((function(e){return u.a.createElement(na,{key:e.uuid,label:Go[e.name]?Go[e.name].label:null,tooltip:Go[e.name]?Go[e.name].tooltip:null,backgroundcolor:"rgb(235, 235, 235)"})}))),e.search.results.genes.size?u.a.createElement(Fo,Object.assign({results:p},a)):u.a.createElement(oa,{message:"No valid query genes.",details:"Your query did not contain any valid gene names."})))})),Wo=a(4),qo=(a(250),a(338)),Ko=a(339),zo=a(173),Xo=a.n(zo),Vo=a(83),Qo=a.n(Vo),Yo=a(172),$o=a.n(Yo),Jo=a(336),Zo=a(169),ei=a(337),ti=a(171),ai=a.n(ti),ni=a(118),ri=a.n(ni),oi=a(170),ii=a.n(oi),ci=a(184),li=Object(Zt.a)({root:{display:"flex",alignItems:"center",justifyContent:"center",width:"60vmin",padding:"0.3em",background:"#f1f1f1",marginLeft:"1em"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})((function(e){var t=e.classes,a=Object(s.useRef)(),n=Object(s.useState)({anchorEl:null,query:e.search.queryGenes}),r=Object($t.a)(n,2),o=r[0],i=r[1],c=Object(s.useState)(!1),l=Object($t.a)(c,2),d=l[0],m=l[1],p=Boolean(o.anchorEl);Object(s.useEffect)((function(){return Object(Zo.loadCSS)("https://use.fontawesome.com/releases/v5.1.0/css/all.css",document.querySelector("#insertion-point-jss")),function(){}}),[]);var g,h=function(t,a){var n;n=null==a?o.query:a;var r=e.source.sources;if(0!==n.length&&null!==r&&0!==r.length){var i=r.map((function(e){return e.name})),c=n.split(/\s*,\s*|\s*;\s*|\s+/);e.uiStateActions.setSelectedSource("enrichment"),e.searchActions.clearAll(),e.history.push("/"),e.searchActions.setQuery(n),e.searchActions.searchStarted({geneList:c,sourceNames:i})}};return u.a.createElement("div",null,u.a.createElement(Oa,{open:d,setOpen:m,message:"Genes are copied to clipboard!",autoHideDuration:4e3,horizontal:"left",vertical:"bottom"}),u.a.createElement(Tr.a,{className:t.root,elevation:0},u.a.createElement(aa.a,{title:"Query gene set examples",placement:"bottom"},u.a.createElement("div",null,u.a.createElement(ba.a,{className:t.iconButton,"aria-label":"Menu",onClick:function(e){i(Object(Wo.a)(Object(Wo.a)({},o),{},{anchorEl:e.currentTarget}))}},u.a.createElement(ii.a,null)),u.a.createElement(ci.a,{anchorEl:o.anchorEl,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:function(){i(Object(Wo.a)(Object(Wo.a)({},o),{},{anchorEl:null}))}},Ua.map((function(t,a){return"Estrogen"!==t.name?u.a.createElement(no.a,{key:a,onClick:function(){return t=a,i(Object(Wo.a)(Object(Wo.a)({},e),{},{query:Ua[t].genes,anchorEl:null})),void h(0,Ua[t].genes);var t}},t.name):null}))))),u.a.createElement(Jo.a,{className:t.divider}),u.a.createElement(aa.a,{title:"Copy",placement:"bottom"},u.a.createElement(ba.a,{color:"default",className:t.iconButton,"aria-label":"Copy",onClick:function(){document.getElementById("original-gene-text").select(),document.execCommand("copy"),m(!0)}},u.a.createElement(ei.a,{className:Qo()(t.icon,"far fa-clipboard")}))),u.a.createElement(Jo.a,{className:t.divider}),u.a.createElement(aa.a,{title:"Clear gene list",placement:"bottom"},u.a.createElement(ba.a,{color:"default",className:t.iconButton,"aria-label":"Clear",onClick:function(){i(Object(Wo.a)(Object(Wo.a)({},o),{},{query:""}))}},u.a.createElement(ri.a,null))),u.a.createElement(Jo.a,{className:t.divider}),u.a.createElement(vo.a,{id:"original-gene-text",className:t.input,placeholder:"Enter gene list (or click menu for examples)",value:o.query,onChange:(g="query",function(t){i(Object(Wo.a)(Object(Wo.a)({},e),{},Object(yn.a)({},g,t.target.value)))}),onKeyDown:function(e){"Enter"===e.key&&h()},ref:a}),u.a.createElement(aa.a,{title:"Start new search",placement:"bottom"},u.a.createElement(ba.a,{color:"primary",className:t.iconButton,"aria-label":"Directions",onClick:h},u.a.createElement(ai.a,null)))))})),si=["classes"],ui={position:"relative",left:"1em",textTransform:"none"},di=function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(){var e;Object(vn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleMenu=function(){e.props.uiStateActions.setSettingsOpen(!e.props.uiState.isSettingsOpen)},e.handleHomeButton=function(){e.props.searchActions.clearAll(),e.props.uiStateActions.setSelectedSource("enrichment"),e.props.networkActions.networkClear(),e.props.history.push("/")},e}return Object(On.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=Object(Jt.a)(e,si),n=this.props.uiState.isSettingsOpen;return u.a.createElement(qo.a,{position:"fixed",color:"inherit",className:Qo()(t.appBar,Object(yn.a)({},t.appBarShift,n))},u.a.createElement("div",{className:t.noWrap},u.a.createElement(Ko.a,{disableGutters:!n},u.a.createElement(aa.a,{title:"Search by Relevant Pathways / Protein-Protein Interactions / Gene Association","aria-label":"NDEx_tooltip"},u.a.createElement("div",null,u.a.createElement(Qn.a,{style:ui,onClick:this.handleHomeButton},u.a.createElement($o.a,{fontSize:"default",className:t.homeLogo}),u.a.createElement(ra.a,{variant:"h6",color:"inherit",noWrap:!0},"NDEx Integrated Query")))),null===this.props.search.results?u.a.createElement("div",null):u.a.createElement("div",{className:t.textBox},u.a.createElement(li,a)),u.a.createElement("div",{className:t.grow}),u.a.createElement("div",null,u.a.createElement(aa.a,{title:"NDEx",placement:"bottom"},u.a.createElement(ba.a,{color:"default","aria-label":"Home",onClick:function(){return mi("/")}},u.a.createElement("img",{alt:"NDEx logo",src:Jr.a,className:t.logo}))),u.a.createElement(aa.a,{title:"Help",placement:"bottom",style:{marginRight:"1em"}},u.a.createElement(ra.a,{color:"textPrimary",noWrap:!0,display:"inline"},u.a.createElement(ba.a,{"aria-haspopup":"true",onClick:function(){return mi(Aa)},color:"inherit"},u.a.createElement(Xo.a,{className:t.logo}))))))))}}]),a}(u.a.Component),mi=function(e){window.open(e,"_blank")},pi=Object(Zt.a)((function(e){return{root:{flexGrow:1},grow:{flexGrow:1},hide:{display:"none"},menuButton:{marginLeft:12,marginRight:10},logo:{height:"1em",width:"1.5em"},homeLogo:{height:"1em",width:"1em",marginRight:"0.5em"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},textBox:{paddingLeft:"1em",paddingRight:"1em"},noWrap:{display:"inline-block",whiteSpace:"nowrap"}}}),{withTheme:!0})(di),gi=a(350),hi=a(175),Ei=a.n(hi),fi=a(176),bi=a.n(fi),yi=a(177),vi=a.n(yi),Oi=a(127),Si=a.n(Oi),wi=a(174),ji=a.n(wi),ki=(a(251),function(e){Object(Sn.a)(a,e);var t=Object(wn.a)(a);function a(){var e;Object(vn.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleServicesItemClick=function(){var t=e.props.uiState.servicesListOpen;e.props.uiStateActions.setServicesListOpen(!t)},e.handleDrawerClose=function(){var t=e.props.uiState.isSettingsOpen;e.props.uiStateActions.setSettingsOpen(!t)},e}return Object(On.a)(a,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.theme,n=this.props.uiState.isSettingsOpen,r=this.props.source.sources,o=this.props.uiState.servicesListOpen;return u.a.createElement(gi.a,{className:t.drawer,variant:"persistent",anchor:"left",open:n,classes:{paper:t.drawerPaper}},u.a.createElement("div",{className:"drawerHeader"},u.a.createElement(ba.a,{onClick:this.handleDrawerClose},"ltr"===a.direction?u.a.createElement(Ei.a,null):u.a.createElement(bi.a,null))),u.a.createElement(Jo.a,null),u.a.createElement(Gt.a,{className:t.root},u.a.createElement(Ht.a,{button:!0,onClick:this.handleServicesItemClick},u.a.createElement(Ao.a,null,u.a.createElement(Si.a,null)),u.a.createElement(Ja.a,{inset:!0,primary:"Services"}),o?u.a.createElement(ln.a,null):u.a.createElement(un.a,null)),u.a.createElement(on.a,{in:o,timeout:"auto",unmountOnExit:!0},u.a.createElement(Gt.a,{component:"div"},r.map((function(e){return u.a.createElement(aa.a,{title:"Version: "+e.version,placement:"right",key:e.uuid},u.a.createElement(Ht.a,{button:!0,key:e.uuid,className:t.nested},u.a.createElement(Ao.a,null,u.a.createElement(Si.a,null)),u.a.createElement(Ja.a,{primary:e.name,secondary:" Status: "+e.status})))}))))),u.a.createElement(Jo.a,null),u.a.createElement(Gt.a,null,["Settings"].map((function(e,t){return u.a.createElement(Ht.a,{button:!0,key:e},u.a.createElement(Ao.a,null,u.a.createElement(vi.a,null)),u.a.createElement(Ja.a,{primary:e}))}))),u.a.createElement(Jo.a,null),u.a.createElement(Gt.a,null,Ci.map((function(e){return u.a.createElement(Ht.a,{button:!0,key:e.name,onClick:function(){return Ni(e.url)}},u.a.createElement(Ao.a,null,u.a.createElement("img",{src:e.src,height:"24px",width:"24px",alt:"list item icon"})),u.a.createElement(Ja.a,{primary:e.name}))}))))}}]),a}(u.a.Component)),Ci=[{name:"Source Code",url:"https://github.com/cytoscape/search-portal",src:ji.a}],Ni=function(e){window.open(e,"_blank")},xi=Object(Zt.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerPaper:{width:240},nested:{paddingLeft:e.spacing(4)}}}),{withTheme:!0})(ki),Ai=a(340),Ti=["classes"],Li=Object(Zt.a)((function(e){return{root:{display:"flex",height:"100vmin"},drawerHeader:Object(Wo.a)(Object(Wo.a)({display:"flex",padding:"0 0.5em",alignItems:"center"},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}}),{withTheme:!0})((function(e){Object(s.useEffect)((function(){var t=new URLSearchParams(e.history.location.search).get("cyrestport");return t&&e.cyrestActions.setPort(t),function(){}}),[]);var t=e.classes,a=Object(Jt.a)(e,Ti),n=e.uiState.isSettingsOpen;return u.a.createElement("div",{className:t.root},u.a.createElement(Ai.a,null),u.a.createElement(pi,a),u.a.createElement(xi,a),u.a.createElement("div",{className:Qo()(t.content,Object(yn.a)({},t.contentShift,n))}),e.children)})),Ri=function(e){var t=function(t,a){"POP"===a&&"/"!==t.pathname&&(console.log("Back button::",t,a),e.searchActions.clearAll(),e.history.push("/"))};Object(s.useEffect)((function(){if(null!==e.search.results){var a=e.search.results.jobId;e.searchActions.fetchResultStarted({jobId:a})}var n=e.search.queryList;return 0===n.length?(console.log("* No query genes. Reload called:",e,n),e.searchActions.clearAll(),void e.history.push("/")):(e.history.listen(t),function(){})}),[]);var a=e.search.isFetching,n=e.search.searchResults;return a&&null===n?u.a.createElement(Li,e,u.a.createElement(Ka,{title:"Loading Results..."})):u.a.createElement(Li,e,u.a.createElement("div",{className:"container"},u.a.createElement(Mo,e),u.a.createElement(Yt,e)))};var Pi=Object(h.f)(Object(m.b)((function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest,ndexSave:e.ndexSave}}),(function(e){return{searchActions:Object(d.bindActionCreators)(n,e),uiStateActions:Object(d.bindActionCreators)(r,e),networkActions:Object(d.bindActionCreators)(o,e),sourceActions:Object(d.bindActionCreators)(i,e),cyrestActions:Object(d.bindActionCreators)(c,e),ndexSaveActions:Object(d.bindActionCreators)(l,e)}}))((function(e){return Object(s.useEffect)((function(){e.history.listen((function(e){var t=e.pathname;Lt.a.set({page:t}),Lt.a.pageview(t)}))}),[]),u.a.createElement(Ri,e)}))),_i=a(179),Ii=a.n(_i),Fi=Object(Zt.a)({root:{padding:"0.1em 0.25em",display:"flex",alignItems:"center"},input:{marginLeft:8,flex:1},iconButton:{padding:10},divider:{width:1,height:28,margin:4}})((function(e){var t=e.classes,a=Object(s.useRef)(),n=Object(s.useState)({anchorEl:null,query:""}),r=Object($t.a)(n,2),o=r[0],i=r[1];Object(s.useEffect)((function(){if(null!==e.search.results){var t=e.search.results.jobId;e.history.push("/".concat(t))}}),[]);var c,l=function(t,a){var n;n=null==a?o.query:a;var r=e.source.sources;if(0!==n.length&&null!==r&&0!==r.length){var i=r.map((function(e){return e.name})),c=n.toString().split(/\s*,\s*|\s*;\s*|\s+/);e.searchActions.setQuery(n),e.searchActions.searchStarted({geneList:c,sourceNames:i})}};return u.a.createElement("div",{className:"search-text-panel"},u.a.createElement(Tr.a,{className:"search-text-box",elevation:1},u.a.createElement(ba.a,{color:"default",className:t.iconButton,"aria-label":"Directions",onClick:function(){i(Object(Wo.a)(Object(Wo.a)({},o),{},{query:""}))}},u.a.createElement(ri.a,null)),u.a.createElement(vo.a,{className:t.input,placeholder:"Enter gene list (or click an example below)",onChange:(c="query",function(t){i(Object(Wo.a)(Object(Wo.a)({},e),{},Object(yn.a)({},c,t.target.value)))}),onKeyDown:function(e){"Enter"===e.key&&l()},value:o.query,autoFocus:!0}),u.a.createElement(ba.a,{ref:a,className:t.iconButton,"aria-label":"Search",onClick:l},u.a.createElement("img",{alt:"Search icon",src:Ii.a,style:{height:"1.25em"}}))),u.a.createElement("div",{className:"query-example-panel"},u.a.createElement(ra.a,{align:"center",variant:"subtitle2"},"Query gene set examples:"),u.a.createElement("div",{className:"query-examples"},Ua.map((function(t,a){return u.a.createElement("div",{key:t.name},u.a.createElement(aa.a,{title:u.a.createElement("div",{style:{textAlign:"center"}},t.description),placement:"bottom"},u.a.createElement(Qn.a,{className:"example-text",color:"inherit",onClick:function(){return t=a,i(Object(Wo.a)(Object(Wo.a)({},e),{},{query:Ua[t].genes,anchorEl:null})),void l(null,Ua[t].genes);var t}},t.name)))})))),u.a.createElement(ra.a,{variant:"caption",color:"textSecondary",align:"center",className:"search-text-caption"},u.a.createElement("em",null,"Send us",u.a.createElement("a",{href:Ta,target:"_blank",rel:"noopener noreferrer"}," ","feedback"),".")))})),Di=(a(147),a(180)),Ui=a.n(Di),Gi=function(e){window.open(e,"_blank")},Hi=function(e){return u.a.createElement("footer",{className:"footer-container"},u.a.createElement(ra.a,{variant:"subtitle1"},"\xa9 ",Fa),u.a.createElement("img",{alt:"NDEx logo",src:Jr.a,className:"footer-logo",onClick:function(){return Gi("/")}}),u.a.createElement("img",{alt:"Cytoscape logo",src:Ea.a,className:"footer-logo",onClick:function(){return Gi(La)}}),u.a.createElement("img",{alt:"UCSD logo",src:Ui.a,className:"footer-logo",onClick:function(){return Gi(Da)}}))},Bi=a(181),Mi=a.n(Bi),Wi=function(e){return Object(s.useEffect)((function(){var t=Mi.a.parse(e.location.search).genes;if(void 0!==t){var a=t.split(/\s|,/);e.searchActions.setQuery(t),e.searchActions.searchStarted({geneList:a})}return e.sourceActions.findSourceStarted(),function(){}}),[]),e.search.isSearching?u.a.createElement(Ka,{title:"Searching Remote Database",message:u.a.createElement("div",{style:{color:"black"}},"Please wait...")}):u.a.createElement("div",{className:"start-container"},u.a.createElement("div",{className:"start-title"},u.a.createElement("div",{className:"description-panel"},u.a.createElement(ra.a,{align:"center",variant:"subtitle2"},"One search finds pathways, queries protein interaction networks, and discovers disease, drug, and tissue associations. Powered by"," ",u.a.createElement("a",{href:"/",target:"_blank",rel:"noopener noreferrer"},"NDEx")," ","and integrated with"," ",u.a.createElement("a",{href:La,target:"_blank",rel:"noopener noreferrer"},"Cytoscape"))),u.a.createElement("div",{className:"title-panel"},u.a.createElement("img",{className:"start-logo-main",src:Jr.a,alt:"logo",style:{height:"8.75em",paddingRight:"1em"}}),u.a.createElement("div",{className:"flex"},u.a.createElement("div",{className:"app-title"},"NDEx Integrated Query"),u.a.createElement(ra.a,{align:"left",style:{position:"relative",left:"0.25em",top:"-0.5em"}},Ga))),u.a.createElement(Fi,e),u.a.createElement("div",{className:"search-text-note"},u.a.createElement(ra.a,{variant:"caption",align:"left"},"NDEx Integrated Query uses selected pathway and interactome networks in NDEx to power gene set analysis. The networks come from many different sources and new networks will be continuously added. Do you have a pathway or an interaction network that you would like to include in these queries? Click"," ",u.a.createElement("a",{href:Ta,target:"_blank",rel:"noopener noreferrer"},"here")," ","to find out how.")),u.a.createElement("div",{style:{height:"4em"}})),u.a.createElement(Hi,null))},qi=function(e){return u.a.createElement(Li,e,u.a.createElement(Wi,e))};var Ki=Object(h.f)(Object(m.b)((function(e){return{search:e.search,uiState:e.uiState,network:e.network,source:e.source,cyrest:e.cyrest,ndexSave:e.ndexSave}}),(function(e){return{searchActions:Object(d.bindActionCreators)(n,e),uiStateActions:Object(d.bindActionCreators)(r,e),networkActions:Object(d.bindActionCreators)(o,e),sourceActions:Object(d.bindActionCreators)(i,e),cyrestActions:Object(d.bindActionCreators)(c,e),ndexSaveActions:Object(d.bindActionCreators)(l,e)}}))((function(e){return Object(s.useEffect)((function(){var t=e.location.pathname;Lt.a.set({page:t}),Lt.a.pageview(t),e.history.listen((function(e){var t=e.pathname;Lt.a.set({page:t}),Lt.a.pageview(t)}))}),[]),u.a.createElement(qi,e)}))),zi=function(e){return u.a.createElement(Ki,e)},Xi=function(e){return u.a.createElement(Pi,e)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Vi,Qi,Yi,$i=a(341),Ji={isSearching:!1,isFetching:!1,queryGenes:"",queryList:[],results:null,searchStatus:null,searchResults:null,selectedGenes:[],resultList:[],actualResults:[]},Zi=(RegExp("(^[a-zA-Z][a-zA-Z0-9-]*$)|(^C[0-9]+orf[0-9]+$)"),Object($i.a)((Vi={},Object(yn.a)(Vi,P,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{queryGenes:t.payload})})),Object(yn.a)(Vi,_,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{queryGenes:"",queryList:[]})})),Object(yn.a)(Vi,M,(function(e,t){return Ji})),Object(yn.a)(Vi,I,(function(e,t){var a=e.queryGenes.split(" ");return Object(Wo.a)(Object(Wo.a)({},e),{},{isSearching:!0,resultList:[],queryList:a})})),Object(yn.a)(Vi,F,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{results:t.payload,isSearching:!1})})),Object(yn.a)(Vi,D,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{isSearching:!1})})),Object(yn.a)(Vi,W,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{selectedGenes:[t.payload]})})),Object(yn.a)(Vi,q,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{selectedGenes:[]})})),Object(yn.a)(Vi,G,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{isFetching:!0,searchStatus:null,searchResults:null})})),Object(yn.a)(Vi,H,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{isFetching:!1})})),Object(yn.a)(Vi,B,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{isFetching:!1})})),Object(yn.a)(Vi,U,(function(e,t){var a=t.payload.singleResult;return Object(Wo.a)(Object(Wo.a)({},e),{},{searchResults:a})})),Object(yn.a)(Vi,z,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{actualResults:t.payload})})),Vi),Ji)),ec=Object($i.a)((Qi={},Object(yn.a)(Qi,V,(function(e,t){return console.log("OPEN = ",t.payload),Object(Wo.a)(Object(Wo.a)({},e),{},{isSettingsOpen:t.payload})})),Object(yn.a)(Qi,J,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{servicesListOpen:t.payload})})),Object(yn.a)(Qi,ee,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{highlights:t.payload})})),Object(yn.a)(Qi,ae,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{selectedSource:t.payload})})),Object(yn.a)(Qi,re,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{pathwayFigure:t.payload})})),Object(yn.a)(Qi,ie,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{pathwayFigureSource:t.payload})})),Object(yn.a)(Qi,le,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{fitPathwayFigure:t.payload})})),Object(yn.a)(Qi,de,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{sortOrder:t.payload})})),Object(yn.a)(Qi,me,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{sortBy:t.payload})})),Object(yn.a)(Qi,he,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{layout:t.payload})})),Object(yn.a)(Qi,Ee,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{layouts:t.payload})})),Object(yn.a)(Qi,ve,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{fit:!e.fit})})),Object(yn.a)(Qi,Se,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{layouts:t.payload.layouts,layout:t.payload.layout,annotations:t.payload.annotations?!e.annotations:e.annotations})})),Object(yn.a)(Qi,be,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{annotations:t.payload})})),Qi),{isSettingsOpen:!1,servicesListOpen:!1,highlights:!1,selectedSource:"enrichment",pathwayFigure:!0,pathwayFigureSource:null,fitPathwayFigure:!1,sortOptions:["Overlap","p-Value","Similarity"],sortBy:"Overlap",layout:"Preset",layouts:[],fit:!0,annotations:!1}),tc=a(182),ac=new sa.CyNetworkUtils,nc=new sa.CxToJs(ac);tc[0].style.push({selector:"node:selected",css:{"background-color":"red",color:"#FFFFFF","background-opacity":1,"border-width":0,width:100,height:100}});var rc,oc,ic,cc={selector:"node.faded",css:{opacity:.9}},lc={selector:"edge.faded",css:{opacity:.9}},sc={selector:".highlight",css:{opacity:1,"overlay-color":"#C51162","overlay-padding":12,"overlay-opacity":.5}},uc={selector:"node:active",css:{"overlay-color":"#FFFF66","overlay-padding":25,"overlay-opacity":.3}},dc=Object($i.a)((Yi={},Object(yn.a)(Yi,Ie,(function(e,t){return console.log("Query start: genes = ",t),Object(Wo.a)(Object(Wo.a)({},e),{},{isFetching:!0,nodeCount:t.payload.nodeCount,edgeCount:t.payload.edgeCount,jobId:t.payload.id,sourceId:t.payload.sourceUUID,uuid:t.payload.networkUUID,url:"viewer/networks/"+t.payload.networkUUID,networkName:t.payload.networkName,queryGenes:t.payload.geneList,hitGenes:t.payload.hitGenes,originalCX:null,network:null,isLayoutComplete:!1,backgroundColor:"",selectedNodes:[],selectedEdges:[],tableDisplayTab:0,layout:"Preset",layouts:[]})})),Object(yn.a)(Yi,Fe,(function(e,t){var a=t.cx,n={},r={};if(e.nodeCount+e.edgeCount<=Ca){try{n=mc(a,e.queryGenes)}catch(o){throw console.warn("Could not convert given CX to CYJS:",o),new Error("Could not convert given CX to CYJS:",o)}r=pc(a)}return Object(Wo.a)(Object(Wo.a)({},e),{},{originalCX:a,network:n,backgroundColor:r,isFetching:!1})})),Object(yn.a)(Yi,De,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{network:null,originalCX:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0})})),Object(yn.a)(Yi,Ue,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{uuid:"",networkName:"",originalCX:null,network:null,backgroundColor:null,isFetching:!1,nodeCount:void 0,edgeCount:void 0,layout:"Default"})})),Object(yn.a)(Yi,Ge,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{tableDisplayTab:1,selectedNodes:t.payload})})),Object(yn.a)(Yi,He,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{selectedNodes:[]})})),Object(yn.a)(Yi,Be,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{tableDisplayTab:2,selectedEdges:t.payload})})),Object(yn.a)(Yi,Me,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{selectedEdges:[]})})),Object(yn.a)(Yi,We,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{tableDisplayTab:0,selectedNodes:[],selectedEdges:[]})})),Object(yn.a)(Yi,qe,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{tableDisplayTab:t.payload})})),Object(yn.a)(Yi,Ke,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{listIndex:t.payload})})),Object(yn.a)(Yi,ze,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{url:t.payload})})),Yi),{isFetching:!1,uuid:"",jobId:"",sourceId:"",networkName:"",url:"",queryGenes:[],hitGenes:[],originalCX:null,network:null,nodeCount:0,edgeCount:0,isLayoutComplete:!1,selectedNodes:[],selectedEdges:[],tableDisplayTab:0,listIndex:0}),mc=function(e,t){var a=ac.rawCXtoNiceCX(e),n={},r=nc.cyElementsFromNiceCX(a,n),o=nc.cyStyleFromNiceCX(a,n),i=Ec(o),c=gc(r.nodes,t);return{elements:[].concat(Object(Rt.a)(c),Object(Rt.a)(r.edges)),style:i,isLayout:hc(r.nodes)}},pc=function(e){var t=e.filter((function(e){return e.cyVisualProperties}));return void 0!==t&&null!==t&&0!==t.length?t[0].cyVisualProperties.filter((function(e){return"network"===e.properties_of}))[0].properties.NETWORK_BACKGROUND_PAINT:"#FFFFFF"},gc=function(e,t){for(var a=e.length,n=new Set(t.map((function(e){return e.toUpperCase()})));a--;){var r=e[a],o=r.data.name?r.data.name.toUpperCase():null;n.has(o)&&(r.data.query="true")}return e},hc=function(e){return void 0!==e[0].position},Ec=function(e){return e.push(cc),e.push(lc),e.push(sc),e.push(uc),e},fc=dc,bc=Object($i.a)((rc={},Object(yn.a)(rc,$e,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{isFetchingSource:!0,error:null,sources:[]})})),Object(yn.a)(rc,Je,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{sources:t.sources,isFetchingSource:!1,error:null})})),Object(yn.a)(rc,Ze,(function(e,t){return console.warn("Error:",t.error),Object(Wo.a)(Object(Wo.a)({},e),{},{isFetchingSource:!1,error:t.error,sources:[]})})),Object(yn.a)(rc,et,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{currentSource:t.payload})})),rc),{isFetchingSource:!1,sources:[],error:null,currentSource:null}),yc=Object($i.a)((oc={},Object(yn.a)(oc,rt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{lastResponse:null,isLoadingNetwork:!0,error:null})})),Object(yn.a)(oc,ot,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{lastResponse:t,isLoadingNetwork:!1,error:null})})),Object(yn.a)(oc,it,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{lastResponse:t,error:t.error,isLoadingNetwork:!1})})),Object(yn.a)(oc,lt,(function(e,t){return console.info("CyREST port = ",t.payload),Object(Wo.a)(Object(Wo.a)({},e),{},{port:t.payload})})),Object(yn.a)(oc,dt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{available:null,isFetchingAvailable:!0})})),Object(yn.a)(oc,mt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{available:t.payload,isFetchingAvailable:!1})})),Object(yn.a)(oc,ht,(function(e,t){return Object(Wo.a)({},e)})),Object(yn.a)(oc,Et,(function(e,t){return Object(Wo.a)({},e)})),oc),{isFetchingAvailable:!1,available:!1,isPollingAvailable:!1,port:1234,error:null,lastResponse:null,isLoadingNetwork:!1}),vc=Object($i.a)((ic={},Object(yn.a)(ic,bt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{ndexModal:t.payload,errorMessage:null,networkUrl:null})})),Object(yn.a)(ic,vt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{profile:t.payload})})),Object(yn.a)(ic,St,(function(e,t){return Object(Wo.a)({},e)})),Object(yn.a)(ic,jt,(function(e,t){return Object(Wo.a)({},e)})),Object(yn.a)(ic,Ct,(function(e,t){return Object(Wo.a)({},e)})),Object(yn.a)(ic,Tt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{errorMessage:t.payload})})),Object(yn.a)(ic,xt,(function(e,t){return Object(Wo.a)(Object(Wo.a)({},e),{},{networkUrl:t.payload})})),ic),{ndexModal:!1,profile:null,errorMessage:null,networkUrl:null}),Oc=Object(d.combineReducers)({source:bc,search:Zi,uiState:ec,network:fc,cyrest:yc,ndexSave:vc}),Sc=function(e,t,a){var n=_a+e+"/overlaynetwork?sourceUUID="+t+"&networkUUID="+a;return console.log("Calling CX API:",n),fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}})},wc=function(e){return fetch(Na+"?q="+e+"&scopes=symbol&fields=symbol,name,taxid,entrezgene,summary,genomic_pos,go,pathway",{method:"POST"})},jc=function(){return fetch(_a+"source",{method:"GET",mode:"cors"}).then((function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e})).catch((function(e){return{error:e}}))},kc=function(e){return fetch(_a+e+"/status",{method:"GET"}).then((function(e){if(!e.ok)throw Error("Failed to fetch source list:"+e.status);return e})).catch((function(e){return{error:e}}))},Cc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=_a+e,n=new URL(a);return null!==t&&n.searchParams.append("source",t),fetch(n,{method:"GET"}).then((function(e){if(!e.ok)throw Error("Failed to fetch search result:"+e.status);return e})).catch((function(e){return{error:e}}))},Nc=function(e,t){var a=_a,n={geneList:e,sourceList:t},r=new Headers({"Content-Type":"application/json"});return fetch(a,{method:"POST",headers:r,body:JSON.stringify(n)}).then((function(e){if(!e.ok)throw Error("Failed to send query:"+e.status);return e})).catch((function(e){return{error:e}}))},xc=function(e){for(var t=new Map,a=new Array,n=e.length;n--;){var r=e[n],o=r.query;r.notfound?a.push(o):t.set(o,r)}return{uniqueGeneMap:t,notFound:a}},Ac=Zn.a.mark(_c),Tc=Zn.a.mark(Fc),Lc=Zn.a.mark(Dc),Rc=Zn.a.mark(Uc),Pc=Zn.a.mark(Gc);function _c(e){var t,a,n,r,o,i,c,l,s,u,d,m,p,g,h;return Zn.a.wrap((function(E){for(;;)switch(E.prev=E.next){case 0:if(t=e.payload.geneList,(a=e.payload.sourceNames)&&0!==a.length){E.next=12;break}return E.next=5,Object(er.b)(jc);case 5:return n=E.sent,E.next=8,Object(er.b)([n,"json"]);case 8:r=E.sent,o=r.results,a=(a=o.map((function(e){return e.name}))).filter((function(e){return"keyword"!==e}));case 12:return i=t.join(),E.prev=13,E.next=16,Object(er.a)([Object(er.b)(wc,i),Object(er.b)(Nc,t,a)]);case 16:return c=E.sent,l=Object($t.a)(c,2),s=l[0],u=l[1],E.next=22,Object(er.b)([s,"json"]);case 22:return d=E.sent,m=u.headers.get("Location"),p=m.split("/"),g=p[p.length-1],h=xc(d),E.next=29,Object(er.c)({type:S,payload:{genes:h.uniqueGeneMap,notFound:h.notFound,resultLocation:m,jobId:g}});case 29:E.next=36;break;case 31:return E.prev=31,E.t0=E.catch(13),console.warn("NDEx search error:",E.t0),E.next=36,Object(er.c)({type:w,payload:{message:"NDEx network search error",query:i,error:E.t0.message}});case 36:case"end":return E.stop()}}),Ac,null,[[13,31]])}var Ic=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Fc(e){var t,a,n,r,o,i,c,l,s,u,d,m,p;return Zn.a.wrap((function(g){for(;;)switch(g.prev=g.next){case 0:t=e.payload.jobId,a=[],n=new Set,g.prev=3;case 4:return g.next=7,Object(er.b)(kc,t);case 7:return r=g.sent,g.next=10,Object(er.b)([r,"json"]);case 10:o=g.sent,i=o.sources,c=i.length;case 13:if(!c--){g.next=31;break}if(l=i[c],s=l.progress,u=l.sourceName,100!==s){g.next=29;break}if(n.has(u)){g.next=29;break}return g.next=20,Object(er.b)(Cc,t,u);case 20:return d=g.sent,g.next=23,Object(er.b)([d,"json"]);case 23:return m=g.sent,a.push(m.sources[0]),n.add(u),m.sources=a,g.next=29,Object(er.c)({type:j,payload:{singleResult:m}});case 29:g.next=13;break;case 31:for(c=i.length,p=0;c--;)100===i[c].progress&&p++;if(p!==i.length){g.next=37;break}return console.log("!! Search & fetch finished:",p,a),g.abrupt("break",41);case 37:return g.next=39,Object(er.b)(Ic,500);case 39:g.next=4;break;case 41:return g.next=43,Object(er.c)({type:C,payload:{}});case 43:g.next=50;break;case 45:return g.prev=45,g.t0=g.catch(3),console.warn("NDEx search error:",g.t0),g.next=50,Object(er.c)({type:N,payload:{message:"Failed to fetch search result",jobId:t,error:g.t0.message}});case 50:case"end":return g.stop()}}),Tc,null,[[3,45]])}function Dc(e){var t,a,n,r,o,i;return Zn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.id,n=t.sourceUUID,r=t.networkUUID,c.next=7,Object(er.b)(Sc,a,n,r);case 7:return o=c.sent,c.next=10,Object(er.b)([o,"json"]);case 10:return i=c.sent,c.next=13,Object(er.c)({type:je,cx:i});case 13:c.next=19;break;case 15:return c.prev=15,c.t0=c.catch(0),c.next=19,Object(er.c)({type:ke,error:c.t0});case 19:case"end":return c.stop()}}),Lc,null,[[0,15]])}function Uc(e){var t,a,n;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(er.b)(jc);case 3:return t=e.sent,e.next=6,Object(er.b)([t,"json"]);case 6:return a=e.sent,n=a.results,e.next=10,Object(er.c)({type:Ve,sources:n});case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,Object(er.c)({type:Qe,error:e.t0});case 16:case"end":return e.stop()}}),Rc,null,[[0,12]])}function Gc(){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(er.g)(O,_c);case 2:return e.next=4,Object(er.g)(k,Fc);case 4:return e.next=6,Object(er.g)(we,Dc);case 6:return e.next=8,Object(er.g)(Xe,Uc);case 8:case"end":return e.stop()}}),Pc)}var Hc=Zn.a.mark(Mc),Bc=Zn.a.mark(qc);function Mc(){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(er.g)(tt,qc);case 2:case"end":return e.stop()}}),Hc)}var Wc=function(e){return e.cyrest.port};function qc(e){var t,a,n,r,o,i;return Zn.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload.cx,c.prev=1,c.next=4,Object(er.e)(Wc);case 4:return a=c.sent,n=!0,t.forEach((function(e){e.numberVerification&&(n=!1)})),r=(n?[{numberVerification:[{longNumber:0xffffffffffff}]}]:[]).concat(t),c.next=10,Object(er.b)(ar,a,r);case 10:return o=c.sent,c.next=13,Object(er.b)([o,"json"]);case 13:return i=c.sent,console.log("CyREST response:",o),c.next=17,Object(er.c)({type:at,payload:i});case 17:c.next=24;break;case 19:return c.prev=19,c.t0=c.catch(1),console.warn("CyREST import network error:",c.t0),c.next=24,Object(er.c)({type:nt,payload:{message:"CyREST import network error",error:c.t0.message}});case 24:case"end":return c.stop()}}),Bc,null,[[1,19]])}var Kc=Pa+"/user?valid=true",zc=Pa+"/network",Xc=function(e){return fetch(Kc,{method:"GET",headers:e})},Vc=function(e,t){return fetch(zc,{method:"POST",headers:t,body:JSON.stringify(e)})},Qc=Zn.a.mark(Zc),Yc=Zn.a.mark(el),$c=Zn.a.mark(tl),Jc=Zn.a.mark(al);function Zc(){return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(er.g)(wt,el);case 2:return e.next=4,Object(er.g)(Ot,tl);case 4:return e.next=6,Object(er.g)(kt,al);case 6:case"end":return e.stop()}}),Qc)}function el(e){var t,a,n,r,o,i,c;return Zn.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return t=e.payload,a=t.tokenObj.token_type+" "+t.tokenObj.id_token,n={name:t.profileObj.name,image:t.profileObj.imageUrl,authorization:{type:"google",token:a}},r=new Headers({Authorization:n.authorization.token}),l.prev=4,l.next=7,Object(er.b)(Xc,r);case 7:return o=l.sent,l.next=10,Object(er.b)([o,"json"]);case 10:return i=l.sent,200==o.status&&(n.name=i.firstName,n.image=i.image),l.next=14,Object(er.c)({type:yt,payload:n});case 14:l.next=21;break;case 16:if(l.prev=16,l.t0=l.catch(4),!(c=l.t0.response.data.message||"Failed to verify account. "+l.t0).startsWith("User with email")||!c.endsWith("doesn't exist.")){l.next=21;break}return l.abrupt("return");case 21:case"end":return l.stop()}}),Yc,null,[[4,16]])}function tl(e){var t,a,n,r,o,i,c,l;return Zn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.basicAuthSignIn.accountName.value,a=window.basicAuthSignIn.password.value,n="Basic "+window.btoa(t+":"+a),r=new Headers({Authorization:n}),e.prev=4,e.next=7,Object(er.b)(Xc,r);case 7:return o=e.sent,e.next=10,Object(er.b)([o,"json"]);case 10:if(i=e.sent,200==o.status){e.next=17;break}return e.next=14,Object(er.c)({type:At,payload:i.message});case 14:window.localStorage.removeItem("loggedInUser"),e.next=28;break;case 17:return c={name:i.firstName,image:i.image,authorization:{type:"ndex",token:n}},(l={}).userName=t,l.firstName=i.firstName,l.lastName=i.lastName,l.externalId=i.externalId,l.image=i.image,l.token=a,window.localStorage.setItem("loggedInUser",JSON.stringify(l)),e.next=28,Object(er.c)({type:yt,payload:c});case 28:e.next=36;break;case 30:return e.prev=30,e.t0=e.catch(4),console.log(e.t0),e.next=35,Object(er.c)({type:At,payload:"Unknown error"});case 35:window.localStorage.removeItem("loggedInUser");case 36:case"end":return e.stop()}}),$c,null,[[4,30]])}function al(e){var t,a,n,r,o,i,c,l;return Zn.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload.token,a=e.payload.cx,n=new Headers({"Content-Type":"application/json",Authorization:t}),s.next=5,Object(er.b)(Vc,a,n);case 5:return r=s.sent,console.log("resp",r),console.log("resp.body"+r.body),s.next=10,Object(er.b)([r,"text"]);case 10:return o=s.sent,i=o.lastIndexOf("/"),c=o.substring(i+1),l="viewer/networks/"+c,console.log("networkURL",l),s.next=17,Object(er.c)({type:Nt,payload:l});case 17:case"end":return s.stop()}}),Jc)}var nl=window.location;"localhost"!==nl.hostname&&"https:"!==nl.protocol&&nl.replace("https:".concat(nl.href.substring(nl.protocol.length))),Lt.a.initialize("UA-62588031-8",{gaOptions:{siteSpeedSampleRate:100}});var rl={SetQuery:y,OpenInCytoscape:"OPEN_IN_CYTOSCAPE",NetworkSelected:"NETWORK_FETCH_STARTED"},ol=function(e){var t=e.type;if(t===y)Lt.a.event({category:"User Action",action:rl.SetQuery,label:e.payload});else if("IMPORT_NETWORK_STARTED"===t)Lt.a.event({category:"User Action",action:rl.OpenInCytoscape,label:e.payload.uuid});else{if(void 0===e.payload||null==e.payload)return;Lt.a.event({category:"User Action",action:rl.NetworkSelected,label:"".concat(e.payload.sourceUUID,"/").concat(e.payload.networkUUID)})}},il=Object(E.a)(),cl=Object(d.createStore)(Oc,Object(f.composeWithDevTools)(Object(d.applyMiddleware)(il),Object(d.applyMiddleware)((function(e){return function(e){return function(t){return ol(t),e(t)}}}))));il.run(Gc),il.run(Mc),il.run(sr),il.run(Zc);var ll=function(e){var t=e.store;return u.a.createElement(m.a,{store:t},u.a.createElement(g.a,{basename:"./iquery"},u.a.createElement(h.c,null,u.a.createElement(h.a,{exact:!0,path:"/",component:zi}),u.a.createElement(h.a,{exact:!0,path:"/iquery",component:zi}),u.a.createElement(h.a,{exact:!0,path:"/iquery/",component:zi}),u.a.createElement(h.a,{exact:!0,path:"/iquery//",component:zi}),u.a.createElement(h.a,{exact:!0,path:"/iquery/iquery",component:zi}),u.a.createElement(h.a,{path:"/:jobid/:sourceId/:networkId",component:Xi}),u.a.createElement(h.a,{path:"/:jobid/:sourceId",component:Xi}),u.a.createElement(h.a,{path:"/:jobid",component:Xi}))))};Object(p.render)(u.a.createElement(ll,{store:cl}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,a){},62:function(e,t,a){e.exports=a.p+"static/media/ndex-logo.04d7bf44.svg"},80:function(e,t,a){e.exports=a.p+"static/media/cytoscape-logo.4aa4c296.svg"}},[[200,1,2]]]);
//# sourceMappingURL=main.6a37e741.chunk.js.map