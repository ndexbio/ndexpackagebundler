{"version":3,"sources":["../../../../../../webpack/universalModuleDefinition","../webpack:/webpack/bootstrap 50b0a1b05dfd771372d5","../../../../../../src/cxConstants.js","../../../../../../src/cxUtil.js","../../../../../../src/index.js","../../../../../../src/converter.js","../../../../../../src/largeNetwork/largeNetwork.js","../../../../../../src/largeNetwork/largeNetworkConstants.js","../../../../../../src/cytoscapeJS/cytoscapeJS.js","../../../../../../src/cytoscapeJS/cytoscapeJSConstants.js","../ndexClient/build/bundle.js","../../src/DownloadButton/index.tsx","../../src/CyNDExContext.tsx","../../node_modules/regenerator-runtime/runtime.js","../../src/api/ndex.ts","../../src/NDExAccountContext.tsx","../../src/OpenInCytoscapeButton/LargeNetworkDialog.tsx","../../src/OpenInCytoscapeButton/OpenInCytoscapeButton.tsx","../../src/assets/images/cytoscape-logo.svg","../../src/assets/images/cytoscape-logo-mono-light.svg","../../src/NDExSignIn/HtmlTooltip.tsx","../../src/NDExSignIn/NdexGoogleLoginPanel.tsx","../../src/NDExSignIn/assets/images/google-logo.svg","../../src/NDExSignIn/assets/images/google-logo-disabled.svg","../../src/NDExSignIn/validateCredentials.ts","../../src/NDExSignIn/LoadingPanel.tsx","../../src/NDExSignIn/NdexCredentialsLoginPanel.tsx","../../src/NDExSignIn/NdexLoginPanel.tsx","../../src/NDExSignIn/NdexSignUpPanel.tsx","../../src/NDExSignIn/ForgotPasswordPanel.tsx","../../src/NDExSignIn/TermsAndConditionsPanel.tsx","../../src/NDExSignIn/NdexLoginDialog.tsx","../../src/NDExSignIn/assets/images/ndex-logo.svg","../../src/NDExSignIn/NdexUserInfoPopover.tsx","../../src/NDExSignIn/handleNDExSignOn.ts","../../src/NDExSignIn/NDExSignInButton.tsx","../../src/SaveToNDExButton/SaveToNDExButton.tsx","../../large-graph-renderer/dist/layers/NodeLayer.js","../../large-graph-renderer/dist/layers/EdgeLayer.js","../../large-graph-renderer/dist/layers/GraphLayer.js","../../large-graph-renderer/dist/layers/LabelLayer.js","../../large-graph-renderer/dist/layers/SelectionLayer.js","../../large-graph-renderer/dist/components/LargeGraphRenderer/CommandProxy.js","../../large-graph-renderer/dist/utils/selection-util.js","../../large-graph-renderer/dist/utils/bounds-util.js","../../large-graph-renderer/dist/components/LargeGraphRenderer/EventHandlers.js","../../large-graph-renderer/dist/components/LargeGraphRenderer/index.js","../../large-graph-renderer/dist/models/GraphViewFactory.js","components/NetworkPanel/Loading.tsx","utils/cxUtil.ts","context/AppState.tsx","components/NetworkPanel/LGRPanel.tsx","components/CytoscapeRenderer/create-cytoscape.ts","utils/cx2cyjs.ts","utils/error/NDExError.ts","hooks/useCyjs.ts","components/CytoscapeRenderer/index.tsx","utils/credentialUtil.ts","hooks/useSearch.ts","reducer/selectionStateReducer.ts","reducer/cyReducer.ts","components/NetworkPanel/EmptyView.tsx","utils/cx2attr.ts","hooks/useAttributes.ts","components/PropertyPanel/PropList.tsx","components/PropertyPanel/index.tsx","utils/contextUtil.ts","components/Popup/index.tsx","utils/cyjsUtil.ts","reducer/uiStateReducer.ts","components/NavigationPanel/ExpandButton.tsx","components/NavigationPanel/index.tsx","components/FooterPanel/EdgeLimitExceededPanel.tsx","components/NetworkPanel/index.tsx","components/DataPanel/NetworkPropertyPanel/CollapsiblePanel.tsx","components/DataPanel/NetworkPropertyPanel/NetworkPropertySegment.tsx","components/DataPanel/NetworkPropertyPanel/NetworkProperties.tsx","hooks/useNetworkSummary.ts","components/DataPanel/NetworkPropertyPanel/QueryPanel/TargetNodes.ts","components/DataPanel/NetworkPropertyPanel/QueryPanel/QueryState.ts","components/DataPanel/NetworkPropertyPanel/QueryPanel/TargetSelector.tsx","components/DataPanel/NetworkPropertyPanel/QueryPanel/index.tsx","components/DataPanel/NetworkPropertyPanel/QueryPanel/ColumnSelector.tsx","components/DataPanel/NetworkPropertyPanel/QueryPanel/DBSelector.tsx","components/DataPanel/NetworkPropertyPanel/QueryPanel/StartQueryButton.tsx","components/DataPanel/NetworkPropertyPanel/QueryPanel/query-util.ts","hooks/useNetworkPermissions.ts","components/DeleteDOIButton/index.tsx","components/DataPanel/NetworkPropertyPanel/NetworkDetails.tsx","components/DataPanel/NetworkPropertyPanel/index.tsx","components/DataPanel/NetworkPropertyPanel/MinimizeButton.tsx","components/DataPanel/EntryTable/Popup.tsx","components/DataPanel/EntryTable/VirtualizedTable2.tsx","components/DataPanel/EntryTable/index.tsx","components/DataPanel/EntryTable/InformationPanel.tsx","hooks/useNetworkMetaData.ts","components/FooterPanel/OpenInCytoscape.tsx","components/DataPanel/index.tsx","components/DataPanel/EntryTable/WarningPanel.tsx","hooks/useCx.ts","components/DataPanel/ClosedPanel.tsx","utils/error/ResponseCode.ts","components/Title/index.tsx","utils/error/errorHandler.ts","components/MainSplitPane/MessageDialog.tsx","utils/locationUtil.ts","components/ErrorIcon/index.tsx","components/MainSplitPane/InitializationPanel.tsx","components/MainSplitPane/index.tsx","utils/browserTest.ts","components/ToolBar/ClassicModeButton.tsx","assets/images/ndex-logo.svg","components/ToolBar/NdexHomeButton.tsx","components/ToolBar/AdvancedMenu.tsx","components/ToolBar/index.tsx","assets/images/base_network.png","assets/images/neighborhood_network.png","assets/images/adjacent_network.png","assets/images/direct_network.png","assets/images/interconnect_network.png","components/FooterPanel/SearchHelpDialog.tsx","components/FooterPanel/SaveQueryButton.tsx","utils/cx2tsv.ts","components/ExportTsvMenuItem/index.tsx","components/FooterPanel/SaveQueryTSVMenuItem.tsx","components/FooterPanel/AdvancedQueryMenu.tsx","components/FooterPanel/SearchBox.tsx","components/FooterPanel/EditMetadataButton.tsx","components/ShareLinkMenuItem/index.tsx","components/CreateDOIMenuItem/index.tsx","components/FooterPanel/ShareMenu.tsx","components/FooterPanel/SaveNetworkCXButton.tsx","components/FooterPanel/DeleteDialog.tsx","components/FooterPanel/DeleteButton.tsx","components/FooterPanel/index.tsx","components/AppShell/index.tsx","components/AccountShell/index.tsx","components/AccountSignUpPane/index.tsx","components/AccountForgotPasswordPane/index.tsx","components/TopPanel/index.tsx","App.tsx","serviceWorker.ts","theme.ts","components/ErrorBoundary/index.tsx","index.tsx"],"names":["factory","module","Object","freeze","CX_VERSION","NODE","EDGE","NETWORK","NODES","EDGES","ID","X","Y","Z","V","AT","N","E","VISUAL_PROPERTIES","DEFAULT","STYLE","PO","versionArray","versionString","split","map","parseInt","element","isNaN","attributeDeclaration","attributeDeclarations","attributeTypeMap","attributeNameMap","attributeDefaultValueMap","getCxVersion","getCxMajorVersion","processAttributeDeclarations","cxAttributeDeclarations","cxAttributeDeclaration","updateAttributeNameMap","updateAttributeTypeMap","updateAttributeDefaultValueMap","updateInferredTypes","v","keys","forEach","value","inferredType","newKey","getExpandedAttributes","data","converter","require","cxConstants","largeNetwork","cytoscapeJS","cxUtil","cx","defaultConverters","selectedConverter","converters","selectConverter","convert","getEmptyNetwork","verifyVersion","largeNetworkConstants","targetStyleEntry","hex","r","g","b","clamp","Math","alphaDecimal","defaultPropertyConvert","simpleDefaultPropertyConvert","hexToRGB","alphaToInt","output","node","edge","defaultVisualProperties","lnvEntries","getLNVValues","portablePropertyKey","portablePropertyValue","entries","lnvEntry","lnvKey","colorArray","alpha","width","height","labelColorArray","labelAlpha","id","nodeView","position","key","color","processColor","labelColor","processSize","edgeView","s","t","propertyKey","mapping","mappings","mappingList","type","vp","definition","attributeValue","attributeMax","vpMin","vpMax","getMap","getAttributeRatio","minRGB","maxRGB","attributeRatio","continuousPropertyConvert","continuousNumberPropertyConvert","continuousColorPropertyConvert","continuousAlphaPropertyConvert","min","includeMin","max","includeMax","attributeKey","attributes","discreteMap","keyValue","converted","continuousMappings","mappingRange","isInRange","targetFormat","emptyNetwork","cxVisualProperties","cxNodeBypasses","cxEdgeBypasses","nodeAttributeTypeMap","edgeAttributeTypeMap","nodeAttributeNameMap","edgeAttributeNameMap","nodeAttributeDefaultValueMap","edgeAttributeDefaultValueMap","defaultValues","bypassMappings","cxAspect","cxNodes","cxNode","cxEdges","cxEdge","bypass","nodeViews","edgeViews","vpElement","defaultStyles","getDefaultValues","getMappings","values","cxId","defaultNodeVisualProperties","expandedAttributes","mappingValues","getMappedValues","processedNodeView","processNodeView","defaultEdgeVisualProperties","processedEdgeView","processEdgeView","lnvConvert","jsConstants","attributeName","passthroughMappingConvert","simplePassthroughMappingConvert","minValue","maxValue","mapDataPropertyConvert","simpleMapDataPropertyConvert","cxStyleEntries","cssEntries","cxMappingDefinition","rangeMaps","selector","entityType","getContinuousSelector","range","style","getContinuousStyle","getStyleElement","cxElement","css","styleMap","elementType","getIdSelector","cxMappingEntries","cxMappingEntry","getContinuousMappingCSSEntries","continousMappings","cssEntry","getPassthroughMappingCSSEntry","discreteMappings","atttributeToValueMap","attributeDataType","getDiscreteSelector","getDiscreteMappingCSSEntries","elements","layout","x","y","undefined","defaultCSSNodeStyle","defaultCSSEdgeStyle","cssNetworkBackgroundColor","mappingCSSNodeStyle","mappingCSSEdgeStyle","bypassCSSEntries","getCSSStyleEntries","nodeMapping","getCSSMappingEntries","edgeMapping","getBypassCSSEntry","getVisualProperties","window","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","defineProperty","enumerable","get","Symbol","toStringTag","mode","__esModule","ns","create","bind","n","object","property","prototype","hasOwnProperty","p","isBuffer","toString","isArray","val","isObject","isFunction","obj","fn","length","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isString","isNumber","isUndefined","isDate","isFile","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","result","assignValue","arguments","extend","a","thisArg","trim","str","replace","process","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","Content-Type","setContentTypeIfUnset","headers","adapter","defaults","XMLHttpRequest","transformRequest","JSON","stringify","transformResponse","parse","e","timeout","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","status","common","Accept","method","this","args","Array","apply","settle","buildURL","parseHeaders","isURLSameOrigin","createError","config","Promise","resolve","reject","requestData","requestHeaders","request","auth","username","password","Authorization","btoa","open","toUpperCase","url","params","paramsSerializer","onreadystatechange","readyState","responseURL","indexOf","responseHeaders","getAllResponseHeaders","response","responseType","responseText","statusText","onerror","ontimeout","cookies","xsrfValue","withCredentials","read","toLowerCase","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","then","cancel","abort","send","enhanceError","message","code","error","Error","__CANCEL__","Cancel","NDEx","CyNDEx","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","axios","hostprefix","instance","TypeError","_host","_v3baseURL","substring","host","lastIndexOf","googleAuthObj","_googleAuth","_authType","authToken","_authToken","accountname","_username","_password","URL","APIEndPointPrefix","baseURL","getAuthInstance","currentUser","getAuthResponse","id_token","authenticationType","idToken","_getIdToken","prefix","parameters","_setAuthHeader","_httpGetProtectedObjAux","_httpPostProtectedObjAux","_httpGetOpenObj","_httpGetProtectedObj","valid","uuid","offset","limit","_this","getSignedInUser","user","externalId","networkArray","err","group","_this2","_httpPostProtectedObj","uuidr","_this3","_httpPutObj","_httpDeleteObj","accessKey","accesskey","_httpGetV3ProtectedObj","rawCX","_this4","rawcx","searchTerms","start","size","searchString","optionalParameters","permission","includeGroups","accountName","saveResult","save","searchDepth","edgeLimit","errorWhenLimitIsOver","directOnly","uuidList","parameter","exportJob","aspectName","columnName","valueString","operator","order","format","_httpPostV3ProtectedObj","cancelBody","networkId","Axios","createInstance","defaultConfig","context","instanceConfig","CancelToken","isCancel","all","promises","spread","default","constructor","InterceptorManager","dispatchRequest","interceptors","chain","interceptor","unshift","fulfilled","rejected","push","shift","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","len","run","marker","Item","array","noop","nextTick","title","browser","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","normalizedName","encode","encodeURIComponent","serializedParams","parts","toISOString","join","ignoreDuplicateOf","parsed","line","substr","originURL","msie","test","userAgent","urlParsingNode","createElement","resolveURL","href","setAttribute","protocol","search","hash","hostname","port","pathname","charAt","location","requestURL","write","expires","path","domain","secure","cookie","Date","toGMTString","match","RegExp","decodeURIComponent","remove","now","handlers","use","eject","h","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","reason","fns","relativeURL","executor","resolvePromise","token","source","callback","arr","_classCallCheck","_port","ndexServer","_ndexServer","CY_REST_BASE_URL","cyRestURL","_http","_httpGet","suid","createView","importParams","serverUrl","getNDExServer","authorizationFields","_getAuthorizationFields","_httpPost","assign","saveParams","_httpPut","DownloadButton","tooltip","fileName","DEF_FILENAME","disabled","React","onClick","content","file","Blob","DEFAULT_STATE","available","CyNDExContext","createContext","state","dispatch","CyNDExProvider","children","initialState","useReducer","action","payload","pollCyREST","cyndex","ndexClient","refresh","useEffect","runtime","Op","hasOwn","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","done","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","__proto__","awrap","async","iter","reverse","pop","skipTempReset","prev","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","fetch","console","getUserByEmail","apiCall","api","callApi","getUserByUserName","emailNewPassword","userId","putConfig","emailRE","isValidEmail","inputString","String","getUserBySearch","resetPassword","createUser","postConfig","body","callTextApi","getUniqueUserName","userName","email","counter","createGoogleUser","NDExAccountContext","NDExAccountProvider","ndexServerURL","googleClientId","useState","loginInfo","setLoginInfo","isLoading","setIsLoading","setError","setData","execute","newData","useCallback","useUserProfile","defState","isUserProfileLoading","userProfile","userProfileError","getUserProfile","useStyles","makeStyles","root","padding","margin","titleWrapper","display","alignItems","ndexLogo","marginRight","actionPanel","userIcon","formLabel","LargeNetworkDialog","classes","isOpen","hasLayout","hasView","setIsOpen","importNetworkFunction","viewBehavior","setViewBehavior","createViewTip","dontCreateViewTip","createViewLabel","dontCreateViewLabel","className","disableTypography","variant","component","onChange","event","control","label","disableFocusRipple","disableRipple","styles","button","borderColor","iconSmall","iconMedium","iconLarge","buttonIcon","OpenInCytoscapeButton","metaData","cyNDExValue","useContext","cyRESTAvailable","cyNDExStatus","cyRESTPort","largeNetworkDialogOpen","setLargeNetworkDialogOpen","importNetworkFromNDEx","ndexNetworkProperties","onSuccess","onFailure","cyndexHasExplicitViewSupport","z","checkVersion","fetchCX","getMetaDataElement","disableFocusListener","placement","objectCount","getObjectCount","iconClassName","alt","src","withStyles","HtmlTooltip","backgroundColor","maxWidth","fontSize","border","googlePanel","flexDirection","justifyContent","NdexGoogleLoginPanel","googleSignIn","googleSSO","clsName","logo","disableHoverListener","validateLogin","authorization","res","userData","validation","progress","LoadingPanel","loginButton","marginTop","formControl","paddingLeft","errorPanel","blank","userInfo","signup","flexGrow","FIELD_NAME","NdexCredentialsLoginPanel","onSuccessLogin","handleNDExSignOn","setContentMode","setLoading","setDisabled","setId","setPassword","errorMessage","setErrorMessage","handleChange","tag","onSubmit","fullName","image","details","placeholder","required","autoComplete","minWidth","leftComponent","alignItem","rightComponent","marginLeft","NdexLoginPanel","onLoginSuccess","onError","orientation","flexItem","signUpHeader","item","alignSelf","leftItem","paddingRight","rightItem","lastItem","textItem","paddingBottom","NdexSignUpPanel","onWaitForEmailValidation","firstName","setFirstName","lastName","setLastName","setUserName","emailAddress","setEmailAddress","confirmPassword","setConfirmPassword","readAgreement","setReadAgreement","showEmailValidation","setShowEmailValidation","useCreateUser","formError","loginAfterCreate","checked","rel","textArea","itemRight","ForgotPasswordPanel","onSuccessReset","onFailReset","setEmail","useResetPassword","helperText","evt","signInHeader","TermsAndConditionsPanel","oauth","onGoogleAgreement","useCreateGoogleUser","content_mode","title_options","SIGN_IN","FORGOT_PASSWORD","SIGN_TERMS_AND_CONDITIONS","SIGN_UP","NdexLoginDialog","setDialogState","onLogout","onGoogleSuccess","handleError","signIn","contentMode","getContent","createStyles","accountPopover","theme","marginBottom","largeAvatar","blue","NdexUserInfoPopover","userImage","anchorEl","onClose","myAccountURL","paper","anchorOrigin","vertical","horizontal","transformOrigin","disableRestoreFocus","container","direction","getInitial","spacing","isGoogle","loginDetails","loggedInUser","iconButton","logoutIconSmall","logoutIconMedium","logoutIconLarge","DEFAULT_HANDLER","loginState","NDExSignInButton","onLoginStateUpdated","onUpdate","isDialogOpen","setDialogOpen","dialogState","setAnchorEl","isPopoverOpen","Boolean","signOut","loaded","isLogin","newNdexCredential","newLoginInfo","refreshTokenSetup","refreshTiming","refreshToken","newAuthRes","onTokenRefresh","authResponse","refreshedLoginDetails","useGoogleLogin","clientId","scope","onAutoLoadFinished","signedIn","loggedInUserString","isSignedIn","fetchBasicProfile","useGoogleLogout","onLogoutSuccess","getLogoutIconClass","fontSizeSmall","fontSizeLarge","toolTipSpan","SaveToNDExButton","ndex","DEFAULTS","highlightColor","radiusScale","radiusMinPixels","radiusMaxPixels","create3DLayer","nodeViewMap","showEdges","pickable","ArcLayer","getSourcePosition","getTargetPosition","getSourceColor","getTargetColor","strokeWidth","visible","widthScale","autoHighlight","createEdgeLayers","render3d","depth","selectedEdges","layers","viewGroup","newLayer","updated","LineLayer","getColor","has","getWidth","updateTriggers","widthMinPixels","widthMaxPixels","create2DLayer","GraphLayer","pickingInfo","currentProps","disableClick","multipleSelection","eventHandlers","onNodeClick","onEdgeClick","isNode","log","selected","showLabels","edgeLayerDepth","nodePickable","edgePickable","bounds","selectedNodes","nodeLayer","ScatterplotLayer","getPosition","getFillColor","getRadius","createNodeLayer","nodeLabelLayer","from","TextLayer","getText","getSize","labelFontSize","getAngle","sizeScale","sizeMinPixels","sizeMaxPixels","getTextAnchor","getAlignmentBaseline","createLabelLayer","selectionLayer","points","PolygonLayer","bound","stroked","filled","wireframe","lineWidthMinPixels","getPolygon","getElevation","getLineColor","createSelectionLayer","edgeLayers","CompositeLayer","CommandProxy","fitFunction","zoomFunction","fit","_fitFunction","zoomIn","_zoomFunction","zoomOut","getPoints","startX","startY","endX","endY","initNodeIndex","numNodes","index","Flatbush","nv","add","initEdgeIndex","numEdges","sIndex","tIndex","ev","sourceNodeId","targetNodeId","sourceNode","targetNode","sx","sy","tx","ty","getBounds","minX","Number","POSITIVE_INFINITY","minY","maxX","NEGATIVE_INFINITY","maxY","idx","DEF_EVENT_HANDLER","onNodeMouseover","onEdgeMouseover","onBackgroundClick","layer","onSelect","nodes","edges","DEF_BG_COLOR","baseStyle","DUMMY_PROXY","proxy","LargeGraphRenderer","graphView","setDeckglReference","commandProxy","deck","useRef","deckRef","setDeckRef","setBounds","zoom","minZoom","maxZoom","transitionInterpolator","LinearInterpolator","transitionProps","initialViewState2","setInitialViewState2","fitContent2","deckGlInstance","networkWidth","networkHeight","wRatio","hRatio","scalingFactor","log2","deltaX","abs","deltaY","increment","viewState","newZoomLevel","newTarget","setDisableClick","dataUpdated","setDataUpdated","Set","setSelectedNodes","setSelectedEdges","setShowEdges","setShowLabels","setEdgeLayerDepth","selectionStart","setSelectionStart","selectionPoint","setSelectionPoint","selectionBounds","setSelectionBounds","isShiftDown","setIsShiftDown","edgeLayerGroups","setEdgeLayerGroups","spatialIndex","setSpatialIndex","edgeSourceIndex","setEdgeSourceIndex","edgeTargetIndex","setEdgeTargetIndex","deckGlRef","current","edgeViewList","eLayers","layerId","defLayer","targetLayer","createMultipleLayers","_handleKeyDown","_handleKeyUp","nodeViewList","view","OrthographicView","OrbitView","shiftKey","metaKey","DeckGL","ref","initialViewState","controller","views","onDragStart","startPoint","coordinate","onDrag","endPoint","selectedBound","onDragEnd","area","positions","xLeftTop","yLeftTop","xRightBottom","yRightBottom","getArea","viewport","nvList","evList","p1","unproject","p2","edgeS","edgeT","nodeIds","allEdges","selectedLen","selectedN","selectedE","nId","eId","nvArray","evArray","onViewStateChange","interactionState","isZooming","isPanning","_handleViewStateChange","bgHandler","_handleClick","onDblClick","onResize","handleResize","onLoad","indices","nodeIndex","edgeIndices","initSpatialIndex","handleLoad","onAfterRender","createViewMap","viewMap","Map","set","GraphViewFactory","createGraphView","placeItems","zIndex","background","Loading","showLoading","Typography","CircularProgress","disableShrink","getEntry","getNodeCount","_getObjectCount","getEdgeCount","cxObj","metaObj","_isLayoutAvailable","CYJS_LAYOUTS","getCyjsLayout","layoutTh","isLayout","numObj","LGR_LAYOUT","getNetworkBackgroundColor","cxVersion","_extractBackgroundColorCx2","bgPaint","AppContext","randomCircularLayout","PI","random","u","cos","sin","createLayers","edgeIdx","id2weight","weight","sort","id2ev","LGRPanel","layoutName","setLgrReference","performance","cxVizConverter","gv","selectedNodeEvent","nodeId","lastSelectedNode","setSelectedNodeOrEdge","selectedEdgeEvent","edgeId","lastSelectedEdge","setSelectedObjects","clearAll","Cytoscape","CyCanvas","CyNetworkUtils","cx2js","CxToJs","annotationRenderer","CxToCyCanvas","NDExError","useCyjs","cyjs","setCyjs","setUuid","niceCX","rawCXtoNiceCX","elementsObj","cyElementsFromNiceCX","cyStyleFromNiceCX","network","visualStyle","annotationNiceCX","cx2cyjs","lockMain","cy","lock","boxSelectionEnabled","autounselectify","unlock","initializeCy","tapHandler","boxSelectHandler","$","edgeIds","setSelectedNodesAndEdges","evtTarget","t0","renderedPosition","updateNetwork","newVS","fromJson","update","drawAnnotationsFromNiceCX","drawBackground","CytoscapeRenderer","setCyReference","setBusy","cyEl","cyInstance","setCyInstance","uiState","cyReference","cyjsNetwork","animate","newCyInstance","baseParams","locked","createCytoscape","main","showSearchResult","getAuthorization","ndexCredential","tokenId","basic","basicAuth","getNdexClient","baseUrl","warn","setAuthToken","setBasicAuth","getStatus","getAccessKey","replaceAll","pair","edgeLimitParams","queryModeParams","direct","firstStepNeighborhood","firstStepAdjacent","interconnect","twoStepNeighborhood","twoStepAdjacent","selectNodes","cxResult","isEdgeLimitExceeded","success","saveQuery","query","credential","queryParam","settings","queryNetwork","maxEdge","json","edgeLimitExceeded","parsedBody","kvMap","transformCx","ok","resultObject","getAttrs","nodeAttr","id2attr","pointer","useSearch","enabled","setEnabled","last","setLast","nextQuery","useQuery","cacheTime","retry","EMPTY_SELECTION","sub","lastSelected","fromMain","coordinates","showPropPanel","SelectionActions","selectionStateReducer","selectionState","CyActions","INITIAL_CY_REFERENCE","cyReducer","boxSizing","textAlign","arrow1","bottom","left","infoIcon","palette","EmptyView","showIcons","getAttributeMap","isV2","isCxV2","getNodeAttrsV2","edgeAttr","getEdgeAttrsV2","getNodeAttrs","getEdgeAttrs","SPECIAL_TAGS","represents","attrDefinition","defValues","defMap","attrKeys","getAttributeKeys","attrs","addSourceTargetInteractionV2","addSourceTargetInteraction","interaction","useAttributes","subnetworkOnly","attr","setAttr","text","paddingTop","smallText","lineHeight","bigText","PropList","attrMap","delete","localeCompare","List","ListItem","disableGutters","variantMapping","caption","fontWeight","propList","borderTop","overflowX","PropertyPanel","IconButton","getContextFromCx","version2","parseContext","oldContext","reduce","k","processList","list","listString","processItem","processListAsText","parseItem","itemString","processInternalLink","maxHeight","borderRadius","overflowY","backgroundRepeat","backgroundAttachment","backgroundSize","EdgeAttributes","SOURCE","TARGET","INTERACTION","Attributes","getWindowDimensions","windowWidth","innerWidth","windowHeight","innerHeight","Popup","subHeight","useParams","selectionStateDispatch","windowDimensions","setWindowDimensions","removeEventListener","useWindowDimensions","mainNetworkNotDisplayed","useMemo","setShowPropPanelFalse","nonEmptyMap","noNameEdge","include","includes","arrayItem","ndexUrl","right","rightPanelWidth","fitContent","UIStateActions","INITIAL_UI_STATE","dataPanelOpen","activeTab","uiStateReducer","ExpandButton","uiStateDispatch","hide","setHide","Tooltip","arrow","ungrabify","unselectify","grabify","selectify","lockMainWindow","subnet","NavigationPanel","lgrReference","ButtonGroup","newLevel","warningIcon","EdgeLimitExceededPanel","snackMessage","setSnackMessage","queryMode","maxEdgeQuery","Button","ndexHttps","Snackbar","autoHideDuration","rootA","lowerPanel","expandButton","NetworkPanel","subCx","renderer","cxDataSize","isWebGL2","setSubCx","noView","defSize","minSize","setSize","setSubHeight","cyDispatch","summary","setSummary","searchResult","maxNumObjects","usePrevious","countFunction","count","subnetworkNodeCount","subnetworkEdgeCount","mainEventHandlers","lastSelectedType","lastSelectedId","lastSelectedCoordinates","subEventHandlers","lgrEventHandlers","setMain","setSub","setMainNetworkNotDisplayed","getMainRenderer","viewerThreshold","maxDataSize","bgColor","getLgrLayout","getSubRenderer","pane2Style","pane1Style","maxSize","onDragFinished","newSize","disableWidth","collapsiblePanelTitle","divider","borderBottom","cursor","collapsiblePanel","expandIcon","float","CollapsiblePanel","openByDefault","setOpen","ExpandLess","ExpandMore","minHeight","Collapse","in","unmountOnExit","segmentTitle","NetworkPropertySegment","wrapper","innerWrapper","table","cellSpacing","borderSpacing","borderCollapse","tdTitle","whiteSpace","verticalAlign","tdContent","wordWrap","wordBreak","icon","formatTitle","string","formatContent","formatDescription","formatDisplay","propertiesList","NetworkProperties","informationDisplay","descriptionDisplay","propertiesDisplay","panelState","setPanelState","properties","description","informationTableContents","owner","creationTime","creationDate","toLocaleDateString","toLocaleTimeString","modificationTime","modificationDate","visibility","indexLevel","valign","informationList","rights","rightsHolder","reference","propertiesTableContent","predicate","predicateString","startsWith","descriptionList","rightsTable","darkBackground","netInfoOpen","descriptionOpen","propsOpen","summaryMap","getNetworkSummary","apiVersion","cache","isValidSummary","subMessage","useNetworkSummary","useLocation","TargetNodes","DB","MAIN","All","Selected","SUB","AllResult","SelectedResult","TargetSelector","setTarget","FormControl","InputLabel","htmlFor","Select","native","selectedValue","ButtonState","DB_URL","IQUERY","MSIGDB","ColumnSelector","columns","setSelected","shrink","inputProps","DBSelector","tooltipText","StartQueryButton","getButton","startIcon","flexContainer","flexWrap","QueryPanel","queryState","setQueryState","allNodeAttributes","columnNames","setColumnNames","ENABLED","buttonState","setButtonState","tooltipMessages","NO_NODES_SELECTED","TOO_MANY_NODES","column","TOO_MANY_NODES_SELECTED","sortedNames","getColumnNames","_handleColumnChange","_handleTargetChange","updateButtonState","selectedColumnName","Grid","justify","xs","db","queryUrl","selectedColumn","attrValues","queryString","buildUrl","permissionsMap","getNetworkPermissions","networkPermission","getNetworkPermissionsByUUIDs","permissions","useNetworkPermissions","DeleteDOIButton","dialogOpen","handleDeleteRequest","cancelDOIRequest","catch","Fragment","Dialog","disableBackdropClick","disableEscapeKeyDown","DialogTitle","DialogContent","dividers","DialogActions","doi","row","grid","chip","warning","copySpan","queryPanel","NetworkDetails","warningThreshold","doiCopiedHoverText","setDoiCopiedHoverText","Chip","onCopy","clickable","onMouseEnter","nodeCount","edgeCount","queryOpen","NetworkPropertyPanel","summaryResponseData","md","closeIcon","MinimizeButton","handleClick","bullet","transform","pos","Card","top","preventDefault","CardContent","gutterBottom","scrollbarWidth","scrollDiv","appendChild","offsetWidth","clientWidth","removeChild","overflow","tablePanel","tableBody","gridRow","gridColumn","flex","pagination","buttons","pageLabel","pageSelector","pageSelectorPanel","topBar","tabs","tab","tabPanel","leftSideGridContainer","leftSideGrid","headerGrid","bodyGrid","evenRow","oddRow","cell","headerCell","sortableHeader","sortButton","cellOverflow","overflowWrap","VirtualizedTable2","parentSize","openPopup","setOpenPopup","setPosition","setSelectedValue","gridRef","pageRef","rootRef","pagePanelHeight","setPagePanelHeight","rootPanelHeight","setRootPanelHeight","defaultColumn","_handleResize","offsetHeight","rootHeight","useTable","pageIndex","pageSize","useSortBy","usePagination","useFlexLayout","headerGroups","getTableProps","getTableBodyProps","prepareRow","page","canPreviousPage","canNextPage","pageOptions","pageCount","gotoPage","nextPage","previousPage","setPageSize","_handleGoToPage","scrollToCell","columnIndex","rowIndex","_renderBodyCell","parent","_renderLeftSideCell","_renderHeaderCell","_renderLeftHeaderCell","alignContent","targetColumn","toggleSortBy","isSortedDesc","canSort","Header","isSorted","cells","cellClass","originalValue","isLongValue","getCellProps","_onCellClick","pageX","pageY","columnWidth","columnCount","rowHeight","rowCount","clientHeight","onScroll","scrollLeft","scrollHeight","scrollTop","leftColor","scrollWidth","cellRenderer","overscanColumnCount","overscanRowCount","NodeAttributes","regex","replacePeriods","isEmptyString","startsWithNumber","EntryTable","selectedObjects","letterWidths","phrase","letter","getColumnWidth","rows","accessor","header","columnsList","dataList","textDataList","textRow","empty","filter","nonEmpty","nonNumbers","numbers","sortedDataList","finalColumns","hasName","hasRepresents","splice","InformationPanel","threshold","metaDataMap","getNetworkMetaData","getMetaData","TabType","OpenInCytoscape","useQueryResult","metaDataResponse","useNetworkMetaData","openButton","WarningPanel","selectedCount","baseFontSize","typography","borderLeft","tabWrapper","tabList","DEF_QUERY_STATE","SELECTION_TH","DataPanel","baseRef","titleRef","tabsRef","objCount","setObjCount","changed","setChanged","baseHeight","baseWidth","Network","tabsDisabled","setTabsDisabled","allNodeIds","setAllNodeIds","allEdgeIds","setAllEdgeIds","allNodeCount","allEdgeCount","allNodes","idTag","allNodeIDs","Node","widths","widthSum","sandbox","getElementById","fromCharCode","getTable","nodeTabTitle","edgeTabTitle","selectedIndex","forceRenderTabPanel","lastIndex","EMPTY_CX","getCx","getCX2Network","getRawNetwork","ResponseCode","ClosedPanel","Title","Helmet","MESSAGE_MAP","BadRequest","Unauthorized","InternalServerError","NotFound","MessageDialog","setProceed","setNoView","handleCancel","useHistory","DialogContentText","getCurrentServer","Forbidden","ErrorIcon","errorIcon","initPanel","primary","progressIcon","bottomMessage","link","InitPanel","optionalMessage","showProgress","ndexLoginWrapper","dialogTitle","setDialogTitle","dialogMessage","setDialogMessage","total","click","RENDERER","mainSplitRoot","leftPanel","getDefaultPanelWidth","floor","DFE_FETCH_PARAMS","getWindowWidth","useWindowWidth","setWindowWidth","MainSplitPane","containerRef","maxObj","th","summaryResponse","isError","isLoadingError","fetchParams","getFetchParams","curUuid","setCurUuid","cxResponse","useCx","originalCx","rightWidth","setRightWidth","containerHeight","setContainerHeight","setIsWebGL2","setCount","setCxDataSize","proceed","assignNewHeight","curRef","isSupported","ctx","getContext","WebGL2RenderingContext","isWebGL2supported","useLayoutEffect","cxSize","setDataPanelOpen","newWidth","newRightWidth","splitPaneStyle","getBase","InitializationPanel","unknownError","originalMessage","convertError","ClassicModeButton","classicUrl","endIcon","NdexHomeButton","AdvancedMenu","currentTarget","disableTouchRipple","Menu","MenuItem","ToolBar","ndexButton","setNdexCredential","setNdexLoginWrapper","lastChild","ndexServerUrl","flexRowContainerOuter","columnGap","flexRowContainerInner","flexColumnContainer","rowGap","flexRowItemOuter","flexBasis","flexRowItemInner","flexColumnItem","PaperComponent","Paper","SearchHelpDialog","handleClose","base","neighborhood","adjacent","SaveQueryButton","summaryObjectCount","cyNetworkUtils","removeTabsAndPipesFromString","strToNormalize","getNodeNameFromNodeObj","nodeObj","nodeName","getEdgeInfo","edgeInfo","edgeAttributes","edgeAttrs","pname","edgeCitations","citationList","citationId","citations","getNodeInfo","nodeInfo","getDefaultNodeLabel","nodeAttributes","nodeAttrs","getAttributeValue","attribute","returnStr","cx2tsv","edgeKeys","Interaction","sourceAliasOrder","nodeKeys","key1","attributeObj","attributeObjNameSource","attributeObjName","targetAliasOrder","attributeObjNameTarget","citationOrder","edgeKey","keySanitized","headersKeysSorted","fileString","nodeAttributesAlreadyProcessed","edgeAttributesAlreadyProcessed","edgeObj","sourceNodeObj","targetNodeObj","nodeAttrNormalized","nodeAttrNormalized1","edgeAttrNormalized","tabSeparatedRow","getTSVOfCurrentNiceCX","ExportTsvButton","contentType","createObjectURL","download","exportTsv","ListItemIcon","SaveQueryTSVMenuItem","ExportTsvMenuItem","AdvancedQueryMenu","shape","grey","inputRoot","inputInput","transition","transitions","selectEmpty","searchType","queryModes","SearchBox","disableQuery","setDisableQuery","rawQuery","setRawQuery","setQuery","setQueryMode","setSearchType","downloadProps","setShowSearchResult","setClearSelection","InputBase","autoFocus","input","q","onKeyPress","EditMetadataButton","networkSummary","isDoiAvailable","readOnly","isReadOnly","hasPermission","login","ShareLinkMenuItem","CreateDOIMenuItem","DISABLED_MENU_TOOLTIP","ShareMenu","getDisabledMessage","SaveNetworkCXButton","exportCx","credentialProp","DeleteDialog","usersAccountUrl","openFeedback","setOpenFeedback","_handleClose","deleteNetwork","DeleteButton","toolBar","grow","FooterPanel","appShell","footer","AppShell","accountShell","AccountShell","titleText","homeButton","textTransform","AccountSignUpPane","showHomeLink","setShowHomeLink","AccountForgotPasswordPane","fullWidth","secondary","TopPage","defNdexCredential","defSummary","App","history","basename","Provider","TopPanel","createMuiTheme","red","A200","ErrorBoundary","hasError","errorInfo","setState","reload","Component","ROOT_TAG","urlBody","updatedUrl","queryCache","QueryCache","queryClient","QueryClient","defaultOptions","queries","refetchOnWindowFocus","resource","viewerTh","ReactDOM","render","StrictMode","ThemeProvider","CssBaseline","client","loadResource","serviceWorker","ready","registration","unregister"],"mappings":";+HAAA,IAAiDA,EAShD,gCATgDA,EAShD,WACD,O,YCTA,SAGA,cAGA,QACA,oBAGA,YACA,IACA,KACA,YAUA,OANA,mCAGA,OAGA,UAqCA,OAhCA,MAGA,MAGA,oBACA,UACA,2BACA,gBACA,cACA,SAMA,gBACA,sBACA,WAA2B,kBAC3B,WAAiC,UAEjC,OADA,aACA,GAIA,kBAAsD,kDAGtD,OAGA,SDnDA,C,8BETAC,UAAiBC,OAAOC,OAAO,CAC3BC,WAD2B,YAE3BC,KAF2B,OAG3BC,KAH2B,OAI3BC,QAJ2B,UAM3BC,MAN2B,QAO3BC,MAP2B,QAS3BC,GAT2B,KAU3BC,EAV2B,IAW3BC,EAX2B,IAY3BC,EAZ2B,IAa3BC,EAb2B,IAe3BC,GAf2B,KAgB3BC,EAhB2B,IAiB3BC,EAjB2B,IAmB3BC,kBAnB2B,mBAoB3BC,QApB2B,UAsB3BC,MAtB2B,QAwB3BC,GAAI,Q,gPCzBR,cACI,IAAMC,EAAeC,EAAcC,MAAM,KAAKC,KAAI,YAAoB,OAAOC,SAASA,EAAhB,OACtE,GAA4BJ,IAAxBA,EAAaA,QAAjB,GAAiCA,EAAaA,OAC1C,KAAM,gCAAN,EAOJ,OALAA,WAAqB,SAAAK,GACjB,GAAIC,MAAJ,GACI,KAAM,wCAAN,KAGR,EA4BJ,gBACI1B,wBAA2C,YACvC,IAAM2B,EAAuBC,EAA7B,GACID,KACAE,QAAoCF,EAApCE,MAKZ,gBACI7B,wBAA2C,YACvC,IAAM2B,EAAuBC,EAA7B,GACID,KAEAG,MAAqBH,EAArBG,QAKZ,gBACI9B,wBAA2C,YACvC,IAAM2B,EAAuBC,EAA7B,GACID,KAEAI,QAA4CJ,EAA5CI,MA8BZhC,UAAiB,CACbiC,aADa,EAEbC,kBAjFJ,YACI,OAAOZ,EAAgBW,EAAaA,GAA7BX,GAAP,GAiFAa,6BA9EJ,wBAOIC,WAAgC,YACxBC,UACAC,IAA6CD,EAA7CC,OACAC,IAA6CF,EAA7CE,OACAC,IAA6DH,EAA7DG,QAEAH,UACAC,IAA6CD,EAA7CC,OACAC,IAA6CF,EAA7CE,OACAC,IAA6DH,EAA7DG,YA+DRD,uBAJa,EAKbD,uBALa,EAMbE,+BANa,EAObC,oBAhCJ,gBACIC,GAAKzC,OAAO0C,KAAKD,GAAGE,SAAQ,YACxB,IAAKd,EAAiBA,IAAtB,GAAgC,CAC5B,IAAMe,EAAQH,EAAd,GACMI,uBAAsBA,EAAtBA,cAAN,GACMC,EAAShB,EAAiBA,IAAIA,GAAOA,EAAiBA,IAA7CA,GAAf,EACAD,gBA2BRkB,sBAtBJ,gBACI,IAAIC,EAAJ,GAUA,OATAP,GAAKzC,OAAO0C,KAAKD,GAAGE,SAAQ,YACxB,IAAMG,EAAShB,EAAiBA,IAAIA,GAAOA,EAAiBA,IAA7CA,GAAf,EACAkB,KAAeP,EAAfO,MAEJjB,WAAiC,cACxBiB,EAAL,KACIA,WAGR,K,6BCvFJ,IAAMC,EAAYC,EAAlB,GAEAnD,kBAAyB,cAAwB,OAAOkD,EAAUA,QAAQA,EAAzB,K,6BCHjD,IAAME,EAAcD,EAApB,GACME,EAAeF,EAArB,GACMG,EAAcH,EAApB,GACMI,EAASJ,EAAf,GAEA,cACI,IACM7B,EADekC,EAArB,GACmCJ,EAAnC,YAIA,OAFqBG,EAAOA,kBAA5B,GAGI,KAAM,4BAAN,EAIR,IAAME,EAAoB,CAAC,EAA3B,GAKA,gBACI,IAAIC,OAAJ,EAaA,GAXAC,WAAoB,SAAAT,GAChB,GAAIA,EAAUA,UAAUA,cAAxB,EAAsD,CAElD,uBAAWQ,EAGP,KAAM,0DAAN,EAFAA,QAOZ,oBAAWA,EACP,KAAM,6CAAN,EAEJ,SAGJ,gBAEI,OAD0BE,EAAgBA,EAA1C,GACyBF,UAAzB,aAcJ1D,UAAiB,CACb6D,QAZJ,cAAmE,IAAhCF,EAAgC,uDAAnBF,EAE5C,MAAID,EAAGA,OACH,OAAOM,EAAgBA,EAAvB,GAGJC,KACA,IAAML,EAAoBE,EAAgBA,EAA1C,GACA,OAAOF,EAAkBA,UAAUA,QAAnC,M,6BCtDJ,IAAMN,EAAcD,EAApB,GACMa,EAAwBb,EAA9B,GACMI,EAASJ,EAAf,GAEA,gBACI,IAAMc,EAAN,GAEA,OADAA,OACA,EAGJ,cACI,YAAIC,EACA,SAEJ,IAAIC,EAAJ,EAAWC,EAAX,EAAkBC,EAAlB,EAeA,OAZA,GAAIH,EAAIA,QACJC,EAAI,KAAOD,EAAP,GAAgBA,EAApBC,GACAC,EAAI,KAAOF,EAAP,GAAgBA,EAApBE,GACAC,EAAI,KAAOH,EAAP,GAAgBA,EAApBG,IAGG,GAAIH,EAAIA,SACXC,EAAI,KAAOD,EAAP,GAAgBA,EAApBC,GACAC,EAAI,KAAOF,EAAP,GAAgBA,EAApBE,GACAC,EAAI,KAAOH,EAAP,GAAgBA,EAApBG,IAGG,CAAC5C,SAAD,GAAcA,SAAd,GAA2BA,SAAlC,IAGJ,cACI,OAAO6C,EAAMC,KAAKA,MAAXD,IAAiBE,GAAjBF,EAAP,KAGJ,IAAMG,EAAyB,CAC3B,KAAQ,CACJ,WAAc,mBAA2BC,EAA6BV,EAA7BU,oBAA3B,IACd,YAAe,mBAA2BA,EAA6BV,EAA7BU,qBAA3B,IACf,sBAAyB,mBAA2BA,EAA6BV,EAA7BU,gBAAoEC,EAA/F,KACzB,wBAA2B,mBAA2BD,EAA6BV,EAA7BU,gBAAoEE,EAA/F,KAC3B,WAAc,mBAA2BF,EAA6BV,EAA7BU,MAA3B,IACd,iBAAoB,mBAA2BA,EAA6BV,EAA7BU,qBAAyEC,EAApG,KACpB,mBAAsB,mBAA2BD,EAA6BV,EAA7BU,qBAAyEE,EAApG,KACtB,qBAAwB,mBAA2BF,EAA6BV,EAA7BU,cAA3B,KAE5B,KAAQ,CACJ,WAAc,mBAA2BA,EAA6BV,EAA7BU,MAA3B,IACd,aAAgB,mBAA2BA,EAA6BV,EAA7BU,gBAAoEE,EAA/F,KAChB,gBAAmB,mBAA2BF,EAA6BV,EAA7BU,gBAAoEC,EAA/F,KACnB,WAAc,mBAA2BD,EAA6BV,EAA7BU,MAA3B,IACd,iBAAoB,mBAA2BA,EAA6BV,EAA7BU,qBAAyEC,EAApG,KACpB,mBAAsB,mBAA2BD,EAA6BV,EAA7BU,qBAAyEE,EAApG,KACtB,qBAAwB,mBAA2BF,EAA6BV,EAA7BU,cAA3B,MAMhC,cACI,IAAIG,EAAS,CACTC,KADS,GAETC,KAAM,IAEV,GAAIC,OAAiC,CACjC,IACMC,EAAaC,EAAaA,OADZF,EAApB,MAEA/E,cAAc4E,EAAd5E,QAEJ,GAAI+E,OAAiC,CACjC,IACMC,EAAaC,EAAaA,OADZF,EAApB,MAEA/E,cAAc4E,EAAd5E,QAEJ,SAGJ,gBACI,IAAI4E,EAAJ,GAUA,OATA5E,wBAA6B,SAAAkF,GACzB,IAAMC,EAAwBC,EAA9B,GACA,GAAIZ,EAAuBA,GAA3B,GAA6D,CACzD,IAAMa,EAAWb,EAAuBA,GAAYA,GAApD,GACAxE,wBAA8B,SAAAsF,GAC1BV,KAAiBS,EAAjBT,UAIZ,EAGJ,gBACI,YAAqBW,GAAdA,OACQC,GAATA,EACI,CAACD,EAAD,GAAgBA,EAAhB,GAA+BA,EAA/B,GADJC,GAEI,CAACD,EAAD,GAAgBA,EAAhB,GAA+BA,EAHlCA,SAAP,EAOJ,gBACI,OAAOjB,KAAKA,IAAIA,EAAhB,GAGJ,cACI,IAAImB,OAAJ,EACIC,OAAJ,EACIH,OAAJ,EACIC,OAAJ,EAEIG,OAAJ,EACIC,OAAJ,EAEIhB,EAAS,CACTiB,GAAIC,EADK,GAETC,SAAUD,EAASC,UAIvB/F,wBAA8B,SAAAgG,GACtBA,IAAQjC,EAAZ,oBACI0B,EAAQK,EAARL,oBACOO,IAAQjC,EAAZ,qBACH2B,EAASI,EAATJ,qBACOM,IAAQjC,EAAZ,gBACHwB,EAAaO,EAAbP,gBACOS,IAAQjC,EAAZ,gBACHyB,EAAQM,EAARN,gBACOQ,IAAQjC,EAAZ,qBACH4B,EAAkBG,EAAlBH,qBACOK,IAAQjC,EAAZ,qBACH6B,EAAaE,EAAbF,qBAEAhB,KAAckB,EAAdlB,MAIR,IAAMqB,EAAQC,EAAaA,EAA3B,GACA,IACItB,EAAOb,EAAPa,UAGJ,IAAMuB,EAAaD,EAAaA,EAAhC,GASA,OARA,IACItB,EAAOb,EAAPa,eAGSwB,EAAYA,EAAzB,KAEIxB,EAAOb,EAAPa,MAAqCwB,EAAYA,EAAjDxB,IAEJ,EAGJ,cACI,IAAIW,OAAJ,EACIC,OAAJ,EAEIG,OAAJ,EACIC,OAAJ,EAEIhB,EAAS,CACTiB,GAAIQ,EADK,GAETC,EAAGD,EAFM,EAGTE,EAAGF,EAASE,GAGhBvG,wBAA8B,SAAAgG,GACtBA,IAAQjC,EAAZ,gBACIwB,EAAac,EAAbd,gBACOS,IAAQjC,EAAZ,gBACHyB,EAAQa,EAARb,gBACOQ,IAAQjC,EAAZ,qBACH4B,EAAkBU,EAAlBV,qBACOK,IAAQjC,EAAZ,qBACH6B,EAAaS,EAAbT,qBAEAhB,KAAcyB,EAAdzB,MAIR,IAAMqB,EAAQC,EAAaA,EAA3B,GACA,IACItB,EAAOb,EAAPa,UAGJ,IAAMuB,EAAaD,EAAaA,EAAhC,GAKA,OAJA,IACItB,EAAOb,EAAPa,eAGJ,EAGJ,cACI,IAAIA,EAAJ,GAWA,OAVA5E,wBAA8B,SAAAwG,GAC1B,IAAMC,EAAUC,EAAhB,GACMC,EAAc/B,EAAO6B,EAAQA,WAAf7B,WAAuCA,EAAO6B,EAAQA,WAAtD7B,WAApB,GACA+B,OAAiB,CACbC,KAAMH,EADO,KAEbI,GAFa,EAGbC,WAAYL,EAAQK,aAExBlC,EAAO6B,EAAQA,WAAf7B,gBAEJ,EAIJ,kBACI,OAAQmC,EAAD,IAAmCC,EAA1C,GAGJ,kBACI,YAAcC,IAAVA,QAAJ,IAA2BC,EAChBD,GAAUC,EAAD,GAAhB,OAEA,IAAID,EACA,OACG,IAAIC,EACP,OADG,EAMf,kBACI,OAAO5C,KAAKA,IAAIA,KAAKA,IAAIA,EAAlBA,GAAP,GAGJ,sBAKI,OAFe6C,EAAOA,EAAOA,EAFNC,EAAkBA,EAAgBA,EAAzD,IAOJ,sBACI,IAAMC,EAAS3C,EAAf,GACM4C,EAAS5C,EAAf,GAEM6C,EAAiBH,EAAkBA,EAAgBA,EAAzD,GAQA,MANe,CAEX/C,EAAMC,KAAKA,MAAM6C,OAAkBE,IAAXA,OAAuBA,EAAYA,EAA1CF,QAAgEG,IAAXA,OAAuBA,EAAYA,EAAxFH,GAAjB9C,MAFW,KAGXA,EAAMC,KAAKA,MAAM6C,OAAkBE,IAAXA,OAAuBA,EAAYA,EAA1CF,QAAgEG,IAAXA,OAAuBA,EAAYA,EAAxFH,GAAjB9C,MAHW,KAIXA,EAAMC,KAAKA,MAAM6C,OAAkBE,IAAXA,OAAuBA,EAAYA,EAA1CF,QAAgEG,IAAXA,OAAuBA,EAAYA,EAAxFH,GAAjB9C,MAJJ,MASJ,sBAMI,OAAOM,EAHcwC,EAAOA,EAAOA,EAFZC,EAAkBA,EAAgBA,EAAzD,KAQJ,IAAMI,EAA4B,CAC9B,KAAQ,CACJ,WAAc,2BAA8D/C,EAA6BV,EAA7BU,oBAAwEgD,EAAgCA,EAAgBA,EAAcA,EAAcA,EAAlN,KACd,YAAe,2BAA8DhD,EAA6BV,EAA7BU,qBAAyEgD,EAAgCA,EAAgBA,EAAcA,EAAcA,EAAnN,KACf,sBAAyB,2BAA8DhD,EAA6BV,EAA7BU,gBAAoEiD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAA7M,KACzB,wBAA2B,2BAA8DjD,EAA6BV,EAA7BU,gBAAoEkD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAA7M,KAC3B,iBAAoB,2BAA8DlD,EAA6BV,EAA7BU,qBAAyEiD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAAlN,KACpB,mBAAsB,2BAA8DjD,EAA6BV,EAA7BU,qBAAyEkD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAAlN,KACtB,qBAAwB,2BAA8DlD,EAA6BV,EAA7BU,cAAkEgD,EAAgCA,EAAgBA,EAAcA,EAAcA,EAA5M,MAE5B,KAAQ,CACJ,WAAc,2BAA8DhD,EAA6BV,EAA7BU,MAA0DgD,EAAgCA,EAAgBA,EAAcA,EAAcA,EAApM,KACd,aAAgB,2BAA8DhD,EAA6BV,EAA7BU,gBAAoEkD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAA7M,KAChB,gBAAmB,2BAA8DlD,EAA6BV,EAA7BU,gBAAoEiD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAA7M,KACnB,iBAAoB,2BAA8DjD,EAA6BV,EAA7BU,qBAAyEiD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAAlN,KACpB,mBAAsB,2BAA8DjD,EAA6BV,EAA7BU,qBAAyEkD,EAA+BA,EAAgBA,EAAcA,EAAcA,EAAlN,KACtB,qBAAwB,2BAA8DlD,EAA6BV,EAA7BU,cAAkEgD,EAAgCA,EAAgBA,EAAcA,EAAcA,EAA5M,OAIhC,sBAQI,YAP6BG,IAARA,IACdC,EAAaD,GAAbC,EAAqCD,EADvBA,WAGOE,GAAPA,IACdC,EAAaD,GAAbC,EAAqCD,EADvBA,IAOzB,kBACI,IAAIlD,EAAJ,GAyCA,OAxCA5E,wBAAgC,SAAAgI,GAC5B,IAAMjB,EAAiBkB,EAAvB,GACIvB,EAASA,GAAb,IACIA,iBACI,YAEI,gBAAID,EAAQA,KACJA,EAAQA,WAAZ,KACwBA,EAAQA,WAA5B,IAEAyB,SAAoB,SAAAC,GAChB,GAAIA,EAASA,GAAb,GAEQ3D,EAAuBA,GAAYiC,EAAvC,IAAoD,CAChD,IAAM2B,EAAY5D,EAAuBA,GAAYiC,EAAnCjC,IAA+C2D,EAAjE,IAEAnI,4BAKb,mBAAIyG,EAAQA,MACf,GAAIjC,EAAuBA,GAAYiC,EAAvC,IAAoD,CAChD,IAAM2B,EAAY5D,EAAuBA,GAAYiC,EAAnCjC,IAAlB,GACAxE,wBAED,eAAIyG,EAAQA,MACYA,EAAQA,WAAnC,IACA4B,SAA2B,SAAAC,GAEvB,GAAIC,EAAUA,EAAgBD,EAA1BC,IAA4CD,EAA5CC,IAA8DD,EAA9DC,WAAuFD,EAAvFC,aACGf,EAA0BA,GAAYf,EAD7C,IAC0D,CACtD,IAAM2B,EAAYZ,EAA0BA,GAAYf,EAAtCe,MAAkEc,EAAlEd,IAAoFc,EAApFd,IAAsGc,EAAtGd,WAA+Hc,EAAjJ,YACAtI,6BAO5B,EA6LJ,IAAMiD,EAAY,CACduF,aADc,MAEdC,aAAc,CAAE,UAAF,GAAmB,UAFnB,IAGd7E,QAAS,YACL,OA9LR,YAMI,IAAI8E,OAAJ,EACIC,EAAJ,GACIC,EAAJ,GAEIC,EAAuB,IAA3B,IACIC,EAAuB,IAA3B,IAEIC,EAAuB,IAA3B,IACIC,EAAuB,IAA3B,IAEIC,EAA+B,IAAnC,IACIC,EAA+B,IAAnC,IAEIC,OAAJ,EACIzC,EAAW,CACX7B,KADW,GAEXC,KAAM,IAENsE,EAAiB,CACjB,KADiB,GAEjB,KAAQ,IAGZ7F,WAAW,YACP,GAAI8F,wBAAmC,CACnC,IAAMlH,EAA0BkH,wBAChC/F,mDAQO+F,QACSA,QAChBC,SAAgB,YACZhG,0BAAuEiG,QAEpEF,QACSA,QAChBG,SAAgB,YACZlG,0BAAuEmG,QAEpEJ,mBACPX,EAAqBW,mBACdA,eACPA,wBAA8B,SAAAK,GAC1Bf,aAEGU,gBACPA,wBAA8B,SAAAK,GAC1Bd,gBAKZ,IAAIhE,EAAJ,GAEI+E,EAAJ,GACIC,EAAJ,GAqHA,OAnHAlB,GAAsBA,EAAmB/F,SAAQ,SAAAkH,GAE7C,IAAMC,EAAgBD,EAAtB,QAEAV,EAAgBY,EAAhBZ,GAEAzC,OAAgBmD,EAAUA,YAAcG,EAAYH,EAApCA,aAAhBnD,GACAA,OAAgBmD,EAAUA,YAAcG,EAAYH,EAApCA,aAAhBnD,MAKJiC,GAAkBA,EAAehG,SAAQ,YAErC,IAAMqD,EAAM6D,EAAU1G,EAAV0G,IAAZ,WACMI,EAAShF,EAAaA,OAAQ4E,EAApC,GAEKT,EAAeA,KAApB,KACIA,cAKJpJ,cAAcoJ,EAAeA,KAA7BpJ,SAIJ4I,GAAkBA,EAAejG,SAAQ,YACrC,IAAMqD,EAAM6D,EAAU1G,EAAV0G,IAAZ,WACMI,EAAShF,EAAaA,OAAQ4E,EAApC,GAEKT,EAAeA,KAApB,KACIA,cAKJpJ,cAAcoJ,EAAeA,KAA7BpJ,SASJuD,WAAW,YACH8F,QACgBA,QAGhBC,SAAgB,YACZ,IAAMY,EAAOX,EAAOpG,EAAPoG,IAAb,WACIzD,EAAW,CACXD,GADW,EAEXE,SAAUwD,EAAUA,EAChB,CAACA,IAAaA,IAAaA,KACzB,CAACA,IAAaA,MAIxB,KAAmB,CACf,IAAMY,EAA8BhB,OACpCnJ,mBAGJ,IAAMoK,EAAqB9G,EAAOA,sBAAsBiG,IAA7BjG,EAA3B,GACM+G,EAAgBC,EAAgBA,EAAUA,OAAhD,GACAtK,mBAGIoJ,EAAeA,KAAnB,IACIpJ,gBAAwBoJ,EAAeA,KAAvCpJ,IAGJ,IAAMuK,EAAoBC,EAA1B,GAEAb,aAGGN,SACSA,QAEhBG,SAAgB,YACZ,IAAMU,EAAOT,EAAOtG,EAAPsG,IAAb,WACMpD,EAAW,CACbR,GADa,EAEbS,EAAGmD,EAAOA,EAFG,WAGblD,EAAGkD,EAAOA,EAAEA,YAIhB,KAAmB,CACf,IAAMgB,EAA8BtB,OACpCnJ,mBAGJ,IAAMoK,EAAqB9G,EAAOA,sBAAsBmG,IAA7BnG,EAA3B,GACM+G,EAAgBC,EAAgBA,EAAUA,OAAhD,GACAtK,mBAEIoJ,EAAeA,KAAnB,IACIpJ,gBAAwBoJ,EAAeA,KAAvCpJ,IAGJ,IAAM0K,EAAoBC,EAA1B,GAEAf,gBAKZhF,EAAOb,EAAPa,aACAA,EAAOb,EAAPa,aAEA,EAOWgG,CAAP,KAIR7K,UAAiB,CACb0E,6BADa,EAEbgD,gCAFa,EAGbE,+BAHa,EAIbD,+BAJa,EAKb8C,gBALa,EAMbG,gBANa,EAObZ,iBAPa,EAQb3C,kBARa,EASbmB,UATa,EAUbtF,UAAWA,I,6BC9hBflD,UAAiBC,OAAOC,OAAO,CAC3B,UAD2B,YAE3B,UAF2B,YAG3B,GAH2B,KAI3B,SAJ2B,WAK3B,EAL2B,IAM3B,EAN2B,IAO3B,MAP2B,QAQ3B,WAR2B,aAS3B,cAT2B,gBAU3B,MAV2B,QAW3B,KAX2B,OAY3B,MAZ2B,QAc3B,gBAd2B,kBAe3B,gBAf2B,kBAgB3B,qBAhB2B,uBAiB3B,qBAjB2B,uBAkB3B,oBAlB2B,sBAmB3B,qBAAyB,0B,6BCnBTiD,EAApB,OACM2H,EAAc3H,EAApB,GACMI,EAASJ,EAAf,GAEA,gBACI,IAAMc,EAAmB,IAAzB,IAEA,OADAA,WACA,EAGJ,IAAMQ,EAAyB,CAC3B,KAAQ,CACJ,WAAc,mBAA2BC,EAA6BoG,EAA7BpG,MAA3B,IACd,WAAc,mBAA2BA,EAA6BoG,EAA7BpG,MAA3B,IACd,YAAe,mBAA2BA,EAA6BoG,EAA7BpG,OAA3B,IACf,sBAAyB,mBAA2BA,EAA6BoG,EAA7BpG,iBAA3B,IACzB,wBAA2B,mBAA2BA,EAA6BoG,EAA7BpG,mBAA3B,IAC3B,WAAc,mBAA2BA,EAA6BoG,EAA7BpG,MAA3B,IACd,iBAAoB,mBAA2BA,EAA6BoG,EAA7BpG,YAA3B,IACpB,mBAAsB,mBAA2BA,EAA6BoG,EAA7BpG,cAA3B,IACtB,qBAAwB,mBAA2BA,EAA6BoG,EAA7BpG,gBAA3B,KAE5B,KAAQ,CACJ,WAAc,mBAA2BA,EAA6BoG,EAA7BpG,MAA3B,IACd,aAAgB,mBAA2BA,EAA6BoG,EAA7BpG,QAA3B,IAChB,WAAc,mBAA2BA,EAA6BoG,EAA7BpG,MAA3B,IACd,gBAAmB,mBAA2BA,EAA6BoG,EAA7BpG,WAA3B,IACnB,mBAAsB,mBAA2BA,EAA6BoG,EAA7BpG,cAA3B,IACtB,qBAAwB,mBAA2BA,EAA6BoG,EAA7BpG,gBAA3B,MAIhC,gBACI,IAAMG,EAAN,GAEA,OADAA,KAA2B,QAAUkG,EAArClG,IACA,EAGJ,IAAMmG,EAA4B,CAC9B,KAAQ,CACJ,WAAc,mBAAmBC,EAAgCH,EAAhCG,MAAnB,IACd,WAAc,mBAAmBA,EAAgCH,EAAhCG,MAAnB,IACd,YAAe,mBAAmBA,EAAgCH,EAAhCG,OAAnB,IACf,sBAAyB,mBAAmBA,EAAgCH,EAAhCG,iBAAnB,IACzB,wBAA2B,mBAAmBA,EAAgCH,EAAhCG,mBAAnB,IAC3B,WAAc,mBAAmBA,EAAgCH,EAAhCG,MAAnB,IACd,iBAAoB,mBAAmBA,EAAgCH,EAAhCG,YAAnB,IACpB,mBAAsB,mBAAmBA,EAAgCH,EAAhCG,cAAnB,IACtB,qBAAwB,mBAAmBA,EAAgCH,EAAhCG,gBAAnB,KAE5B,KAAQ,CACJ,WAAc,mBAAmBA,EAAgCH,EAAhCG,MAAnB,IACd,aAAgB,mBAAmBA,EAAgCH,EAAhCG,QAAnB,IAChB,gBAAmB,mBAAmBA,EAAgCH,EAAhCG,WAAnB,IACnB,WAAc,mBAAmBA,EAAgCH,EAAhCG,MAAnB,IACd,iBAAoB,mBAAmBA,EAAgCH,EAAhCG,YAAnB,IACpB,mBAAsB,mBAAmBA,EAAgCH,EAAhCG,cAAnB,IACtB,qBAAwB,mBAAmBA,EAAgCH,EAAhCG,gBAAnB,MAGhC,wBACI,IAAIpG,EAAJ,GAeA,YAdgBqG,GAAZA,QAAJ,IAA6BC,EAC7BtG,KAA2B,WAAakG,EAAb,4BAA3BlG,SAOI,IAAIqG,EACArG,YACG,GAAIsG,IACPtG,QAGR,EAGJ,IAAMuG,EAAyB,CAC3B,KAAQ,CACJ,WAAc,2BAAqDC,EAA6BP,EAA7BO,cAArD,IACd,WAAc,2BAAqDA,EAA6BP,EAA7BO,cAArD,IACd,YAAe,2BAAqDA,EAA6BP,EAA7BO,eAArD,IACf,sBAAyB,2BAAqDA,EAA6BP,EAA7BO,yBAArD,IACzB,wBAA2B,2BAAqDA,EAA6BP,EAA7BO,2BAArD,IAC3B,WAAc,2BAAqDA,EAA6BP,EAA7BO,cAArD,IACd,iBAAoB,2BAAqDA,EAA6BP,EAA7BO,oBAArD,IACpB,mBAAsB,2BAAqDA,EAA6BP,EAA7BO,sBAArD,IACtB,qBAAwB,2BAAqDA,EAA6BP,EAA7BO,wBAArD,KAG5B,KAAQ,CACJ,WAAc,2BAAqDA,EAA6BP,EAA7BO,cAArD,IACd,aAAgB,2BAAqDA,EAA6BP,EAA7BO,gBAArD,IAChB,gBAAmB,2BAAqDA,EAA6BP,EAA7BO,mBAArD,IACnB,WAAc,2BAAqDA,EAA6BP,EAA7BO,cAArD,IACd,iBAAoB,2BAAqDA,EAA6BP,EAA7BO,oBAArD,IACpB,mBAAsB,2BAAqDA,EAA6BP,EAA7BO,sBAArD,IACtB,qBAAwB,2BAAqDA,EAA6BP,EAA7BO,wBAArD,MAKhC,gBACI,IAAIxG,EAAJ,GAUA,OATA5E,wBAAoC,YAChC,IAAMmF,EAAwBkG,EAA9B,GACI7G,EAAuBA,GAA3B,IACuBA,EAAuBA,GAAYA,GAAtD,GACA8G,SAAmB,cACf1G,aAIZ,EAUJ,gBACI,MAAO,CAAE,SAAF,EAAwB,MAA/B,GAkBJ,oBACI,IAAIA,EAAJ,GACMkG,EAAgBS,YAUtB,OATkBA,MAGlBC,SAAkB,YACd,IAAMC,EAtBd,sBAKI,OAAOC,QAFU,IAACT,EAA0B,IAAMH,EAAgB,KAF7CjD,EAAaA,KAAlC,KAEuF,IAAMoD,EAA5E,IAAjB,UACiB,IAACC,EAA0B,IAAMJ,EAAgB,KAF7C/C,EAAaA,KAAlC,KAEuF,IAAMmD,EAA5E,IAAjB,IAkBqBS,CAAsBA,EAAYA,EAAeC,EAAjDD,IAA4DC,EAA5DD,IAAuEC,EAAvED,WAAyFC,EAA1G,YACMC,EAfd,wBACI,OAAIV,EAAuBA,GAA3B,GACWA,EAAuBA,GAAYA,GAAqBA,EAAeA,EAAUA,EAAUA,EAAlG,GAEJ,GAWkBW,CAAmBA,EAAYA,EAAqBA,EAAeF,EAAnEE,IAA8EF,EAA9EE,IAAyFF,EAAzFE,WAA2GF,EAAzH,YAEAhH,OAAYmH,EAAgBA,EAA5BnH,OAEJ,EAmDJ,gBAEI,IAAMiB,EAAKmG,EAAX,GACMC,EAAN,GACAjM,YAAYgM,EAAZhM,YAAiC,YAC7B,IAAMmF,EAAwB6G,EAAUA,EAAxC,GACIxH,EAAuBA,GAA3B,IACqBA,EAAuBA,GAAYA,GAApD,GACA0H,SAAiB,cACbD,aAKZ,IAAMR,EAvGV,cAEI,OAAOU,EAAcA,IAArB,EAqGiBC,CAAcA,EAA/B,GACA,OAAOL,EAAgBA,EAAvB,GAMJ,kBAII,IAAInH,EAAJ,GA4BA,OA3BAyH,GAAoBrM,OAAO0C,KAAK2J,GAAkB1J,SAAQ,YACtD,IAAM2J,EAAiBD,EAAvB,GAEA,OAAQC,EAAR,MACI,iBAC8BC,EAA+BA,EAAKD,EAApCC,cAC1BC,SAA0B,YACtB5H,aAEJ,MAEJ,kBACI,IAAM6H,EAtFtB,gBACI,OAAI1B,EAA0BA,GAA9B,GAEWgB,EAAgBA,EADXhB,EAA0BA,GAAYA,GAAqBQ,EAAvE,YAGJ,KAiF6BmB,CAA8BA,EAAKJ,EAAnCI,WAAjB,GACA,GACI9H,UAEJ,MAEJ,eACI,IAAM+H,EAtEtB,kBACI,IAAI/H,EAAJ,GACMgI,EAAuBrB,MACvBT,EAAgBS,YAChBsB,EAAoBhL,EAAiBA,IAA3C,GAkBA,OAjBA+K,WAA6B,YAGzB,IAAMnB,EAvBd,kBACI,gBAAIoB,EACOnB,EAAaA,IAAMA,EAAgBA,OAAUA,EAApD,KACG,WAAImB,EAEP,QAAI9F,EACO2E,EAAaA,KAAOA,EAA3B,IAEOA,EAAaA,IAAMA,EAAgBA,MAAQA,EAAlD,IAGGA,EAAaA,IAAMA,EAAgBA,MAAQA,EAAlD,IAYiBoB,CAAoBA,EAAYA,EAAeA,EAAmB5E,EAAnF,GAEA,GAAI1D,EAAuBA,GAA3B,GAA6D,CACzD,IAAM0H,EAAW1H,EAAuBA,GAAYA,GAAqB0D,EAAzE,IACM+D,EAAN,GACAC,WAAiB,cACbD,UAEJrH,OAAYmH,EAAgBA,EAA5BnH,QAhBkG,EAsErEmI,CAA6BA,EAAKT,EAAlCS,aAAzB,GACAJ,WAAyB,YACrB/H,iBAMhB,EA+DJ,IAAM3B,EAAY,CACduF,aADc,cAEdC,aAAc,CACVoD,MADU,GAEVmB,SAFU,GAGVC,OAHU,GAIV,mBAAoB,MAExBrJ,QAAS,YACL,IAAMgB,EAAS,CACXiH,MADW,GAEXmB,SAFW,GAGXC,OAHW,GAIX,mBAAoB,MAGpBvE,OAAJ,EACIC,EAAJ,GACIC,EAAJ,GAEIC,EAAuB,IAA3B,IACIC,EAAuB,IAA3B,IAEIC,EAAuB,IAA3B,IACIC,EAAuB,IAA3B,IAEIC,EAA+B,IAAnC,IACIC,EAA+B,IAAnC,IAEA3F,WAAW,YACP,GAAI8F,wBAAmC,CACnC,IAAMlH,EAA0BkH,wBAEhC/F,mDAQO+F,QACSA,QAChBC,SAAgB,YACZhG,0BAAuEiG,QAEpEF,QACSA,QAChBG,SAAgB,YACZlG,0BAAuEmG,QAEpEJ,mBACPX,EAAqBW,mBACdA,eACPA,wBAA8B,SAAAK,GAC1Bf,aAEGU,gBACPA,wBAA8B,SAAAK,GAC1Bd,gBAKZC,WAA6B,kBAI7BC,WAA6B,kBAK7BlE,oBAGAA,oBAGArB,WAAW,YACH8F,QACgBA,QAChBC,SAAgB,YACZ,IAAM7H,EAAN,GACAA,OAAkB6B,EAAOA,sBAAsBiG,IAA7BjG,EAAlB7B,GACAA,UAAwB8H,EAAOA,GAA/B9H,WACAA,WAAsB,CAClByL,EAAG3D,IACH4D,EAAG5D,EAAUA,GAEjB3E,4BAEGyE,SACSA,QAChBG,SAAgB,YACZ,IAAM/H,EAAN,GACAA,OAAkB6B,EAAOA,sBAAsBmG,IAA7BnG,EAAlB7B,GACAA,UAAwBgI,EAAOA,GAA/BhI,WACAA,cAA4BgI,IAC5BhI,cAA4BgI,IAC5B7E,+BAKZ,IAAMiH,EAlKd,oBACI,IAAIjH,EAAS,CACTiH,MADS,GAET,wBAAoBuB,GAGpBC,OAAJ,EACIC,OAAJ,EAEIC,OAAJ,EAEIC,OAAJ,EACIC,OAAJ,EAEIC,EAAJ,GAwCA,OAtCAhF,WAA2B,YACvB,IAAMoB,EAAgBD,EAAtB,QAGAwD,EAAsBM,EAAmB7D,EAAnB6D,KAAtBN,QACAC,EAAsBK,EAAmB7D,EAAnB6D,KAAtBL,QAEAC,EAA4BzD,EAAcA,QAA1CyD,oBAEA,IAAMK,EAAc/D,EAApB,YACA2D,EAAsBK,EAAqBA,EAAaA,OAAxDL,GAEA,IAAMM,EAAcjE,EAApB,YACA4D,EAAsBI,EAAqBA,EAAaA,OAAxDJ,MAIJ9E,WAAuB,YACnB+E,OAAsBK,EAAkBA,OAAxCL,OAGJ9E,WAAuB,YACnB8E,OAAsBK,EAAkBA,OAAxCL,OAMJ9I,aAAkBmH,EA/CtB,OA+CInH,IACAA,aAAkBmH,EA/CtB,OA+CInH,IAEAA,mBAAwBA,EAAxBA,SACAA,mBAAwBA,EAAxBA,SAEAA,mBAAwBA,EAAxBA,SAEAA,wBAEA,EA4GkBoJ,CAAoBA,EAAoBA,EAAgBA,EAAgBA,EAAtF,GAQA,OANApJ,QAAeiH,EAAfjH,MAIAA,sBAA6BiH,EAA7BjH,oBAEA,IAIR7E,UAAiB,CACbkD,UAAWA,I,6BCzbflD,UAAiBC,OAAOC,OAAO,CAC3B,MAD2B,QAE3B,MAF2B,QAG3B,OAH2B,SAI3B,iBAJ2B,mBAK3B,mBAL2B,qBAM3B,MAN2B,QAO3B,YAP2B,QAQ3B,gBAR2B,YAS3B,cAT2B,eAU3B,QAV2B,UAW3B,WAAc,mBTVlB,e,oBUOGgO,OAPDlO,EAAOmO,QAQO,SAAUC,GAEhB,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUJ,QAGnC,IAAInO,EAASqO,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,KACAN,QAAS,IAUV,OANAC,EAAQG,GAAUG,KAAK1O,EAAOmO,QAASnO,EAAQA,EAAOmO,QAASG,GAG/DtO,EAAOyO,KAGAzO,EAAOmO,QA0Df,OArDAG,EAAoBK,EAAIP,EAGxBE,EAAoBM,EAAIP,EAGxBC,EAAoBO,EAAI,SAASV,EAASW,EAAMC,GAC3CT,EAAoBU,EAAEb,EAASW,IAClC7O,OAAOgP,eAAed,EAASW,EAAM,CAAEI,cAAkBC,IAAKJ,KAKhET,EAAoBnK,EAAI,SAASgK,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CpP,OAAOgP,eAAed,EAASiB,OAAOC,YAAa,CAAExM,MAAO,WAE7D5C,OAAOgP,eAAed,EAAS,aAAc,CAAEtL,YAQhDyL,EAAoB9H,EAAI,SAAS3D,EAAOyM,GAEvC,GADU,EAAPA,IAAUzM,EAAQyL,EAAoBzL,IAC/B,EAAPyM,EAAU,OAAOzM,EACpB,GAAW,EAAPyM,GAA8B,iBAAVzM,GAAsBA,GAASA,EAAM0M,WAAY,OAAO1M,EAChF,IAAI2M,EAAKvP,OAAOwP,OAAO,MAGvB,GAFAnB,EAAoBnK,EAAEqL,GACtBvP,OAAOgP,eAAeO,EAAI,UAAW,CAAEN,cAAkBrM,MAAOA,IACtD,EAAPyM,GAA4B,iBAATzM,EAAmB,IAAI,IAAIoD,KAAOpD,EAAOyL,EAAoBO,EAAEW,EAAIvJ,EAAK,SAASA,GAAO,OAAOpD,EAAMoD,IAAQyJ,KAAK,KAAMzJ,IAC9I,OAAOuJ,GAIRlB,EAAoBqB,EAAI,SAAS3P,GAChC,IAAI+O,EAAS/O,GAAUA,EAAOuP,WAC7B,WAAwB,OAAOvP,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAsO,EAAoBO,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRT,EAAoBU,EAAI,SAASY,EAAQC,GAAY,OAAO5P,OAAO6P,UAAUC,eAAerB,KAAKkB,EAAQC,IAGzGvB,EAAoB0B,EAAI,GAIjB1B,EAAoBA,EAAoB/H,EAAI,GAnF7C,CAsFN,CAEJ,SAAUvG,EAAQmO,EAASG,GAEjC,aAGA,IAAIoB,EAAOpB,EAAoB,GAC3B2B,EAAW3B,EAAoB,IAM/B4B,EAAWjQ,OAAO6P,UAAUI,SAQhC,SAASC,EAAQC,GACf,MAA8B,mBAAvBF,EAASxB,KAAK0B,GA2EvB,SAASC,EAASD,GAChB,OAAe,OAARA,GAA+B,iBAARA,EAuChC,SAASE,EAAWF,GAClB,MAA8B,sBAAvBF,EAASxB,KAAK0B,GAoEvB,SAASxN,EAAQ2N,EAAKC,GAEpB,GAAID,QAUJ,GALmB,iBAARA,IAETA,EAAM,CAACA,IAGLJ,EAAQI,GAEV,IAAK,IAAI/B,EAAI,EAAGC,EAAI8B,EAAIE,OAAQjC,EAAIC,EAAGD,IACrCgC,EAAG9B,KAAK,KAAM6B,EAAI/B,GAAIA,EAAG+B,QAI3B,IAAK,IAAItK,KAAOsK,EACVtQ,OAAO6P,UAAUC,eAAerB,KAAK6B,EAAKtK,IAC5CuK,EAAG9B,KAAK,KAAM6B,EAAItK,GAAMA,EAAKsK,GA0DrCvQ,EAAOmO,QAAU,CACfgC,QAASA,EACTO,cAhQF,SAAuBN,GACrB,MAA8B,yBAAvBF,EAASxB,KAAK0B,IAgQrBH,SAAUA,EACVU,WAxPF,SAAoBP,GAClB,MAA4B,oBAAbQ,UAA8BR,aAAeQ,UAwP5DC,kBA/OF,SAA2BT,GAOzB,MAL4B,oBAAhBU,aAAiCA,YAAkB,OACpDA,YAAYC,OAAOX,GAEnB,GAAUA,EAAU,QAAMA,EAAIY,kBAAkBF,aA2O3DG,SAhOF,SAAkBb,GAChB,MAAsB,iBAARA,GAgOdc,SAvNF,SAAkBd,GAChB,MAAsB,iBAARA,GAuNdC,SAAUA,EACVc,YA/MF,SAAqBf,GACnB,gBAAcA,GA+MdgB,OA5LF,SAAgBhB,GACd,MAA8B,kBAAvBF,EAASxB,KAAK0B,IA4LrBiB,OAnLF,SAAgBjB,GACd,MAA8B,kBAAvBF,EAASxB,KAAK0B,IAmLrBkB,OA1KF,SAAgBlB,GACd,MAA8B,kBAAvBF,EAASxB,KAAK0B,IA0KrBE,WAAYA,EACZiB,SAxJF,SAAkBnB,GAChB,OAAOC,EAASD,IAAQE,EAAWF,EAAIoB,OAwJvCC,kBA/IF,SAA2BrB,GACzB,MAAkC,oBAApBsB,iBAAmCtB,aAAesB,iBA+IhEC,qBArHF,WACE,OAAyB,oBAAdC,WAAmD,gBAAtBA,UAAUC,UAI9B,oBAAX3D,QACa,oBAAb4D,UAgHTlP,QAASA,EACTmP,MArDF,SAASA,IACP,IAAIC,EAAS,GACb,SAASC,EAAY7B,EAAKnK,GACG,iBAAhB+L,EAAO/L,IAAoC,iBAARmK,EAC5C4B,EAAO/L,GAAO8L,EAAMC,EAAO/L,GAAMmK,GAEjC4B,EAAO/L,GAAOmK,EAIlB,IAAK,IAAI5B,EAAI,EAAGC,EAAIyD,UAAUzB,OAAQjC,EAAIC,EAAGD,IAC3C5L,EAAQsP,UAAU1D,GAAIyD,GAExB,OAAOD,GAyCPG,OA9BF,SAAgBC,EAAG/N,EAAGgO,GAQpB,OAPAzP,EAAQyB,GAAG,SAAqB+L,EAAKnK,GAEjCmM,EAAEnM,GADAoM,GAA0B,mBAARjC,EACXV,EAAKU,EAAKiC,GAEVjC,KAGNgC,GAuBPE,KA1IF,SAAcC,GACZ,OAAOA,EAAIC,QAAQ,OAAQ,IAAIA,QAAQ,OAAQ,OA+I3C,SAAUxS,EAAQmO,EAASG,GAEjC,uBACqCmE,GAErC,IAAIC,EAAQpE,EAAoB,GAC5BqE,EAAsBrE,EAAoB,IAE1CsE,EAAuB,CACzBC,eAAgB,qCAGlB,SAASC,EAAsBC,EAASlQ,IACjC6P,EAAMvB,YAAY4B,IAAYL,EAAMvB,YAAY4B,EAAQ,mBAC3DA,EAAQ,gBAAkBlQ,GAgB9B,IAXMmQ,EAWFC,EAAW,CACbD,UAX8B,oBAAnBE,yBAGOT,KADhBO,EAAU1E,EAAoB,IAKzB0E,GAMPG,iBAAkB,CAAC,SAA0BlQ,EAAM8P,GAEjD,OADAJ,EAAoBI,EAAS,gBACzBL,EAAM/B,WAAW1N,IACnByP,EAAMhC,cAAczN,IACpByP,EAAMzC,SAAShN,IACfyP,EAAMnB,SAAStO,IACfyP,EAAMrB,OAAOpO,IACbyP,EAAMpB,OAAOrO,GAENA,EAELyP,EAAM7B,kBAAkB5N,GACnBA,EAAK+N,OAEV0B,EAAMjB,kBAAkBxO,IAC1B6P,EAAsBC,EAAS,mDACxB9P,EAAKiN,YAEVwC,EAAMrC,SAASpN,IACjB6P,EAAsBC,EAAS,kCACxBK,KAAKC,UAAUpQ,IAEjBA,IAGTqQ,kBAAmB,CAAC,SAA2BrQ,GAE7C,GAAoB,iBAATA,EACT,IACEA,EAAOmQ,KAAKG,MAAMtQ,GAClB,MAAOuQ,IAEX,OAAOvQ,IAOTwQ,QAAS,EAETC,eAAgB,aAChBC,eAAgB,eAEhBC,kBAAmB,EAEnBC,eAAgB,SAAwBC,GACtC,OAAOA,GAAU,KAAOA,EAAS,KAIrCb,QAAmB,CACjBc,OAAQ,CACNC,OAAU,uCAIdtB,EAAM9P,QAAQ,CAAC,SAAU,MAAO,SAAS,SAA6BqR,GACpEhB,EAASF,QAAQkB,GAAU,MAG7BvB,EAAM9P,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BqR,GACrEhB,EAASF,QAAQkB,GAAUvB,EAAMX,MAAMa,MAGzC5S,EAAOmO,QAAU8E,IAEYvE,KAAKwF,KAAM5F,EAAoB,MAItD,SAAUtO,EAAQmO,EAASG,GAEjCtO,EAAOmO,QAAUG,EAAoB,KAI/B,SAAUtO,EAAQmO,EAASG,GAEjC,aAGAtO,EAAOmO,QAAU,SAAcqC,EAAI6B,GACjC,OAAO,WAEL,IADA,IAAI8B,EAAO,IAAIC,MAAMlC,UAAUzB,QACtBjC,EAAI,EAAGA,EAAI2F,EAAK1D,OAAQjC,IAC/B2F,EAAK3F,GAAK0D,UAAU1D,GAEtB,OAAOgC,EAAG6D,MAAMhC,EAAS8B,MAOvB,SAAUnU,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAC5BgG,EAAShG,EAAoB,IAC7BiG,EAAWjG,EAAoB,IAC/BkG,EAAelG,EAAoB,IACnCmG,EAAkBnG,EAAoB,IACtCoG,EAAcpG,EAAoB,GAEtCtO,EAAOmO,QAAU,SAAoBwG,GACnC,OAAO,IAAIC,SAAQ,SAA4BC,EAASC,GACtD,IAAIC,EAAcJ,EAAO1R,KACrB+R,EAAiBL,EAAO5B,QAExBL,EAAM/B,WAAWoE,WACZC,EAAe,gBAGxB,IAAIC,EAAU,IAAI/B,eAGlB,GAAIyB,EAAOO,KAAM,CACf,IAAIC,EAAWR,EAAOO,KAAKC,UAAY,GACnCC,EAAWT,EAAOO,KAAKE,UAAY,GACvCJ,EAAeK,cAAgB,SAAWC,KAAKH,EAAW,IAAMC,GA8DlE,GA3DAH,EAAQM,KAAKZ,EAAOV,OAAOuB,cAAejB,EAASI,EAAOc,IAAKd,EAAOe,OAAQf,EAAOgB,sBAGrFV,EAAQxB,QAAUkB,EAAOlB,QAGzBwB,EAAQW,mBAAqB,WAC3B,GAAKX,GAAkC,IAAvBA,EAAQY,aAQD,IAAnBZ,EAAQnB,QAAkBmB,EAAQa,aAAwD,IAAzCb,EAAQa,YAAYC,QAAQ,UAAjF,CAKA,IAAIC,EAAkB,0BAA2Bf,EAAUT,EAAaS,EAAQgB,yBAA2B,KAEvGC,EAAW,CACbjT,KAFkB0R,EAAOwB,cAAwC,SAAxBxB,EAAOwB,aAAiDlB,EAAQiB,SAA/BjB,EAAQmB,aAGlFtC,OAAQmB,EAAQnB,OAChBuC,WAAYpB,EAAQoB,WACpBtD,QAASiD,EACTrB,OAAQA,EACRM,QAASA,GAGXX,EAAOO,EAASC,EAAQoB,GAGxBjB,EAAU,OAIZA,EAAQqB,QAAU,WAGhBxB,EAAOJ,EAAY,gBAAiBC,EAAQ,KAAMM,IAGlDA,EAAU,MAIZA,EAAQsB,UAAY,WAClBzB,EAAOJ,EAAY,cAAgBC,EAAOlB,QAAU,cAAekB,EAAQ,eACzEM,IAGFA,EAAU,MAMRvC,EAAMf,uBAAwB,CAChC,IAAI6E,EAAUlI,EAAoB,IAG9BmI,GAAa9B,EAAO+B,iBAAmBjC,EAAgBE,EAAOc,OAASd,EAAOjB,eAC9E8C,EAAQG,KAAKhC,EAAOjB,uBAGpB+C,IACFzB,EAAeL,EAAOhB,gBAAkB8C,GAuB5C,GAlBI,qBAAsBxB,GACxBvC,EAAM9P,QAAQoS,GAAgB,SAA0B5E,EAAKnK,YAChD8O,GAAqD,iBAAtB9O,EAAI2Q,qBAErC5B,EAAe/O,GAGtBgP,EAAQ4B,iBAAiB5Q,EAAKmK,MAMhCuE,EAAO+B,kBACTzB,EAAQyB,oBAIN/B,EAAOwB,aACT,IACElB,EAAQkB,aAAexB,EAAOwB,aAC9B,MAAO3C,GAGP,GAA4B,SAAxBmB,EAAOwB,aACT,MAAM3C,EAM6B,mBAA9BmB,EAAOmC,oBAChB7B,EAAQ8B,iBAAiB,WAAYpC,EAAOmC,oBAIP,mBAA5BnC,EAAOqC,kBAAmC/B,EAAQgC,QAC3DhC,EAAQgC,OAAOF,iBAAiB,WAAYpC,EAAOqC,kBAGjDrC,EAAOuC,aAETvC,EAAOuC,YAAYC,QAAQC,MAAK,SAAoBC,GAC7CpC,IAILA,EAAQqC,QACRxC,EAAOuC,GAEPpC,EAAU,kBAIVF,IACFA,EAAc,MAIhBE,EAAQsC,KAAKxC,QAOX,SAAU/U,EAAQmO,EAASG,GAEjC,aAGA,IAAIkJ,EAAelJ,EAAoB,IAYvCtO,EAAOmO,QAAU,SAAqBsJ,EAAS9C,EAAQ+C,EAAMzC,EAASiB,GACpE,IAAIyB,EAAQ,IAAIC,MAAMH,GACtB,OAAOD,EAAaG,EAAOhD,EAAQ+C,EAAMzC,EAASiB,KAM9C,SAAUlW,EAAQmO,EAASG,GAEjC,aAGAtO,EAAOmO,QAAU,SAAkBtL,GACjC,SAAUA,IAASA,EAAMgV,cAMrB,SAAU7X,EAAQmO,EAASG,GAEjC,aASA,SAASwJ,EAAOL,GACdvD,KAAKuD,QAAUA,EAGjBK,EAAOhI,UAAUI,SAAW,WAC1B,MAAO,UAAYgE,KAAKuD,QAAU,KAAOvD,KAAKuD,QAAU,KAG1DK,EAAOhI,UAAU+H,cAEjB7X,EAAOmO,QAAU2J,GAKX,SAAU9X,EAAQmO,EAASG,GAEjC,aAGA,IAAIyJ,EAAOzJ,EAAoB,GAAGyJ,KAC9BC,EAAS1J,EAAoB,IAAI0J,OAErChY,EAAOmO,QAAU,CAAE4J,KAAMA,EAAMC,OAAQA,IAIjC,SAAUhY,EAAQmO,EAASG,GAEjC,aAGA,IAAI2J,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAI5J,EAAI,EAAGA,EAAI4J,EAAM3H,OAAQjC,IAAK,CAAE,IAAI6J,EAAaD,EAAM5J,GAAI6J,EAAWnJ,WAAamJ,EAAWnJ,eAAqBmJ,EAAWC,gBAAyB,UAAWD,IAAYA,EAAWE,aAAiBtY,OAAOgP,eAAekJ,EAAQE,EAAWpS,IAAKoS,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAY1I,UAAW2I,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAIfG,EAAQrK,EAAoB,GAE5ByJ,EAAO,WACT,SAASA,EAAKa,GAGZ,GARJ,SAAyBC,EAAUL,GAAe,KAAMK,aAAoBL,GAAgB,MAAM,IAAIM,UAAU,qCAAhH,CAMoB5E,KAAM6D,GAElBa,SAAkE,KAAfA,EACrD,MAAM,IAAIhB,MAAM,oEAGlB1D,KAAK6E,MAAQH,EACb1E,KAAK8E,WAAa9E,KAAK6E,MAAME,UAAU,EAAG/E,KAAKgF,KAAKC,YAAY,OAAS,KAwoB3E,OAroBAlB,EAAaF,EAAM,CAAC,CAClB9R,IAAK,gBACLpD,MAAO,SAAuBuW,YACxBA,IACFlF,KAAKmF,YAAcD,EACnBlF,KAAKoF,UAAY,OAGpB,CACDrT,IAAK,eACLpD,MAAO,SAAsB0W,YACvBA,IACFrF,KAAKsF,WAAaD,EAClBrF,KAAKoF,UAAY,OAGpB,CACDrT,IAAK,eACLpD,MAAO,SAAsB4W,EAAarE,GACxC,YAAIqE,GAA4C,MAAfA,GAAuC,KAAhBA,EAKtD,OAJAvF,KAAKwF,UAAYD,EACjBvF,KAAKyF,UAAYvE,OACjBlB,KAAKoF,UAAY,KAInBpF,KAAKwF,iBACLxF,KAAKyF,iBACLzF,KAAKoF,mBAGN,CACDrT,IAAK,kBACLpD,MAAO,SAAyB+W,GAC9B,IAAIC,EAAoB3F,KAAKgF,KAE7B,OAAO,IAAItE,SAAQ,SAAUC,EAASC,GACpC6D,EAAM,CACJ1E,OAAQ,MACRwB,IAAKmE,EACLE,QAASD,IACRzC,MAAK,SAAUlB,GAChB,OAAwB,MAApBA,EAASpC,OACJe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAOnB,CACDjQ,IAAK,cACLpD,MAAO,WACL,OAAOqR,KAAKsF,WAAatF,KAAKsF,WAAatF,KAAKmF,YAAYU,kBAAkBC,YAAY7K,MAAM8K,kBAAkBC,WAEnH,CACDjU,IAAK,iBACLpD,MAAO,SAAwB8R,GAC7B,GAAuB,MAAnBT,KAAKoF,UACP3E,EAAa,KAAI,CAAEQ,SAAUjB,KAAKiB,SAChCC,SAAUlB,KAAKkB,eACZ,GAAgC,MAA5BlB,KAAKiG,mBAA4B,CAC1C,IAAIC,EAAUlG,KAAKmG,uBAEf1F,EAAgB,UAClBA,EAAgB,QAAI,IAEtBA,EAAgB,QAAiB,cAAI,UAAYyF,KAGpD,CACDnU,IAAK,0BACLpD,MAAO,SAAiCyX,EAAQV,EAAKW,GAEnD,IAAI5F,EAAS,CACXV,OAAQ,MACRwB,IAAKmE,EACLE,QAASQ,GAQX,OALApG,KAAKsG,eAAe7F,YAEhB4F,IACF5F,EAAe,OAAI4F,GAEd,IAAI3F,SAAQ,SAAUC,EAASC,GACpC6D,EAAMhE,GAAQyC,MAAK,SAAUlB,GAC3B,OAAwB,MAApBA,EAASpC,OACJe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAInB,CACDjQ,IAAK,yBACLpD,MAAO,SAAgC+W,EAAKW,GAC1C,OAAOrG,KAAKuG,wBAAwBvG,KAAK8E,WAAYY,EAAKW,KAE3D,CACDtU,IAAK,uBACLpD,MAAO,SAA8B+W,EAAKW,GACxC,OAAOrG,KAAKuG,wBAAwBvG,KAAKgF,KAAMU,EAAKW,KAErD,CACDtU,IAAK,2BACLpD,MAAO,SAAkCyX,EAAQV,EAAKW,EAAYtX,GAChE,IAAI0R,EAAS,CACXV,OAAQ,OACRwB,IAAKmE,EACLE,QAASQ,GAUX,OAPApG,KAAKsG,eAAe7F,YAEhB4F,IACF5F,EAAe,OAAI4F,GAGrB5F,EAAO1R,KAAOA,EACP,IAAI2R,SAAQ,SAAUC,EAASC,GACpC6D,EAAMhE,GAAQyC,MAAK,SAAUlB,GAC3B,OAAIA,EAASpC,QAAU,KAAOoC,EAASpC,QAAU,IACxCe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAInB,CACDjQ,IAAK,wBACLpD,MAAO,SAA+B+W,EAAKW,EAAYtX,GACrD,OAAOiR,KAAKwG,yBAAyBxG,KAAKgF,KAAMU,EAAKW,EAAYtX,KAElE,CACDgD,IAAK,0BACLpD,MAAO,SAAiC+W,EAAKW,EAAYtX,GACvD,OAAOiR,KAAKwG,yBAAyBxG,KAAK8E,WAAYY,EAAKW,EAAYtX,KAExE,CACDgD,IAAK,cACLpD,MAAO,SAAqB+W,EAAKW,EAAYtX,GAC3C,IAAI0R,EAAS,CACXV,OAAQ,MACRwB,IAAKmE,EACLE,QAAS5F,KAAKgF,MAUhB,OAPAhF,KAAKsG,eAAe7F,YAEhB4F,IACF5F,EAAe,OAAI4F,GAGrB5F,EAAO1R,KAAOA,EACP,IAAI2R,SAAQ,SAAUC,EAASC,GACpC6D,EAAMhE,GAAQyC,MAAK,SAAUlB,GAC3B,OAAIA,EAASpC,QAAU,KAAOoC,EAASpC,QAAU,IACxCe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAInB,CACDjQ,IAAK,iBACLpD,MAAO,SAAwB+W,EAAKW,GAClC,IAAI5F,EAAS,CACXV,OAAQ,SACRwB,IAAKmE,EACLE,QAAS5F,KAAKgF,MAShB,OANAhF,KAAKsG,eAAe7F,YAEhB4F,IACF5F,EAAe,OAAI4F,GAGd,IAAI3F,SAAQ,SAAUC,EAASC,GACpC6D,EAAMhE,GAAQyC,MAAK,SAAUlB,GAC3B,OAAIA,EAASpC,QAAU,KAAOoC,EAASpC,QAAU,IACxCe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAInB,CACDjQ,IAAK,YACLpD,MAAO,WACL,OAAOqR,KAAKyG,gBAAgB,kBAK7B,CACD1U,IAAK,kBACLpD,MAAO,WACL,GAAsB,MAAlBqR,KAAKoF,UACP,MAAM,IAAI1B,MAAM,yDAElB,OAAO1D,KAAK0G,qBAAqB,OAAQ,CAAEC,aAE5C,CACD5U,IAAK,UACLpD,MAAO,SAAiBiY,GACtB,OAAO5G,KAAK0G,qBAAqB,QAAUE,KAE5C,CACD7U,IAAK,yBACLpD,MAAO,SAAgCkY,EAAQC,GAC7C,IAAIC,EAAQ/G,KAEZ,OAAO,IAAIU,SAAQ,SAAUC,EAASC,GACpCmG,EAAMC,kBAAkB9D,MAAK,SAAU+D,GACrC,IAAIzF,EAAS,YAETqF,IACFrF,EAAOqF,OAASA,YAEdC,IACFtF,EAAOsF,MAAQA,GAEjBC,EAAML,qBAAqB,SAAWO,EAAKC,WAAa,kBAAmB1F,GAAQ0B,MAAK,SAAUiE,GAChGxG,EAAQwG,MACP,SAAUC,GACXxG,EAAOwG,SAER,SAAUA,GACXxG,EAAOwG,WAIZ,CACDrV,IAAK,+BACLpD,MAAO,SAAsCiY,EAAMC,EAAQC,GACzD,IAAItF,EAAS,GAQb,gBANIqF,IACFrF,EAAOqF,OAASA,YAEdC,IACFtF,EAAOsF,MAAQA,GAEV9G,KAAK0G,qBAAqB,QAAUE,EAAO,kBAAmBpF,KAOtE,CACDzP,IAAK,cACLpD,MAAO,SAAqB0Y,GAC1B,IAAIC,EAAStH,KAEb,OAAO,IAAIU,SAAQ,SAAUC,EAASC,GACpC0G,EAAOC,sBAAsB,eAAoBF,GAAOnE,MAAK,SAAUlB,GACrE,IAAIwF,EAAQxF,EAAS3U,MAAM,KAEvBuZ,EAAOY,EAAMA,EAAMjL,OAAS,GAEhC,OAAOoE,EAAQiG,MACd,SAAUQ,GACXxG,EAAOwG,WAIZ,CACDrV,IAAK,WACLpD,MAAO,SAAkBiY,GACvB,OAAO5G,KAAK0G,qBAAqB,SAAWE,KAE7C,CACD7U,IAAK,cACLpD,MAAO,SAAqB0Y,GAC1B,IAAII,EAASzH,KAEb,OAAO,IAAIU,SAAQ,SAAUC,EAASC,GACpC6G,EAAOC,YAAY,SAAWL,EAAMH,kBAAuBG,GAAOnE,MAAK,SAAUlB,GAC/E,OAAOrB,EAAQqB,MACd,SAAUoF,GACXxG,EAAOwG,WAIZ,CACDrV,IAAK,cACLpD,MAAO,SAAqBiY,GAC1B,OAAO5G,KAAK2H,eAAe,SAAWf,KAKvC,CACD7U,IAAK,gBACLpD,MAAO,SAAuBiY,EAAMgB,GAElC,IAAIvB,EAAa,GAMjB,gBAJIuB,IACFvB,EAAa,CAAEwB,UAAWD,IAGrB5H,KAAK0G,qBAAqB,WAAaE,EAAMP,KAErD,CACDtU,IAAK,gBACLpD,MAAO,SAAuBiY,EAAMgB,GAElC,IAAIvB,EAAa,GAMjB,gBAJIuB,IACFvB,EAAa,CAAEwB,UAAWD,IAGrB5H,KAAK8H,uBAAuB,YAAclB,EAAMP,KAExD,CACDtU,IAAK,oBACLpD,MAAO,SAA2BiY,EAAMgB,GACtC,IAAIvB,EAAa,GAMjB,gBAJIuB,IACFvB,EAAa,CAAEwB,UAAWD,IAGrB5H,KAAK0G,qBAAqB,WAAaE,EAAO,WAAYP,KAElE,CACDtU,IAAK,yBACLpD,MAAO,SAAgCoZ,EAAO1B,GAC5C,IAAI2B,EAAShI,KAEb,OAAO,IAAIU,SAAQ,SAAUC,EAASC,GACpCoH,EAAOT,sBAAsB,UAAWlB,EAAY0B,GAAO7E,MAAK,SAAUlB,GACxE,IAAIwF,EAAQxF,EAAS3U,MAAM,KAEvBuZ,EAAOY,EAAMA,EAAMjL,OAAS,GAEhC,OAAOoE,EAAQiG,MACd,SAAUQ,GACXxG,EAAOwG,WAIZ,CACDrV,IAAK,yBACLpD,MAAO,SAAgCiY,EAAMqB,GAC3C,OAAOjI,KAAK0H,YAAY,WAAad,SAAiBqB,KAEvD,CACDlW,IAAK,gBACLpD,MAAO,SAAuBiY,GAC5B,OAAO5G,KAAK2H,eAAe,WAAaf,KAOzC,CACD7U,IAAK,cACLpD,MAAO,SAAqBuZ,EAAaC,EAAOC,GAC9C,IAAI5G,EAAS,YAET2G,IACF3G,EAAO2G,MAAQA,YAEbC,IACF5G,EAAOsF,MAAQsB,GAEjB,IAAIrZ,EAAO,CAAEsZ,aAAcH,GAE3B,OAAOlI,KAAKuH,sBAAsB,cAAe/F,EAAQzS,KAE1D,CACDgD,IAAK,eACLpD,MAAO,SAAsBuZ,EAAaC,EAAOC,GAC/C,IAAI5G,EAAS,YAET2G,IACF3G,EAAO2G,MAAQA,YAEbC,IACF5G,EAAOsF,MAAQsB,GAEjB,IAAIrZ,EAAO,CAAEsZ,aAAcH,GAE3B,OAAOlI,KAAKuH,sBAAsB,eAAgB/F,EAAQzS,KAE3D,CACDgD,IAAK,iBACLpD,MAAO,SAAwBuZ,EAAaC,EAAOC,EAAME,GACvD,IAAI9G,EAAS,YAET2G,IACF3G,EAAO2G,MAAQA,YAEbC,IACF5G,EAAOsF,MAAQsB,GAGjB,IAAIrZ,EAAO,CAAEsZ,aAAcH,GAc3B,gBAZII,aACEA,EAAmBC,aACrBxZ,EAAKwZ,WAAaD,EAAmBC,qBAEnCD,EAAmBE,gBACrBzZ,EAAKyZ,cAAgBF,EAAmBE,wBAEtCF,EAAmBG,cACrB1Z,EAAK0Z,YAAcH,EAAmBG,cAInCzI,KAAKuH,sBAAsB,iBAAkB/F,EAAQzS,KAE7D,CACDgD,IAAK,oBACLpD,MAAO,SAA2BiY,EAAMsB,EAAaQ,EAAYrC,GAC/D,IAAI7E,EAAS,YAETkH,QAA4BA,IAC9BlH,EAAOmH,SAGT,IAAI5Z,EAAO,CAAEsZ,aAAcH,EACzBU,YAAa,GAgBf,gBAdIvC,aACEA,EAAWuC,cACb7Z,EAAK6Z,YAAcvC,EAAWuC,sBAE5BvC,EAAWwC,YACb9Z,EAAK8Z,UAAYxC,EAAWwC,oBAE1BxC,EAAWyC,uBACb/Z,EAAK+Z,qBAAuBzC,EAAWyC,+BAErCzC,EAAW0C,aACbha,EAAKga,WAAa1C,EAAW0C,aAG1B/I,KAAKuH,sBAAsB,kBAAoBX,EAAO,SAAUpF,EAAQzS,KAEhF,CACDgD,IAAK,oBACLpD,MAAO,SAA2BiY,EAAMsB,EAAaQ,EAAYrC,GAC/D,IAAI7E,EAAS,YAETkH,QAA4BA,IAC9BlH,EAAOmH,SAGT,IAAI5Z,EAAO,CAAEsZ,aAAcH,GAU3B,gBARI7B,aACEA,EAAWwC,YACb9Z,EAAK8Z,UAAYxC,EAAWwC,oBAE1BxC,EAAWyC,uBACb/Z,EAAK+Z,qBAAuBzC,EAAWyC,uBAGpC9I,KAAKuH,sBAAsB,kBAAoBX,EAAO,qBAAsBpF,EAAQzS,KAK5F,CACDgD,IAAK,kBACLpD,MAAO,SAAyBqa,GAC9B,OAAOhJ,KAAKuH,sBAAsB,oBAAyByB,KAE5D,CACDjX,IAAK,mBACLpD,MAAO,SAA0Bqa,GAC/B,OAAOhJ,KAAKuH,sBAAsB,qBAA0ByB,KAE7D,CACDjX,IAAK,6BACLpD,MAAO,SAAoCqa,EAAUpB,GACnD,IAAIqB,WAAYrB,SAAsC,CAAEC,UAAWD,GAEnE,OAAO5H,KAAKuH,sBAAsB,wBAAyB0B,EAAWD,KAEvE,CACDjX,IAAK,+BACLpD,MAAO,SAAsCqa,GAC3C,OAAOhJ,KAAKuH,sBAAsB,kCAAuCyB,KAE1E,CACDjX,IAAK,iBACLpD,MAAO,SAAwBua,GAC7B,OAAOlJ,KAAKuH,sBAAsB,8BAAmC2B,KAStE,CACDnX,IAAK,iBACLpD,MAAO,SAAwBiY,EAAME,EAAOc,GAE1C,GAAId,GAAS,EAAG,MAAM,IAAIpD,MAAM,sDAEhC,IAAI2C,EAAa,CACf+B,KAAMtB,EACN/G,OAAQ,UAOV,gBAJI6H,IACFvB,EAAa,CAAEwB,UAAWD,IAGrB5H,KAAK8H,uBAAuB,YAAclB,EAAO,iBAAkBP,KAE3E,CACDtU,IAAK,cACLpD,MAAO,SAAqBiY,EAAMgB,GAChC,IAAIvB,EAAa,GAMjB,gBAJIuB,IACFvB,EAAsB,UAAIuB,GAGrB5H,KAAK0G,qBAAqB,WAAaE,EAAO,UAAWP,KAEjE,CACDtU,IAAK,oBACLpD,MAAO,SAA2BiY,EAAMuC,EAAYrC,EAAOc,GAEzD,IAAIvB,EAAa,GAYjB,gBAVIS,IACFT,EAAa,CACX+B,KAAMtB,aAINc,IACFvB,EAAsB,UAAIuB,GAGrB5H,KAAK8H,uBAAuB,YAAclB,EAAO,YAAcuC,EAAY9C,KAEnF,CACDtU,IAAK,mBACLpD,MAAO,SAA0BiY,EAAMwC,EAAYC,EAAaC,EAAUxC,EAAOyC,EAAOC,EAAQ5B,GAE9F,IAAIvB,EAAa,YAEbS,IACFT,EAAa,CACX+B,KAAMtB,aAINyC,IACFlD,EAAkB,MAAIkD,YAGpB3B,IACFvB,EAAsB,UAAIuB,YAGxB4B,IACFnD,EAAmB,OAAImD,GAGzB,IAAIza,EAAO,CACT6L,KAAQwO,EACRza,MAAS0a,EACTC,SAAYA,GAGd,OAAOtJ,KAAKyJ,wBAAwB,oBAAsB7C,EAAO,SAAUP,EAAYtX,KAExF,CACDgD,IAAK,iBACLpD,MAAO,SAAwBiY,EAAMgB,GAEnC,IAAIvB,EAAa,GAMjB,gBAJIuB,IACFvB,EAAsB,UAAIuB,GAGrB5H,KAAK8H,uBAAuB,YAAclB,EAAO,WAAYP,KAErE,CACDtU,IAAK,mBACLpD,MAAO,SAA0BiY,GAC/B,IAAI8C,EAAa,CAAE/W,KAAM,aAAcgX,UAAW/C,GAElD,OAAO5G,KAAKuH,sBAAsB,gBAAiB,GAAImC,KAExD,CACD3X,IAAK,OACLkJ,IAAK,WACH,OAAO+E,KAAK6E,QAEb,CACD9S,IAAK,aACLkJ,IAAK,WACH,OAAO+E,KAAKmF,cAEb,CACDpT,IAAK,qBACLkJ,IAAK,WACH,OAAO+E,KAAKoF,YAEb,CACDrT,IAAK,WACLkJ,IAAK,WACH,OAAO+E,KAAKwF,YAKb,CACDzT,IAAK,WACLkJ,IAAK,WACH,OAAO+E,KAAKyF,cAIT5B,EAjpBE,GAopBX/X,EAAOmO,QAAU,CAAE4J,KAAMA,IAInB,SAAU/X,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAC5BoB,EAAOpB,EAAoB,GAC3BwP,EAAQxP,EAAoB,IAC5B2E,EAAW3E,EAAoB,GAQnC,SAASyP,EAAeC,GACtB,IAAIC,EAAU,IAAIH,EAAME,GACpBnF,EAAWnJ,EAAKoO,EAAMhO,UAAUmF,QAASgJ,GAQ7C,OALAvL,EAAMP,OAAO0G,EAAUiF,EAAMhO,UAAWmO,GAGxCvL,EAAMP,OAAO0G,EAAUoF,GAEhBpF,EAIT,IAAIF,EAAQoF,EAAe9K,GAG3B0F,EAAMmF,MAAQA,EAGdnF,EAAMlJ,OAAS,SAAgByO,GAC7B,OAAOH,EAAerL,EAAMX,MAAMkB,EAAUiL,KAI9CvF,EAAMb,OAASxJ,EAAoB,GACnCqK,EAAMwF,YAAc7P,EAAoB,IACxCqK,EAAMyF,SAAW9P,EAAoB,GAGrCqK,EAAM0F,IAAM,SAAaC,GACvB,OAAO1J,QAAQyJ,IAAIC,IAErB3F,EAAM4F,OAASjQ,EAAoB,IAEnCtO,EAAOmO,QAAUwK,EAGjB3Y,EAAOmO,QAAQqQ,QAAU7F,GAKnB,SAAU3Y,EAAQmO,GASxBnO,EAAOmO,QAAU,SAAmBoC,GAClC,OAAc,MAAPA,GAAkC,MAAnBA,EAAIkO,aACY,mBAA7BlO,EAAIkO,YAAYxO,UAA2BM,EAAIkO,YAAYxO,SAASM,KAMzE,SAAUvQ,EAAQmO,EAASG,GAEjC,aAGA,IAAI2E,EAAW3E,EAAoB,GAC/BoE,EAAQpE,EAAoB,GAC5BoQ,EAAqBpQ,EAAoB,IACzCqQ,EAAkBrQ,EAAoB,IAO1C,SAASwP,EAAMI,GACbhK,KAAKjB,SAAWiL,EAChBhK,KAAK0K,aAAe,CAClB3J,QAAS,IAAIyJ,EACbxI,SAAU,IAAIwI,GASlBZ,EAAMhO,UAAUmF,QAAU,SAAiBN,GAGnB,iBAAXA,IACTA,EAASjC,EAAMX,MAAM,CACnB0D,IAAKvD,UAAU,IACdA,UAAU,MAGfyC,EAASjC,EAAMX,MAAMkB,EAAU,CAACgB,OAAQ,OAAQC,KAAKjB,SAAU0B,IACxDV,OAASU,EAAOV,OAAO2C,cAG9B,IAAIiI,EAAQ,CAACF,UACTxH,EAAUvC,QAAQC,QAAQF,GAU9B,IARAT,KAAK0K,aAAa3J,QAAQrS,SAAQ,SAAoCkc,GACpED,EAAME,QAAQD,EAAYE,UAAWF,EAAYG,aAGnD/K,KAAK0K,aAAa1I,SAAStT,SAAQ,SAAkCkc,GACnED,EAAMK,KAAKJ,EAAYE,UAAWF,EAAYG,aAGzCJ,EAAMpO,QACX0G,EAAUA,EAAQC,KAAKyH,EAAMM,QAASN,EAAMM,SAG9C,OAAOhI,GAITzE,EAAM9P,QAAQ,CAAC,SAAU,MAAO,OAAQ,YAAY,SAA6BqR,GAE/E6J,EAAMhO,UAAUmE,GAAU,SAASwB,EAAKd,GACtC,OAAOT,KAAKe,QAAQvC,EAAMX,MAAM4C,GAAU,GAAI,CAC5CV,OAAQA,EACRwB,IAAKA,SAKX/C,EAAM9P,QAAQ,CAAC,OAAQ,MAAO,UAAU,SAA+BqR,GAErE6J,EAAMhO,UAAUmE,GAAU,SAASwB,EAAKxS,EAAM0R,GAC5C,OAAOT,KAAKe,QAAQvC,EAAMX,MAAM4C,GAAU,GAAI,CAC5CV,OAAQA,EACRwB,IAAKA,EACLxS,KAAMA,SAKZjD,EAAOmO,QAAU2P,GAKX,SAAU9d,EAAQmO,GAGxB,IAOIiR,EACAC,EARA5M,EAAUzS,EAAOmO,QAAU,GAU/B,SAASmR,IACL,MAAM,IAAI1H,MAAM,mCAEpB,SAAS2H,IACL,MAAM,IAAI3H,MAAM,qCAsBpB,SAAS4H,EAAWC,GAChB,GAAIL,IAAqBM,WAErB,OAAOA,WAAWD,EAAK,GAG3B,IAAKL,IAAqBE,IAAqBF,IAAqBM,WAEhE,OADAN,EAAmBM,WACZA,WAAWD,EAAK,GAE3B,IAEI,OAAOL,EAAiBK,EAAK,GAC/B,MAAMjM,GACJ,IAEI,OAAO4L,EAAiB1Q,KAAK,KAAM+Q,EAAK,GAC1C,MAAMjM,GAEJ,OAAO4L,EAAiB1Q,KAAKwF,KAAMuL,EAAK,MAvCnD,WACG,IAEQL,EADsB,mBAAfM,WACYA,WAEAJ,EAEzB,MAAO9L,GACL4L,EAAmBE,EAEvB,IAEQD,EADwB,mBAAjBM,aACcA,aAEAJ,EAE3B,MAAO/L,GACL6L,EAAqBE,GAjB5B,GAwED,IAEIK,EAFAC,EAAQ,GACRC,KAEAC,GAAc,EAElB,SAASC,IACAF,GAAaF,IAGlBE,KACIF,EAAanP,OACboP,EAAQD,EAAaK,OAAOJ,GAE5BE,GAAc,EAEdF,EAAMpP,QACNyP,KAIR,SAASA,IACL,IAAIJ,EAAJ,CAGA,IAAIrM,EAAU+L,EAAWQ,GACzBF,KAGA,IADA,IAAIK,EAAMN,EAAMpP,OACV0P,GAAK,CAGP,IAFAP,EAAeC,EACfA,EAAQ,KACCE,EAAaI,GACdP,GACAA,EAAaG,GAAYK,MAGjCL,GAAc,EACdI,EAAMN,EAAMpP,OAEhBmP,EAAe,KACfE,KAnEJ,SAAyBO,GACrB,GAAIhB,IAAuBM,aAEvB,OAAOA,aAAaU,GAGxB,IAAKhB,IAAuBE,IAAwBF,IAAuBM,aAEvE,OADAN,EAAqBM,aACdA,aAAaU,GAExB,IAEWhB,EAAmBgB,GAC5B,MAAO7M,GACL,IAEI,OAAO6L,EAAmB3Q,KAAK,KAAM2R,GACvC,MAAO7M,GAGL,OAAO6L,EAAmB3Q,KAAKwF,KAAMmM,KApBjD,CAoEoB5M,IAiBpB,SAAS6M,EAAKb,EAAKc,GACfrM,KAAKuL,IAAMA,EACXvL,KAAKqM,MAAQA,EAYjB,SAASC,KA5BT/N,EAAQgO,SAAW,SAAUhB,GACzB,IAAItL,EAAO,IAAIC,MAAMlC,UAAUzB,OAAS,GACxC,GAAIyB,UAAUzB,OAAS,EACnB,IAAK,IAAIjC,EAAI,EAAGA,EAAI0D,UAAUzB,OAAQjC,IAClC2F,EAAK3F,EAAI,GAAK0D,UAAU1D,GAGhCqR,EAAMX,KAAK,IAAIoB,EAAKb,EAAKtL,IACJ,IAAjB0L,EAAMpP,QAAiBqP,GACvBN,EAAWU,IASnBI,EAAKxQ,UAAUsQ,IAAM,WACjBlM,KAAKuL,IAAIpL,MAAM,KAAMH,KAAKqM,QAE9B9N,EAAQiO,MAAQ,UAChBjO,EAAQkO,WACRlO,EAAQmO,IAAM,GACdnO,EAAQoO,KAAO,GACfpO,EAAQqO,QAAU,GAClBrO,EAAQsO,SAAW,GAInBtO,EAAQuO,GAAKR,EACb/N,EAAQwO,YAAcT,EACtB/N,EAAQyO,KAAOV,EACf/N,EAAQ0O,IAAMX,EACd/N,EAAQ2O,eAAiBZ,EACzB/N,EAAQ4O,mBAAqBb,EAC7B/N,EAAQ6O,KAAOd,EACf/N,EAAQ8O,gBAAkBf,EAC1B/N,EAAQ+O,oBAAsBhB,EAE9B/N,EAAQgP,UAAY,SAAU3S,GAAQ,MAAO,IAE7C2D,EAAQiP,QAAU,SAAU5S,GACxB,MAAM,IAAI8I,MAAM,qCAGpBnF,EAAQkP,IAAM,WAAc,MAAO,KACnClP,EAAQmP,MAAQ,SAAUC,GACtB,MAAM,IAAIjK,MAAM,mCAEpBnF,EAAQqP,MAAQ,WAAa,OAAO,IAK9B,SAAU9hB,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAEhCtO,EAAOmO,QAAU,SAA6B4E,EAASgP,GACrDrP,EAAM9P,QAAQmQ,GAAS,SAAuBlQ,EAAOiM,GAC/CA,IAASiT,GAAkBjT,EAAK0G,gBAAkBuM,EAAevM,gBACnEzC,EAAQgP,GAAkBlf,SACnBkQ,EAAQjE,SAQf,SAAU9O,EAAQmO,EAASG,GAEjC,aAGA,IAAIoG,EAAcpG,EAAoB,GAStCtO,EAAOmO,QAAU,SAAgB0G,EAASC,EAAQoB,GAChD,IAAIrC,EAAiBqC,EAASvB,OAAOd,eAEhCqC,EAASpC,QAAWD,IAAkBA,EAAeqC,EAASpC,QAGjEgB,EAAOJ,EACL,mCAAqCwB,EAASpC,OAC9CoC,EAASvB,OACT,KACAuB,EAASjB,QACTiB,IAPFrB,EAAQqB,KAeN,SAAUlW,EAAQmO,EAASG,GAEjC,aAaAtO,EAAOmO,QAAU,SAAsBwJ,EAAOhD,EAAQ+C,EAAMzC,EAASiB,GAOnE,OANAyB,EAAMhD,OAASA,EACX+C,IACFC,EAAMD,KAAOA,GAEfC,EAAM1C,QAAUA,EAChB0C,EAAMzB,SAAWA,EACVyB,IAMH,SAAU3X,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAEhC,SAAS0T,EAAO5R,GACd,OAAO6R,mBAAmB7R,GACxBoC,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,OAAQ,KAChBA,QAAQ,QAAS,KACjBA,QAAQ,QAAS,KAUrBxS,EAAOmO,QAAU,SAAkBsH,EAAKC,EAAQC,GAE9C,IAAKD,EACH,OAAOD,EAGT,IAAIyM,EACJ,GAAIvM,EACFuM,EAAmBvM,EAAiBD,QAC/B,GAAIhD,EAAMjB,kBAAkBiE,GACjCwM,EAAmBxM,EAAOxF,eACrB,CACL,IAAIiS,EAAQ,GAEZzP,EAAM9P,QAAQ8S,GAAQ,SAAmBtF,EAAKnK,GACxCmK,UAIAsC,EAAMvC,QAAQC,GAChBnK,GAAY,KAEZmK,EAAM,CAACA,GAGTsC,EAAM9P,QAAQwN,GAAK,SAAoB1N,GACjCgQ,EAAMtB,OAAO1O,GACfA,EAAIA,EAAE0f,cACG1P,EAAMrC,SAAS3N,KACxBA,EAAI0Q,KAAKC,UAAU3Q,IAErByf,EAAMjD,KAAK8C,EAAO/b,GAAO,IAAM+b,EAAOtf,WAI1Cwf,EAAmBC,EAAME,KAAK,KAOhC,OAJIH,IACFzM,KAA8B,IAAtBA,EAAIM,QAAQ,KAAc,IAAM,KAAOmM,GAG1CzM,IAMH,SAAUzV,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAI5BgU,EAAoB,CACtB,MAAO,gBAAiB,iBAAkB,eAAgB,OAC1D,UAAW,OAAQ,OAAQ,oBAAqB,sBAChD,gBAAiB,WAAY,eAAgB,sBAC7C,UAAW,cAAe,cAgB5BtiB,EAAOmO,QAAU,SAAsB4E,GACrC,IACI9M,EACAmK,EACA5B,EAHA+T,EAAS,GAKb,OAAKxP,GAELL,EAAM9P,QAAQmQ,EAAQxR,MAAM,OAAO,SAAgBihB,GAKjD,GAJAhU,EAAIgU,EAAKzM,QAAQ,KACjB9P,EAAMyM,EAAMJ,KAAKkQ,EAAKC,OAAO,EAAGjU,IAAIoI,cACpCxG,EAAMsC,EAAMJ,KAAKkQ,EAAKC,OAAOjU,EAAI,IAE7BvI,EAAK,CACP,GAAIsc,EAAOtc,IAAQqc,EAAkBvM,QAAQ9P,IAAQ,EACnD,OAGAsc,EAAOtc,GADG,eAARA,GACasc,EAAOtc,GAAOsc,EAAOtc,GAAO,IAAIga,OAAO,CAAC7P,IAEzCmS,EAAOtc,GAAOsc,EAAOtc,GAAO,KAAOmK,EAAMA,MAKtDmS,GAnBgBA,IAyBnB,SAAUviB,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAEhCtO,EAAOmO,QACLuE,EAAMf,uBAIN,WACE,IAEI+Q,EAFAC,EAAO,kBAAkBC,KAAKhR,UAAUiR,WACxCC,EAAiBhR,SAASiR,cAAc,KAS5C,SAASC,EAAWvN,GAClB,IAAIwN,EAAOxN,EAWX,OATIkN,IAEFG,EAAeI,aAAa,OAAQD,GACpCA,EAAOH,EAAeG,MAGxBH,EAAeI,aAAa,OAAQD,GAG7B,CACLA,KAAMH,EAAeG,KACrBE,SAAUL,EAAeK,SAAWL,EAAeK,SAAS3Q,QAAQ,KAAM,IAAM,GAChF0G,KAAM4J,EAAe5J,KACrBkK,OAAQN,EAAeM,OAASN,EAAeM,OAAO5Q,QAAQ,MAAO,IAAM,GAC3E6Q,KAAMP,EAAeO,KAAOP,EAAeO,KAAK7Q,QAAQ,KAAM,IAAM,GACpE8Q,SAAUR,EAAeQ,SACzBC,KAAMT,EAAeS,KACrBC,SAAiD,MAAtCV,EAAeU,SAASC,OAAO,GAChCX,EAAeU,SACf,IAAMV,EAAeU,UAYnC,OARAd,EAAYM,EAAW9U,OAAOwV,SAAST,MAQhC,SAAyBU,GAC9B,IAAIpB,EAAU7P,EAAMzB,SAAS0S,GAAeX,EAAWW,GAAcA,EACrE,OAAQpB,EAAOY,WAAaT,EAAUS,UAChCZ,EAAOrJ,OAASwJ,EAAUxJ,MAhDpC,GAsDS,WACL,WAQA,SAAUlZ,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAEhCtO,EAAOmO,QACLuE,EAAMf,uBAIG,CACLiS,MAAO,SAAe9U,EAAMjM,EAAOghB,EAASC,EAAMC,EAAQC,GACxD,IAAIC,EAAS,GACbA,EAAO/E,KAAKpQ,EAAO,IAAMmT,mBAAmBpf,IAExC6P,EAAMxB,SAAS2S,IACjBI,EAAO/E,KAAK,WAAa,IAAIgF,KAAKL,GAASM,eAGzCzR,EAAMzB,SAAS6S,IACjBG,EAAO/E,KAAK,QAAU4E,GAGpBpR,EAAMzB,SAAS8S,IACjBE,EAAO/E,KAAK,UAAY6E,QAGtBC,GACFC,EAAO/E,KAAK,UAGdpN,SAASmS,OAASA,EAAO5B,KAAK,OAGhC1L,KAAM,SAAc7H,GAClB,IAAIsV,EAAQtS,SAASmS,OAAOG,MAAM,IAAIC,OAAO,aAAevV,EAAO,cACnE,OAAQsV,EAAQE,mBAAmBF,EAAM,IAAM,MAGjDG,OAAQ,SAAgBzV,GACtBoF,KAAK0P,MAAM9U,EAAM,GAAIoV,KAAKM,MAAQ,SAO/B,CACLZ,MAAO,aACPjN,KAAM,WAAkB,OAAO,MAC/B4N,OAAQ,eAQR,SAAUvkB,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAEhC,SAASoQ,IACPxK,KAAKuQ,SAAW,GAWlB/F,EAAmB5O,UAAU4U,IAAM,SAAa1F,EAAWC,GAKzD,OAJA/K,KAAKuQ,SAASvF,KAAK,CACjBF,UAAWA,EACXC,SAAUA,IAEL/K,KAAKuQ,SAAShU,OAAS,GAQhCiO,EAAmB5O,UAAU6U,MAAQ,SAAe7e,GAC9CoO,KAAKuQ,SAAS3e,KAChBoO,KAAKuQ,SAAS3e,GAAM,OAYxB4Y,EAAmB5O,UAAUlN,QAAU,SAAiB4N,GACtDkC,EAAM9P,QAAQsR,KAAKuQ,UAAU,SAAwBG,GACzC,OAANA,GACFpU,EAAGoU,OAKT5kB,EAAOmO,QAAUuQ,GAKX,SAAU1e,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAC5BuW,EAAgBvW,EAAoB,IACpC8P,EAAW9P,EAAoB,GAC/B2E,EAAW3E,EAAoB,GAC/BwW,EAAgBxW,EAAoB,IACpCyW,EAAczW,EAAoB,IAKtC,SAAS0W,EAA6BrQ,GAChCA,EAAOuC,aACTvC,EAAOuC,YAAY+N,mBAUvBjlB,EAAOmO,QAAU,SAAyBwG,GAkCxC,OAjCAqQ,EAA6BrQ,GAGzBA,EAAOmF,UAAYgL,EAAcnQ,EAAOc,OAC1Cd,EAAOc,IAAMsP,EAAYpQ,EAAOmF,QAASnF,EAAOc,MAIlDd,EAAO5B,QAAU4B,EAAO5B,SAAW,GAGnC4B,EAAO1R,KAAO4hB,EACZlQ,EAAO1R,KACP0R,EAAO5B,QACP4B,EAAOxB,kBAITwB,EAAO5B,QAAUL,EAAMX,MACrB4C,EAAO5B,QAAQgB,QAAU,GACzBY,EAAO5B,QAAQ4B,EAAOV,SAAW,GACjCU,EAAO5B,SAAW,IAGpBL,EAAM9P,QACJ,CAAC,SAAU,MAAO,OAAQ,OAAQ,MAAO,QAAS,WAClD,SAA2BqR,UAClBU,EAAO5B,QAAQkB,OAIZU,EAAO3B,SAAWC,EAASD,SAE1B2B,GAAQyC,MAAK,SAA6BlB,GAUvD,OATA8O,EAA6BrQ,GAG7BuB,EAASjT,KAAO4hB,EACd3O,EAASjT,KACTiT,EAASnD,QACT4B,EAAOrB,mBAGF4C,KACN,SAA4BgP,GAc7B,OAbK9G,EAAS8G,KACZF,EAA6BrQ,GAGzBuQ,GAAUA,EAAOhP,WACnBgP,EAAOhP,SAASjT,KAAO4hB,EACrBK,EAAOhP,SAASjT,KAChBiiB,EAAOhP,SAASnD,QAChB4B,EAAOrB,qBAKNsB,QAAQE,OAAOoQ,QAOpB,SAAUllB,EAAQmO,EAASG,GAEjC,aAGA,IAAIoE,EAAQpE,EAAoB,GAUhCtO,EAAOmO,QAAU,SAAuBlL,EAAM8P,EAASoS,GAMrD,OAJAzS,EAAM9P,QAAQuiB,GAAK,SAAmB3U,GACpCvN,EAAOuN,EAAGvN,EAAM8P,MAGX9P,IAMH,SAAUjD,EAAQmO,EAASG,GAEjC,aASAtO,EAAOmO,QAAU,SAAuBsH,GAItC,MAAO,gCAAgCmN,KAAKnN,KAMxC,SAAUzV,EAAQmO,EAASG,GAEjC,aAUAtO,EAAOmO,QAAU,SAAqB2L,EAASsL,GAC7C,OAAOA,EACHtL,EAAQtH,QAAQ,OAAQ,IAAM,IAAM4S,EAAY5S,QAAQ,OAAQ,IAChEsH,IAMA,SAAU9Z,EAAQmO,EAASG,GAEjC,aAGA,IAAIwJ,EAASxJ,EAAoB,GAQjC,SAAS6P,EAAYkH,GACnB,GAAwB,mBAAbA,EACT,MAAM,IAAIvM,UAAU,gCAGtB,IAAIwM,EACJpR,KAAKiD,QAAU,IAAIvC,SAAQ,SAAyBC,GAClDyQ,EAAiBzQ,KAGnB,IAAI0Q,EAAQrR,KACZmR,GAAS,SAAgB5N,GACnB8N,EAAML,SAKVK,EAAML,OAAS,IAAIpN,EAAOL,GAC1B6N,EAAeC,EAAML,YAOzB/G,EAAYrO,UAAUmV,iBAAmB,WACvC,GAAI/Q,KAAKgR,OACP,MAAMhR,KAAKgR,QAQf/G,EAAYqH,OAAS,WACnB,IAAInO,EAIJ,MAAO,CACLkO,MAJU,IAAIpH,GAAY,SAAkBvP,GAC5CyI,EAASzI,KAITyI,OAAQA,IAIZrX,EAAOmO,QAAUgQ,GAKX,SAAUne,EAAQmO,EAASG,GAEjC,aAuBAtO,EAAOmO,QAAU,SAAgBsX,GAC/B,OAAO,SAAcC,GACnB,OAAOD,EAASpR,MAAM,KAAMqR,MAO1B,SAAU1lB,EAAQmO,EAASG,GAEjC,aAGA,IAAI2J,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAI5J,EAAI,EAAGA,EAAI4J,EAAM3H,OAAQjC,IAAK,CAAE,IAAI6J,EAAaD,EAAM5J,GAAI6J,EAAWnJ,WAAamJ,EAAWnJ,eAAqBmJ,EAAWC,gBAAyB,UAAWD,IAAYA,EAAWE,aAAiBtY,OAAOgP,eAAekJ,EAAQE,EAAWpS,IAAKoS,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAY1I,UAAW2I,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEnB,SAASmN,EAAgB9M,EAAUL,GAAe,KAAMK,aAAoBL,GAAgB,MAAM,IAAIM,UAAU,qCAEhH,IAEIH,EAAQrK,EAAoB,GAE5B0J,EAAS,WACX,SAASA,IACP,IAAIuL,EAAOrR,UAAUzB,OAAS,YAAKyB,UAAU,GAAmBA,UAAU,GAAK,KAE/EyT,EAAgBzR,KAAM8D,GAEtB9D,KAAK0R,MAAQrC,EAuMf,OApMAtL,EAAaD,EAAQ,CAAC,CACpB/R,IAAK,gBACLpD,MAAO,SAAuBgjB,YACxBA,GAA0C,MAAdA,GAAqC,KAAfA,IACpD3R,KAAK4R,YAAcD,KAGtB,CACD5f,IAAK,gBACLpD,MAAO,WACL,OAAOqR,KAAK4R,YAAc5R,KAAK4R,YAAc,8BAE9C,CACD7f,IAAK,gBACLpD,MAAO,SAAuBuW,YACxBA,IACFlF,KAAKmF,YAAcD,EACnBlF,KAAKoF,UAAY,OAGpB,CACDrT,IAAK,eACLpD,MAAO,SAAsB0W,YACvBA,IACFrF,KAAKsF,WAAaD,EAClBrF,KAAKoF,UAAY,OAGpB,CACDrT,IAAK,eACLpD,MAAO,SAAsBsS,EAAUC,YACjCD,GAAsC,MAAZA,GAAiC,KAAbA,IAChDjB,KAAKwF,UAAYvE,EACjBjB,KAAKyF,UAAYvE,EACjBlB,KAAKoF,UAAY,OAGpB,CACDrT,IAAK,YACLpD,MAAO,WACL,MAAOkjB,oBAAyB7R,KAAK0R,QAEtC,CACD3f,IAAK,cACLpD,MAAO,WACL,OAAOqR,KAAKsF,WAAatF,KAAKsF,WAAatF,KAAKmF,YAAYU,kBAAkBC,YAAY7K,MAAM8K,kBAAkBC,WAEnH,CACDjU,IAAK,0BACLpD,MAAO,WACL,OAAQqR,KAAKoF,WACX,IAAK,IACH,MAAO,CACLnE,SAAUjB,KAAKwF,UACftE,SAAUlB,KAAKyF,WAEnB,IAAK,IACH,MAAO,CACLS,QAASlG,KAAKmG,eAElB,QACE,MAAO,MAGZ,CACDpU,IAAK,WACLpD,MAAO,SAAkB4S,GAEvB,IAAIqE,EAAU5F,KAAK8R,YAEnB,OAAO,IAAIpR,SAAQ,SAAUC,EAASC,GACpC6D,EAAM,CACJ1E,OAAQ,MACRwB,IAAKA,EACLqE,QAASA,IACR1C,MAAK,SAAUlB,GAChB,OAAwB,MAApBA,EAASpC,OACJe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAInB,CACDjQ,IAAK,WACLpD,MAAO,SAAkB4S,EAAK8E,EAAYtX,GACxC,OAAOiR,KAAK+R,MAAM,MAAOxQ,EAAK8E,EAAYtX,KAE3C,CACDgD,IAAK,YACLpD,MAAO,SAAmB4S,EAAK8E,EAAYtX,GACzC,OAAOiR,KAAK+R,MAAM,OAAQxQ,EAAK8E,EAAYtX,KAE5C,CACDgD,IAAK,QACLpD,MAAO,SAAeoR,EAAQwB,EAAK8E,EAAYtX,GAE7C,IAEI0R,EAAS,CACXV,OAAQA,EACRwB,IAAKA,EACLqE,QALY5F,KAAK8R,aAanB,gBALIzL,IACF5F,EAAe,OAAI4F,GAGrB5F,EAAO1R,KAAOA,EACP,IAAI2R,SAAQ,SAAUC,EAASC,GACpC6D,EAAMhE,GAAQyC,MAAK,SAAUlB,GAC3B,OAAIA,EAASpC,QAAU,KAAOoC,EAASpC,QAAU,IACxCe,EAAQqB,EAASjT,MAEnB6R,EAAOoB,MACb,SAAUA,GACX,OAAOpB,EAAOoB,WAInB,CACDjQ,IAAK,kBACLpD,MAAO,WACL,OAAOqR,KAAKgS,SAAS,iBAEtB,CACDjgB,IAAK,6BACLpD,MAAO,WACL,IAAIsjB,EAAOjU,UAAUzB,OAAS,YAAKyB,UAAU,GAAmBA,UAAU,GAAK,UAE/E,OAAOgC,KAAKgS,SAAS,wBAA0BC,KAEhD,CACDlgB,IAAK,6BACLpD,MAAO,SAAoCiY,EAAMgB,GAC/C,IAAIsK,EAAalU,UAAUzB,OAAS,YAAKyB,UAAU,GAAmBA,UAAU,UAE5EmU,EAAe,CACjBC,UAAWpS,KAAKqS,gBAAkB,MAClCzL,KAAMA,EACNgB,UAAWA,EACXsK,WAAYA,GAGVI,EAAsBtS,KAAKuS,0BAE/B,OAAOvS,KAAKwS,UAAU,8BAAmCzmB,OAAO0mB,OAAON,EAAcG,MAEtF,CACDvgB,IAAK,2BACLpD,MAAO,SAAkCW,GACvC,OAAO0Q,KAAKwS,UAAU,iCAAsCljB,KAE7D,CACDyC,IAAK,6BACLpD,MAAO,WACL,IAAIsjB,EAAOjU,UAAUzB,OAAS,YAAKyB,UAAU,GAAmBA,UAAU,GAAK,UAE3E0U,EAAa,CACfN,UAAWpS,KAAKqS,gBAAkB,OAGhCC,EAAsBtS,KAAKuS,0BAE/B,OAAOvS,KAAKwS,UAAU,wBAA0BP,SAAiBlmB,OAAO0mB,OAAOC,EAAYJ,MAE5F,CACDvgB,IAAK,4BACLpD,MAAO,WACL,IAAIsjB,EAAOjU,UAAUzB,OAAS,YAAKyB,UAAU,GAAmBA,UAAU,GAAK,UAC3E4I,EAAO5I,UAAU,GAEjB0U,EAAa,CACfN,UAAWpS,KAAKqS,gBAAkB,MAClCzL,KAAMA,GAGJ0L,EAAsBtS,KAAKuS,0BAE/B,OAAOvS,KAAK2S,SAAS,wBAA0BV,SAAiBlmB,OAAO0mB,OAAOC,EAAYJ,MAE3F,CACDvgB,IAAK,OACLkJ,IAAK,WACH,OAAO+E,KAAK0R,SAEZ,CAAC,CACH3f,IAAK,gBACLkJ,IAAK,WACH,MA7MiB,uBAiNd6I,EA7MI,GAgNbhY,EAAOmO,QAAU,CAAE6J,OAAQA,O,4hBC1nFd8O,EAAoC,SAAC,G,IAChD7jB,S,IACA8jB,mBAAUA,EAAA,qB,IACVC,oBAAWA,EANb,eAMaC,EAEPC,GAAJ,OACA,IAAIjkB,IACFikB,MAYF,OACE,uBAASxG,MAAOqG,GACdI,8BACE,uBAAQD,SAAUA,EAAUE,QAZd,WAClB,IAAMC,EAAUjU,eAAhB,GACMhB,EAAIN,uBAAV,KACMwV,EAAO,IAAIC,KAAK,CAAT,GAAoB,CAAE1gB,KAfvC,qBAgBIuL,OAASwH,oBAATxH,GACAA,aACAA,YAOM+U,sBAJR,U,4gBCPF,IAAMK,GAA6B,CACjCC,WADiC,EAEjClE,KAFiC,KAGjCzP,YAAQzG,GAGGqa,GAAgBC,wBAG1B,CAAEC,MAAF,GAAwBC,SAAU,eAExBC,GAAuD,SAAC,G,IACnEvE,SACAwE,aAEMC,EAA4B,CAChCP,WADgC,EAEhC3T,YAFgC,EAGhCyP,QAGF,EAA0B0E,sBACxB,cACE,OAAQC,EAAR,MACE,mBACE,eAEET,WAFF,EAGE3T,OAAQoU,EAAOC,UAEnB,qBACE,eAEEV,WAFF,EAGE3T,YAAQzG,IAEZ,QACE,MAAM,IAAN,SAhBR,GAAOua,EAAP,KAAcC,EAAd,KAsBIO,GAAJ,EAEA,aACE,IAAMC,EAAS,IAAIC,IAAJ,OAAf,GAEA,IACED,0BACE,YACER,EAAS,CACPhhB,KADO,eAEPshB,QAASjS,EAASjT,UAGtB,YACE4kB,EAAS,CAAEhhB,KAAF,iBAA0BshB,QAAS7M,OAGhDoE,WAAW6I,EAAX7I,MAqBJ,OARA8I,qBAAU,WAGR,OAXAJ,KACA1I,WAAW6I,EAAX7I,KAUO,WANP0I,QAGFI,IASE,kBAACd,GAAD,UAAwB7kB,MAAO,CAAE+kB,MAAF,EAASC,aAD1C,I,gFCnGF,IAAIY,EAAW,SAAUta,GAGvB,IAEId,EAFAqb,EAAKzoB,OAAO6P,UACZ6Y,EAASD,EAAG3Y,eAEZ6Y,EAA4B,oBAAXxZ,OAAwBA,OAAS,GAClDyZ,EAAiBD,EAAQE,UAAY,aACrCC,EAAsBH,EAAQI,eAAiB,kBAC/CC,EAAoBL,EAAQvZ,aAAe,gBAE/C,SAAS6Z,EAAO3Y,EAAKtK,EAAKpD,GAOxB,OANA5C,OAAOgP,eAAesB,EAAKtK,EAAK,CAC9BpD,MAAOA,EACPqM,YAAY,EACZoJ,cAAc,EACdC,UAAU,IAELhI,EAAItK,GAEb,IAEEijB,EAAO,GAAI,IACX,MAAO5N,GACP4N,EAAS,SAAS3Y,EAAKtK,EAAKpD,GAC1B,OAAO0N,EAAItK,GAAOpD,GAItB,SAASsmB,EAAKC,EAASC,EAASC,EAAMC,GAEpC,IAAIC,EAAiBH,GAAWA,EAAQvZ,qBAAqB2Z,EAAYJ,EAAUI,EAC/EC,EAAYzpB,OAAOwP,OAAO+Z,EAAe1Z,WACzCmO,EAAU,IAAI0L,EAAQJ,GAAe,IAMzC,OAFAG,EAAUE,QAuMZ,SAA0BR,EAASE,EAAMrL,GACvC,IAAI2J,EAAQiC,EAEZ,OAAO,SAAgB5V,EAAQ6V,GAC7B,GAAIlC,IAAUmC,EACZ,MAAM,IAAInS,MAAM,gCAGlB,GAAIgQ,IAAUoC,EAAmB,CAC/B,GAAe,UAAX/V,EACF,MAAM6V,EAKR,OAAOG,IAMT,IAHAhM,EAAQhK,OAASA,EACjBgK,EAAQ6L,IAAMA,IAED,CACX,IAAII,EAAWjM,EAAQiM,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUjM,GACnD,GAAIkM,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBlM,EAAQhK,OAGVgK,EAAQqM,KAAOrM,EAAQsM,MAAQtM,EAAQ6L,SAElC,GAAuB,UAAnB7L,EAAQhK,OAAoB,CACrC,GAAI2T,IAAUiC,EAEZ,MADAjC,EAAQoC,EACF/L,EAAQ6L,IAGhB7L,EAAQuM,kBAAkBvM,EAAQ6L,SAEN,WAAnB7L,EAAQhK,QACjBgK,EAAQwM,OAAO,SAAUxM,EAAQ6L,KAGnClC,EAAQmC,EAER,IAAIW,EAASC,EAASvB,EAASE,EAAMrL,GACrC,GAAoB,WAAhByM,EAAO7jB,KAAmB,CAO5B,GAJA+gB,EAAQ3J,EAAQ2M,KACZZ,EACAa,EAEAH,EAAOZ,MAAQO,EACjB,SAGF,MAAO,CACLxnB,MAAO6nB,EAAOZ,IACdc,KAAM3M,EAAQ2M,MAGS,UAAhBF,EAAO7jB,OAChB+gB,EAAQoC,EAGR/L,EAAQhK,OAAS,QACjBgK,EAAQ6L,IAAMY,EAAOZ,OA/QPgB,CAAiB1B,EAASE,EAAMrL,GAE7CyL,EAcT,SAASiB,EAASna,EAAID,EAAKuZ,GACzB,IACE,MAAO,CAAEjjB,KAAM,SAAUijB,IAAKtZ,EAAG9B,KAAK6B,EAAKuZ,IAC3C,MAAOxO,GACP,MAAO,CAAEzU,KAAM,QAASijB,IAAKxO,IAhBjCnN,EAAQgb,KAAOA,EAoBf,IAAIU,EAAyB,iBACzBgB,EAAyB,iBACzBd,EAAoB,YACpBC,EAAoB,YAIpBK,EAAmB,GAMvB,SAASZ,KACT,SAASsB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxB/B,EAAO+B,EAAmBpC,GAAgB,WACxC,OAAO3U,QAGT,IAAIgX,EAAWjrB,OAAOkrB,eAClBC,EAA0BF,GAAYA,EAASA,EAAShhB,EAAO,MAC/DkhB,GACAA,IAA4B1C,GAC5BC,EAAOja,KAAK0c,EAAyBvC,KAGvCoC,EAAoBG,GAGtB,IAAIC,EAAKL,EAA2Blb,UAClC2Z,EAAU3Z,UAAY7P,OAAOwP,OAAOwb,GAYtC,SAASK,EAAsBxb,GAC7B,CAAC,OAAQ,QAAS,UAAUlN,SAAQ,SAASqR,GAC3CiV,EAAOpZ,EAAWmE,GAAQ,SAAS6V,GACjC,OAAO5V,KAAK0V,QAAQ3V,EAAQ6V,SAkClC,SAASyB,EAAc7B,EAAW8B,GAChC,SAASC,EAAOxX,EAAQ6V,EAAKjV,EAASC,GACpC,IAAI4V,EAASC,EAASjB,EAAUzV,GAASyV,EAAWI,GACpD,GAAoB,UAAhBY,EAAO7jB,KAEJ,CACL,IAAImL,EAAS0Y,EAAOZ,IAChBjnB,EAAQmP,EAAOnP,MACnB,OAAIA,GACiB,kBAAVA,GACP8lB,EAAOja,KAAK7L,EAAO,WACd2oB,EAAY3W,QAAQhS,EAAM6oB,SAAStU,MAAK,SAASvU,GACtD4oB,EAAO,OAAQ5oB,EAAOgS,EAASC,MAC9B,SAASwG,GACVmQ,EAAO,QAASnQ,EAAKzG,EAASC,MAI3B0W,EAAY3W,QAAQhS,GAAOuU,MAAK,SAASuU,GAI9C3Z,EAAOnP,MAAQ8oB,EACf9W,EAAQ7C,MACP,SAAS2F,GAGV,OAAO8T,EAAO,QAAS9T,EAAO9C,EAASC,MAvBzCA,EAAO4V,EAAOZ,KA4BlB,IAAI8B,EAgCJ1X,KAAK0V,QA9BL,SAAiB3V,EAAQ6V,GACvB,SAAS+B,IACP,OAAO,IAAIL,GAAY,SAAS3W,EAASC,GACvC2W,EAAOxX,EAAQ6V,EAAKjV,EAASC,MAIjC,OAAO8W,EAaLA,EAAkBA,EAAgBxU,KAChCyU,EAGAA,GACEA,KAkHV,SAASzB,EAAoBF,EAAUjM,GACrC,IAAIhK,EAASiW,EAASpB,SAAS7K,EAAQhK,QACvC,GAAIA,IAAW5G,EAAW,CAKxB,GAFA4Q,EAAQiM,SAAW,KAEI,UAAnBjM,EAAQhK,OAAoB,CAE9B,GAAIiW,EAASpB,SAAT,SAGF7K,EAAQhK,OAAS,SACjBgK,EAAQ6L,IAAMzc,EACd+c,EAAoBF,EAAUjM,GAEP,UAAnBA,EAAQhK,QAGV,OAAOoW,EAIXpM,EAAQhK,OAAS,QACjBgK,EAAQ6L,IAAM,IAAIhR,UAChB,kDAGJ,OAAOuR,EAGT,IAAIK,EAASC,EAAS1W,EAAQiW,EAASpB,SAAU7K,EAAQ6L,KAEzD,GAAoB,UAAhBY,EAAO7jB,KAIT,OAHAoX,EAAQhK,OAAS,QACjBgK,EAAQ6L,IAAMY,EAAOZ,IACrB7L,EAAQiM,SAAW,KACZG,EAGT,IAAIyB,EAAOpB,EAAOZ,IAElB,OAAMgC,EAOFA,EAAKlB,MAGP3M,EAAQiM,EAAS6B,YAAcD,EAAKjpB,MAGpCob,EAAQ+N,KAAO9B,EAAS+B,QAQD,WAAnBhO,EAAQhK,SACVgK,EAAQhK,OAAS,OACjBgK,EAAQ6L,IAAMzc,GAUlB4Q,EAAQiM,SAAW,KACZG,GANEyB,GA3BP7N,EAAQhK,OAAS,QACjBgK,EAAQ6L,IAAM,IAAIhR,UAAU,oCAC5BmF,EAAQiM,SAAW,KACZG,GAoDX,SAAS6B,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxBjY,KAAKuY,WAAWvN,KAAKkN,GAGvB,SAASM,EAAcN,GACrB,IAAI1B,EAAS0B,EAAMO,YAAc,GACjCjC,EAAO7jB,KAAO,gBACP6jB,EAAOZ,IACdsC,EAAMO,WAAajC,EAGrB,SAASf,EAAQJ,GAIfrV,KAAKuY,WAAa,CAAC,CAAEJ,OAAQ,SAC7B9C,EAAY3mB,QAAQspB,EAAchY,MAClCA,KAAK0Y,OAAM,GA8Bb,SAAS1iB,EAAO2iB,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAShE,GAC9B,GAAIiE,EACF,OAAOA,EAAepe,KAAKme,GAG7B,GAA6B,oBAAlBA,EAASb,KAClB,OAAOa,EAGT,IAAKlrB,MAAMkrB,EAASpc,QAAS,CAC3B,IAAIjC,GAAK,EAAGwd,EAAO,SAASA,IAC1B,OAASxd,EAAIqe,EAASpc,QACpB,GAAIkY,EAAOja,KAAKme,EAAUre,GAGxB,OAFAwd,EAAKnpB,MAAQgqB,EAASre,GACtBwd,EAAKpB,MAAO,EACLoB,EAOX,OAHAA,EAAKnpB,MAAQwK,EACb2e,EAAKpB,MAAO,EAELoB,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAM/B,GAIjB,SAASA,IACP,MAAO,CAAEpnB,MAAOwK,EAAWud,MAAM,GA+MnC,OA7mBAG,EAAkBjb,UAAYkb,EAC9B9B,EAAOmC,EAAI,cAAeL,GAC1B9B,EAAO8B,EAA4B,cAAeD,GAClDA,EAAkBgC,YAAc7D,EAC9B8B,EACA/B,EACA,qBAaF9a,EAAQ6e,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,oBAAXD,GAAyBA,EAAOxO,YAClD,QAAOyO,IACHA,IAASnC,GAG2B,uBAAnCmC,EAAKH,aAAeG,EAAKpe,QAIhCX,EAAQgf,KAAO,SAASF,GAQtB,OAPIhtB,OAAOmtB,eACTntB,OAAOmtB,eAAeH,EAAQjC,IAE9BiC,EAAOI,UAAYrC,EACnB9B,EAAO+D,EAAQhE,EAAmB,sBAEpCgE,EAAOnd,UAAY7P,OAAOwP,OAAO4b,GAC1B4B,GAOT9e,EAAQmf,MAAQ,SAASxD,GACvB,MAAO,CAAE4B,QAAS5B,IAsEpBwB,EAAsBC,EAAczb,WACpCoZ,EAAOqC,EAAczb,UAAWiZ,GAAqB,WACnD,OAAO7U,QAET/F,EAAQod,cAAgBA,EAKxBpd,EAAQof,MAAQ,SAASnE,EAASC,EAASC,EAAMC,EAAaiC,QACxC,IAAhBA,IAAwBA,EAAc5W,SAE1C,IAAI4Y,EAAO,IAAIjC,EACbpC,EAAKC,EAASC,EAASC,EAAMC,GAC7BiC,GAGF,OAAOrd,EAAQ6e,oBAAoB3D,GAC/BmE,EACAA,EAAKxB,OAAO5U,MAAK,SAASpF,GACxB,OAAOA,EAAO4Y,KAAO5Y,EAAOnP,MAAQ2qB,EAAKxB,WAuKjDV,EAAsBD,GAEtBnC,EAAOmC,EAAIpC,EAAmB,aAO9BC,EAAOmC,EAAIxC,GAAgB,WACzB,OAAO3U,QAGTgV,EAAOmC,EAAI,YAAY,WACrB,MAAO,wBAkCTld,EAAQxL,KAAO,SAASiN,GACtB,IAAIjN,EAAO,GACX,IAAK,IAAIsD,KAAO2J,EACdjN,EAAKuc,KAAKjZ,GAMZ,OAJAtD,EAAK8qB,UAIE,SAASzB,IACd,KAAOrpB,EAAK8N,QAAQ,CAClB,IAAIxK,EAAMtD,EAAK+qB,MACf,GAAIznB,KAAO2J,EAGT,OAFAoc,EAAKnpB,MAAQoD,EACb+lB,EAAKpB,MAAO,EACLoB,EAQX,OADAA,EAAKpB,MAAO,EACLoB,IAsCX7d,EAAQjE,OAASA,EAMjByf,EAAQ7Z,UAAY,CAClB2O,YAAakL,EAEbiD,MAAO,SAASe,GAcd,GAbAzZ,KAAK0Z,KAAO,EACZ1Z,KAAK8X,KAAO,EAGZ9X,KAAKoW,KAAOpW,KAAKqW,MAAQld,EACzB6G,KAAK0W,MAAO,EACZ1W,KAAKgW,SAAW,KAEhBhW,KAAKD,OAAS,OACdC,KAAK4V,IAAMzc,EAEX6G,KAAKuY,WAAW7pB,QAAQ8pB,IAEnBiB,EACH,IAAK,IAAI7e,KAAQoF,KAEQ,MAAnBpF,EAAK2U,OAAO,IACZkF,EAAOja,KAAKwF,KAAMpF,KACjBnN,OAAOmN,EAAK+e,MAAM,MACrB3Z,KAAKpF,GAAQzB,IAMrBygB,KAAM,WACJ5Z,KAAK0W,MAAO,EAEZ,IACImD,EADY7Z,KAAKuY,WAAW,GACLE,WAC3B,GAAwB,UAApBoB,EAAWlnB,KACb,MAAMknB,EAAWjE,IAGnB,OAAO5V,KAAK8Z,MAGdxD,kBAAmB,SAASyD,GAC1B,GAAI/Z,KAAK0W,KACP,MAAMqD,EAGR,IAAIhQ,EAAU/J,KACd,SAASga,EAAOC,EAAKC,GAYnB,OAXA1D,EAAO7jB,KAAO,QACd6jB,EAAOZ,IAAMmE,EACbhQ,EAAQ+N,KAAOmC,EAEXC,IAGFnQ,EAAQhK,OAAS,OACjBgK,EAAQ6L,IAAMzc,KAGN+gB,EAGZ,IAAK,IAAI5f,EAAI0F,KAAKuY,WAAWhc,OAAS,EAAGjC,GAAK,IAAKA,EAAG,CACpD,IAAI4d,EAAQlY,KAAKuY,WAAWje,GACxBkc,EAAS0B,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAO6B,EAAO,OAGhB,GAAI9B,EAAMC,QAAUnY,KAAK0Z,KAAM,CAC7B,IAAIS,EAAW1F,EAAOja,KAAK0d,EAAO,YAC9BkC,EAAa3F,EAAOja,KAAK0d,EAAO,cAEpC,GAAIiC,GAAYC,EAAY,CAC1B,GAAIpa,KAAK0Z,KAAOxB,EAAME,SACpB,OAAO4B,EAAO9B,EAAME,UAAU,GACzB,GAAIpY,KAAK0Z,KAAOxB,EAAMG,WAC3B,OAAO2B,EAAO9B,EAAMG,iBAGjB,GAAI8B,GACT,GAAIna,KAAK0Z,KAAOxB,EAAME,SACpB,OAAO4B,EAAO9B,EAAME,UAAU,OAG3B,KAAIgC,EAMT,MAAM,IAAI1W,MAAM,0CALhB,GAAI1D,KAAK0Z,KAAOxB,EAAMG,WACpB,OAAO2B,EAAO9B,EAAMG,gBAU9B9B,OAAQ,SAAS5jB,EAAMijB,GACrB,IAAK,IAAItb,EAAI0F,KAAKuY,WAAWhc,OAAS,EAAGjC,GAAK,IAAKA,EAAG,CACpD,IAAI4d,EAAQlY,KAAKuY,WAAWje,GAC5B,GAAI4d,EAAMC,QAAUnY,KAAK0Z,MACrBjF,EAAOja,KAAK0d,EAAO,eACnBlY,KAAK0Z,KAAOxB,EAAMG,WAAY,CAChC,IAAIgC,EAAenC,EACnB,OAIAmC,IACU,UAAT1nB,GACS,aAATA,IACD0nB,EAAalC,QAAUvC,GACvBA,GAAOyE,EAAahC,aAGtBgC,EAAe,MAGjB,IAAI7D,EAAS6D,EAAeA,EAAa5B,WAAa,GAItD,OAHAjC,EAAO7jB,KAAOA,EACd6jB,EAAOZ,IAAMA,EAETyE,GACFra,KAAKD,OAAS,OACdC,KAAK8X,KAAOuC,EAAahC,WAClBlC,GAGFnW,KAAKsa,SAAS9D,IAGvB8D,SAAU,SAAS9D,EAAQ8B,GACzB,GAAoB,UAAhB9B,EAAO7jB,KACT,MAAM6jB,EAAOZ,IAcf,MAXoB,UAAhBY,EAAO7jB,MACS,aAAhB6jB,EAAO7jB,KACTqN,KAAK8X,KAAOtB,EAAOZ,IACM,WAAhBY,EAAO7jB,MAChBqN,KAAK8Z,KAAO9Z,KAAK4V,IAAMY,EAAOZ,IAC9B5V,KAAKD,OAAS,SACdC,KAAK8X,KAAO,OACa,WAAhBtB,EAAO7jB,MAAqB2lB,IACrCtY,KAAK8X,KAAOQ,GAGPnC,GAGToE,OAAQ,SAASlC,GACf,IAAK,IAAI/d,EAAI0F,KAAKuY,WAAWhc,OAAS,EAAGjC,GAAK,IAAKA,EAAG,CACpD,IAAI4d,EAAQlY,KAAKuY,WAAWje,GAC5B,GAAI4d,EAAMG,aAAeA,EAGvB,OAFArY,KAAKsa,SAASpC,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACP/B,IAKb,MAAS,SAASgC,GAChB,IAAK,IAAI7d,EAAI0F,KAAKuY,WAAWhc,OAAS,EAAGjC,GAAK,IAAKA,EAAG,CACpD,IAAI4d,EAAQlY,KAAKuY,WAAWje,GAC5B,GAAI4d,EAAMC,SAAWA,EAAQ,CAC3B,IAAI3B,EAAS0B,EAAMO,WACnB,GAAoB,UAAhBjC,EAAO7jB,KAAkB,CAC3B,IAAI6nB,EAAShE,EAAOZ,IACpB4C,EAAcN,GAEhB,OAAOsC,GAMX,MAAM,IAAI9W,MAAM,0BAGlB+W,cAAe,SAAS9B,EAAUd,EAAYE,GAa5C,OAZA/X,KAAKgW,SAAW,CACdpB,SAAU5e,EAAO2iB,GACjBd,WAAYA,EACZE,QAASA,GAGS,SAAhB/X,KAAKD,SAGPC,KAAK4V,IAAMzc,GAGNgd,IAQJlc,EA9sBM,CAqtBgBnO,EAAOmO,SAGtC,IACEygB,mBAAqBnG,EACrB,MAAOoG,GAWmB,kBAAfC,WACTA,WAAWF,mBAAqBnG,EAEhCsG,SAAS,IAAK,yBAAdA,CAAwCtG,O,SC1uB5C,wC,mCAAO,sGAImCuG,MAAM/Z,EAJzC,iBAICiB,EAJD,yBAOyBA,EAPzB,cAOHA,EAPG,kEASH+Y,sCATG,WAYA/Y,EAZA,0BAaG,IAAI0B,MAAM1B,EAbb,0G,sBAkBP,iD,mCAAO,sGAIwC8Y,MAAM/Z,EAJ9C,iBAICiB,EAJD,yBAOyBA,EAPzB,cAOHA,EAPG,kEASH+Y,sCATG,WAYA/Y,EAZA,0BAaG,IAAI0B,MAAM1B,EAbb,0G,sBAuBA,IAAMgZ,GAAc,4BAAG,+FAEtBC,EAAUtJ,GADH,IAAMuJ,EAAM,eADG,qBAGrBC,GAAQF,OAHa,+CAAH,0DAMdG,GAAiB,4BAAG,+FAEzBH,EAAUtJ,GADH,IAAMuJ,EAAM,kBADM,qBAGxBC,GAAQF,OAHgB,+CAAH,0DAyCjBI,GAAgB,4BAAG,iGAExBJ,EAAUtJ,GADH,IAAMuJ,EAAM,SAAWI,EADN,yBAIxBC,EAAY,CAChBxb,OAAQ,OALoB,kBAQvBob,GAAQF,EARe,+CAAH,0DAWvBO,GAAN,wJAEaC,GAAe,SAACC,GAC3B,OAAOF,QAAaG,UAApB,gBAGWC,GAAe,4BAAG,4FAOzBH,GAPyB,6CASRT,GAAerJ,EAAYuJ,EATnB,UASzBlZ,EATyB,wEAWRoZ,GAAkBzJ,EAAYuJ,EAXtB,WAWzBlZ,EAXyB,wDAcVoZ,GAAkBzJ,EAAYuJ,EAdpB,WAc3BlZ,EAd2B,wCAgBtBA,aAhBsB,qEAAH,0DAmBf6Z,GAAa,4BAAG,0GACRD,GAAgBjK,EAAYuJ,EADpB,iBACrBjU,EADqB,gBAENoU,GAAiB1J,EAAYuJ,EAFvB,iBAErBpd,EAFqB,OAG3Bid,YAAY,4BAAZA,GAH2B,gEAAH,0DAqCbe,GAAU,4BAAG,iGAMlBb,EAAUtJ,GADH,IAAMuJ,EALK,SAQlBa,EAAa,CACjBhc,OADiB,OAEjBlB,QAAS,CACP,eAAgB,oBAElBmd,KAAM9c,mBAbgB,kBAgBjB+c,GAAYhB,EAhBK,+CAAH,0DAoDViB,GAAiB,4BAAG,2FAC3BC,EAAWC,iBADgB,KAG3BD,OALN,KAOIA,EAAWA,cAPf,KAEiC,SAQzBE,EARyB,yBAShBjB,GAAkBzJ,EAAYuJ,EATd,sCAU3BiB,KACAE,IAX2B,uKAAH,0DAiBjBC,GAAgB,4BAAG,qGAOxBrB,EAAUtJ,GADH,IAAMuJ,EAAM,iBANK,YASPgB,GAAkBvK,EAAYuJ,EATvB,iBASxBiB,EATwB,OAWxBJ,EAAa,CACjBhc,OADiB,OAEjBlB,QAAS,CACP,eAAgB,oBAElBmd,KAAM9c,KAAA,UAAe,CAAEid,SAAUA,KAhBL,kBAmBvBF,GAAYhB,EAnBW,+CAAH,4DCvOhBsB,GAAqB9I,wBAA3B,IAIM+I,GAAsB,SAAC,G,IAClCC,kBACAC,mBACA7I,aAEA,EAAkC8I,mBAAlC,MAAOC,EAAP,KAAkBC,EAAlB,KAEA,ED2C4B,SAAClL,GAC7B,MAAkCgL,oBAAlC,GAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA0BJ,qBAAnBlZ,EAAP,KAAcuZ,EAAd,KACA,EAAwBL,qBAAjB5tB,EAAP,KAAakuB,EAAb,KAEMC,EAAO,4BAAG,gGAEZH,MACAC,UACAC,WAJY,mCAMiBjC,GAAerJ,EAAY,KAN5C,iBAMJwL,EANI,OAOVF,EAAQE,EAARF,YAPU,oCAUVA,UAVU,0FAcZD,EAAS,+BAAiC,EAA1CA,IACAD,MAfY,8BAkBZA,MAlBY,6EAAH,sDAsBb,MAAO,CACLD,UADK,EAELrZ,MAFK,EAGL1U,KAHK,EAILmuB,QAASE,sBAAYF,EAAS,KCrE5BG,CALJ,GAOMC,EAA6B,CACjCb,cADiC,EAEjCC,eAFiC,EAGjCE,UAHiC,EAIjCC,aAJiC,EAKjCU,qBAZF,YAaEC,YAbF,OAcEC,iBAdF,QAeEC,eAfF,WAkBA,OACE,kBAACnB,GAAD,UAA6B5tB,MAAO2uB,GADtC,ICXIK,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QADI,EAEJC,OAAQ,GAEV5K,QAAS,CACP2K,QADO,MAEPC,OAAQ,GAEVvR,MAAO,CACLxa,MADK,UAEL,cAFK,QAGL,iBAAkB,OAEpBgsB,aAAc,CACZC,QADY,OAEZC,WAAY,UAEdC,SAAU,CACR1sB,OADQ,MAER2sB,YAAa,OAEfC,YAAa,CACXN,OADW,EAEXD,QAAS,SAEXQ,SAAU,CACR7sB,OADQ,QAERD,MAAO,SAET+sB,UAAW,CACT,cADS,MAET,eAAgB,SAIdC,GAAqB,SAACta,GAC1B,IAAMua,EAAUd,KAERe,EAAiExa,EAAzE,OAAgBya,EAAyDza,EAAzE,UAA2B0a,EAA8C1a,EAAzE,QAAoC2a,EAAqC3a,EAAzE,UAA+C4a,EAA0B5a,EAAzE,sBAEA,EAAwCyY,mBAAxC,QAAOoC,EAAP,KAAqBC,EAArB,KAEMC,EACJL,KACE3L,yFAEEA,2BAFFA,0DADF2L,qEAOE3L,yFAEEA,2BAFFA,0DARJ,qEAcMiM,EACJN,KACE3L,sHAGEA,2BAHFA,wDADF2L,sEAQE3L,2BATJ,qJAgBMkM,EACJP,KACE,uBAAYX,QAAQ,UAClBhL,2BADF,eADF2L,qEAME,uBAAYX,QAAQ,UAClBhL,2BADF,eAPJ,yBAYMmM,EACJR,KACE,uBAAYX,QAAQ,UAClBhL,2BADF,qBADF2L,yDAME,uBAAYX,QAAQ,UAClBhL,2BADF,qBAPJ,aAgBA,OACE,uBAAQoM,UAAWZ,EAAQZ,KAAMxc,KAAMqd,GACrC,uBAAaY,mBAAmB,EAAMD,UAAWZ,EAAQjS,OACvD,uBAAY+S,QAAS,MAFzB,oCAKE,uBAAeF,UAAWZ,EAAQtL,SAChCF,2BADF,yNAOE,uBAAauM,UAAU,YACrB,uB,aACa,eACX5kB,KAAK,gBACLjM,MAAOowB,EACPU,SAtBW,SAACC,GACpBV,EAAgBU,SAAhBV,SAuBQ,uBACEK,UAAWZ,EAAQF,UACnB5vB,MAAM,aACNgxB,QAAS1M,4BACT2M,MACE3M,+BAEE,uBAASzG,MAAOyS,GACd,uBAAY7W,KAAM,QAASyX,oBAAkB,EAACC,eAAa,GACzD7M,sBAJNA,WAUJ,uBACEoM,UAAWZ,EAAQF,UACnB5vB,MAAM,iBACNgxB,QAAS1M,4BACT2M,MACE3M,+BAEE,uBAASzG,MAAO0S,GACd,uBAAY9W,KAAM,QAASyX,oBAAkB,EAACC,eAAa,GACzD7M,sBAJNA,cAaVA,sBApDF,MAqDE,uBAAeoM,UAAWZ,EAAQJ,aAChC,uBACEkB,QAAS,YACTvM,SAA2B,SAAjB+L,EACV7L,QAAS,WACP2L,MACAC,iBAAsBC,GACtBC,WAEFhtB,MAAO,WATX,UAaE,uBACEutB,QAAS,YACTrM,QAAS,WACP2L,MACAG,WAEFhtB,MAAO,WAzEf,aC9GI+tB,GAAS,iBAAO,CACpBC,OAAQ,CACNhuB,MADM,UAENiuB,YAFM,UAGN,WAAY,CACVA,YAAa,WAEf,cAAe,GAEjBC,UAAW,CACTzuB,OADS,OAET,cAAe,OAEjB0uB,WAAY,CACV1uB,OAAQ,QAEV2uB,UAAW,CACT3uB,OAAQ,QAEV4uB,WAAY,CACV5uB,OADU,OAEVD,MAAO,UAUL8uB,GAAwB,SAACpc,GAC7B,IA4I4Bqc,EAAUpX,EA5IhCqX,ELoE4BC,qBAAN,IKnEtBC,EAAkBF,QAAxB,UACMG,EAAeH,QAArB,OACMI,EAAaJ,QAAnB,KAEA,EAAqCC,qBAArC,IAAQhE,EAAR,gBAAuBG,EAAvB,YACA,EAA4DD,oBAA5D,GAAOkE,EAAP,KAA+BC,EAA/B,KAEMC,EAAwB,SAAC7O,GAC7B,IAAMiC,EAAS,IAAIC,IAAJ,OAAf,GAEAD,mBAEA,IACMyI,EAAJ,SACEzI,eAAoByI,eAApBzI,SAEAA,eACEyI,eADFzI,GAEEyI,eAFFzI,WAOJ,IAAMvM,EAAYoZ,EAAlB,UAEA7M,6BAEI6M,EAFJ7M,gBAMQ,YACJ,wBAAoC8M,EAAUjf,EAA9C,SAPJmS,OASS,YACL,wBAAoC+M,EAApC,OAqDAC,EAA+B,WAOnC,OA9BmB,SAACjjB,EAAD,GACnB,IAAIjF,EAAIiF,EAAA,gBAAiB,mBAAO3Q,SAAP,MACrB2L,EAAI/I,EAAA,gBAAiB,mBAAO5C,SAAP,MACrB6zB,EAAJ,GACI9mB,EAAJ,EACA,IAAKA,EAAL,EAAYA,EAAIrB,EAAhB,OAA0BqB,IACpBrB,OAASC,EAAboB,GACE8mB,OACSnoB,KAAOC,EAAXoB,GACL8mB,OAEAA,OAGJ,OAAKA,QAAL,UAEO,MAAIA,yBACT,GAEA,EAJA,EAWyBC,CACzBV,EADqC,WAFvC,UAMA,GAmCAlC,EAOEva,EARJ,QAEEqb,EAMErb,EARJ,QAGEkE,EAKElE,EARJ,KAIE+c,EAIE/c,EARJ,UAKEgd,EAGEhd,EARJ,UAMEod,EAEEpd,EARJ,QAOE8c,EACE9c,EARJ,sBAcMya,KACJqC,IAAyBA,EAAzBA,UACIA,UADJA,UAGIpC,KACJoC,IAAyBA,EAAzBA,YAT0BT,EAUHS,EAAD,SAVc7X,EAUhCoY,uBATGhB,EAAA,MAAc,mBAAa/yB,GAAWA,EAAO,OAA/B,MAyBvB,OACE,kBAACylB,IAAD,cACE,uBACEuO,sBAAoB,EACpBhV,MACEkU,EAAe,iCAEX,sIAENe,UAAU,UAEV,8BACE,uBACEpC,UAAWZ,EAAQuB,OACnBT,QAASA,EACTvM,UAAW0N,EACXxN,QAnFY,WACpB,KAA2B,CACzB,IAAMwO,EA7Da,SAACV,GACtB,GAAKA,EAAL,QAIA,OACGA,oBACGA,UADHA,UAAD,IAGCA,oBACGA,UADHA,UAJH,GAwDsBW,CAApB,GAEKD,GAAgBP,IAEVO,EAAJ,IACLZ,MAEAC,MAJAA,cAMG,CACL,IAAM5M,EAAS,IAAIC,IAAJ,OAAf,GACAkN,UACE,YACEnN,oCAEQ,YACJ,wBAAoC8M,EAAUjf,EAA9C,SAHJmS,OAKS,YACL,wBAAoC+M,EAApC,SAGN,YACE,wBAAoCA,EAApC,QA2DE9Y,KAAMA,GALR,oBAQE,uBAAMiX,UA/BM,SAACjX,GACrB,UACE,YACE,OAAOqW,EAAP,UACF,YACE,OAAOA,EAAP,UACF,QACE,OAAOA,EAAP,YAwBqBmD,CAAcxZ,IAC7B,yBACEyZ,IAAI,oBACJxC,UAAWZ,EAAQ4B,WACnByB,IAAMpB,EC3OZ,2gECAA,uxFFiPJ,sBACEhC,OAAQmC,EACRhC,UAAWiC,EACXhC,sBAAuBiC,EACvBpC,UAAWA,EACXC,QAASA,MAMjB,GAAemD,gBAAf,IGzPMC,GAAc,OAAAD,EAAA,IAAW,iBAAO,CACpClP,QAAS,CACPoP,gBADO,UAEPjwB,MAFO,UAGPkwB,SAHO,OAIPC,SAJO,MAKPC,OALO,oBAMPtE,QAAS,YAPO,CAApB,KCMMH,GAAYC,YAAW,CAC3ByE,YAAa,CACX5wB,OADW,OAEXwsB,QAFW,OAGXqE,cAHW,SAIXC,eAJW,SAKXrE,WAAY,YAIVsE,GAAuB,SAACte,GAC5B,IAAMua,EAAUd,KAER8E,EAA4Bve,EAApC,aAAsBwe,EAAcxe,EAApC,UAEMye,EAAUD,EAAS,wBAAzB,6CAGMlW,EAAQkW,EAAS,mCAEnB,yWAKEE,EAAOF,EClCL,6xBCAA,6xBFoCR,OACE,sBACEjB,UAAW,OACXD,qBAAsBkB,EACtBG,qBAAsBH,EACtBlW,MACEyG,kBAACA,IAADA,cACE,uBAAYsM,QAAS,YAAavtB,MAAO,WAD3CihB,wEAIE,uBAAYsM,QAAS,SAClB,oBAAsBrb,EAL3B+O,cAUF,yBAAKoM,UAAWZ,EAAQ4D,aACtB,uBACEzwB,GAAG,uBACHohB,UAAW0P,EACXrD,UAAWsD,EACXnW,MAAOA,EACP0G,QAASuP,GAET,0BAAMpD,UAAU,8BACd,yBAAKyC,IAAKc,EAAMf,IAAI,GAAGxC,UAAU,eACjC,yBAAKA,UAAU,oBA1BzB,4B,SG9BayD,U,mEAAf,6GAKQ9hB,EAAO,SAAWI,KAAKxP,MAL/B,GAMQiN,EAAU,CACdkkB,cAAe/hB,GAEXO,EAAMoQ,EATd,+BAW8BmJ,MAAMvZ,EAAK,CACrCxB,OADqC,MAErClB,QAASA,IAbb,cAWQmkB,EAXR,OAeQpjB,EAASojB,EAfjB,gBAgBuBA,EAhBvB,qBAgBMC,EAhBN,OAkBMxf,EAlBN,KAmBOuf,EAAL,KACEvf,IACAwf,QAGIC,EAA6B,CACjCtjB,OADiC,EAEjCqjB,SAFiC,EAGjCxf,SA3BJ,kE,sBCDA,IAAMka,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QADI,EAEJC,OAFI,EAGJE,QAHI,OAIJqE,cAJI,SAKJ7wB,OALI,OAMJysB,WANI,SAOJqE,eAAgB,UAElBY,SAAU,CACRrF,QAAS,WAIPsF,GAAe,SAAClf,GACpB,IAAMua,EAAUd,KAEhB,OACE,yBAAK0B,UAAWZ,EAAQZ,MACtB,uBAAkBzV,KAAM,MAAOiX,UAAWZ,EAAQ0E,WAClD,uBAAY5D,QAAS,aAAcrb,EAHvC,WCfIyZ,GAAYC,YAAW,CAC3BC,KAAM,CACJpsB,OADI,OAEJD,MAFI,OAGJssB,QAHI,QAIJC,OAJI,EAKJE,QALI,OAMJqE,cANI,SAOJC,eAAgB,UAElBc,YAAa,CACX7xB,MADW,OAEX8xB,UAFW,QAGX,mBAHW,UAIX,iBAAkB,QAEpBC,YAAa,CACX/xB,MAAO,QAETiS,MAAO,CACL+f,YAAa,SAEfC,WAAY,CACVxF,QADU,OAEVC,WAFU,SAGVqE,eAHU,SAIVe,UAJU,QAKV7xB,OAAQ,OAEViyB,MAAO,CACLJ,UADK,QAEL9xB,MAAO,QAETmyB,SAAU,CACRnyB,MAAO,QAEToyB,OAAQ,CACNnyB,OADM,OAENwsB,QAFM,OAGNsE,eAHM,OAINrE,WAJM,SAKN2F,SAAU,KAIRC,GAAa,KAAbA,GAEA,WAGAC,GAKD,SAAC,G,IACJC,mBACAC,qBACAtS,eACAuS,mBAEMzF,EAAUd,KAEhB,EAAgChB,oBAAhC,GAAOG,EAAP,KAAkBqH,EAAlB,KACA,EAAgCxH,oBAAhC,GAAO3J,EAAP,KAAiBoR,EAAjB,KACA,EAAoBzH,mBAApB,IAAO/qB,EAAP,KAAWyyB,EAAX,KACA,EAAgC1H,mBAAhC,IAAOzb,EAAP,KAAiBojB,EAAjB,KACA,EAAwC3H,mBAAxC,MAAO4H,EAAP,KAAqBC,EAArB,KAEAlQ,qBAAU,WAEN8P,EADExyB,QAAJ,KAAiBsP,KAKhB,CAACtP,EANJ0iB,IAQA,IA8BMmQ,EAAe,SAACC,GAAD,OAAiB,YACpC,IAAM/1B,EAAQ+wB,SAAd,MACIgF,IAAQZ,GACVO,KACSK,IAAQZ,IACjBQ,KAIAF,EADExyB,QAAJ,KAAiBsP,KAOnB,SACS,sBAAcqC,QAAS,iCAI9B,0BAAMohB,SAlDa,SAACjF,GACpBA,mBAEAyE,MACAK,QAEA1B,GAAclxB,EAAIsP,EAAlB4hB,SAA6C,YAC3CtX,YAAW,WACT2Y,MAEA,IAAQ1gB,EAAoB1U,EAA5B,MAAek0B,EAAal0B,EAA5B,SACI0U,eAAJ,IAAsBA,EAAK,QACzB+gB,EAAgB/gB,EAAK,SAErBwgB,EACE,CACEryB,GADF,EAEEsP,SAFF,EAGEyQ,WAHF,EAIEiT,SAAU3B,gBAA2BA,EAJvC,SAKE4B,MAAO5B,EALT,MAME6B,QAAS7B,GAPbgB,KAPJzY,SA2C4B6T,UAAWZ,EAAQZ,MAC/C,yBAAKwB,UAAWZ,EAAQkF,UACtB,uBAAatE,UAAWZ,EAAQ8E,aAC9B,uBACE3oB,KAAK,KACLjI,KAAK,OACLoyB,YAAY,eACZC,UAAQ,EACRxY,MAAM,GACNyY,aAAa,WACbxF,SAAUgF,EAAa,SAG3B,uBAAapF,UAAWZ,EAAQ8E,aAC9B,uBACE3oB,KAAK,WACLjI,KAAK,WACLoyB,YAAY,WACZC,UAAQ,EACRxY,MAAM,GACNyY,aAAa,WACbxF,SAAUgF,EAAa,eAI3B,uBACEpF,UAAWZ,EAAQ4E,YACnB1wB,KAAK,SACL4sB,QAAQ,YACRvtB,MAAO,YACPghB,SAAUA,GA9BhB,sBAoCE,yBAAKqM,UAAWZ,EAAQmF,QACtB,uBAAYrE,QAAS,SACnB,uBACExQ,KAAK,IACLmE,QAAS,WACPgR,uBALR,0BAYE,uBAAY3E,QAAS,SAArB,oBAEE,uBACExQ,KAAK,IACLmE,QAAS,WACPgR,eArDV,4BA6DGK,EACC,yBAAKlF,UAAWZ,EAAQgF,YACtB,uBAAczxB,MAAO,UACrB,uBACEqtB,UAAWZ,EAAQhb,MACnB8b,QAAS,QACTvtB,MAAO,SANA,IAYX,yBAAKqtB,UAAWZ,EAAQiF,UCxM1B/F,GAAYC,YAAW,CAC3BC,KAAM,CACJpsB,OADI,OAEJssB,OAFI,EAGJD,QAHI,QAIJG,QAJI,OAKJiH,SAAU,QAEZC,cAAe,CACblH,QADa,OAEbxsB,OAFa,OAGb2zB,UAHa,SAIb7C,eAJa,SAKbnE,YAAa,SAEfiH,eAAgB,CACd5zB,OADc,OAEd6zB,WAFc,QAGdzB,SAAU,KAIR0B,GAAiB,SAACrhB,GACtB,IAAMua,EAAUd,KAGd6H,EAWEthB,EAZJ,eAEE+c,EAUE/c,EAZJ,UAGE+f,EASE/f,EAZJ,iBAIE8f,EAQE9f,EAZJ,eAKEuhB,EAOEvhB,EAZJ,QAQEyN,EAIEzN,EAZJ,WASEue,EAGEve,EAZJ,aAUEwe,EAEExe,EAZJ,UAWEggB,EACEhgB,EAZJ,eAcA,OACE,yBAAKmb,UAAWZ,EAAQZ,MACtB,yBAAKwB,UAAWZ,EAAQ0G,eACtB,sBACEM,QAASA,EACTD,eAAgBA,EAChBvE,UAAWA,EACXtP,WAAYA,EACZ8Q,aAAcA,EACdC,UAAWA,KAGf,uBAASgD,YAAY,WAAWC,UAAQ,IACxC,yBAAKtG,UAAWZ,EAAQ4G,gBACtB,sBAEEpB,iBAAkBA,EAClBD,eAAgBA,EAGhBrS,WAAYA,EACZuS,eAAgBA,OCtDpBvG,GAAYC,YAAW,CAC3BgI,aAAc,CACZ3H,QADY,OAEZqE,cAFY,SAGZxE,QAHY,QAIZI,WAJY,SAKZqE,eAAgB,UAElBsD,KAAM,CACJC,UADI,SAEJ1H,YAFI,MAGJkH,WAAY,OAEdS,SAAU,CACRC,aAAc,OAEhBC,UAAW,CACTD,aAAc,OAEhBE,SAAU,CACRJ,UAAW,YAEbK,SAAU,CACRC,cAAe,SAIbC,GAAkB,SAACniB,GACvB,IAAMua,EAAUd,KAERsG,EAA+D/f,EAAvE,iBAA0B8f,EAA6C9f,EAAvE,eAA0CoiB,EAA6BpiB,EAAvE,yBAEQuY,EAAkBgE,qBAA1B,kBAEA,EAAkC9D,mBAAlC,IAAO4J,EAAP,KAAkBC,EAAlB,KACA,EAAgC7J,mBAAhC,IAAO8J,EAAP,KAAiBC,EAAjB,KACA,EAAgC/J,mBAAhC,IAAOR,EAAP,KAAiBwK,EAAjB,KACA,EAAwChK,mBAAxC,IAAOiK,EAAP,KAAqBC,EAArB,KACA,EAAgClK,mBAAhC,IAAOzb,EAAP,KAAiBojB,EAAjB,KACA,EAA8C3H,mBAA9C,IAAOmK,EAAP,KAAwBC,EAAxB,KACA,EAA0CpK,oBAA1C,GAAOqK,EAAP,KAAsBC,EAAtB,KAEA,EAAwCtK,qBAAjC4H,EAAP,KAAqBC,EAArB,KAEA,EAAsD7H,oBAAtD,GAAOuK,EAAP,KAA4BC,EAA5B,KAEA,Ed6H2B,SAACxV,GAC5B,MAAkCgL,oBAAlC,GAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA0BJ,qBAAnBlZ,EAAP,KAAcuZ,EAAd,KACA,EAAwBL,qBAAjB5tB,EAAP,KAAakuB,EAAb,KAEMC,EAAO,4BAAG,oGAEZH,MACAC,UACAC,UAJY,SAKenB,GAAWnK,EAAY,KALtC,iBAKNwL,EALM,OAOZF,EAAQE,EAARF,YAPY,6DAUZD,EAAS,uBAAyB,EAAlCA,IACAD,MAXY,8BAcZA,MAdY,6EAAH,sDAkBb,MAAO,CACLD,UADK,EAELrZ,MAFK,EAGL1U,KAHK,EAILmuB,QAASE,sBAAYF,EAAS,KcnJ5BkK,CALJ,GACEtK,EADF,YAEErZ,EAFF,QAIEyZ,EAJF,UA6DMuH,EAAe,SAAC/E,GACpB,OAAQA,SAAR,MACE,gBACE8G,EAAa9G,SAAb8G,OACA,MACF,eACEE,EAAYhH,SAAZgH,OACA,MACF,eACEC,EAAYjH,SAAZiH,OACA,MACF,mBACEE,EAAgBnH,SAAhBmH,OACA,MACF,eACEvC,EAAY5E,SAAZ4E,OACA,MACF,sBACEyC,EAAmBrH,SAAnBqH,OACA,MACF,oBACEE,EAAiBvH,SAAjBuH,WAiCN,OAAOC,EACL,yBAAK7H,UAAWZ,EAAQmH,cACtB,yBAAKvG,UAAWZ,EAAQoH,MACtB,uBAAYtG,QAAS,KAAMF,UAAWZ,EAAQ0H,UADhD,oBAIE,uBAAY5G,QAAS,YAAaF,UAAWZ,EAAQ0H,UAJvD,gBAOE,uBAAY5G,QAAS,QAASF,UAAWZ,EAAQ0H,UAT7B,iUAmBxB,0BAAMxB,SA/Ca,SAACjF,GACpBA,mBACA,IAAM2H,EAxDJd,YACAE,SADAF,GAEApK,SAFAoK,GAGAK,SAHAL,GAIArlB,SAJAqlB,GAKAO,SANF,EAQE,8BAGGrL,GAAL,GAIIva,IAAJ,EACE,yBAGEA,SAAJ,EACE,6CAGF,EAGA,KAFE,8CAZA,8BA8CF,UAAImmB,EAAoB,CACtB,IAAMpgB,EAAsB,CAC1BkV,SAD0B,EAE1BoK,UAF0B,EAG1BE,SAH0B,EAI1BG,aAJ0B,EAK1B1lB,YAEFgc,WACQ,YACAlb,cAAuBA,oBAA3B,EA7FiB,SAACma,EAAD,GACvBqI,UAEA1B,GAAc3G,EAAUjb,EAAxB4hB,SAAsD,YACpDtX,YAAW,WACT,OAAIzc,QACFy1B,EAAgBz1B,QAAhBy1B,SAEAP,EACE,CACEryB,GAAI7C,WADN,SAEEmS,SAFF,EAGEyQ,WAHF,EAIEiT,SAAU71B,yBAAgCA,WAJ5C,SAKE81B,MAAO91B,WALT,MAME+1B,QAAS/1B,EAAKk0B,UAPlBgB,KAJJzY,QA0FM8b,CAAiBrgB,EAAD,SAAgBA,EAAhCqgB,WAEAH,MACAb,QANNpJ,OASS,YACLsH,EAAgB,uBAAhBA,WAGJA,OAwBA,yBAAKnF,UAAWZ,EAAQmH,cACtB,yBAAKvG,UAAWZ,EAAQoH,MACtB,uBACEjrB,KAAK,YACLglB,MAAM,aACNjxB,MAAO43B,EACP9G,SAAUgF,EACVpF,UAAWZ,EAAQsH,WAErB,uBACEnrB,KAAK,WACLglB,MAAM,YACNjxB,MAAO83B,EACPhH,SAAUgF,EACVpF,UAAWZ,EAAQwH,aAGvB,uBACErrB,KAAK,WACLglB,MAAM,WACNjxB,MAAOwtB,EACPsD,SAAUgF,EACVpF,UAAWZ,EAAQoH,OAErB,uBACEjrB,KAAK,eACLglB,MAAM,iBACNjxB,MAAOi4B,EACPnH,SAAUgF,EACVpF,UAAWZ,EAAQoH,OAErB,uBACEjrB,KAAK,WACLglB,MAAM,WACNjtB,KAAK,WACLhE,MAAOuS,EACPue,SAAUgF,EACVQ,aAAa,mBACb5F,UAAWZ,EAAQoH,OAErB,uBACEjrB,KAAK,kBACLglB,MAAM,mBACNjtB,KAAK,WACLhE,MAAOm4B,EACPrH,SAAUgF,EACVQ,aAAa,mBACb5F,UAAWZ,EAAQoH,OAGrB,uBACExG,UAAWZ,EAAQoH,KACnBlG,QACE,uBACE4H,QAASP,EACTvH,SAAUgF,EACV7pB,KAAK,gBACL5I,MAAM,cAGV4tB,MACE,uBAAYL,QAAS,SAArB,iCAEE,uBACExQ,KAAK,+CACL9K,OAAO,SACPujB,IAAI,cALR,yBAYHjD,GACE9gB,GACCwP,2BAAasR,GA3EnB,GA6EE,uBACEvyB,MAAO,YACPutB,QAAS,WACTF,UAAWZ,EAAQyH,SACnBlT,SAAU8J,EACVnqB,KAAK,UAtGb,cCzKIgrB,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QADI,QAEJtsB,MAFI,OAGJC,OAHI,MAIJwsB,QAJI,OAKJqE,cALI,MAMJpE,WANI,SAOJqE,eAAgB,cAElBkF,SAAU,CACR5D,SADQ,EAERzF,YAAa,SAEfsJ,UAAW,KAMPC,GAGD,SAAC,G,QAAEC,0BAAiBA,EAAA,e,IAAUC,uBAAcA,EAAA,eACzCpJ,EAAUd,KAERlB,EAAkBgE,qBAA1B,kBACA,EAA0B9D,mBAA1B,IAAOP,EAAP,KAAc0L,EAAd,KACA,EfsG8B,SAACnW,GAC/B,MAAkCgL,oBAAlC,GAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA0BJ,qBAAnBlZ,EAAP,KAAcuZ,EAAd,KACA,EAAwBL,qBAAjB5tB,EAAP,KAAakuB,EAAb,KAEMC,EAAO,4BAAG,oGAEZH,MACAC,UACAC,UAJY,SAKUpB,GAAclK,EAAY,KALpC,iBAKNwL,EALM,OAMZF,KANY,6DASZD,uBACAD,MAVY,8BAaZA,MAbY,6EAAH,sDAiBb,MAAO,CACLD,UADK,EAELrZ,MAFK,EAGL1U,KAHK,EAILmuB,QAASE,sBAAYF,EAAS,KehIY6K,CAA5C,GAAQjL,EAAR,YAAmBrZ,EAAnB,QAA0B1U,EAA1B,OAAgCmuB,EAAhC,UAiBA,OACE,yBACEmC,UAAWZ,EAAQZ,MAEnB,uBACE0B,QAAQ,WACRF,UAAWZ,EAAQgJ,SACnBhkB,MAAO2Y,gBAAsB,EAC7B4L,WACEvkB,IAEI1U,EAAI,+CAEJoK,GAENyB,KAAK,KACLjI,KAAK,OACLoyB,YAAY,GACZC,UAAQ,EACRpF,MAAM,yBACNqF,aAAa,WACbt2B,MAAOytB,EACPqD,SArCoB,SAACwI,GACzB,IAAM7L,EAAgB6L,SAAtB,MACAH,QAqCE,uBACE1f,KAAM,QACNpW,MAAO,YACPqtB,UAAWZ,EAAQiJ,UACnBnI,QAAS,WACTvM,SAAUoJ,mBAA2BU,EACrC5J,QAxCsB,WAC1BgK,WACQ,WACJ0K,QAFJ1K,OAIS,YACL2K,UAIN,oBCxCIlK,GAAYC,YAAW,CAC3BsK,aAAc,CACZjK,QADY,OAEZqE,cAFY,SAGZxE,QAHY,QAIZI,WAJY,SAKZqE,eAAgB,UAElBsD,KAAM,CACJC,UADI,SAEJ1H,YAFI,MAGJkH,WAHI,MAIJhC,UAAW,OAEb4C,SAAU,CACRJ,UAAW,cAITqC,GAA0B,SAACjkB,GAC/B,IAAQkkB,EAA6BlkB,EAArC,MAAemkB,EAAsBnkB,EAArC,kBAEMua,EAAUd,KAERlB,EAAkBgE,qBAA1B,kBAEA,EAAwC9D,qBAAjC4H,EAAP,KAAqBC,EAArB,KAEA,EhB0NiC,SAAC7S,GAClC,MAAkCgL,oBAAlC,GAAOG,EAAP,KAAkBC,EAAlB,KACA,EAA0BJ,qBAAnBlZ,EAAP,KAAcuZ,EAAd,KACA,EAAwBL,qBAAjB5tB,EAAP,KAAakuB,EAAb,KAEMC,EAAO,4BAAG,sGAEZH,MACAC,UACAC,UAJY,SAKeX,GAAiB,EAAD,OAL/B,iBAKNa,EALM,OAYZF,EAAQE,EAARF,YAZY,6DAeZD,EAAS,uBAAyB,EAAlCA,IACAD,MAhBY,8BAmBZA,MAnBY,6EAAH,wDAuBb,MAAO,CACLD,UADK,EAELrZ,MAFK,EAGL1U,KAHK,EAILmuB,QAASE,sBAAYF,EAAS,KgBrP5BoL,CALJ,GACExL,EADF,YAEErZ,EAFF,QAIEyZ,EAJF,UAOAnC,YAAY,oCAAZA,GAEA,MAA0C4B,oBAA1C,GAAOqK,EAAP,KAAsBC,EAAtB,KAsBA,OACE,yBAAK5H,UAAWZ,EAAQyJ,cACtB,uBAAY7I,UAAWZ,EAAQoH,MADjC,gGAKE,uBAAYxG,UAAWZ,EAAQoH,MALjC,wHASE,uBACExG,UAAWZ,EAAQoH,KACnBlG,QACE,uBACE4H,QAASP,EACTvH,SAnCW,SAACC,GACpB3E,wCACAkM,EAAiBvH,SAAjBuH,UAkCQrsB,KAAK,gBACL5I,MAAM,cAGV4tB,MACE,uBAAYL,QAAS,SAArB,iCAEE,uBACExQ,KAAK,+CACL9K,OAAO,SACPujB,IAAI,cALR,yBAYHjD,GACE9gB,GACCwP,2BAAasR,GAlCnB,GAoCE,uBACErR,QArDc,SAACwM,GACnB3E,6BACAyJ,UACAzJ,mCAAoCqN,EAApCrN,SACAA,iCAAkCqN,aAAlCrN,OACAmC,EAAQkL,EAAD,QAAgBA,aAAvBlL,aACQ,WACJmL,QAFJnL,OAIS,YACLnC,eACAyJ,qCA2CAxR,UAAWgU,GAAiBlK,EAC5BuC,UAAWZ,EAAQyH,UAxCzB,aC9CIqC,GAAe,UAAfA,GAAe,kBAAfA,GAAe,4BAAfA,GAIK,UAGLC,GAAgB,CACpBC,QADoB,+BAEpBC,gBAFoB,iBAGpBC,0BAHoB,qBAIpBC,QAAS,oBAGLjL,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QADI,EAEJC,OAAQ,GAEV5K,QAAS,CACP2K,QADO,EAEPC,OAAQ,GAEVvR,MAAO,CACLxa,MADK,UAEL,cAFK,QAGL,iBAAkB,OAEpBgsB,aAAc,CACZC,QADY,OAEZC,WAAY,UAEdC,SAAU,CACR1sB,OADQ,MAER2sB,YAAa,OAEfC,YAAa,CACXN,OADW,EAEXD,QAAS,SAEXQ,SAAU,CACR7sB,OADQ,QAERD,MAAO,WAILq3B,GAAkB,SAAC3kB,GACvB,IAAMua,EAAUd,KAGde,EAcExa,EAfJ,OAEE4kB,EAaE5kB,EAfJ,eAGEyN,EAYEzN,EAfJ,WAIEshB,EAWEthB,EAfJ,eAKE6kB,EAUE7kB,EAfJ,SAME+f,EASE/f,EAfJ,iBAOE8f,EAQE9f,EAfJ,eAQE8kB,EAOE9kB,EAfJ,gBASEuhB,EAMEvhB,EAfJ,QAUE+kB,EAKE/kB,EAfJ,YAWEqgB,EAIErgB,EAfJ,aAYEglB,EAGEhlB,EAfJ,OAaEwe,EAEExe,EAfJ,UAcEmkB,EACEnkB,EAfJ,kBAiBQ0Y,EAAc6D,qBAAtB,cAEA,EAAsC9D,mBAAS4L,IAAxCY,EAAP,KAAoBjF,EAApB,KA2CM1X,EAAQgc,GAAd,GAEA,OACE,uBAAQnJ,UAAWZ,EAAQZ,KAAMxc,KAAMqd,GACpC9B,SACC3J,wBADD2J,MAGC,uBAAa0C,mBAAmB,EAAMD,UAAWZ,EAAQjS,OACvD,yBAAK6S,UAAWZ,EAAQT,cACtB,yBACE8D,ICjJJ,g/ODkJID,IAAK,YACLxC,UAAWZ,EAAQN,WAErB,6BACE,uBAAYoB,QAAS,aAZ/B,MAiBE,uBAAeF,UAAWZ,EAAQtL,SA7DnB,WACjB,UACE,KAAKoV,GACH,OACE,sBACEO,eAAgBA,EAChBtD,eAAgBA,EAChBuD,SAAUA,EACV9E,iBAAkBA,EAClBD,eAAgBA,EAChB/C,UAAW+H,EACXvD,QAASA,EACTwD,YAAaA,EACbxlB,MAAO8gB,EACP5S,WAAYA,EACZ8Q,aAAcyG,EACdxG,UAAWA,EACXwB,eAAgBA,IAGtB,KAAKqE,GACH,OACE,sBACE5W,WAAYA,EACZsS,iBAAkBA,IAGxB,KAAKsE,GACH,OAAOtV,qBAAP,MACF,KAAKsV,GACH,OACE,sBACE5W,WAAYA,EACZ0W,kBAAmBA,IAGzB,QACE,OAAOpV,wBAAP,OAwB0CmW,IAC5CnW,sBAlBF,MAmBE,uBAAeoM,UAAWZ,EAAQJ,aAC/B8K,IAAgBZ,IACf,uBACEhJ,QAAS,WACTrM,QAAS,WACPgR,EAAeqE,MALvB,QAWE,uBACEhJ,QAAS,YACTrM,QAAS,WACP4V,MACA5E,EAAeqE,KAEjBv2B,MAAO,WArCf,YEnII2rB,GAAYC,aAAW,mBAC3ByL,YAAa,CACXC,eAAgB,CACdxL,QAASyL,cAEX1D,KAAM,CACJ/H,QADI,EAEJ0L,aAAcD,cAEhBE,YAAa,CACXxH,gBAAiByH,IADN,KAEXl4B,MAAO+3B,UAFI,IAGX93B,OAAQ83B,oBAgBRI,GAAoD,SAAC,GAGzD,IAAMlL,EAAUd,KAGdrC,EAQEpX,EATJ,OAEE0lB,EAOE1lB,EATJ,UAGEiY,EAMEjY,EATJ,SAIE6kB,EAKE7kB,EATJ,SAKE2lB,EAIE3lB,EATJ,SAMEwa,EAGExa,EATJ,OAOE4lB,EAEE5lB,EATJ,QAQE6lB,EACE7lB,EATJ,aAwBA,OACE,uBACEtS,GAAG,iBACH6sB,QAAS,CACPuL,MAAOvL,EAAQ6K,gBAEjBQ,QAASA,EACTG,aAAc,CACZC,SADY,SAEZC,WAAY,UAEdC,gBAAiB,CACfF,SADe,MAEfC,WAAY,UAEdN,SAAUA,EACVxoB,KAAMqd,EACN2L,qBAAqB,GAErB,uBACE9H,eAAgB,SAChBrE,WAAY,SACZoM,WAAS,EACTC,UAAU,UAEV,uBACE1E,MAAI,EACJxG,UAAWZ,EAAQoH,KACnBtD,eAAgB,SAChBrE,WAAY,UAEZ,uBAAQmB,UAAWZ,EAAQgL,YAAa3H,IAAK8H,GAvClC,SAACzN,GAClB,YAAIA,cAA0BA,GAA9B,IAAmDA,SACjD,IAGKA,iBAAP,cAmCSqO,CAbP,KAiBE,uBAAM3E,MAAI,EAACxG,UAAWZ,EAAQoH,MAC5B,uBAAYtG,QAAS,MAlBzB,IAqBE,uBAAMsG,MAAI,EAACxG,UAAWZ,EAAQoH,MAC5B,uBAAYtG,QAAS,SAArB,wBAtBJ,IA2BE,uBAAMsG,MAAI,EAAC0E,UAAU,MAAMD,WAAS,EAACG,QAAS,GAC5C,uBAAM5E,MAAI,GACPkE,GACC,uBAAQxK,QAAS,WAAYxQ,KAAMgb,EAAcvC,IAAI,YAH3D,qBAQE,uBAAM3B,MAAI,GACR,uBACEtG,QAAS,WACTvtB,MAAO,YACPkhB,QAvEU,WACpB4W,IACAf,MAWF,iBC7DI9E,GAAmB,SAACN,EAAUK,GAClC,IAAMpH,EAAY,CAAE8N,UAAF,EAAmBC,aAAchH,GAE7CiH,EAAe,CACnB1jB,WAAYyc,UADO,WAEnB4C,UAAW5C,UAFQ,UAGnB8C,SAAU9C,UAHS,SAInBtS,MAAOsS,EAJY,SAKnBxH,SAAUwH,EAAS/xB,IAGrBoI,4BAbF,eAa8CkF,eAA5ClF,IAEAgqB,MCCIrG,GAAYC,aAAW,mBAC3ByL,YAAa,CACXwB,WAAY,CACV5I,gBADU,cAEV,UAAW,CACTA,gBAAiB,gBAGrB/B,UAAW,CACTluB,MADS,UAETiwB,gBAAiByH,IAFR,KAGTj4B,OAAQ83B,UAHC,GAIT/3B,MAAO+3B,cAETpJ,WAAY,CACVnuB,MADU,UAEViwB,gBAAiByH,IAFP,KAGVj4B,OAAQ83B,UAHE,GAIV/3B,MAAO+3B,cAETnJ,UAAW,CACTpuB,MADS,UAETiwB,gBAAiByH,IAFR,KAGTj4B,OAAQ83B,UAHC,GAIT/3B,MAAO+3B,cAETuB,gBAAiB,CACf94B,MAAO03B,IADQ,KAEfj4B,OAAQ83B,UAFO,GAGf/3B,MAAO+3B,cAETwB,iBAAkB,CAChB/4B,MAAO03B,IADS,KAEhBj4B,OAAQ83B,UAFQ,GAGhB/3B,MAAO+3B,cAETyB,gBAAiB,CACfh5B,MAAO03B,IADQ,KAEfj4B,OAAQ83B,UAFO,GAGf/3B,MAAO+3B,mBAKP0B,GAAkB,SAACC,GAEvBnQ,6DAOIoQ,GAAmB,SAACjnB,GACxB,IAAMua,EAAUd,KAEhB,EAQI8C,qBARJ,IACEhE,EADF,gBAEEG,EAFF,YAGEC,EAHF,eAIEH,EAJF,iBAKEc,EALF,cAMED,EANF,uBAOEG,EAPF,iBAUQ0N,EAAsClnB,EAA9C,oBAA6B6lB,EAAiB7lB,EAA9C,aAEImnB,EAAJ,GACID,eAAJ,IAAoCA,IAClCC,KAGF,MAAsC1O,oBAAtC,GAAO2O,EAAP,KAAqBC,EAArB,KAEMzC,EAAiB,SAAC0C,GACtBD,MAGF,EAAgCtY,aAAhC,MAAO4W,EAAP,KAAiB4B,EAAjB,KAMMC,EAAgBC,QAAtB,GAEQpM,EAAkBrb,EAA1B,QAAiBkE,EAASlE,EAA1B,KAEA,EAAwCyY,mBAAxC,IAAO4H,EAAP,KAAqBC,EAArB,KAYMuE,EAAW,WACXnM,EAAJ,SACEgP,IAEA5xB,+BAtDN,gBAwDI6iB,QACAuO,QACAtC,OAGIE,EAAkB,SAAChG,GACvBjI,sCASAC,GAAe,EAAD,KAPY,CACxB6Q,QADwB,EAExBC,SAFwB,EAGxBpB,UAHwB,EAIxBtC,MAAOpF,GAMP+I,iBAHF/Q,aAKQ,WACJqN,QANJrN,OAQS,YAKL6B,QACAa,QACA0N,QACArQ,2CAKAsN,EAAoB,SAACrF,GACzB,IAAMgJ,EAAe,CAAEtB,UAAF,EAAkBC,aAAc3H,GAErDiJ,KACAjI,MAGIiI,EAAoB,SAACjJ,GACzB,IAAIkJ,EAAJ,KAAqBlJ,cAAkB,MACvCjI,YAAY,8BAAZA,GAEA,IAAMoR,EAAY,4BAAG,mGACMnJ,EADN,4BACboJ,EADa,OAEnBF,OAAiBE,cAAyB,MAC1CrR,8BACAA,YAAY,8BAAZA,GACAsR,EAAerJ,EAAfqJ,GACA7gB,WAAW2gB,EAAX3gB,GANmB,2CAAH,qDASlBA,WAAW2gB,EAAX3gB,IAGI6gB,EAAiB,SAACrJ,EAAKsJ,GAC3B,IAAM3B,EAAN,EACA5P,+BAEA,IAAIwR,EAAwBxgC,iBAA5B,GAEAwgC,EAAqB,SAAeD,EAApCC,SAEAxR,yCAEA,IAAM6B,EAAY,CAAE8N,UAAF,EAAkBC,aAAc4B,GAElD1P,KACAuO,MAGIpH,EAAiB,SAACpH,GACtBC,KACA9B,uCACI6B,EAAJ,SACEc,EAAed,0BAAfc,OAEAA,EAAed,uBAAfc,cAEF0N,KACAtC,OAcEpG,GAAJ,OACIhG,OAAJ,OAAoCA,IAClCgG,MAGF,IAAMxB,EAAY,SAAC9Z,GACjB,IAAM7D,EACH6D,WACCA,qBADF,yDAICA,SAAaA,EAAG,OACjBlI,eANF,GAOAgF,iBAyCMglB,EAAWsD,yBAAe,CAChCC,SADgC,EAEhCC,MAFgC,gBAGhCzL,UAHgC,EAIhCC,UAJgC,EAKhCyL,mBA3CyB,SAACC,GAC1B,IAAMC,EAAqB7yB,4BAA3B,gBAEA,KAAwB,CACtB,IAAM4wB,EAAe1rB,WAArB,GAEA4jB,GACE8H,EADW,SAEXA,EAFW,MAAb9H,SAIO,YACL,OAAI/zB,SACFy1B,EAAgBz1B,QAAhBy1B,SACA3H,QACAuO,SAEAnH,GACE,CACEryB,GAAIg5B,EADN,SAEE1pB,SAAU0pB,EAFZ,MAGEnO,cAHF,EAIEmI,SAAU71B,yBAAgCA,WAJ5C,SAKE81B,MAAO91B,WALT,MAME+1B,QAAS/1B,EAAKk0B,UAPlBgB,WAeJ,IACEpH,QACAuO,UAWJ0B,YANgC,EAOhCC,mBAAmB,IAPrB,OAUQnB,EAAYoB,0BAAgB,CAClCP,SADkC,EAElCQ,gBA9K4B,aAgL5B/L,UAAWA,IAJb,QAOMU,EAAgB,SAACxZ,GACrB,UACE,YACE,OAAOqW,EAAP,UACF,YACE,OAAOA,EAAP,UACF,QACE,OAAOA,EAAP,aAIAyO,EAAqB,SAAC9kB,GAC1B,UACE,YACE,OAAOqW,EAAP,gBACF,YACE,OAAOA,EAAP,gBACF,QACE,OAAOA,EAAP,mBAoBAnD,EACJsB,SACIY,EADJZ,SADF,kBAKMT,EACJS,SACIY,gBAA8BA,EADlCZ,SADF,GAIMgN,EACJhN,SACIY,EADJZ,WADF,EAKA,OACE,kBAAC3J,IAAD,cACE,uBAASuO,sBAAoB,EAAChV,MArBzBoQ,SACH,gBAAkBY,EADfZ,SAAP,kBAqBmD6E,UAAU,UACzD,uBACEpC,UAAWZ,EAAQoM,WACnBtL,QAASA,EACTrM,QAAS,YACP,EACEuY,EAAY/L,EAAZ+L,eAEA3C,OAGJ1gB,KAAMA,GA1CLwU,SACL,uBAAQyC,UAAWuC,EAAcxZ,GAAO0Z,IAAKtE,EAAYqH,OACtDrH,WAAyBA,8BAFvBZ,IAKL,uBAAmByC,UAAW6N,EAAmB9kB,OA0CjD,sBACE0gB,eAAgBA,EAChBpK,OAAQ4M,EACR3Z,WAAY8K,EACZ2O,oBAAqBC,EACrBtB,aAAcA,EACdvE,eAnQiB,SAAC9F,GACtB3E,gCAmQIgO,SAAUA,EACV9E,iBAAkBA,GAClBD,eAAgBA,EAChBgF,gBAAiBA,EACjBvD,QA9JU,SAAChiB,GACfS,kBA8JI+kB,YApKc,SAACxlB,GACnBsX,wBACAyJ,MAmKID,aAAcA,EACd2E,OAAQA,EACRxG,UAAWA,EACX2F,kBAAmBA,IAErB,sBACElM,SAAUA,EACVb,OAAQA,EACRsO,UAAWA,EACXlL,OAAQgN,EACR7B,SAAUA,EACVC,QAjSc,WAClB2B,SAiSI1B,aAAcA,EACdhB,SAAUA,MC5XZhJ,GAAS,iBAAO,CACpBC,OAAQ,CACNhuB,MADM,UAENiuB,YAFM,UAGN,WAAY,CACVA,YAAa,WAEf,cAAe,GAEjBC,UAAW,CACTzuB,OAAQ,QAEV0uB,WAAY,CACV1uB,OAAQ,QAEV2uB,UAAW,CACT3uB,OAAQ,QAEV4uB,WAAY,CACV8M,cADU,OAEVC,cAAe,QAEjBC,YAAa,KAGTC,GAAmB,SAACppB,GACxB,IAAQua,EAAYva,EAApB,QAEA,EAAqCuc,qBAArC,IAAQhE,EAAR,gBAAuBG,EAAvB,YAGE5J,EAOE9O,EARJ,SAEE2O,EAME3O,EARJ,QAGE+c,EAKE/c,EARJ,UAIEgd,EAIEhd,EARJ,UAKEqb,EAGErb,EARJ,QAMEod,EAEEpd,EARJ,QAOEkE,EACElE,EARJ,KAkDA,OACE,kBAAC+O,IAAD,cACE,uBAASuO,sBAAoB,EAAChV,MAAOqG,GAAoB,gBACvD,8BACE,uBACEwM,UAAWZ,EAAQuB,OACnBT,QAASA,EACTrM,QA/CM,WACd,IAAMqa,EAAO,IAAInZ,IAAJ,KAAoBqI,EAAjC,OACA,IACMG,EAAJ,SACE2Q,eAAkB3Q,eAAlB2Q,SAEAA,eACE3Q,eADF2Q,GAEE3Q,eAFF2Q,WAMJjM,UACE,YACEiM,kCAEQ,YACJ,wBAAoCtM,EAApC,MAHJsM,OAKS,YACL,wBAAoCrM,EAApC,SAGN,YACE,wBAAoCA,EAApC,OAwBIlO,SAAUA,IAAa4J,EACvBxU,KAAMA,GAEN,uBAAUiX,UAtBE,SAACjX,GACrB,UACE,YACE,OAAOqW,EAAP,UACF,YACE,OAAOA,EAAP,UACF,QACE,OAAOA,EAAP,YAeyBmD,CAAcxZ,UAQ/C,GAAe2Z,gBAAf,I,8HC1GMyL,GAAW,CACbC,eAAgB,CAAC,IAAK,EAAG,GACzBC,YAAa,GACbC,gBAAiB,EACjBC,gBAAiB,M,oBC2BfC,GAAgB,SAACl4B,EAAWm4B,EAAaC,EAAWC,GAApC,OAAiD,IAAIC,KAAS,CAChFr8B,GAAI,gBACJ7C,KAAM4G,EACNu4B,kBAAmB,SAAC5uB,GAChB,IAAMjN,EAAIy7B,EAAY7yB,IAAIqE,EAAEjN,GAC5B,OAAKA,EAGE,CAACA,EAAEP,SAAS,GAAIO,EAAEP,SAAS,IAFvB,CAAC,EAAG,EAAG,IAItBq8B,kBAAmB,SAAC7uB,GAChB,IAAMhN,EAAIw7B,EAAY7yB,IAAIqE,EAAEhN,GAC5B,OAAKA,EAGE,CAACA,EAAER,SAAS,GAAIQ,EAAER,SAAS,IAFvB,CAAC,EAAG,EAAG,IAItBs8B,eAAgB,SAAC9uB,GAAD,OAAOA,EAAEtN,OACzBq8B,eAAgB,SAAC/uB,GAAD,OAAOA,EAAEtN,OACzBs8B,YAAa,GACbC,QAASR,EACTC,WACAQ,WAAY,GACZC,eAAe,EACfhB,eAAgB,CAAC,EAAG,IAAK,MAEvBiB,GAAmB,SAAC/4B,EAAWm4B,EAAaa,EAAUZ,EAAWC,EAAUY,EAAOC,EAAengB,GACnG,GAAIigB,EAEA,MADiB,CAACd,GAAcl4B,EAAU,GAAIm4B,EAAaC,EAAWC,IAItE,IAAMc,EAAS,GAKf,OAJAn5B,EAAUjH,SAAQ,SAACqgC,GACf,IAAMC,EAjEI,SAACr5B,EAAWm4B,EAAaC,EAAWC,EAAUa,EAAeI,GAA7D,OAAyE,IAAIC,KAAU,CACzGt9B,GAAI,aACJ7C,KAAM4G,EACNu4B,kBAAmB,SAAC5uB,GAChB,IAAMjN,EAAIy7B,EAAY7yB,IAAIqE,EAAEjN,GAC5B,OAAKA,EAGE,CAACA,EAAEP,SAAS,GAAIO,EAAEP,SAAS,IAFvB,CAAC,EAAG,EAAG,IAItBq8B,kBAAmB,SAAC7uB,GAChB,IAAMhN,EAAIw7B,EAAY7yB,IAAIqE,EAAEhN,GAC5B,OAAKA,EAGE,CAACA,EAAER,SAAS,GAAIQ,EAAER,SAAS,IAFvB,CAAC,EAAG,EAAG,IAItBq9B,SAAU,SAAC7vB,GAAD,OAAQuvB,EAAcO,IAAI9vB,EAAE1N,IAAM,CAAC,IAAK,IAAK,EAAG,KAAO0N,EAAEtN,OACnEq9B,SAAU,SAAC/vB,GAAD,OAAQuvB,EAAcO,IAAI9vB,EAAE1N,IAAgB,IAAV0N,EAAE9N,MAAc8N,EAAE9N,OAC9D89B,eAAgB,CACZH,SAAUF,EACVI,SAAUJ,GAEdV,QAASR,EACTC,WACAQ,WAAY,IACZe,eAAgB,EAChBC,eAAgB,GAChBf,eAAe,EACfhB,eAAgB,CAAC,IAAK,EAAG,KAoCAgC,CAAcV,EAAWjB,EAAaC,EAAWC,EAAUa,EAAengB,GAC3FogB,EAAO9jB,KAAKgkB,MAETF,G,oBChETY,G,oDACF,WAAYxrB,GAAO,wCACTA,G,4CAEV,SAAQ0T,GACJ,OAAOA,I,4BAEX,SAAe+X,GACX,IAAMC,EAAe5vB,KAAA,MACb5E,EAAeu0B,EAAfv0B,KAAMwc,EAAS+X,EAAT/X,KACd,GAAIgY,EAAaC,aACb,OAAOjY,EAEX,GAAa,UAATxc,IAAuD,IAAnCw0B,EAAaE,kBAA6B,OAEzBF,EAAaG,cAA1CC,EAFsD,EAEtDA,YAAaC,EAFyC,EAEzCA,YACfC,IAAStY,EAAKlc,OAAO5J,SAC3BipB,QAAQoV,IAAI,aAAcvY,EAAMxc,GAC5B80B,GACAF,EAAYpY,EAAKlc,OAAQkc,EAAK3e,EAAG2e,EAAK1e,GACtC0e,EAAKlc,OAAO00B,UAAW,IAGvBH,EAAYrY,EAAKlc,OAAQkc,EAAK3e,EAAG2e,EAAK1e,GACtC0e,EAAKlc,OAAO00B,UAAW,GAO/B,OAAOxY,I,0BAEX,WAAe,MAC+J5X,KAAA,MAAlKtK,EADG,EACHA,UAAWo4B,EADR,EACQA,YAAan4B,EADrB,EACqBA,UAAWo4B,EADhC,EACgCA,UAAWsC,EAD3C,EAC2CA,WAA4B1B,GADvE,EACuD2B,eADvD,EACuE3B,UAAU4B,EADjF,EACiFA,aAAcC,EAD/F,EAC+FA,aAAcC,EAD7G,EAC6GA,OAAQC,EADrH,EACqHA,cAAe7B,EADpI,EACoIA,cAAeI,EADnJ,EACmJA,QAExJ0B,EF7BU,SAACj7B,GAA8C,IAAnCs4B,IAAmC,yDAAlB0C,EAAkB,uCACnE,OAAO,IAAIE,KAAiB,CACxBh/B,GAAI,aACJ7C,KAAM2G,EACNm7B,YAAa,SAACl2B,GAAD,MAAO,CAACA,EAAE7I,SAAS,GAAI6I,EAAE7I,SAAS,KAC/Cg/B,aAAc,SAACn2B,GAAD,OAAO+1B,EAActB,IAAIz0B,EAAE/I,IAAM,CAAC,IAAK,IAAK,EAAG,KAAO+I,EAAE3I,OACtE++B,UAAW,SAACp2B,GAAD,OAAQA,EAAEyN,KAAOzN,EAAEyN,KAAO,GACrC4lB,WACAsB,eAAgB,CACZwB,aAAcJ,GAElBjC,eAAe,EACfhB,eAAgBD,GAASC,eACzBC,YAAaF,GAASE,YACtBC,gBAAiBH,GAASG,gBAC1BC,gBAAiBJ,GAASI,kBEcRoD,CAAgBt7B,EAAW66B,EAAcG,GAErDO,EC1CW,SAACnD,EAAauC,GACnC,IAAM36B,EAAYwK,MAAMgxB,KAAKpD,EAAY93B,UACzC,OAAO,IAAIm7B,KAAU,CACjBv/B,GAAI,aACJ7C,KAAM2G,EACNs4B,UAAU,EACV6C,YAAa,SAACl2B,GAAD,MAAO,CAACA,EAAE7I,SAAS,GAAI6I,EAAE7I,SAAS,KAC/Cs/B,QAAS,SAACz2B,GAAD,OAAOA,EAAEilB,OAClByR,QAAS,SAAC12B,GAAD,OAAOA,EAAE22B,eAClBnC,SAAU,SAACx0B,GAAD,OAAOA,EAAEzI,WAAayI,EAAEzI,WAAa,CAAC,EAAG,EAAG,IACtDq/B,SAAU,EACVC,UAAW,EACXC,cAAe,GACfC,cAAe,GACfC,cAAe,SACfC,qBAAsB,SACtBrD,QAAS8B,ID0BcwB,CAAiBn8B,EAAW26B,GAE7CyB,EElBe,SAACC,GAC1B,OAAO,IAAIC,KAAa,CACpBpgC,GAAI,gBACJ7C,KAAM,CACF,CACIkjC,OA/BGA,EA+BcF,EA9Bf,OAAVE,EACO,CACH,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,IAID,CACH,CAACA,EAAM,GAAIA,EAAM,IACjB,CAACA,EAAM,GAAIA,EAAM,IACjB,CAACA,EAAM,GAAIA,EAAM,IACjB,CAACA,EAAM,GAAIA,EAAM,QAoBrBjE,UAAU,EACVkE,SAAS,EACTC,QAAQ,EACRC,WAAW,EACXC,mBAAoB,EACpBC,WAAY,SAAC33B,GAAD,OAAOA,EAAEs3B,OACrBM,aAAc,EACdzB,aAAc,CAAC,IAAK,IAAK,IAAK,KAC9B0B,aAAc,CAAC,IAAK,IAAK,OA1Cf,IAACP,EF4CYQ,CAAqBhC,GAEtCiC,EAAahE,GAAiB/4B,EAAWm4B,EAAaa,EAAUZ,EAAWyC,EAAcF,EAAgBzB,EAAeI,GAC9H,6BAAWyD,GAAX,CAAuB/B,EAAWM,EAAgBa,Q,GA3CjCa,MA+CVjD,MGlCAkD,GAdX,WAAYC,EAAaC,GAAc,gCACnC9yB,KAAK+yB,IAAM,WACP,EAAKC,gBAEThzB,KAAKizB,OAAS,WACV,EAAKC,cAAc,KAEvBlzB,KAAKmzB,QAAU,WACX,EAAKD,eAAe,KAExBlzB,KAAKgzB,aAAeH,EACpB7yB,KAAKkzB,cAAgBJ,G,UCHvBM,GAAY,SAACC,EAAQC,EAAQC,EAAMC,GACrC,OAAIH,EAASE,GAAQD,EAASE,GAC1BzY,QAAQoV,IAAI,kBAAmBkD,EAAQC,EAAQC,EAAMC,GAC9C,CAACH,EAAQC,EAAQC,EAAMC,IAEzBH,EAASE,GAAQD,EAASE,GAC/BzY,QAAQoV,IAAI,wBAAyBkD,EAAQC,EAAQC,EAAMC,GACpD,CAACH,EAAQG,EAAMD,EAAMD,IAEvBD,EAASE,GAAQD,EAASE,GAC/BzY,QAAQoV,IAAI,wBAAyBkD,EAAQC,EAAQC,EAAMC,GACpD,CAACD,EAAMC,EAAMH,EAAQC,KAG5BvY,QAAQoV,IAAI,wBAAyBkD,EAAQC,EAAQC,EAAMC,GACpD,CAACD,EAAMD,EAAQD,EAAQG,KAgBhCC,GAAgB,SAAC/9B,GAInB,IAHA,IAAMg+B,EAAWh+B,EAAU6G,OAErBo3B,EAAQ,IAAIC,KAASF,GAClBp5B,EAAI,EAAGA,EAAIo5B,EAAUp5B,IAAK,CAC/B,IAAMu5B,EAAKn+B,EAAU4E,GACfrB,EAAI46B,EAAG/hC,SAAS,GAChBoH,EAAI26B,EAAG/hC,SAAS,GAGtB6hC,EAAMG,IAAI76B,EAAGC,EAAGD,EAAGC,GAIvB,OADAy6B,EAAMpZ,SACCoZ,GAELI,GAAgB,SAACjG,EAAan4B,GAKhC,IAJA,IAAMq+B,EAAWr+B,EAAU4G,OAErB03B,EAAS,IAAIL,KAASI,GACtBE,EAAS,IAAIN,KAASI,GACnB15B,EAAI,EAAGA,EAAI05B,EAAU15B,IAAK,CAC/B,IAAM65B,EAAKx+B,EAAU2E,GACf85B,EAAeD,EAAG9hC,EAClBgiC,EAAeF,EAAG9hC,EAClBiiC,EAAaxG,EAAY7yB,IAAIm5B,GAC7BG,EAAazG,EAAY7yB,IAAIo5B,GAC7BG,EAAKF,EAAWxiC,SAAS,GACzB2iC,EAAKH,EAAWxiC,SAAS,GACzB4iC,EAAKH,EAAWziC,SAAS,GACzB6iC,EAAKJ,EAAWziC,SAAS,GAC/BmiC,EAAOH,IAAIU,EAAIC,EAAID,EAAIC,GACvBP,EAAOJ,IAAIY,EAAIC,EAAID,EAAIC,GAI3B,OAFAV,EAAO1Z,SACP2Z,EAAO3Z,SACA,CAAC0Z,EAAQC,IC/EPU,GAAY,SAACl/B,GAMtB,IALA,IAAIm/B,EAAOC,OAAOC,kBACdC,EAAOF,OAAOC,kBACdE,EAAOH,OAAOI,kBACdC,EAAOL,OAAOI,kBACdE,EAAM1/B,EAAU6G,OACb64B,KAAO,CACV,IAAMvB,EAAKn+B,EAAU0/B,GACfn8B,EAAI46B,EAAG/hC,SAAS,GAChBoH,EAAI26B,EAAG/hC,SAAS,GAClBmH,GAAK47B,IACLA,EAAO57B,GAEPC,GAAK87B,IACLA,EAAO97B,GAEPD,GAAKg8B,IACLA,EAAOh8B,GAEPC,GAAKi8B,IACLA,EAAOj8B,GASf,MANkB,CACd27B,OACAG,OACAC,OACAE,SC3BKE,GAAoB,CAC7BrF,YAAa,SAACtQ,EAAOzmB,EAAGC,GACpB6hB,QAAQoV,IAAI,gCAAiCzQ,EAAOzmB,EAAGC,IAE3D+2B,YAAa,SAACvQ,EAAOzmB,EAAGC,GACpB6hB,QAAQoV,IAAI,gCAAiCzQ,EAAOzmB,EAAGC,IAE3Do8B,gBAAiB,SAAC5V,KAGlB6V,gBAAiB,SAAC7V,KAGlB8V,kBAAmB,SAACC,EAAO/5B,GACvBqf,QAAQoV,IAAI,qBAEhBuF,SAAU,SAACC,EAAOC,GACd7a,QAAQoV,IAAI,aAAcwF,EAAOC,KCPnCC,GAAe,UAIfC,GAAY,CACd7T,gBAAiB4T,GACjB/jC,SAAU,YAERikC,GAAc,SAACC,GACjBjb,QAAQoV,IAAI,+BAAgC6F,IAuTjCC,GAlTY,SAAC,GAEQ,IAFNC,EAEM,EAFNA,UAAWvH,EAEL,EAFKA,SAAUqB,EAEf,EAFeA,YAAaC,EAE5B,EAF4BA,YAAauF,EAEzC,EAFyCA,kBAAmBF,EAE5D,EAF4DA,gBAAiBC,EAE7E,EAF6EA,gBAAiBG,EAE9F,EAF8FA,SAE9F,IAFwGzT,uBAExG,MAF0H4T,GAE1H,MAFwI7H,gBAExI,cAFyJmI,mBAEzJ,EAAjCC,qBAAiC,MAAlBL,GAAkB,EAE1BM,EAAOC,iBAAO,MAFY,EAGF3Z,mBAAS,MAHP,mBAGzB4Z,EAHyB,KAGhBC,EAHgB,OAIJ7Z,mBAAS,CAAEkY,KAAM,EAAGG,KAAM,EAAGC,KAAM,EAAGE,KAAM,IAJxC,mBAIzB1E,EAJyB,KAIjBgG,EAJiB,OAKkB9Z,mBAAS,CACvD1Y,OAAQ,CAAC,IAAM,EAAG,GAClByyB,MAAO,IACPC,SAAU,EACVC,QAAS,EACTC,uBAAwB,IAAIC,KAAmB,CAC3CC,gBAAiB,CAAC,SAAU,YAXJ,mBAKzBC,EALyB,KAKNC,EALM,KAc1BC,EAAc,WAChB,IAAMC,EAAiBZ,EAAQF,KACvB7kC,EAAkB2lC,EAAlB3lC,MAAOC,EAAW0lC,EAAX1lC,OACT2lC,EAAe3G,EAAOwE,KAAOxE,EAAOoE,KACpCwC,EAAgB5G,EAAO0E,KAAO1E,EAAOuE,KACrCsC,GAAUF,EAjCR,IAiCkC5lC,EACpC+lC,GAAUF,EAlCR,IAkCmC5lC,EAEvC+lC,EAAgB,EAEhBA,EADAJ,GAAgBC,GACChnC,KAAKonC,KAAKH,IAIVjnC,KAAKonC,KAAKF,GAE/B,IAAMG,GAAUrnC,KAAKsnC,IAAIlH,EAAOwE,MAAQ5kC,KAAKsnC,IAAIlH,EAAOoE,OAAS,EAC3D+C,GAAUvnC,KAAKsnC,IAAIlH,EAAO0E,MAAQ9kC,KAAKsnC,IAAIlH,EAAOuE,OAAS,EACjEiC,EAAqB,CACjBhzB,OAAQ,CAACyzB,EAAQE,EAAQ,GACzBlB,KAAMc,EACNb,SAAU,EACVC,QAAS,EACTC,uBAAwB,IAAIC,KAAmB,CAC3CC,gBAAiB,CAAC,SAAU,aAyBlCf,EAAQ,IAAIpD,GAAasE,GArBX,SAACW,GACjB,IACQC,EADevB,EAAQF,KACvByB,UACFC,EAAeD,EAAUpB,KAAOmB,EAChCG,EAAYF,EAAU7zB,OAC5B6zB,EAAUpB,KAAOqB,EAMjBd,EAAqB,CACjBhzB,OAAQ+zB,EACRtB,KAAMqB,EACNpB,SAAU,EACVC,QAAS,EACTC,uBAAwB,IAAIC,KAAmB,CAC3CC,gBAAiB,CAAC,SAAU,eAmBxCjB,GAAU7T,gBAAkBA,EA9EI,MA+EQtF,oBAAS,GA/EjB,mBA+EzBkT,EA/EyB,KA+EXoI,EA/EW,OAiFMtb,oBAAS,GAjFf,mBAiFzBub,EAjFyB,KAiFZC,EAjFY,OAkFUxb,mBAAS,IAAIyb,KAlFvB,mBAkFzB1H,EAlFyB,KAkFV2H,EAlFU,OAmFU1b,mBAAS,IAAIyb,KAnFvB,mBAmFzBvJ,EAnFyB,KAmFVyJ,EAnFU,OAqFE3b,oBAAS,GArFX,mBAqFzBoR,EArFyB,KAqFdwK,EArFc,OAsFI5b,oBAAS,GAtFb,oBAsFzB0T,GAtFyB,MAsFbmI,GAtFa,SAuFY7b,mBAAS,GAvFrB,qBAuFzB2T,GAvFyB,MAuFTmI,GAvFS,SAwFY9b,mBAAS,CAAC,EAAG,IAxFzB,qBAwFzB+b,GAxFyB,MAwFTC,GAxFS,SAyFYhc,mBAAS,CAAC,EAAG,IAzFzB,qBAyFzBic,GAzFyB,MAyFTC,GAzFS,SA0Fclc,mBAAS,MA1FvB,qBA0FzBmc,GA1FyB,MA0FRC,GA1FQ,SA4FMpc,oBAAS,GA5Ff,qBA4FzBqc,GA5FyB,MA4FZC,GA5FY,SA8Fctc,mBAD1B,IA7FY,qBA8FzBuc,GA9FyB,MA8FRC,GA9FQ,SA+FQxc,mBAAS,MA/FjB,qBA+FzByc,GA/FyB,MA+FXC,GA/FW,SAgGc1c,mBAAS,MAhGvB,qBAgGzB2c,GAhGyB,MAgGRC,GAhGQ,SAiGc5c,mBAAS,MAjGvB,qBAiGzB6c,GAjGyB,MAiGRC,GAjGQ,MAkGhCnlB,qBAAU,WACN,IAAMolB,EAAYrD,EAAKsD,QACL,OAAdD,QAAoCvgC,IAAdugC,GACtBlD,EAAWkD,KAEhB,CAACrD,IAEJ/hB,qBAAU,WAAM,IAEJ3e,EAAcugC,EAAdvgC,UACFikC,OAA6BzgC,IAAdxD,EAA0B,GAAKA,EAAUK,SACxD6jC,ER/De,SAAClkC,GAG1B,IAFA,IAAIy/B,EAAMz/B,EAAU4G,OACduyB,EAAS,GACRsG,KAAO,CACV,IAAMjB,EAAKx+B,EAAUy/B,GACf0E,EAAU3F,EAAGsB,MACnB,QAAgBt8B,IAAZ2gC,EAAuB,CACvB,IAAIC,EAAWjL,EAAO,QACL31B,IAAb4gC,GACAA,EAAW,CAAC5F,GACZrF,EAAO,GAAKiL,GAGZA,EAAS/uB,KAAKmpB,OAGjB,CACD,IAAI6F,EAAclL,EAAOgL,EAAQ99B,iBACb7C,IAAhB6gC,GACAA,EAAc,CAAC7F,GACfrF,EAAOgL,EAAQ99B,YAAcg+B,GAG7BA,EAAYhvB,KAAKmpB,IAI7B,OAAOrF,EQoCamL,CAAqB,aAAIL,IACzCT,GAAmBU,GAEnBh3B,iBAAiB,UAAWq3B,IAC5Br3B,iBAAiB,QAASs3B,MAC3B,IACH,IA+BMpK,GAAgB,CAClBC,iBAA6B72B,IAAhB62B,EAA4BqF,GAAkBrF,YAAcA,EACzEC,iBAA6B92B,IAAhB82B,EAA4BoF,GAAkBpF,YAAcA,EACzEuF,uBAAyCr8B,IAAtBq8B,EAAkCH,GAAkBG,kBAAoBA,EAC3FF,qBAAqCn8B,IAApBm8B,EAAgCD,GAAkBC,gBAAkBA,EACrFC,qBAAqCp8B,IAApBo8B,EAAgCF,GAAkBE,gBAAkBA,EACrFG,cAAuBv8B,IAAbu8B,EAAyBL,GAAkBK,SAAWA,GAE5DhgC,GAAcwgC,EAAdxgC,UACF0kC,GAAe,aAAI1kC,GAAUM,UAmB7B84B,GAAS,CAAC,IAAIY,GAlBD,CACfh6B,UAAW0kC,GACXtM,YAAap4B,GACbC,UAAWujC,GACXnL,YACAsC,cACAC,kBACA3B,cAAuBx1B,IAAbw1B,GAAiCA,EAC3CoB,iBACAQ,aAAcvC,EACdwC,aAAcxC,EACdyC,OAAQqI,GACRhJ,kBAAmBkJ,GACnBtI,cAAeA,EACf7B,cAAeA,EACfI,QAASiJ,EACTrI,kBAGAwK,GAAO,IAAIC,KACX3L,IACA0L,GAAO,IAAIE,MAEf,IAMML,GAAiB,SAACxa,GACpB3E,QAAQoV,IAAI,aAAczQ,IACtBA,EAAM8a,UAAY9a,EAAM+a,UACxBxB,IAAe,IAGjBkB,GAAe,SAACza,GAClB3E,QAAQoV,IAAI,WAAYzQ,IACpBA,EAAM8a,UAAY9a,EAAM+a,UACxBxB,IAAe,IAGvB,OAAQhmB,IAAMpE,cAAc6rB,KAAQ,CAAEC,IAAKtE,EAAM7kC,MAAO,OAAQC,OAAQ,OAAQmG,MAAOk+B,GAAW8E,iBAAkB5D,EAAmB6D,YAAY,EAAMC,MAAOT,GAAMvL,OAAQA,GAAQiM,YAAa,SAACnjB,GAE5L,GADAqgB,GAAgB,GACXe,GAAL,CAGA,IAAMgC,EAAapjB,EAAKqjB,WACxBtC,GAAkBqC,GAClBnC,GAAkB,CAACjhB,EAAK3e,EAAG2e,EAAK1e,MACjCgiC,OAAQ,SAACtjB,EAAM8H,GACd,GAAKsZ,GAAL,CAGA,IAAMmC,EAAWvjB,EAAKqjB,WACtB,QAAuB9hC,IAAnBu/B,IACmB,OAAnBA,SACav/B,IAAbgiC,QACahiC,IAAbgiC,EAHJ,CAMA,IAAMC,EAAgB,CAClB1C,GAAe,GACfA,GAAe,GACfyC,EAAS,GACTA,EAAS,IAEbpC,GAAmBqC,MACpBC,UAAW,SAACzjB,GAEX,GADAqgB,GAAgB,GACXe,GAAL,CAGA,IAIMsC,EHjQK,SAACjI,EAAQC,EAAQC,EAAMC,GAC1C,IAAM+H,EAAYnI,GAAUC,EAAQC,EAAQC,EAAMC,GAC5CgI,EAAWD,EAAU,GACrBE,EAAWF,EAAU,GACrBG,EAAeH,EAAU,GACzBI,EAAeJ,EAAU,GAI/B,MADa,CAAEtiC,EAAGuiC,EAAUtiC,EAAGuiC,EAAUjqC,MAF3BnB,KAAKsnC,IAAI+D,EAAeF,GAEU/pC,OADjCpB,KAAKsnC,IAAIgE,EAAeF,IG0PlBG,CAJFhD,GAAe,GACfA,GAAe,GACfhhB,EAAK3e,EACL2e,EAAK1e,GAERD,EAAwBqiC,EAAxBriC,EAAGC,EAAqBoiC,EAArBpiC,EAAG1H,EAAkB8pC,EAAlB9pC,MAAOC,EAAW6pC,EAAX7pC,OACboqC,EAAajkB,EAAbikB,SACAnmC,EAAyBwgC,EAAzBxgC,UAAWC,EAAcugC,EAAdvgC,UACbmmC,EAAS,aAAIpmC,EAAUM,UACvB+lC,EAAS,aAAIpmC,EAAUK,UACvBgmC,EAAKH,EAASI,UAAU,CAAChjC,EAAGC,IAC5BgjC,EAAKL,EAASI,UAAU,CAAChjC,EAAIzH,EAAO0H,EAAIzH,IAC1CqM,EAASs7B,GAAalqB,OAAO8sB,EAAG,GAAIA,EAAG,GAAIE,EAAG,GAAIA,EAAG,IAAI5uC,KAAI,SAACgN,GAAD,OAAOwhC,EAAOxhC,MACzE6hC,EAAQ7C,GAAgBpqB,OAAO8sB,EAAG,GAAIA,EAAG,GAAIE,EAAG,GAAIA,EAAG,IAAI5uC,KAAI,SAACgN,GAAD,OAAOyhC,EAAOzhC,MAC7E8hC,EAAQ5C,GAAgBtqB,OAAO8sB,EAAG,GAAIA,EAAG,GAAIE,EAAG,GAAIA,EAAG,IAAI5uC,KAAI,SAACgN,GAAD,OAAOyhC,EAAOzhC,MAC7E+hC,EAAU,IAAIjE,IAAIt6B,EAAOxQ,KAAI,SAACsD,GAAD,OAAUA,EAAKgB,OAC5C0qC,EAAW,GAAH,oBAAOH,GAAP,aAAiBC,IACzBvN,EAAgB,IAAIuJ,IAC1BkE,EAAS5tC,SAAQ,SAAC4Q,GACV+8B,EAAQjN,IAAI9vB,EAAEjN,IAAMgqC,EAAQjN,IAAI9vB,EAAEhN,IAClCu8B,EAAciF,IAAIx0B,MAG1BxB,EAAS,GAAH,oBAAOA,GAAP,aAAkB+wB,IACxB9T,QAAQoV,IAAI,cAAekM,EAASC,EAAUx+B,EAAQ8Z,GAStD,IANA,IAAI2kB,EAAcz+B,EAAOvB,OAEnBigC,EAAY,IAAIpE,IAChBqE,EAAY,IAAIrE,IAChBsE,EAAM,IAAItE,IACVuE,EAAM,IAAIvE,IACTmE,KAAe,CAClB,IAAM1W,EAAO/nB,EAAOy+B,QACEpjC,IAAlB0sB,EAAK/zB,UACL0qC,EAAU1I,IAAIjO,GACd6W,EAAI5I,IAAIjO,EAAKj0B,MAGb6qC,EAAU3I,IAAIjO,GACd8W,EAAI7I,IAAIjO,EAAKj0B,KAGrB,IAAMgrC,EAAU,aAAIJ,GACdK,EAAU,aAAIJ,GACpB1M,GAAc2F,SAASkH,EAASC,GAChCxE,EAAiBqE,GACjBpE,EAAiBqE,GACjB5D,GAAmB,MACnBE,IAAe,GAEfd,GAAgBD,KACjB4E,kBAAmB,SAACppB,IAtKI,SAACA,GAAU,IAC9BokB,EAAgCpkB,EAAhCokB,UAAWiF,EAAqBrpB,EAArBqpB,iBACXrG,EAASoB,EAATpB,KACAsG,EAAyBD,EAAzBC,UAAWC,EAAcF,EAAdE,UACfvG,EAAO,EACP8B,IAAc,GAGdhtB,YAAW,WACH6kB,IACAmI,IAAc,KAEnB,KAGHC,GADA/B,EAAO,KAAOA,GAAQ,EACJ,EAIA,IAGlBsG,GAAaC,KACb1E,GAAa,GACb/sB,YAAW,YACW,IAAduiB,GACAwK,GAAa,KAElB,MA2IH2E,CAAuBxpB,IACxBR,QAAS,SAACuiB,EAAO/5B,IAxGH,SAAC+5B,EAAO/5B,GACzB,IAAMyhC,EAAYpN,GAAcyF,uBACdr8B,IAAdgkC,GACAA,EAAU1H,EAAO/5B,GAsGjB0hC,CAAa3H,EAAO/5B,GACpB88B,IAAc,GACdO,GAAmB,MACnBV,EAAiB,IAAID,KACrBE,EAAiB,IAAIF,KAErBD,GAAgBD,IACjBmF,WAAY,SAAC5H,EAAO/5B,GACnBq9B,GAAmB,OACpBuE,SAAU,SAACl1B,IA7NG,WACjB,GAAe,OAAXqoB,EAAiB,CACjB,IAAMA,EAASmE,GAAUwF,IACzB3D,EAAUhG,IA2NV8M,IACDC,OAAQ,WACPziB,QAAQnD,KAAK,aAAcse,GAC3B,IAAMuH,EHrSc,SAACvH,EAAWpI,GAAgB,IAChDp4B,EAAyBwgC,EAAzBxgC,UAAWC,EAAcugC,EAAdvgC,UACbykC,EAAe,aAAI1kC,EAAUM,UAC7B4jC,EAAe,aAAIjkC,EAAUK,UAC7B0nC,EAAYjK,GAAc2G,GAC1BuD,EAAc5J,GAAcjG,EAAa8L,GAM/C,MALgB,CACZ8D,YACApE,gBAAiBqE,EAAY,GAC7BnE,gBAAiBmE,EAAY,IG4RTC,CAAiB1H,EAAWxgC,IAC5C2jC,GAAgBoE,EAAQC,WACxBnE,GAAmBkE,EAAQnE,iBAC3BG,GAAmBgE,EAAQjE,iBA5OhB,SAACjD,EAASL,GAAc,IAC/BxgC,EAAcwgC,EAAdxgC,UACF0kC,EAAe,aAAI1kC,EAAUM,UAC7By6B,EAASmE,GAAUwF,GACzB3D,EAAUhG,GACVyG,IACAd,EAAaJ,GAuOT6H,CAAWtH,EAASL,IACrB4H,cAAe,eAAa,YAAkD,EAA/C7kC,EAA+C,EAA5CC,EAA4C,EAAzC1H,MAAyC,EAAlCC,OAAkC,EAA1BqmC,UAA0B,EAAf+D,aCxUpEkC,GAAgB,SAACjD,GAGnB,IAFA,IAAMkD,EAAU,IAAIC,IAChB7I,EAAM0F,EAAMv+B,OACT64B,KAAO,CACV,IAAM5mC,EAAIssC,EAAM1F,GACN,OAAN5mC,GACAwvC,EAAQE,IAAI1vC,EAAEoD,GAAIpD,GAG1B,OAAOwvC,GAKLG,G,mCAENA,GAAiBC,gBAAkB,SAAC1oC,EAAWC,GAO3C,MAJW,CACPD,UAHUqoC,GAAcroC,GAIxBC,UAHUooC,GAAcpoC,KAOjBwoC,U,kBCpBTxgB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJI,QAAS,OACTzsB,MAAO,OACPC,OAAQ,OACR4sC,WAAY,SACZC,OAAQ,IACRC,WAAY,WAEd1Y,KAAM,CACJ5H,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,UAEd3a,QAAS,CACPua,QAAS,MACT9rB,MAAO,gBAwBEwsC,GAdmB,SAAC,GAAmD,IAAjDj7B,EAAgD,EAAhDA,QAAgD,IAAvCk7B,mBAAuC,SAC7EhgB,EAAUd,KAChB,OACE,sBAAK0B,UAAWZ,EAAQZ,KAAxB,SACE,uBAAKwB,UAAWZ,EAAQoH,KAAxB,UACE,eAAC6Y,EAAA,EAAD,CAAYrf,UAAWZ,EAAQlb,QAASgc,QAAQ,KAAhD,SACGhc,IAEFk7B,EAAc,eAACE,EAAA,EAAD,CAAkBC,eAAa,EAACx2B,KAAM,OAAQpW,MAAM,cAAiB,WCpCtF6sC,GAAW,SAACna,EAAap1B,GAC7B,QAAY6J,IAARurB,GAA6B,OAARA,EACvB,MAAO,GAGT,QAAWvrB,IAAP7J,GAA2B,OAAPA,EACtB,MAAO,GAGCA,EAAGiN,OAAb,IAT2C,iBAWzBjN,GAXyB,IAW3C,2BAAsB,CAAC,IACfX,EADc,QACA+1B,GACpB,QAAcvrB,IAAVxK,EACF,OAAOA,GAdgC,8BAiB3C,MAAO,IAGHmwC,GAAe,SAACxvC,GACpB,OAAOyvC,GAAgB,QAASzvC,IAE5B0vC,GAAe,SAAC1vC,GACpB,OAAOyvC,GAAgB,QAASzvC,IAG5ByvC,GAAkB,SAACra,EAAap1B,GAAiB,qBAEjCA,GAFiC,IAErD,2BAAwB,CAAC,IAAd2vC,EAAa,QACtB,QAA0B9lC,IAAtB8lC,EAAK,SAA4B,CACnC,IADmC,EAC7B1e,EAAW0e,EAAK,SADa,eAEb1e,GAFa,IAEnC,2BAAgC,CAAC,IAAtB2e,EAAqB,QAC9B,GAAIA,EAAO,OAAaxa,QACUvrB,IAA5B+lC,EAAO,aACT,OAAOA,EAAO,cALe,iCAHc,gCAgBjDC,GAAqB,SAAC7vC,GAC1B,IACM0J,EAAS6lC,GADG,kBACiBvvC,GACnC,YAAe6J,IAAXH,GAA0C,IAAlBA,EAAOuD,QAA+C,IAA/BxQ,OAAO0C,KAAKuK,GAAQuD,QAYnE6iC,GACE,OADFA,GAEI,SAFJA,GAII,SAGJC,GAAgB,SAAC/vC,GAAmD,IAArCgwC,EAAoC,uDAAjB,IAChDC,EAAoBJ,GAAmB7vC,GAE7C,GAAIiwC,EACF,OAAOH,GAGT,IAAMI,EAASV,GAAaxvC,GAAM0vC,GAAa1vC,GAE/C,OAAIkwC,EAASF,EACJF,GAEAA,IAILK,GACI,SADJA,GAEI,SAoBJ5J,GAAe,UACf6J,GAA4B,SAACpwC,GACjC,QAAW6J,IAAP7J,GAA2B,OAAPA,IAAgB4Q,MAAMjE,QAAQ3M,GACpD,OAAOumC,GAGT,IAAMjjC,EAAKisC,GAAS,qBAAsBvvC,GACpCqwC,EAAYd,GAAS,YAAavvC,GACxC,QAAW6J,IAAPvG,GAAkC,IAAdA,EAAG2J,QAA2C,IAA3BxQ,OAAO0C,KAAKmE,GAAI2J,OACzD,MAAkB,QAAdojC,EACKC,GAA2BtwC,GAE7BumC,GAKT,IAFA,IACIT,EAAMxiC,EAAG2J,OACN64B,KAAO,CACZ,IAAMld,EAAQtlB,EAAGwiC,GAEjB,GAAe,YADAld,EAAK,cACpB,CAIA,IACM2nB,EADkB3nB,EAAK,WACE,yBAC/B,QAAgB/e,IAAZ0mC,EACF,OAAOA,GAIX,MAhBchK,WAmBV+J,GAA6B,SAACtwC,GAClC,IAAMsD,EAAKisC,GAAS,mBAAoBvvC,GACxC,QAAW6J,IAAPvG,GAAkC,IAAdA,EAAG2J,QAA2C,IAA3BxQ,OAAO0C,KAAKmE,GAAI2J,OACzD,OAAOs5B,GAKT,IAFA,IACIT,EAAMxiC,EAAG2J,OACN64B,KAAO,CACZ,IACMnxB,EADQrR,EAAGwiC,GACG,QACpB,QAAej8B,IAAX8K,EAAsB,CACxB,IACM47B,EADkB57B,EAAM,QACC,yBAC/B,QAAgB9K,IAAZ0mC,EACF,OAAOA,GAKb,MAdchK,WC/IDiK,GAFI7sB,IAAMQ,cAAiC,ICuLpDssB,GAAuB,SAACrqC,GAI5B,IAHA,IAAI0/B,EAAM1/B,EAAU6G,OAGb64B,KAAO,CACZ,IAAMvB,EAAen+B,EAAU0/B,GAEzB9iC,EAAI,EAAIjC,KAAK2vC,GAAK3vC,KAAK4vC,SACvBC,EAAI7vC,KAAK4vC,SAAW5vC,KAAK4vC,SAC3BhwC,EAAI,EAMFgJ,GAJJhJ,EADEiwC,EAAI,EACF,EAAIA,EAEJA,GAEQ7vC,KAAK8vC,IAAI7tC,GAbH,IAcd4G,EAAIjJ,EAAII,KAAK+vC,IAAI9tC,GAdH,IAepBuhC,EAAG/hC,SAAW,CAACmH,EAAGC,GAEpB,OAAOxD,GAyBH2qC,GAAe,SAAC1qC,EAAuBigC,GAI3C,IAHA,IAAI0K,EAAU1K,EAAMr5B,OAEdgkC,EAAY,GACXD,KAAW,CAChB,IAAMhhC,EAAIs2B,EAAM0K,GACV9xC,EAAI8Q,EAAC,OACDnG,IAAN3K,QAAgC2K,IAAb3K,EAAEgyC,QACvBD,EAAUv1B,KAAK,CAAC1L,EAAC,GAAQ9Q,EAAEgyC,SAI/BD,EAAUE,MAAK,SAACviC,EAAG/N,GAAJ,OAAUA,EAAE,GAAK+N,EAAE,MAIlC,IAFA,IAAIk3B,EAAMz/B,EAAU4G,OACdmkC,EAA+B,IAAIzC,IAClC7I,KAAO,CACZ,IAAMjB,EAAKx+B,EAAUy/B,GACrBsL,EAAMxC,IAAI/J,EAAGviC,GAAIuiC,GAInB,IAFA,IAAI/rB,EAAOm4B,EAAUhkC,OAEZjC,EAAI,EAAGA,EAAI8N,EAAM9N,IAAK,CAC7B,IAAM1I,EAAK2uC,EAAUjmC,GAAG,GAAG0B,WACrBm4B,EAAKuM,EAAMzlC,IAAIrJ,GAGnBuiC,EAAE,MADA75B,EALW,IAMC,EAEA,EAIlB,OAAO3E,GAGMgrC,GA3OE,SAAC,GAQI,IAPpB5Q,EAOmB,EAPnBA,cACAW,EAMmB,EANnBA,cACA7B,EAKmB,EALnBA,cACAv/B,EAImB,EAJnBA,GAImB,IAHnB2yB,uBAGmB,MAHD,UAGC,MAFnB2e,kBAEmB,MAFN,SAEM,EADnB5S,EACmB,EADnBA,SAEQ6S,EAAoBpgB,qBAAWqf,IAA/Be,gBADW,EAEalkB,oBAAS,GAFtB,mBAEZgS,EAFY,aAGKhS,mBAA2B,OAHhC,mBAGZ5tB,EAHY,KAGNkuB,EAHM,KA2EnB,GArBA3I,qBAAU,WACR,QAAWnb,IAAP7J,GAA6B,OAATP,EAAe,CAC1B+xC,YAAYxwB,MAAvB,IACMxS,EAASijC,WAAuBzxC,EAAI,OAGpCoG,EAAyBoI,EAAzBpI,UAAWC,EAAcmI,EAAdnI,UAMjB,GALmB,WAAfirC,IACFlrC,EAAYqqC,GAAqBrqC,SAIjByD,IAAdxD,EAAyB,CAC3B,IAAMigC,EAAQiJ,GAAS,QAASvvC,GAChCqG,EAAY0qC,GAAa1qC,EAAWigC,GAEtC,IAAMoL,EAAK7C,GAAiBC,gBAAgB1oC,EAAWoI,EAAOnI,WAC9DsnB,EAAQ+jB,MAET,CAAC1xC,IAES,OAATP,QAA0BoK,IAATpK,EAAoB,CAEvC,OAAO,eAAC,GAAD,CAASwU,QADO,mDAIzB,OACE,eAAC,GAAD,CACE2yB,UAAWnnC,EACXihC,YA7EqB,SACvBiR,EACAhoC,EACAC,GAEA6hB,QAAQoV,IAAI,sBAAuB8Q,GACN,IAAzBvQ,EAAcn0B,QAChBm0B,EAAchiC,SAAQ,SAACwyC,GACrB,IAAMC,EAAmBpyC,EAAK2G,UAAUuF,IAAIimC,GAC5CC,EAAiB/Q,UAAW,EAC5BrV,QAAQoV,IAAI,mBAAoBgR,MAGpC,IAAMD,EAAiBD,EAAkBrvC,GAEzCm+B,EAAcqR,sBAAsBF,EAAQ,OAAQ,CAAEjoC,EAAGA,EAAGC,EAAGA,KA+D7D+2B,YA5DqB,SACvBoR,EACApoC,EACAC,GAEA6hB,QAAQoV,IAAI,sBAAuBkR,GACN,IAAzBxS,EAActyB,QAChBsyB,EAAcngC,SAAQ,SAAC4yC,GACrB,IAAMC,EAAmBxyC,EAAK4G,UAAUsF,IAAIqmC,QACnBnoC,IAArBooC,IACFA,EAAiBnR,UAAW,EAC5BrV,QAAQoV,IAAI,wBAAyBoR,OAI3C,IAAMD,EAAiBD,EAAkBzvC,GACzCm+B,EAAcqR,sBAAsBE,EAAQ,OAAQ,CAAEroC,EAAGA,EAAGC,EAAGA,KA6C7Dw8B,SArCoB,SAAChF,EAA2B7B,GAElDkB,EAAcyR,mBAAmB9Q,EAAe7B,GAChD9T,QAAQoV,IAAI,8BAA8BO,EAAe7B,IAmCvD2G,kBA3C2B,SAAC9V,GAC9BqQ,EAAc0R,WACd1mB,QAAQoV,IAAI,mBAAoBO,EAAe7B,IA0C7CF,SAAUA,EACV1M,gBAAiBA,EACjB+L,SAAUA,EACVoI,aAAcyK,K,0CC9HpBa,KAAUlxB,IAAImxB,MAGd,I,oBCHMnjC,GAAQ,IAAIojC,kBACZC,GAAQ,IAAIC,UAAOtjC,IAEnBujC,GAAqB,IAAIC,gBAAaH,I,oBCO7BI,G,oDAVb,WAAY1+B,EAAiBuhB,GAAe,IAAD,+BACzC,cAAMvhB,IAHRuhB,aAE2C,EAGzC,EAAKA,QAAUA,EACf,EAAKlqB,MAAO,2CAAWA,KAEvB7O,OAAOmtB,eAAPntB,OAAA,KAAAA,CAAA,IAA4B,2CAAW6P,WANE,E,uBAHrB8H,QCIT,SAASw+B,GAAQt7B,EAActX,GAAe,IAAD,EAClCqtB,mBAAS,MADyB,mBACnDwlB,EADmD,KAC7CC,EAD6C,OAEpCzlB,mBAAS,MAF2B,mBAEnD/qB,EAFmD,KAE/CywC,EAF+C,KAK1D,QAAUlpC,IAAP7J,GAA2B,OAAPA,EACrB,MAAO,GAGT,GAAW,OAAPsC,GAAetC,EAAGiN,QAAU,EAAG,CACjC8lC,EAAQz7B,GAER,IAEE,OADAw7B,EFLU,SAACx7B,EAActX,GAC7B,IAAMgzC,EAAS9jC,GAAM+jC,cAAcjzC,GAC7BzB,EAAmB,GACnB20C,EAAcX,GAAMY,qBAAqBH,EAAQz0C,GAGjD+J,EAAQiqC,GAAMa,kBAAkBJ,EAAQz0C,GAQ9C,MAAO,CACL80C,QAAS,CACP5zC,KAAM,CACJ6X,QAEF7N,SAZU,uBAAOypC,EAAY7M,OAAnB,aAA6B6M,EAAY5M,SAcrDgN,YAAahrC,EACbirC,iBAbuB,CACrB,kBAAsBP,EAAM,kBACxBA,EAAM,kBAAuB,CAAE,SAAa,MENxCQ,CAAQl8B,EAAMtX,IACf6yC,EACP,MAAM7iC,GACN,MAAM,IAAI2iC,GAAU,iDAAkD3iC,IAI1E,OAAI1N,IAAOgV,EACFu7B,EAGF,GCVT,IAAMrM,GAAY,CAChBtkC,MAAO,OACPC,OAAQ,OACRwwB,gBAAiB,iBAoFb8gB,GAAW,SAACC,EAAIC,GAChBA,GACFD,EAAGE,qBAAoB,GACvBF,EAAGG,iBAAgB,GACnBH,EAAGrN,QAAQsN,SAEXD,EAAGE,qBAAoB,GACvBF,EAAGG,iBAAgB,GACnBH,EAAGrN,QAAQyN,WAKTC,GAAe,SAACL,EAAIjT,GACxBiT,EAAGl2B,GAAG,cAAc,SAAC4S,GAAD,OAAW4jB,GAAWN,EAAIjT,EAAerQ,MAC7DsjB,EAAGl2B,GAAG,UAAU,SAAC4S,GAAD,OAAW6jB,GAAiBP,EAAIjT,EAAerQ,OAG3D6jB,GAAmB,SAACP,EAAIjT,EAAerQ,GAChCohB,YAAYxwB,MACvB9E,YAAW,WACT,IAAMklB,EAAgBsS,EAAGQ,EAAE,iBACrB3U,EAAgBmU,EAAGQ,EAAE,iBACrBnH,EAAU3L,EAAcpjC,KAAI,SAACsD,GAAD,OAAUA,EAAK7B,OAAO6C,MAClD6xC,EAAU5U,EAAcvhC,KAAI,SAACuD,GAAD,OAAUA,EAAK9B,OAAO6C,GAAG+nB,MAAM,MACjEoW,EAAc2T,yBAAyBrH,EAASoH,EAAS,KAAM,KAAM,QACpE,IAECH,GAAa,SAACN,EAAIjT,EAAerQ,GACrC,IAAMikB,EAAYjkB,EAAMzb,OAClB2/B,EAAK9C,YAAYxwB,MAEvB,GAAIqzB,IAAcX,EAChBjoB,QAAQoV,IAAI,wBAEZ3kB,YAAW,WACTukB,EAAc0R,aACb,QACE,CACL,IAAM1yC,EAAO40C,EAAU50C,OAEnB40C,EAAUzT,UACZnV,QAAQoV,IAAI,gBAAiBwT,EAAU50C,QACvCyc,YAAW,WACT,IAAMklB,EAAgBsS,EAAGQ,EAAE,iBACrB3U,EAAgBmU,EAAGQ,EAAE,iBACrBnH,EAAU3L,EAAcpjC,KAAI,SAACsD,GAAD,OAAUA,EAAK7B,OAAO6C,MAClD6xC,EAAU5U,EAAcvhC,KAAI,SAACuD,GAAD,OAAUA,EAAK9B,OAAO6C,GAAG+nB,MAAM,MACjEoW,EAAc2T,yBACZrH,EACAoH,EACA,OACA,CAAC10C,EAAK6C,IACN8tB,EAAMmkB,oBAEP,KAEH9oB,QAAQoV,IAAI,gBAAiBwT,EAAU50C,QACvCyc,YAAW,WACT,IAAMklB,EAAgBsS,EAAGQ,EAAE,iBACrB3U,EAAgBmU,EAAGQ,EAAE,iBACrBnH,EAAU3L,EAAcpjC,KAAI,SAACsD,GAAD,OAAUA,EAAK7B,OAAO6C,MAClD6xC,EAAU5U,EAAcvhC,KAAI,SAACuD,GAAD,OAAUA,EAAK9B,OAAO6C,GAAG+nB,MAAM,MACjEoW,EAAc2T,yBACZrH,EACAoH,EACA,OACA,CAAC10C,EAAK6C,GAAG+nB,MAAM,IACf+F,EAAMmkB,oBAEP,IAGP9oB,QAAQoV,IAAI,YAAa2Q,YAAYxwB,MAAQszB,IA4BzCE,GAAgB,SAAC3B,EAAMa,EAAIjB,EAAoB9f,GAAqB,IAzBnD2gB,EA0BbD,EAAYR,EAAZQ,QACR,QAAgBxpC,IAAZwpC,GAAqC,OAAZA,GAA2B,OAAPK,EAAa,CAC5D,IAAMjqC,EAAWopC,EAAKQ,QAAQ5pC,SAC9BiqC,EAAGlP,IAAI/6B,GAEP,IAAMgrC,IA/BanB,EA+BST,EAAKS,aAZvB53B,KAlBE,CACZxT,SAAU,SACVQ,IAAK,CACH,qBAAsB,GACtB,eAAgB,GAChB,iBAAkB,MActB4qC,EAAY53B,KAVM,CAChBxT,SAAU,aACVQ,IAAK,CACH,qBAAsB,EACtB,eAAgB,EAChB,iBAAkB,KAOf4qC,GAULI,EAAGprC,QAAQosC,SAASD,GAAOE,SAE3BlpB,QAAQoV,IAAI,yBAA0BgS,EAAKU,kBAC3Cd,EAAmBmC,0BAA0BlB,EAAIb,EAAKU,kBACtDd,EAAmBoC,eAAenB,EAAI/gB,KAI3BmiB,GArMW,SAAC,GAQI,IAP7Bx9B,EAO4B,EAP5BA,KACAtX,EAM4B,EAN5BA,GACAygC,EAK4B,EAL5BA,cACA6Q,EAI4B,EAJ5BA,WACAyD,EAG4B,EAH5BA,eACAC,EAE4B,EAF5BA,QACAriB,EAC4B,EAD5BA,gBAEMsiB,EAAOjO,iBAAO,MADQ,EAEQ3Z,mBAAS,MAFjB,mBAErB6nB,EAFqB,KAETC,EAFS,OAGKhkB,qBAAWqf,IAApC4E,EAHoB,EAGpBA,QAASC,EAHW,EAGXA,YAEXC,EAAc1C,GAAQt7B,EAAMtX,GAC5ByyC,EH7BCA,GG6FP,OA9DAztB,qBAAU,WACR,SAAoBnb,IAAhByrC,GAAiE,IAApC74C,OAAO0C,KAAKm2C,GAAaroC,UAI1DunC,GAAcc,EAAaJ,EAAYzC,EAAoB9f,GAEvD2iB,IAAgB,IAAqB,OAAfJ,QACLrrC,IAAfynC,GAA2C,OAAf4D,GAAqB,CACnD,IAAMxrC,EAASwrC,EAAWxrC,OAAO,CAC/B4B,KAAMgmC,EACNiE,SAAS,EACTjrB,KAAM,WACJ0qB,GAAQ,MAIZA,GAAQ,GACRtrC,EAAOkT,SAGV,CAAC04B,IAEJtwB,qBAAU,gBACYnb,IAAhByrC,GAAiE,IAApC74C,OAAO0C,KAAKm2C,GAAaroC,SAI1DunC,GAAcc,EAAaJ,EAAYzC,EAAoB9f,QAExC9oB,IAAfynC,GAA2C,OAAf4D,IACfA,EAAWxrC,OAAO,CAC/B4B,KAAMgmC,EACNiE,SAAS,EACTjrB,KAAM,WACJmB,QAAQoV,IAAI,8BAGTjkB,MACPV,YAAW,WACTg5B,EAAWzR,QACV,SAEJ,CAACyR,IAEJlwB,qBAAU,WAER,GAAmB,OAAfkwB,GAAgC,OAATD,GAAkC,OAAjBA,EAAK5K,QAAkB,CACjE,IAAMmL,EJ5EY,SAACxa,GAAsD,IAEvEya,EAAa,CACjBza,UAAWA,EACXvxB,SAJ0E,uDAAf,GAK3DC,OAAQ,CACN4B,KAAM,SACNm4B,KAAK,GAEPiS,QAAQ,GAGV,OAAO,IAAItD,KAAUqD,GIgEKE,CAAgBV,EAAK5K,cAGpBxgC,IAAnBkrC,IACFA,EAAeS,GACfL,EAAcK,IAEhBzB,GAAayB,EAAe/U,MAE7B,IAEgB,OAAfyU,GAAuBG,EAAYO,OAASV,GAC9CzB,GAASyB,EAAYE,EAAQS,kBAExB,sBAAKvtC,MAAOk+B,GAAW6E,IAAK4J,K,mBC5F/Ba,GAAmB,SAACC,GACxB,GAAIA,EAAe3a,SAEjB,MAAQ,UADS2a,EAAejd,MAAf,aAAqCkd,QAEjD,GAAID,EAAeE,MAAO,CAC/B,IAAMC,EAAYH,EAAeE,MACjC,MAAO,SAAWvrC,OAAOoH,KAAKokC,EAAUlqB,OAAS,IAAMkqB,EAAUtkC,YAK/DukC,GAAgB,SAACC,EAAiBL,GACtC,IAAMjxB,EAAa,IAAImZ,QAAUmY,GAEjC,IAAKL,EAAevZ,QAGlB,OADA/Q,QAAQ4qB,KAAK,wCACNvxB,EAGT,GAAIixB,EAAe3a,SACjBtW,EAAWwxB,aAAaP,EAAejd,MAAf,aAAqCkd,cAGxD,GAAID,EAAeE,MAAO,CAC/B,IAAMC,EAAYH,EAAeE,MACjCnxB,EAAWyxB,aAAaL,EAAUlqB,OAAQkqB,EAAUtkC,UAStD,OALAkT,EAAW0xB,YAAY5iC,MAAK,SAAClB,GAC3B+Y,QAAQoV,IAAI,yBAA0BnuB,EAASuB,YAI1C6Q,GAGH2xB,GAAe,SAAC19B,GACpB,IACM7G,EADS6G,EAAa29B,WAAW,IAAK,IACtB34C,MAAM,KACxB0E,EAAM,KAOV,OANAyP,EAAO9S,SAAQ,SAAAu3C,GACb,IAAM/xC,EAAW+xC,EAAK54C,MAAM,KACT,cAAhB6G,EAAS,KACVnC,EAAMmC,EAAS,OAGZnC,GClDHm0C,GAAkB,CACtBr9B,UAHmB,IAInBC,sBAAsB,GAGlBq9B,GAAkB,CACtBC,OAAQ,CACNx9B,YAAa,GAEfy9B,sBAAuB,CACrBt9B,YAAY,EACZH,YAAa,GAEf09B,kBAAmB,CACjBv9B,YAAY,EACZH,YAAa,GAEf29B,aAAc,CACZ39B,YAAa,GAEf49B,oBAAqB,CACnBz9B,YAAY,EACZH,YAAa,GAEf69B,gBAAiB,CACf19B,YAAY,EACZH,YAAa,IAIX89B,GAAc,SAACC,GAGnB,IAFA,IAAI16B,EAAM06B,EAASpqC,OACfo5B,OAAQx8B,EACL8S,UAES9S,KADdw8B,EAAQgR,EAAS16B,GAAT,SAMV,YAAc9S,IAAVw8B,EACK,GAGOA,EAAMroC,KAAI,SAACsD,GACzB,OAAOA,EAAK,WAMVg2C,GAAsB,SAACt3C,GAC3B,IAAK,IAAIo1B,KAAOp1B,EAAI,CAClB,IACMsQ,EADQtQ,EAAGo1B,GACG,OACpB,GAAI9kB,GAAUA,EAAOrD,OAAS,EAC5B,OAAIqD,EAAO,GAAGinC,SAGe,sBAApBjnC,EAAO,GAAG6D,QAMZqjC,GAAS,uCAAG,WACvBlgC,EACAmgC,EACA30B,EACA40B,EACA5rC,GALuB,qBAAA8C,EAAA,8DAOV/E,IAATyN,GAA+B,OAATA,GAAiC,IAAhBA,EAAKrK,OAPzB,yCAQd,IARc,eAWTpD,IAAV4tC,GAAiC,OAAVA,GAAmC,IAAjBA,EAAMxqC,OAX5B,yCAYd,IAZc,cAenBgF,EAfmB,UAeV6Q,EAfU,8BAeqBxL,EAfrB,oBAgBV,iBAATxL,GAAoC,WAATA,IAC7BmG,EAAG,UAAM6Q,EAAN,8BAAqCxL,EAArC,kCAGCqgC,EAAad,GAAgB/qC,IACzB,aAAmB2rC,EAEvBhkB,EAAgBqiB,GAAiB4B,GAEjCE,EAAW,CACfnnC,OAAQ,OAERlB,QAASkkB,EACL,CACE,eAAgB,mBAChB5hB,cAAe4hB,GAEjB,CACE,eAAgB,oBAEtB/G,KAAM9c,KAAKC,UAAU8nC,IApCA,kBAuChBnsB,MAAMvZ,EAAK2lC,IAvCK,4CAAH,8DA0ChBC,GAAY,uCAAG,WACnBvgC,EACAmgC,EACA30B,EACA40B,EACA5rC,EACAgsC,GANmB,2BAAAlpC,EAAA,8DAQN/E,IAATyN,GAA+B,OAATA,GAAiC,IAAhBA,EAAKrK,OAR7B,yCASV,IATU,eAYLpD,IAAV4tC,GAAiC,OAAVA,GAAmC,IAAjBA,EAAMxqC,OAZhC,yCAaV,IAbU,cAgBfgF,EAhBe,UAgBN6Q,EAhBM,8BAgByBxL,EAhBzB,UAiBN,iBAATxL,GAAoC,WAATA,IAC7BmG,EAAG,UAAM6Q,EAAN,8BAAqCxL,EAArC,uBAGLs/B,GAAe,UAAgBkB,GACzBH,EAAal7C,OAAO0mB,OACxB1mB,OAAO0mB,OAAO,GAAI0zB,GAAgB/qC,GAAO8qC,MAEjC,aAAmBa,EAEvBhkB,EAAgBqiB,GAAiB4B,GAEjCE,EAAW,CACfnnC,OAAQ,OAERlB,QAASkkB,EACL,CACE,eAAgB,mBAChB5hB,cAAe4hB,GAEjB,CACE,eAAgB,oBAEtB/G,KAAM9c,KAAKC,UAAU8nC,IAxCJ,oBA6CAnsB,MAAMvZ,EAAK2lC,GA7CX,eA6CjBllC,EA7CiB,iBA8CAA,EAASqlC,OA9CT,QA8CX/3C,EA9CW,OA+CXg4C,EAAoBV,GAAoBt3C,GAC9C0S,EAASulC,WAAa,CACpBlL,QAASqK,GAAYp3C,GACrBk4C,MAAOC,GAAYn4C,GACnBA,KACAg4C,qBApDe,mDAuDjBvsB,QAAQtX,MAAM,wBAAd,MAvDiB,WAyDdzB,EAAS0lC,GAzDK,uBA0DX,IAAIhkC,MAAM1B,EAASG,YA1DR,iCA6DZH,EAASulC,YA7DG,2DAAH,gEAgEZE,GAAc,SAACn4C,GAInB,IAHA,IAAMq4C,EAAe,GAEjB17B,EAAM3c,EAAGiN,OACN0P,KAAO,CACZ,IAAMiM,EAAQ5oB,EAAG2c,GACXla,EAAMhG,OAAO0C,KAAKypB,GAAO,GACzBvpB,EAAQupB,EAAMnmB,GAEpB41C,EAAa51C,GAAOpD,EAEtB,OAAOi5C,GAASD,IAGZC,GAAW,SAACJ,GAChB,IAAMK,EAAWL,EAAK,eAChB7R,EAAQ6R,EAAK,MAEbM,EAAU,GAEhB,QAAiB3uC,IAAb0uC,EACF,OAAOC,EAIT,IADA,IAAI77B,EAAM47B,EAAStrC,OACZ0P,KAAO,CACZ,IAAMiM,EAAQ2vB,EAAS57B,GACjB87B,EAAU7vB,EAAK,GAEjByhB,EAAUmO,EAAQC,QACN5uC,IAAZwgC,IACFA,EAAU,IAAIsE,KAEhBtE,EAAQuE,IAAIhmB,EAAK,EAAOA,EAAK,GAC7B4vB,EAAQC,GAAWpO,EAIrB,IADA1tB,EAAM0pB,EAAMp5B,OACL0P,KAAO,CACZ,IAAMxQ,EAAIk6B,EAAM1pB,GACVra,EAAK6J,EAAE,OACPS,EAAMT,EAAC,EACTk+B,EAAUmO,EAAQl2C,QACNuH,IAAZwgC,IACFA,EAAU,IAAIsE,KAEhBtE,EAAQuE,IAAI,OAAQhiC,GACpB4rC,EAAQl2C,GAAM+nC,EAGhB,OAAOmO,GA+CME,GA5CG,SAChBphC,EACAmgC,EACA30B,EACA40B,EACA5rC,EACAgsC,GACG,MAE2BzqB,oBAAS,GAFpC,mBAEIsrB,EAFJ,KAEaC,EAFb,OAGqBvrB,mBAAS,MAH9B,mBAGIwrB,EAHJ,KAGUC,EAHV,KA0BH,OArBA9zB,qBAAU,WACR,IAAM+zB,EAAY,CAChBzhC,OACAmgC,QACA3rC,QAcF,OAXIitC,IAAcF,EAChBD,GAAW,IAGTA,EADgB,OAAdG,GAAgC,KAAVtB,GAK1BqB,EAAQC,IAGH,eACN,CAACzhC,EAAMmgC,EAAO3rC,IAEVktC,oBACL,CAAC,eAAgB1hC,EAAMmgC,EAAO30B,EAAW40B,EAAY5rC,EAAMgsC,IAC3D,kBAAMD,GAAavgC,EAAMmgC,EAAO30B,EAAW40B,EAAY5rC,EAAMgsC,KAC7D,CACEa,QAASA,EACTM,UAAW,IACXC,OAAO,K,UCpPAC,GAAkC,CAC7CvD,KAAM,CACJvP,MAAO,GACPC,MAAO,IAET8S,IAAK,CACH/S,MAAO,GACPC,MAAO,IAET+S,aAAc,CACZzY,OAAQ,KACR0Y,SAAU,KACVh3C,GAAI,KACJi3C,YAAa,CACX5vC,EAAG,EACHC,EAAG,GAEL4vC,eAAe,IASNC,GACK,eADLA,GAEI,cAFJA,GAGe,UAHfA,GAIc,SAJdA,GAKO,iBA0CLC,GAvCe,SAC5Bt1B,EACAM,GAEA,OAAQA,EAAOrhB,MACb,KAAKo2C,GACH,OAAO,6BACFr1B,GADL,IAEEwxB,KAAMlxB,EAAOi1B,eAAe/D,KAC5ByD,aAAc30B,EAAOi1B,eAAeN,eAExC,KAAKI,GACH,OAAO,6BACFr1B,GADL,IAEEg1B,IAAK10B,EAAOi1B,eAAeP,IAC3BC,aAAc30B,EAAOi1B,eAAeN,eAExC,KAAKI,GACH,OAAO,6BACFr1B,GADL,IAEEwxB,KAAM,CAAEvP,MAAO,GAAIC,MAAO,IAC1B+S,aAAa,6BAAMj1B,EAAMi1B,cAAb,IAA2BG,eAAe,MAE1D,KAAKC,GACH,OAAO,6BACFr1B,GADL,IAEEg1B,IAAK,CAAE/S,MAAO,GAAIC,MAAO,IACzB+S,aAAa,6BAAMj1B,EAAMi1B,cAAb,IAA2BG,eAAe,MAE1D,KAAKC,GACH,OAAO,6BACFr1B,GADL,IAEEi1B,aAAa,6BAAMj1B,EAAMi1B,cAAb,IAA2BG,eAAe,MAE1D,QACE,MAAM,IAAIplC,MAAM,oBCzFTwlC,GACD,UADCA,GAEF,SAGEC,GAAoC,CAC/CjE,KAAM,KACNwD,IAAK,MAcQU,GAXG,SAAC11B,EAAoBM,GACrC,OAAQA,EAAOrhB,MACb,KAAKu2C,GACH,OAAO,6BAAKx1B,GAAZ,IAAmBwxB,KAAMlxB,EAAO2wB,cAClC,KAAKuE,GACH,OAAO,6BAAKx1B,GAAZ,IAAmBg1B,IAAK10B,EAAO2wB,cACjC,QACE,MAAM,IAAIjhC,MAAM,oB,0CCjBhBia,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJwrB,UAAW,aACXprB,QAAS,OACTzsB,MAAO,OACPC,OAAQ,OACR4sC,WAAY,SACZE,WAAY,UACZD,OAAQ,GAEVzY,KAAM,CACJ5H,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,SACZJ,QAAS,MACTtsB,MAAO,OAET+R,QAAS,CACPua,QAAS,QACT9rB,MAAO,UACPs3C,UAAW,UAEb98B,MAAO,CACLyR,QAAS,OACTsE,eAAgB,SAChBrE,WAAY,UAEdqrB,OAAQ,CACNz3C,SAAU,QACVE,MAAO,UACPw3C,OAAQ,MACRC,KAAM,MACNtnB,SAAU,OAEZunB,SAAU,CACR13C,MAAOu3B,EAAMogB,QAAQ/xB,KAAKstB,KAC1B/iB,SAAU,YAoCDynB,GAzBuB,SAAC,GAAuE,IAAD,IAApEp9B,aAAoE,MAA5D,IAA4D,MAAvDjJ,eAAuD,MAA7C,IAA6C,MAAxCsmC,iBAAwC,SACrGprB,EAAUd,KAChB,OACE,uBAAK0B,UAAWZ,EAAQZ,KAAxB,UACE,uBAAKwB,UAAWZ,EAAQoH,KAAxB,UACE,eAAC,KAAD,CAAU1D,SAAS,UAAU9C,UAAWZ,EAAQirB,WAChD,sBAAKrqB,UAAWZ,EAAQjS,MAAxB,SACE,eAACkyB,EAAA,EAAD,CAAYrf,UAAWZ,EAAQlb,QAASgc,QAAQ,KAAhD,SACG/S,MAGL,eAACkyB,EAAA,EAAD,CAAYrf,UAAWZ,EAAQlb,QAASgc,QAAQ,YAAhD,SACGhc,OAGJsmC,EACC,uBAAKxqB,UAAWZ,EAAQ8qB,OAAxB,UACE,eAAC7K,EAAA,EAAD,CAAYnf,QAAQ,KAApB,2CACA,eAAC,KAAD,CAAe4C,SAAS,eAExB,SC7DG2nB,GAAkB,SAACx6C,GAI9B,IAHA,IAAMy6C,EAdO,SAACz6C,GAEd,IADA,IAAI2c,EAAM3c,EAAGiN,OACN0P,KAAO,CACZ,IACMW,EADQtd,EAAG2c,GACI,UACrB,QAAgB9S,IAAZyT,GAAqC,QAAZA,EAC3B,OAAO,EAIX,OAAO,EAIMo9B,CAAO16C,GACdq4C,EAAe,GACjB17B,EAAM3c,EAAGiN,OACN0P,KAAO,CACZ,IAK2B,EALrBiM,EAAQ5oB,EAAG2c,GACXla,EAAMhG,OAAO0C,KAAKypB,GAAO,GACzBvpB,EAAQupB,EAAMnmB,GAEpB,QAA0BoH,IAAtBwuC,EAAa51C,GACf,GAAIA,KAAO41C,GACT,EAAAA,EAAa51C,IAAKiZ,KAAlB,qBAA0Brc,SAE1Bg5C,EAAa51C,GAAOpD,EAI1B,GAAIo7C,EAAM,CACR,IAAMlC,EAAWoC,GAAetC,GAChC,MAAO,CACLE,SAAUA,EACVqC,SAAUC,GAAetC,EAAUF,IAGrC,IAAME,EAAWuC,GAAazC,GAC9B,MAAO,CACLE,WACAqC,SAAUG,GAAaxC,EAAUF,KA6BjCsC,GAAiB,SAACzC,GAqBtB,IApBA,IAAM8C,EAAe,CACnB1vC,KAAM,CACJ8pB,IAAK,IACL9E,MAAO,QAET2qB,WAAY,CACV7lB,IAAK,IACL9E,MAAO,eAKL4qB,EAAiBhD,EAAK,sBAEtBiD,EAvCiB,SACvB53C,EACA6xB,GAEA,IAAM+lB,EAAY,IAAIxM,IAEhByM,EAAS73C,EAAW6xB,GAS1B,OARa34B,OAAO0C,KAAKi8C,GACpBh8C,SAAQ,SAACqD,GACZ,IACMmK,EADQwuC,EAAO34C,GACJ,OACLoH,IAAR+C,GACFuuC,EAAUvM,IAAInsC,EAAKmK,MAGhBuuC,EAwBW30C,CAAiB00C,EAAe,GAAI,SAChDG,EAtBiB,SAAC93C,EAAoB6xB,GAC5C,IAAMgmB,EAAS73C,EAAW6xB,GACpBj2B,EAAiB1C,OAAO0C,KAAKi8C,GACnC,OAAO,IAAItS,IAAI3pC,GAmBEm8C,CAAiBJ,EAAe,GAAI,SAC/C7U,EAAQ6R,EAAK,MACbM,EAAU,GAEZ77B,EAAM0pB,EAAMp5B,OApBwB,aAsBtC,IAAM2b,EAAQyd,EAAM1pB,GACd4+B,EAAQ3yB,EAAK,EACbyhB,EAAU,IAAIsE,IAEpB0M,EAASj8C,SAAQ,SAACqD,GAChB,GACEA,IAAQu4C,EAAa1vC,KAAKglB,OAC1B7tB,IAAQu4C,EAAaC,WAAW3qB,MAChC,CACA,IAAM8E,EAAM4lB,EAAav4C,GAAb,IACN6tB,EAAQ0qB,EAAav4C,GAAb,MACRmK,EAAM2uC,EAAMnmB,GAClBiV,EAAQuE,IAAIte,EAAO1jB,OACd,CACL,IAAIvN,EAAQk8C,EAAQA,EAAM94C,QAAOoH,OACnBA,IAAVxK,IAEFA,EAAQ87C,EAAUxvC,IAAIlJ,SAEVoH,IAAVxK,GACFgrC,EAAQuE,IAAInsC,EAAKpD,OAIvBm5C,EAAQ5vB,EAAMtmB,IAAM+nC,GAzBf1tB,KAAQ,IA2Bf,OAAO67B,GAGHqC,GAAiB,SAACtC,EAAUL,GAChC,IAAM5R,EAAQ4R,EAAK,MACbM,EAAU,GAEhB,QAAc3uC,IAAVy8B,GAAwC,IAAjBA,EAAMr5B,OAE/B,OADAuuC,GAA6BjD,EAAUjS,EAAOkS,GACvCA,EAIT,IADA,IAAI77B,EAAM2pB,EAAMr5B,OATkC,aAWhD,IAAM+C,EAAIs2B,EAAM3pB,GACVra,EAAK0N,EAAC,GACNq6B,EAAU,IAAIsE,IAEd4M,EAAQvrC,EAAC,OACDnG,IAAV0xC,GAAiC,OAAVA,GACZ9+C,OAAO0C,KAAKo8C,GACpBn8C,SAAQ,SAACqD,GACA,MAARA,GACF4nC,EAAQuE,IAAInsC,EAAK84C,EAAM94C,OAI7B+1C,EAAQl2C,GAAM+nC,GAdT1tB,KAAQ,IAkBf,OADA6+B,GAA6BjD,EAAUjS,EAAOkS,GACvCA,GAGHuC,GAAe,SAACxC,EAAUL,GAC9B,IAAM0C,EAAW1C,EAAK,eAChB5R,EAAQ4R,EAAK,MACbM,EAAU,GAEhB,QAAiB3uC,IAAb+wC,EAEF,OADAa,GAA2BlD,EAAUjS,EAAOkS,GACrCA,EAIT,IADA,IAAI77B,EAAMi+B,EAAS3tC,OACZ0P,KAAO,CACZ,IAAMiM,EAAQgyB,EAASj+B,GACjB87B,EAAU7vB,EAAK,GAEjByhB,EAAUmO,EAAQC,QACN5uC,IAAZwgC,IACFA,EAAU,IAAIsE,KAEhBtE,EAAQuE,IAAIhmB,EAAK,EAAOA,EAAK,GAC7B4vB,EAAQC,GAAWpO,EAIrB,OADAoR,GAA2BlD,EAAUjS,EAAOkS,GACrCA,GAGHiD,GAA6B,SAAClD,EAAUjS,EAAOkS,GACnD,QAAc3uC,IAAVy8B,EAIJ,IADA,IAAI3pB,EAAM2pB,EAAMr5B,OACT0P,KAAO,CACZ,IAAM3M,EAAIs2B,EAAM3pB,GACVra,EAAK0N,EAAE,OACTq6B,EAAUmO,EAAQl2C,QACNuH,IAAZwgC,IACFA,EAAU,IAAIsE,IACd6J,EAAQl2C,GAAM+nC,GAEhB,IAAMroB,EAAShS,EAAC,EACV2E,EAAS3E,EAAC,EACV0rC,EAAc1rC,EAAC,EACfjN,EAAIw1C,EAASv2B,GACbhf,EAAIu1C,EAAS5jC,QAET9K,IAAN9G,GACFy1C,EAAQl2C,GAAIssC,IAAI,SAAU7rC,EAAE4I,IAAI,cAExB9B,IAAN7G,GACFw1C,EAAQl2C,GAAIssC,IAAI,SAAU5rC,EAAE2I,IAAI,cAEd9B,IAAhB6xC,GACFlD,EAAQl2C,GAAIssC,IAAI,cAAe8M,KAK/BF,GAA+B,SAACjD,EAAUjS,EAAOkS,GACrD,QAAa3uC,GAATy8B,EAIJ,IADA,IAAI3pB,EAAM2pB,EAAMr5B,OACT0P,KAAO,CACZ,IAAM3M,EAAIs2B,EAAM3pB,GACVra,EAAK0N,EAAC,GACRq6B,EAAUmO,EAAQl2C,QACNuH,IAAZwgC,IACFA,EAAU,IAAIsE,IACd6J,EAAQl2C,GAAM+nC,GAEhB,IACMtnC,EAAIw1C,EADKvoC,EAAC,GAGVhN,EAAIu1C,EADKvoC,EAAC,GAEV0rC,EAAc1rC,EAAC,EAQrB,QANUnG,IAAN9G,GACFy1C,EAAQl2C,GAAIssC,IAAI,SAAU7rC,EAAE4I,IAAI,cAExB9B,IAAN7G,GACFw1C,EAAQl2C,GAAIssC,IAAI,SAAU5rC,EAAE2I,IAAI,cAEd9B,IAAhB6xC,EAA2B,CAC7B,IAAM1wC,EAAI0wC,EAAW,EACrBlD,EAAQl2C,GAAIssC,IAAI,cAAe5jC,MAK/B8vC,GAAe,SAAC5C,GACpB,IAAMK,EAAWL,EAAK,eAChB7R,EAAQ6R,EAAK,MAEbM,EAAU,GAEhB,QAAc3uC,IAAVw8B,EACF,OAAOmS,EAIT,IADA,IAAI77B,EAAM0pB,EAAMp5B,OACT0P,KAAO,CACZ,IAAMxQ,EAAIk6B,EAAM1pB,GACVra,EAAK6J,EAAE,OACbqsC,EAAQl2C,GAAM,IAAIqsC,IAClB6J,EAAQl2C,GAAIssC,IAAI,OAAQziC,EAAC,GACzBqsC,EAAQl2C,GAAIssC,IAAI,aAAcziC,EAAC,GAGjC,QAAiBtC,IAAb0uC,EACF,OAAOC,EAIT,IADA77B,EAAM47B,EAAStrC,OACR0P,KAAO,CACZ,IAAMiM,EAAQ2vB,EAAS57B,GACjB87B,EAAU7vB,EAAK,GACjByhB,EAAUmO,EAAQC,GACtBpO,EAAQuE,IAAIhmB,EAAK,EAAOA,EAAK,GAC7B4vB,EAAQC,GAAWpO,EAGrB,OAAOmO,GChRM,SAASmD,GAAcrkC,EAActX,EAAc47C,GAA0B,IAAD,EACjEvuB,mBAAS,MADwD,mBAClFwuB,EADkF,KAC5EC,EAD4E,OAEnEzuB,mBAAS,MAF0D,mBAElF/qB,EAFkF,KAE9EywC,EAF8E,KAIzF,QAAalpC,IAATyN,GAA+B,OAATA,QAAwBzN,IAAP7J,GAA2B,OAAPA,GAA6B,IAAdA,EAAGiN,OAC/E,MAAO,GAGT,GAAI2uC,EACF,OAAOpB,GAAgBx6C,GAGzB,GAAW,OAAPsC,EAAa,CACfywC,EAAQz7B,GACR,IAAMukC,EAAOrB,GAAgBx6C,GAE7B,OADA87C,EAAQD,GACDA,EAGT,OAAIv5C,IAAOgV,EACFukC,EAGF,G,6CCnBHxtB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJrsB,MAAO,OACPywB,gBAAiB,WAEnBopB,KAAM,CACJptB,QAAS,eACTqtB,WAAY,EACZllB,cAAe,OAEjBmlB,UAAW,CACTC,WAAY,QAEdC,QAAS,CACPD,WAAY,aAkDHE,GA7CE,SAAC,GAAiB,IAK7BnB,EALcoB,EAAc,EAAdA,QACZltB,EAAUd,KAEhBguB,EAAQC,OAAO,QAGXD,EAAQvc,IAAI,gBACdmb,EAAaoB,EAAQ1wC,IAAI,cACzB0wC,EAAQC,OAAO,eAGjB,IAAMn9C,EAAO,aAAIk9C,EAAQl9C,QAAQgyC,MAAK,SAACviC,EAAG/N,GAAJ,OAAU+N,EAAE2tC,cAAc17C,MAOhE,YALkBgJ,GAAdoxC,IACF97C,EAAKoc,QAAQ,cACb8gC,EAAQzN,IAAI,aAAcqM,IAI1B,eAACuB,GAAA,EAAD,CAAMzsB,UAAWZ,EAAQZ,KAAzB,SACGpvB,EAAKnB,KAAI,SAACyE,GACT,OACE,gBAACg6C,GAAA,EAAD,CAAoB1sB,UAAWZ,EAAQ4sB,KAAMW,gBAAc,EAA3D,UACE,eAACtN,EAAA,EAAD,CACE1sC,MAAM,gBACNutB,QAAQ,UACR0sB,eAAgB,CAAEC,QAAS,OAC3B7sB,UAAWZ,EAAQ8sB,UAJrB,SAMGx5C,IAEH,eAAC2sC,EAAA,EAAD,CACEnf,QAAQ,QACRC,UAAU,MACVH,UAAWZ,EAAQgtB,QAHrB,SAKE,eAAC,KAAD,UAAoBE,EAAQ1wC,IAAIlJ,IAAlBA,OAdHA,S,qBC3CnB4rB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJI,QAAS,OACTzsB,MAAO,OACP8wB,cAAe,SACfC,eAAgB,SAChBrE,WAAY,UAEd1R,MAAO,CACLyR,QAAS,OACTzsB,MAAO,OACP+wB,eAAgB,aAChBrE,WAAY,UAEdtjB,KAAM,CACJuxC,WAAY,IACZhqB,SAAU,QACV0B,SAAU,EACVynB,WAAY,SACZllB,cAAe,UAEjBgmB,SAAU,CACR36C,OAAQ,OACRD,MAAO,OACPssB,QAAS,EACTC,OAAQ,EACRsuB,UAAW,oBACXC,UAAW,aA8BFC,GAzBO,SAAC,GAA0B,IAAxBZ,EAAuB,EAAvBA,QAAS7hB,EAAc,EAAdA,QAC1BrL,EAAUd,KAKhB,OACE,uBAAK0B,UAAWZ,EAAQZ,KAAxB,UACE,uBAAKwB,UAAWZ,EAAQjS,MAAxB,UACE,eAACkyB,EAAA,EAAD,CAAYrf,UAAWZ,EAAQ7jB,KAAM2kB,QAAQ,QAA7C,SACGosB,EAAQ1wC,IAAI,UAEf,eAACuxC,EAAA,EAAD,CAAYt5B,QATE,WAClB4W,KAQI,SACE,eAAC,KAAD,SAGJ,sBAAKzK,UAAWZ,EAAQ2tB,SAAxB,SACE,+BACE,eAAC,GAAD,CAAUT,QAASA,Y,UCvDvBc,GAAmB,SAACn9C,GACxB,GAAW,OAAPA,QAAsB6J,IAAP7J,EACjB,MAAO,GAGT,IALsC,EAKlCo9C,GAAW,EALuB,eAMtBp9C,GANsB,IAMtC,2BAAoB,CAClB,GAAyB,QADP,QACX,UAAyB,CAC9Bo9C,GAAW,EACX,QATkC,mDAYtBp9C,GAZsB,IAYtC,2BAAoB,CAAC,IAAZ+M,EAAW,QAClB,GAAIA,EAAG,kBAAuB,CAAC,IAAD,iBACXA,EAAG,mBADQ,IAC5B,2BAA2C,CAAC,IAAnCwpB,EAAkC,QACzC,GAAI6mB,GACF,GAAI7mB,EAAK,YACP,OAAO8mB,GAAa9mB,EAAK,kBAG3B,GAAkB,aAAdA,EAAI,EACN,OAAO8mB,GAAa9mB,EAAI,IARF,iCAbM,8BA2BtC,OAAO,MAGH8mB,GAAe,SAAC5iC,GACpB,IACE,IAAM6iC,EAAa1tC,KAAKG,MAAM0K,GAC9B,OAAOhe,OAAO0C,KAAKm+C,GAAYC,QAC7B,SAACnyC,EAAGoyC,GAAJ,OAAYpyC,EAAEoyC,EAAExrC,eAAiBsrC,EAAWE,GAAKpyC,IACjD,IAEF,MAAO+I,GAEP,OADAsX,QAAQ4qB,KAAK,uDAAwDliC,GAC9D,KAILspC,GAAc,SAACC,EAAgBjjC,GACnC,IAD+C,EAC3CkjC,EAAa,GAD8B,eAE9BD,GAF8B,IAE/C,2BAAuB,CAAC,IAAfnnB,EAAc,QACrBonB,GAAcC,GAAYrnB,EAAM9b,GAAS,GAAS,MAHL,8BAK/C,OAAO1K,aAAM4tC,EAAWtzB,MAAM,GAAI,KAG9BwzB,GAAoB,SAACH,GACzB,IAD4C,EACxCC,EAAa,GAD2B,eAE3BD,GAF2B,IAE5C,2BAAuB,CACrBC,GADqB,QACA,MAHqB,8BAK5C,OAAOA,EAAWtzB,MAAM,GAAI,IAGxBuzB,GAAc,SAACrnB,EAAc9b,EAAiBqjC,GAClD,QAAaj0C,IAAT0sB,GAA+B,OAATA,EACxB,OAAOA,EAGT,IAAIwnB,EAAaxnB,EAAK7pB,WAEtB,QAAgB7C,IAAZ4Q,GAAqC,OAAZA,EAC3B,OAAIqjC,EACK/tC,aAAMguC,GAERA,EAXgE,MAcpD1xB,OAAOkK,GAAMx4B,MAAM,KAdiC,mBAclE+Y,EAdkE,KAc1DxU,EAd0D,KA2BzE,OAZIwU,GAAUxU,GACRwU,EAAO9E,gBAAiByI,IAC1BsjC,EACE,WACAtjC,EAAQ3D,EAAO9E,eACf1P,EACA,8CACAi0B,EACA,QAIFunB,EACK/tC,aAAMguC,GAGRA,GAGHC,GAAsB,SAACznB,EAActkB,GACzC,OAAOlC,aACL,mBACEkC,EACA,oBACAskB,EACA,8CACAA,EACA,SCzFAlI,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJ/rB,SAAU,WACVmsB,QAAS,OACTqE,cAAe,SACfC,eAAgB,aAChBL,SAAU,OACVqrB,UAAW,OACXtrB,gBAAiB,UACjBurB,aAAc,EACdprB,OAAQ,oBACRkc,OAAQ,IACRxgB,QAAS,MACTwtB,WAAY,EACZmC,UAAW,OACXlP,WACE,iRACFmP,iBAAkB,YAClBC,qBAAsB,+BACtBC,eAAgB,mDAKhBC,GAAiB,CACrBC,OAAQ,SACRC,OAAQ,SACRC,YAAa,eAGTC,GACE,OADFA,GAEgB,oBAmLtB,SAASC,KAAuB,IAAD,EACkCl0C,OAC/D,MAAO,CACLm0C,YAH2B,EACrBC,WAGNC,aAJ2B,EACIC,aAwBpBC,OApMe,SAAC,GAAmC,IAAjCj/C,EAAgC,EAAhCA,GAAIk/C,EAA4B,EAA5BA,UAC7B/vB,EAAUd,KACR/W,EAAS6nC,cAAT7nC,KAFuD,EAQ3D6Z,qBAAWqf,IAJb4E,EAJ6D,EAI7DA,QACAuE,EAL6D,EAK7DA,eACAyF,EAN6D,EAM7DA,uBACAjuC,EAP6D,EAO7DA,OAP6D,EAmLjE,WAAgC,IAAD,EACmBkc,mBAC9CuxB,MAF2B,mBACtBS,EADsB,KACJC,EADI,KAc7B,OATAt6B,qBAAU,WACR,SAASipB,IACPqR,EAAoBV,MAItB,OADAl0C,OAAO6I,iBAAiB,SAAU06B,GAC3B,kBAAMvjC,OAAO60C,oBAAoB,SAAUtR,MACjD,IAEIoR,EAxL+BG,GAA9BT,EATuD,EASvDA,aAAcF,EATyC,EASzCA,YAGhBhD,EAAOF,GAAcrkC,EAAMtX,EAAIo1C,EAAQqK,yBACvChlC,EAAUilC,mBAAQ,kBAAMvC,GAAiBn9C,KAAK,CAACA,IAE7Cq5C,EAAiBM,EAAjBN,aAEFsG,EAAwB,kBAC5BP,EAAuB,CAAE/7C,KAAMo2C,MAUjC,GAJAz0B,qBAAU,WACR26B,MACC,CAACvK,EAAQS,wBAGJhsC,GAAN7J,IACCq5C,EAAaG,eACoB,MAAlCG,EAAeN,aAAa/2C,GAE5B,OAAO,yBAGT,IAAMA,EAAKq3C,EAAeN,aAAa/2C,GACnC+5C,EAAU,KAEZA,EADE1C,EAAeN,aAAazY,OACpBib,EAAKtD,SAASj2C,GAEdu5C,EAAKjB,SAASt4C,GAK1B,IACI0f,EAAQrN,EAAQ+mC,EA/C2C,EA8CzDkE,EAAc,IAAIjR,IAEpBkR,GAAa,EACXC,EAAU,GAjD+C,eAmD9CzD,GAnD8C,IAmD/D,2BAA0B,CAAC,IAAlB9lB,EAAiB,QACxB,GAAKojB,EAAeN,aAAazY,OAoB/Bif,GAAa,MApB0B,CACvC,GACE,CACEtB,GAAeC,OACfD,GAAeE,OACfF,GAAeG,aACfqB,SAASxpB,EAAK,IAChB,CACIA,EAAK,KAAOgoB,GAAeC,OAC7Bx8B,EAASuU,EAAK,GACLA,EAAK,KAAOgoB,GAAeE,OACpC9pC,EAAS4hB,EAAK,GAEdmlB,EAAcnlB,EAAK,GAErB,SACSA,EAAK,KAAOooB,KACrBkB,GAAa,GAMjB,GAAIjvC,MAAMjE,QAAQ4pB,EAAK,IAAK,CAAC,IAAD,iBACJA,EAAK,IADD,IAC1B,2BAA+B,CAAC,IAAvBypB,EAAsB,QAC7B,QAAkBn2C,IAAdm2C,GAAyC,KAAdA,EAAkB,CAC/CF,EAAQpkC,KAAK6a,GACb,QAJsB,yCAQV1sB,IAAZ0sB,EAAK,IAAgC,KAAZA,EAAK,IAChCupB,EAAQpkC,KAAK6a,IApF4C,8BAyF/DupB,EAAQ3O,MAAK,SAACviC,EAAG/N,GACf,OAAO+N,EAAE,GAAG2tC,cAAc17C,EAAE,OAG9B,cAAiBi/C,EAAjB,eAA0B,CAArB,IAAIvpB,EAAI,KACPl3B,OAAK,EAEPA,EADEuR,MAAMjE,QAAQ4pB,EAAK,IACbknB,GAAYlnB,EAAK,GAAI9b,GAEzB8b,EAAK,IAAMooB,GACLX,GAAoBznB,EAAK,GAAIplB,EAAO8uC,SAEpCrC,GAAYrnB,EAAK,GAAI9b,GAAS,GAG1CmlC,EAAYhR,IAAIrY,EAAK,GAAIl3B,GAGvBwgD,GACE79B,GAAUrN,IACR+mC,EACFkE,EAAYhR,IACV+P,GACA38B,EAAS,KAAO05B,EAAc,KAAO/mC,GAGvCirC,EAAYhR,IAAI+P,GAAiB38B,EAAS,QAAUrN,IAM1D,IAAMhL,EAAI0vC,EAAaE,YAAY5vC,EAC7BC,EAAIyvC,EAAaE,YAAY3vC,EAG/Bs2C,GAAQ,EACRv2C,GAAKk1C,EAAczJ,EAAQ+K,iBAAmB,IAChDD,GAAQ,GAIV,IAAIhG,GAAS,EACTP,EAAeN,aAAaC,SAC1B1vC,GAAKm1C,EA3HW,IA2HqB,IACvC7E,GAAS,GAGP6E,EAAeG,EAAYt1C,EAAIm1C,EAAe,IAChD7E,GAAS,GAIb,IAAM5xC,EAAQ,CACZ21C,UAA0B,GAAfc,GAqBb,OAnBImB,EACF53C,EAAK,KAAWqB,EAEhBrB,EAAK,MAAYu2C,EAAczJ,EAAQ+K,gBAAkBx2C,EAEvDuwC,EACEP,EAAeN,aAAaC,SAC9BhxC,EAAK,IAAUsB,EAEftB,EAAK,IAAUsB,GAAKm1C,EAAeG,EAhJjB,IAmJhBvF,EAAeN,aAAaC,SAC9BhxC,EAAK,OAAay2C,EAAen1C,EApJf,GAsJlBtB,EAAK,OAAa42C,EAAYt1C,EAKhC,sBAAKmmB,UAAWZ,EAAQZ,KAAMjmB,MAAOA,EAArC,SACE,eAAC,GAAD,CAAe+zC,QAASuD,EAAaplB,QAlJzB,WACdmlB,U,mHC1EES,GAAa,SAAC/K,GAAoC,IAC9CO,EAAcP,EAAdO,KAAMwD,EAAQ/D,EAAR+D,SAEDvvC,IAAT+rC,GAA+B,OAATA,GACxBA,EAAKnS,WAGK55B,IAARuvC,GAA6B,OAARA,GACvBA,EAAI3V,OCHK4c,GACU,mBADVA,GAEa,sBAFbA,GAGY,qBAHZA,GAMqB,6BANrBA,GAOK,eAGLC,GAA4B,CACvCC,eAAe,EACf1K,kBAAkB,EAClBsK,gBAAiB,EACjBV,yBAAyB,EACzBe,UAAW,GAuBEC,GApBQ,SAACr8B,EAAgBM,GACtC,OAAQA,EAAOrhB,MACb,KAAKg9C,GACH,OAAO,6BAAKj8B,GAAZ,IAAmBm8B,cAAe77B,EAAO0wB,QAAQmL,gBACnD,KAAKF,GACH,OAAO,6BAAKj8B,GAAZ,IAAmByxB,iBAAkBnxB,EAAO0wB,QAAQS,mBACtD,KAAKwK,GACH,OAAO,6BAAKj8B,GAAZ,IAAmB+7B,gBAAiBz7B,EAAO0wB,QAAQ+K,kBACrD,KAAKE,GACH,OAAO,6BACFj8B,GADL,IAEEq7B,wBAAyB/6B,EAAO0wB,QAAQqK,0BAE5C,KAAKY,GACH,OAAO,6BAAKj8B,GAAZ,IAAmBo8B,UAAW97B,EAAO0wB,QAAQoL,YAC/C,QACE,MAAM,IAAIpsC,MAAM,oBCwBPssC,GAvDM,WAAO,IAAD,EACgCvvB,qBACvDqf,IADM4E,EADiB,EACjBA,QAASuL,EADQ,EACRA,gBAAiBtL,EADT,EACSA,YAAaoC,EADtB,EACsBA,MAGvC5B,EAAqBT,EAArBS,iBAJiB,EAMDxoB,oBAAkB,GANjB,mBAMlBuzB,EANkB,KAMZC,EANY,KAQzB77B,qBAAU,WAIN67B,EAHY,KAAVpJ,IAAiB5B,KAKpB,CAACA,EAAkB4B,IAEtB,IAcMl0B,EAAUsyB,EACZ,iCACA,qBAEJ,OAAI+K,EACK,yBAIP,eAACE,EAAA,EAAD,CAAS5jC,MAAOqG,EAAS4O,UAAU,QAAQ4uB,OAAK,EAAhD,SACE,+BACE,eAAC7D,EAAA,EAAD,CACEx6C,MAAO,YACP4F,MAAO,CAAEqqB,gBAAiB,eAC1BpC,oBAAoB,EACpBC,eAAe,EACf5M,QAxBY,WANQ,IAACQ,IAOP,6BAAKgxB,GAAN,IAAeS,kBAAmBA,IANrD8K,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAShxB,IAKXlI,YAAW,WACTkkC,GAAW/K,GFpBM,SAACA,EAA0B1B,GAEhD,IAAMiC,EAAOP,EAAYO,UACb/rC,IAAT+rC,GAA+B,OAATA,IAItBjC,GACDiC,EAAKhC,qBAAsBD,GAC3BiC,EAAKvP,QAAQ2a,YACbpL,EAAKvP,QAAQsN,OACbiC,EAAKnsC,WAAWw3C,gBAEhBrL,EAAKhC,qBAAsBD,GAC3BiC,EAAKvP,QAAQ6a,UACbtL,EAAKvP,QAAQyN,SACb8B,EAAKnsC,WAAW03C,cEKdC,CAAe/L,GAAcQ,KAC5B,MAcC,SAOGA,EAAmB,eAAC,KAAD,IAAqB,eAAC,KAAD,WC7C7CxnB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJygB,OAAQ,IACRkP,aAAc,EACdprB,OAAQ,oBACRH,gBAAiB,UACjBnwB,SAAU,WACV09C,MAAO,MACPhG,OAAQ,OAEVmH,OAAQ,CACNn/C,MAAO,OACPC,OAAQ,OACRwwB,gBAAiB,gBAuFR2uB,GAlFS,SAAC,GAAyB,IAAD,IAAtB3sC,cAAsB,MAAb,OAAa,EACzCwa,EAAUd,KAChB,EAAsC8C,qBAAWqf,IAAzC6E,EAAR,EAAQA,YAAakM,EAArB,EAAqBA,aAEjB7N,EAAK2B,EAAYO,KACN,QAAXjhC,IACF++B,EAAK2B,EAAY+D,KAgCnB,OACE,gBAACoI,GAAA,EAAD,CACEzxB,UAAWZ,EAAQZ,KACnB6H,YAAY,WACZ1zB,MAAM,YACNutB,QAAQ,WACRM,oBAAoB,EACpBC,eAAe,EANjB,UAQc,SAAX7b,EAAoB,eAAC,GAAD,IAAmB,yBACxC,eAACuoC,EAAA,EAAD,CAEEx6C,MAAO,YACP4F,MAAO,CAAEqqB,gBAAiB,eAC1B/O,QA3CY,SAAC+U,GACN,OAAP+a,QAAsB7pC,IAAP6pC,EACjBA,EAAGjQ,WACuB55B,IAAjB03C,GAA+C,OAAjBA,GAEvCA,EAAa9d,OAkCb,SAME,eAAC,KAAD,KALK,aAOC,OAAPiQ,QAAsB7pC,IAAP6pC,EACd,yBAEA,CACE,eAACwJ,EAAA,EAAD,CAEEx6C,MAAO,YACP4F,MAAO,CAAEqqB,gBAAiB,eAC1B/O,QA/CW,SAAC+U,GACpB,GAAW,OAAP+a,QAAsB7pC,IAAP6pC,EAAkB,CACnC,IACM+N,EAAyB,IADX/N,EAAGtM,OAEvBsM,EAAGtM,KAAKqa,aACkB53C,IAAjB03C,GAA+C,OAAjBA,GAEvCA,EAAa5d,UAoCT,SAME,eAAC,KAAD,KALK,gBAOP,eAACuZ,EAAA,EAAD,CAEEx6C,MAAO,YACP4F,MAAO,CAAEqqB,gBAAiB,eAC1B/O,QA7CY,SAAC+U,GACrB,GAAW,OAAP+a,QAAsB7pC,IAAP6pC,EAAkB,CACnC,IACM+N,EAAyB,GADX/N,EAAGtM,OAEvBsM,EAAGtM,KAAKqa,aACkB53C,IAAjB03C,GAA+C,OAAjBA,GAEvCA,EAAa1d,WAkCT,SAME,eAAC,KAAD,KALK,sB,UC3FXxV,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJwrB,UAAW,aACXprB,QAAS,OACTzsB,MAAO,OACPC,OAAQ,OACR4sC,WAAY,SACZE,WAAY,UACZD,OAAQ,GAEVzY,KAAM,CACJ5H,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,SACZJ,QAAS,MACTtsB,MAAO,OAET+R,QAAS,CACPua,QAAS,QACT9rB,MAAO,UACPs3C,UAAW,UAEb98B,MAAO,CACLyR,QAAS,OACTsE,eAAgB,SAChBrE,WAAY,UAEdqrB,OAAQ,CACNz3C,SAAU,QACVE,MAAO,UACPw3C,OAAQ,MACRC,KAAM,MACNtnB,SAAU,OAEZ6uB,YAAa,CACXh/C,MAAO,MACPmwB,SAAU,YAmDD8uB,GA5CgB,WAC7B,IAAMxyB,EAAUd,KAER/W,EAAS6nC,cAAT7nC,KAH2B,EAKK+V,wBAASxjB,GALd,mBAK5B+3C,EAL4B,KAKdC,EALc,OAOkB1wB,qBAAWqf,IAAxDiH,EAP2B,EAO3BA,MAAOqK,EAPoB,EAOpBA,UAAW/L,EAPS,EAOTA,eAAgB5kC,EAPP,EAOOA,OAY1C,OACE,sBAAK4e,UAAWZ,EAAQZ,KAAxB,SACE,uBAAKwB,UAAWZ,EAAQoH,KAAxB,UACE,sBAAKxG,UAAWZ,EAAQjS,MAAxB,SACE,eAACkyB,EAAA,EAAD,CAAYrf,UAAWZ,EAAQlb,QAASgc,QAAQ,SAIlD,gBAACmf,EAAA,EAAD,CAAYrf,UAAWZ,EAAQlb,QAASgc,QAAQ,YAAhD,2CACiC9e,EAAO4wC,aADxC,2CAC6F,wBACzFhM,EAAevZ,QAAU,qEAAuE,wEAElGuZ,EAAevZ,SAAW,eAACwlB,EAAA,EAAD,CAAQp+B,QAtBvB,WACjB4zB,GAAUlgC,EAAMmgC,EAAOtmC,EAAO8wC,UAAWlM,EAAgB+L,GAAWluC,MAAK,WACvEiuC,EAAgB,oCAoB2C5xB,QAAQ,YAArC,iCAC5B,eAACiyB,GAAA,EAAD,CACEnwC,UAAsBlI,GAAhB+3C,EACNjnB,aAAe,CAACC,SAAU,MAAOC,WAAY,UAC7CsnB,iBAAkB,IAClB3nB,QArBY,WAClBqnB,OAAgBh4C,IAqBVoK,QAAS2tC,U,UC7DbvzB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXqoB,MAAO,CACLlgD,MAAO,OACPC,OAAQ,OACRwsB,QAAS,OACTqE,cAAe,SACfxwB,SAAU,YAEZ6+C,OAAQ,CACNn/C,MAAO,OACP8sC,OAAQ,IAEVqT,WAAY,CACV9tB,SAAU,EACVryB,MAAO,OACPysB,QAAS,OACTqE,cAAe,SACfxwB,SAAU,WACVL,OAAQ,OACR6sC,OAAQ,KAEV9xB,MAAO,CACL1a,SAAU,QACVw5C,WAAY,MACZ7B,KAAM,MACNz3C,MAAO,wBACPssC,OAAQ,IACR9sC,MAAO,OAETogD,aAAc,CACZ9/C,SAAU,QACV03C,OAAQ,MACRC,KAAM,MACNz3C,MAAO,sBACPssC,OAAQ,UAijBCuT,GAhiBqB,SAAC,GAQnB,IAiDZC,EAxDJxiD,EAOe,EAPfA,GACAyiD,EAMe,EANfA,SACArwB,EAKe,EALfA,YACAswB,EAIe,EAJfA,WACAC,EAGe,EAHfA,SACAC,EAEe,EAFfA,SACAC,EACe,EADfA,OAEM1zB,EAAUd,KACR/W,EAAS6nC,cAAT7nC,KAFO,EAGS+V,oBAAS,GAHlB,mBAGF2nB,GAHE,WAIT8N,EAA+B,GAArBp4C,OAAOs0C,YACjB+D,EAA+B,GAArBr4C,OAAOs0C,YALR,EAMS3xB,mBAASy1B,GANlB,mBAMRhqC,EANQ,KAMFkqC,EANE,OAOmB31B,mBAAS,GAP5B,mBAOR6xB,EAPQ,KAOG+D,EAPH,OAsBX9xB,qBAAWqf,IAZbiH,EAVa,EAUbA,MACAqK,EAXa,EAWbA,UACAnB,EAZa,EAYbA,gBACAvL,EAba,EAabA,QACA8N,EAda,EAcbA,WAEAvJ,GAhBa,EAebtE,YAfa,EAgBbsE,gBACAyF,EAjBa,EAiBbA,uBACAjuC,EAlBa,EAkBbA,OACA4kC,EAnBa,EAmBbA,eACAoN,EApBa,EAoBbA,QACAC,EArBa,EAqBbA,WAGIC,EAAe3K,GACnBphC,EACAmgC,EACAtmC,EAAO8wC,UACPlM,EACA+L,EACA3wC,EAAO4wC,cAODuB,EAAkBnyC,EAAlBmyC,cACAzN,EAAqBT,EAArBS,iBAUFwL,EAASgC,EAAa5jD,UAEboK,IAAXw3C,GAEFuB,EADAJ,EAAQnB,EAAM,IAIhB,IAAMxI,EAfc,SAACjsC,GACnB,IAAMy+B,EAAMrE,mBAIZ,OAHAhiB,qBAAU,WACRqmB,EAAIhB,QAAUz9B,KAETy+B,EAAIhB,QAUAkZ,CAAYf,GAEnBnwB,EAAiB,SAACmxB,EAAehB,GACrC,IAAMiB,EAAQD,EAAchB,GAC5B,OAAOiB,GAAgB,GAGnBzL,OACOnuC,IAAXw3C,GAAuBA,EAAM,kBAE/Br8B,qBAAU,WACR,QAAcnb,IAAV24C,GAIA3J,IAAS2J,EAAO,CAClB,IAAMkB,EAAsBrxB,EAAemd,GAAcgT,GACnDmB,EAAsBtxB,EAAeqd,GAAc8S,GAEzDY,EAAW,6BACND,GADK,IAERO,oBAAqBA,EACrBC,oBAAqBA,QAGxB,CAACN,IAEJ,IAAMO,EAAoB,CACxBxP,yBAA0B,SACxB/N,EACAC,EACAud,EACAC,EACAC,GAGE3E,EADEyE,EACqB,CACrBxgD,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZ/D,KAAM,CAAEvP,MAAOA,EAAOC,MAAOA,GAC7B+S,aAAc,CACZzY,OAA6B,SAArBijB,EACRvK,UAAU,EACVh3C,GAAIwhD,EACJtK,eAAe,EACfD,YAAawK,MAKI,CACrB1gD,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZ/D,KAAM,CAAEvP,MAAOA,EAAOC,MAAOA,GAC7B+S,aAAc,CACZzY,OAAQ,KACR0Y,UAAU,EACVh3C,GAAI,KACJk3C,eAAe,EACfD,YAAa,WAMjBlT,EAAMp5B,OAAS,GAAKq5B,EAAMr5B,OAAS,KACZ,SAArB42C,GAA+Bxd,EAAMp5B,OAAS,EAChD0zC,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,MAGe,SAArBqD,GAA+Bvd,EAAMr5B,OAAS,EACvD0zC,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,MAGNna,EAAMp5B,OAAS,EACxB0zC,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,MAIfG,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,QAMO,IAAtBpL,EAAQoL,WAAmBna,EAAMp5B,QAAU,GAQd,IAAtBmoC,EAAQoL,WAAmBla,EAAMr5B,QAAU,IAPpD0zC,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,OAanBrO,SAAU,WACRiN,EAAuB,CACrB/7C,KAAMo2C,KAERkH,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,QAMbwD,EAAmB,CACvB5P,yBAA0B,SACxB/N,EACAC,EACAud,EACAC,EACAC,GAGE3E,EADEyE,EACqB,CACrBxgD,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZP,IAAK,CAAE/S,MAAOA,EAAOC,MAAOA,GAC5B+S,aAAc,CACZzY,OAA6B,SAArBijB,EACRvK,UAAU,EACVh3C,GAAIwhD,EACJtK,eAAe,EACfD,YAAawK,MAKI,CACrB1gD,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZP,IAAK,CAAE/S,MAAOA,EAAOC,MAAOA,GAC5B+S,aAAc,CAAEG,eAAe,QAKjCnT,EAAMp5B,OAAS,GAAKq5B,EAAMr5B,OAAS,KACZ,OAArB42C,EACFlD,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAgC,SAArBqD,EAA8B,EAAI,MAGxCxd,EAAMp5B,OAAS,EACxB0zC,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,MAIfG,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,QAMrBrO,SAAU,WACRiN,EAAuB,CACrB/7C,KAAMo2C,KAERkH,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,QAMbyD,EAAmB,CACvBnS,sBAAuB,SAACxvC,EAAIuhD,EAAkBE,GAE1C3E,EADuB,SAArByE,EACqB,CACrBxgD,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZ/D,KAAM,CACJvP,MAAO,CAAC/jC,GACRgkC,MAAO,IAET+S,aAAc,CACZzY,QAAQ,EACR0Y,UAAU,EACVh3C,GAAIA,EACJk3C,eAAe,EACfD,YAAawK,MAKI,CACrB1gD,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZ/D,KAAM,CACJvP,MAAO,GACPC,MAAO,CAAChkC,IAEV+2C,aAAc,CACZzY,QAAQ,EACR0Y,UAAU,EACVh3C,GAAIA,EACJk3C,eAAe,EACfD,YAAawK,QAMvB7R,mBAAoB,SAAC7L,EAAmBC,GACtC,IAAMyG,EAAU1G,EAAMroC,KAAI,SAACumC,GAAD,OAAQA,EAAGjiC,MAC/B6xC,EAAU7N,EAAMtoC,KAAI,SAAC6mC,GAAD,OAAQA,EAAGviC,MACrC88C,EAAuB,CACrB/7C,KAAMo2C,GACNE,eAAe,6BACVA,GADS,IAEZ/D,KAAM,CACJvP,MAAO0G,EACPzG,MAAO6N,QAKfhC,SAAU,WACRiN,EAAuB,CAAE/7C,KAAMo2C,KAC/BkH,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAQ,6BACHA,GADE,IAELoL,UAAW,QAMb0D,EAAU,SAACxQ,GAAD,OACdwP,EAAW,CAAE7/C,KAAMu2C,GAAoBvE,YAAa3B,KAChDyQ,EAAS,SAACzQ,GAAD,OACbwP,EAAW,CAAE7/C,KAAMu2C,GAAmBvE,YAAa3B,KAC/C0Q,EAA6B,SAAChgC,GAAD,OACjCu8B,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAShxB,KAGPigC,EAAkB,SAAC5B,GAEvB,IAAKE,GAAYvwB,EAAcjhB,EAAOmzC,gBAOpC,OANKlP,EAAQqK,yBACX2E,EAA2B,6BACtBhP,GADqB,IAExBqK,yBAAyB,KAI3B,eAAC,GAAD,CACElF,WAAYnF,EAAQS,iBACpB34B,MAAM,wBACNjJ,QAAO,qPAMN,GACLme,EAAckxB,GACdZ,EAAavxC,EAAOozC,aACpB1B,EACA,CACKzN,EAAQqK,yBACX2E,EAA2B,6BACtBhP,GADqB,IAExBqK,yBAAyB,KAG7B,IAAIviC,EAAQ,+BACRjJ,EAAO,oBAAgBme,EAAhB,+IAOX,OALIywB,IACF3lC,EAAQ,uBACRjJ,EACE,2FAGF,eAAC,GAAD,CACEsmC,WAAYnF,EAAQS,iBACpB34B,MAAOA,EACPjJ,QAASA,IAKf,IAAMuwC,EAAUpU,GAA0BpwC,GAC1C,GAAiB,QAAbyiD,EAAoB,CACtB,IAAM/4C,EAASqmC,GAAc/vC,EA3ZjB,KA4ZZ,OACE,eAAC,GAAD,CACEsX,KAAMA,EACNtX,GAAIA,EACJsxC,WAAY5nC,EACZqrC,eAAgBmP,EAChBzjB,cAAemjB,EACfjxB,gBAAiB6xB,IAIrB,IAAM96C,ExBpZS,SAAC1J,GACpB,IAAMqmC,EAAQkJ,GAAS,QAASvvC,GAChC,QAAc6J,IAAVw8B,GAAwC,IAAjBA,EAAMp5B,OAC/B,OAAOkjC,GAGT,IAAM7uC,EAAO+kC,EAAM,GACnB,YAAax8B,IAATvI,QAIWuI,IAAXvI,EAAKqI,QAA8BE,IAAXvI,EAAKsI,GAA+B,IAAXtI,EAAKqI,GAAsB,IAAXrI,EAAKsI,EAHjEumC,GAOF,SwBqYYsU,CAAazkD,GAC5B,OACE,eAAC,GAAD,CACEA,GAAIA,EACJygC,cAAewjB,EACf7iB,cAAeuY,EAAe/D,KAAKvP,MACnC9G,cAAeoa,EAAe/D,KAAKtP,MACnC3T,gBAAiB6xB,EACjBlT,WAAY5nC,EACZg1B,UAAWmX,KAMf/iB,GAAS,OACP4xB,GAAiB,WAErB,IAAKrB,EAAa71B,gBAAuB3jB,IAAV24C,GAAuB3M,EAAkB,CAEtE,OAAO,eAAC,GAAD,CAAS5hC,QADA,wBACkBk7B,aAAa,IAGjD,GAAIkU,EAAa71B,gBAAuB3jB,IAAV24C,GAAuB3M,EAAkB,CAGrE,OAAO,eAAC,GAAD,CAAS5hC,QADF,wBACoBk7B,aAAa,IAGjD,GAAI6I,EACF,OAAO,eAAC,GAAD,IAKT,GAAc,IAFAmL,EAAQO,oBAAsBP,EAAQQ,qBAEjC9N,EACjB,OACE,eAAC,GAAD,CACE5hC,QAAS,2DACTk7B,aAAa,IAKnB,GAC0B,YAAxBkU,EAAa/yC,SACZ+yC,EAAa71B,gBACJ3jB,IAAV24C,GACA3M,EACA,CACA,IAAMnsC,EAASqmC,GAAcyS,EAzdjB,KA2dZ1vB,GArgBc,oBAsgBd,IAAM0xB,EAAUpU,GAA0BoS,GAC1C,OACE,sBAAKl6C,MAAO,CAAEpG,MAAO,OAAQC,OAAQ,OAAQ46C,UAAWjqB,IAAxD,SACE,eAAC,GAAD,CACExb,KAAMA,EACNtX,GAAIwiD,EACJ/hB,cAAeujB,EACf1S,WAAY5nC,EACZsrC,QAASA,EACTD,eAAgBoP,EAChBxxB,gBAAiB6xB,MAMvB,OAAO,eAAC,GAAD,CAASvwC,QADA,qDACkBk7B,aAAa,KAMnD,OACE,uBAAKpf,UAAWZ,EAAQizB,MAAxB,UACE,eAAC,GAAD,CACEpiD,GAAIo1C,EAAQqK,wBAA0B+C,EAAQxiD,EAC9Ck/C,UAAWA,IAEZrJ,EACC,gBAAC,KAAD,CACE93C,MAAM,aACN4mD,WAVY,CAAE1V,WAAY,UAAWD,OAAQ,IAW7C4V,WAZS,CAAE3V,WAAY,UAAWD,OAAQ,GAa1Cl2B,KAAMA,EACNiqC,QAASA,EACT8B,QAAS,EACTC,eA3cW,SAACC,GAClB/B,EAAQ+B,IAmcJ,UASE,uBAAKh1B,UAAWZ,EAAQkzB,WAAxB,UACE,eAAC,GAAD,CAAiB1tC,OAAQ,SACvBkhC,EAGA,eAACzG,EAAA,EAAD,CAAYrf,UAAWZ,EAAQjS,MAA/B,sBAFA,yBAIDmnC,EAAgB5B,MAEnB,eAAC,KAAD,CAAWuC,cAAY,EAAvB,SACG,YAAwB,IAArB7iD,EAAoB,EAApBA,OAAoB,EAAZD,MAIV,OAHIC,IAAW+8C,GACb+D,EAAa9gD,GAGb,uBAAK4tB,UAAWZ,EAAQkyB,OAAQ/4C,MAAO,CAAEnG,OAAQA,GAAjD,UACG0zC,EACC,eAAC,GAAD,CAAiBlhC,OAAQ,QAEzB,yBAED+vC,cAOX,uBAAK30B,UAAWZ,EAAQkzB,WAAxB,UACE,eAAC,GAAD,CAAiB1tC,OAAQ,SACvBkhC,EAGA,eAACzG,EAAA,EAAD,CAAYrf,UAAWZ,EAAQjS,MAA/B,sBAFA,yBAIDmnC,EAAgB5B,U,8BCxmBrBp0B,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9CgrB,sBAAuB,CACrBz2B,QAASyL,EAAMkB,QAAQ,GACvB4hB,UAAU,aAAD,OAAe9iB,EAAMogB,QAAQ6K,SACtCC,aAAa,aAAD,OAAelrB,EAAMogB,QAAQ6K,SACzC,UAAW,CACTvyB,gBAAiB,iCACjByyB,OAAQ,WAEVjjD,OAAQ,SAEVkjD,iBAAkB,CAChBvuB,cAAemD,EAAMkB,QAAQ,IAE/BmqB,WAAY,CACVC,MAAO,aAiEIC,GAnDqC,SAAC,GAQ/C,EAPJC,cAOK,IAAD,IANJvoC,aAMI,MANI,IAMJ,EALJqH,EAKI,EALJA,SACAoO,EAII,EAJJA,gBACA5gB,EAGI,EAHJA,KACA2zC,EAEI,EAFJA,QAIMv2B,EAAUd,KAEhBrJ,qBAAU,WACRyG,QAAQoV,IAAI9uB,KACX,IAMH,OACE,uCACE,sBACE6R,QAPe,WACnB8hC,GAAS3zC,IAOLge,UAAWZ,EAAQ81B,sBACnB38C,MAAO,CAAEqqB,mBAHX,SAKE,gBAACyc,EAAA,EAAD,CAAYnf,QAAQ,YAAYvtB,MAAM,gBAAtC,UACGwa,EACAnL,EACC,eAAC4zC,GAAA,EAAD,CAAY51B,UAAWZ,EAAQm2B,aAE/B,eAACM,GAAA,EAAD,CAAY71B,UAAWZ,EAAQm2B,kBAIrC,sBAAKh9C,MAAO,CAAEu9C,UAAW,QAAzB,SACE,eAACC,GAAA,EAAD,CACEC,GAAIh0C,EACJ9B,QAAQ,OACR+1C,eAAa,EACbj2B,UAAWZ,EAAQk2B,iBACnB/8C,MAAO,CAAEqqB,kBAAiBuH,aAAc,SAL1C,SAOG3V,UC1EL8J,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9C1L,KAAM,CACJC,QAASyL,EAAMkB,QAAQ,IAEzB8qB,aAAc,CACZjyB,UAAWiG,EAAMkB,QAAQ,QA2Bd+qB,GAvBgB,SAACtxC,GAAW,IACjCuuC,EAAqBvuC,EAArBuuC,QAAS3tB,EAAY5gB,EAAZ4gB,QACXrG,EAAUd,KAEhB,OACE,uBAAK0B,UAAWZ,EAAQZ,KAAxB,UACG40B,EACC,eAAC/T,EAAA,EAAD,CACEnf,QAAQ,UACRvtB,MAAM,gBACNisB,QAAQ,QACRoB,UAAWZ,EAAQ82B,aAJrB,SAMG9C,IAED,KACJ,eAAC/T,EAAA,EAAD,CAAYnf,QAAQ,QAAQtB,QAAQ,QAAQuB,UAAU,MAAtD,SACGsF,QCpBHnH,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9CksB,QAAS,CACPhkD,OAAQ,OACR87C,UAAW,OACX4H,UAAW,OACX1H,UAAW,SACXrnB,cAAe,QACfmY,WAAY,WAGdmX,aAAc,CACZjkD,OAAQ,OACR8sC,WAAY,QACZkP,UAAW,QAGbkI,MAAO,CACLC,YAAa,EACbC,cAAe,EACfC,eAAgB,YAElBC,QAAS,CACPC,WAAY,SACZhwB,aAAc,MACdxC,YAAa,EACbyyB,cAAe,OAEjBC,UAAW,CACTC,SAAU,aACVC,UAAW,YACXH,cAAe,OAGjBI,KAAM,CACJJ,cAAe,SACfxkD,OAAQ,QACR6zB,WAAYiE,EAAMkB,QAAQ,QAsOxB6rB,GAAc,SAACC,GACnB,QAAep9C,IAAXo9C,EAGJ,OAAOA,EAAOhnC,OAAO,GAAGjO,cAAgBi1C,EAAO58B,MAAM,IAGjD68B,GAAgB,SAACD,GACrB,QAAep9C,IAAXo9C,EAOJ,OAJAA,EAASA,EACNv6C,WACAsC,QAAQ,yDAA0D,IACrEi4C,EAASl3C,aAAMk3C,IAKXE,GAAoB,SAACF,GACzB,QAAep9C,IAAXo9C,EAOJ,OAJAA,EAASA,EACNv6C,WACAsC,QAAQ,yDAA0D,IACrEi4C,EAASl3C,aAAMk3C,IAIXG,GAAgB,SAACC,GACrB,IADwC,EAClC14B,EAAU,GACZ0V,EAAQ,EAF4B,eAGnBgjB,GAHmB,IAGxC,2BAAqC,CAAC,IAA7Bh7C,EAA4B,QACnCsiB,EAAQjT,KACN,eAAC,GAAD,CACEynC,QAAS92C,EAAS,GAClBmpB,QAASnpB,EAAS,IACbg4B,OAR6B,8BAYxC,OAAO1V,GAGM24B,GA3QV,SAAC,GAA4C,IAgB5CC,EACAC,EACAC,EAlBEtE,EAAyC,EAAzCA,QAASuE,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,cACrBC,EAAazE,EAAQyE,WACrBC,EAAc1E,EAAQ0E,YACtB14B,EAAUd,KAkBVy5B,EAA2B,GASjC,GARI3E,EAAQ4E,OACVD,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,mBACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SAAmCzD,EAAQ4E,UAFrC,UAMR5E,EAAQ6E,aAAc,CACxB,IAAMC,EAAe,IAAIvnC,KAAKyiC,EAAQ6E,cACtCF,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,qBACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SACGqB,EAAaC,qBACZ,IACAD,EAAaE,yBALX,YAUZ,GAAIhF,EAAQiF,iBAAkB,CAC5B,IAAMC,EAAmB,IAAI3nC,KAAKyiC,EAAQiF,kBAC1CN,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,2BACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SACGyB,EAAiBH,qBAChB,IACAG,EAAiBF,yBALf,iBAkDZ,GAxCIhF,EAAQvrC,YACVkwC,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,kBACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SAAmCzD,EAAQvrC,eAFrC,SAMRurC,EAAQ7lC,SACVwqC,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,qBACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SAAmCzD,EAAQ7lC,YAFrC,YAMR6lC,EAAQmF,cAERnF,EAAQoF,YACgB,QAAvBpF,EAAQoF,YAA+C,SAAvBpF,EAAQoF,WAWzCT,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,wBACA,sBAAI12B,UAAWZ,EAAQy3B,UAAvB,cACIzD,EAAQmF,WAAWl1C,cAAciX,MAAM,GAD3C,yBAFM,eAVVy9B,EAAyBpsC,KACvB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,wBACA,sBAAI12B,UAAWZ,EAAQy3B,UAAW4B,OAAO,SAAzC,cACIrF,EAAQmF,WAAWl1C,cAAciX,MAAM,GAD3C,qBAFM,gBAkBVy9B,EAAyB76C,OAAS,EAAG,CACvC,IAAMw7C,EAAkB,CACtB,CACE,KACA,wBAAO14B,UAAWZ,EAAQk3B,MAA1B,SACE,iCAAQyB,QAIdP,EAAqBH,GAAcqB,GAIrC,IACIC,EACAC,EACAC,EAhH2C,EA6GzCC,EAAyB,GA7GgB,eAiH1BjB,GAjH0B,IAiH/C,2BAAiC,CAAC,IAAzBv7C,EAAwB,QACzBhN,EAAQgN,EAAShN,MAAMyP,OACvBg6C,EAAYz8C,EAAS08C,gBAAgBj6C,OAC3C,GAAc,KAAVzP,IAAiBypD,EAAUE,WAAW,MAAO,CAC/C,GAAkB,aAAdF,EACF,SACK,GAAkB,WAAdA,EACT,GAAIzpD,EAAM0gD,SAAS,KAAM,CACvB,MAAoB1gD,EAAMtB,MAAM,KAAhC,mBACA2qD,EAAS,4BADT,KAC6C,KAD7C,KAC2D,YAE3DA,EAASrpD,MAEY,iBAAdypD,EACTH,EAAetpD,EACQ,cAAdypD,EACTF,EAAYvpD,EAEZwpD,EAAuBntC,KACrB,gCACE,qBAAIqU,UAAWZ,EAAQs3B,QAAvB,SAAiCO,GAAY8B,KAC7C,qBAAI/4B,UAAWZ,EAAQy3B,UAAvB,SAAmCM,GAAc7nD,OAF1CypD,MApI8B,8BA4I3CD,EAAuB57C,OAAS,IAClCw6C,EAAoBL,GAAc,CAChC,CACE,KACA,wBAAOr3B,UAAWZ,EAAQk3B,MAA1B,SACE,iCAAQwC,UAOhB,IAAMI,EAAkB,GAIxB,QAHoBp/C,IAAhBg+C,GAA6BA,EAAY56C,OAAS,GACpDg8C,EAAgBvtC,KAAK,CAAC,KAAMyrC,GAAkBU,KAE5Ca,GAAUC,EAAc,CAC1B,IAAMO,EACJ,wBAAOn5B,UAAWZ,EAAQk3B,MAA1B,SACE,mCACGqC,EACC,gCACE,qBAAI34B,UAAWZ,EAAQs3B,QAAvB,oBACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SAAmCM,GAAcwB,QAEjD,KACHC,EACC,gCACE,qBAAI54B,UAAWZ,EAAQs3B,QAAvB,2BACA,qBAAI12B,UAAWZ,EAAQy3B,UAAvB,SACGM,GAAcyB,QAGjB,UAIVM,EAAgBvtC,KAAK,CAAC,SAAUwtC,IAE9BN,GACFK,EAAgBvtC,KAAK,CAAC,YAAawrC,GAAc0B,KAE/CK,EAAgBh8C,OAAS,IAC3Bu6C,EAAqBJ,GAAc6B,IAGrC,IAAIE,EAAiB,EACrB,OACE,sBAAKp5B,UAAWZ,EAAQg3B,QAAxB,SACE,uBAAKp2B,UAAWZ,EAAQi3B,aAAxB,UACGmB,EACC,eAAC,GAAD,CACErqC,MAAM,sBACNqH,SAAUgjC,EACV50B,gBAAiBw2B,IAAmB,IAAM,EAAI,UAAY,QAC1Dp3C,KAAM21C,EAAW0B,YACjB1D,QA/Lc,SAAC94C,GACvB+6C,EAAc,6BAAKD,GAAN,IAAkB0B,YAAax8C,QAgMpC,KACH46C,EACC,eAAC,GAAD,CACEtqC,MAAM,cACNqH,SAAUijC,EACV70B,gBAAiBw2B,IAAmB,IAAM,EAAI,UAAY,QAC1Dp3C,KAAM21C,EAAW2B,gBACjB3D,QApMqB,SAAC94C,GAC9B+6C,EAAc,6BAAKD,GAAN,IAAkB2B,gBAAiBz8C,QAqMxC,KACH66C,EACC,eAAC,GAAD,CACEvqC,MAAM,aACNqH,SAAUkjC,EACV90B,gBAAiBw2B,IAAmB,IAAM,EAAI,UAAY,QAC1Dp3C,KAAM21C,EAAW4B,UACjB5D,QAzMe,SAAC94C,GACxB+6C,EAAc,6BAAKD,GAAN,IAAkB4B,UAAW18C,QA0MlC,WCtQN28C,GAAa,G,SAEJC,G,uFAAf,WACElyC,EACAwL,EACA2mC,EACA/R,GAJF,qBAAA9oC,EAAA,8DAQgB/E,KAFR6/C,EAAQH,GAAWjyC,IAN3B,yCASWoyC,GATX,UAYOhS,EAAWnb,OAZlB,8CAaW1yB,GAbX,UAgBQo2C,EAhBR,UAgBqBn9B,EAhBrB,YAgBkC2mC,GAhBlC,SAkBU3kC,EAAaqxB,GAAc8J,EAASvI,GACtCyL,EAAU,UACct5C,IAAzB6tC,EAAWn/B,WAAoD,KAAzBm/B,EAAWn/B,UApBxD,kCAqBsBuM,EAAW0kC,kBAAkBlyC,EAAMogC,EAAWn/B,WArBpE,QAqBM4qC,EArBN,gDAuBsBr+B,EAAW0kC,kBAAkBlyC,GAvBnD,QAuBM6rC,EAvBN,kBAyBIoG,GAAWjyC,GAAQ6rC,EAEdwG,GAAexG,GA3BxB,uBA4BY,IAAIxQ,GAAUwQ,EAAQluB,aAAc,CACxC20B,WAAY,+CA7BpB,iCAiCWzG,GAjCX,wCAmCU,IAAIxQ,GAAU,aAAd,MAnCV,2D,sBAuCA,IAAMgX,GAAiB,SAACxG,GAEtB,OADA13B,QAAQoV,IAAI,WAAYsiB,QACRt5C,IAAZs5C,GAAqC,OAAZA,IAGC,KAA5BA,EAAO,mBACqBt5C,IAA5Bs5C,EAAO,eAQI,SAAS0G,GACtBvyC,EACAwL,GAGC,IAFD2mC,EAEA,uDAFqB,KACrB/R,EACA,uCAEMx3B,EAAW4pC,cACXxxC,EAAoBm+B,GAAav2B,EAASN,QAKhD,OAJiB,OAAdtH,IACDo/B,EAAWn/B,UAAYD,GAGlB0gC,oBACL,CAAC,iBAAkB1hC,EAAMwL,EAAW2mC,EAAY/R,IAChD,kBAAM8R,GAAkBlyC,EAAMwL,EAAW2mC,EAAY/R,KACrD,CACEwB,OAAO,I,IC/ER6Q,G,sGAAAA,K,gBAAAA,E,0BAAAA,E,sCAAAA,E,iDAAAA,Q,KAOUA,I,GCLHC,GDKGD,MEMT17B,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9ChG,YAAa,CACX/xB,MAAO,OACP,uBAAwB,CACtB2wB,SAAU,gBAKVo3B,GAAsB,CAACF,GAAYG,IAAKH,GAAYI,UACpDC,GAAqB,CAACL,GAAYM,UAAWN,GAAYO,gBA2EhDC,GApEV,SAAC,GAKe,IAJnB5Q,EAIkB,EAJlBA,eACA9D,EAGkB,EAHlBA,iBAGkB,IAFlBlhC,cAEkB,MAFTo1C,GAAYG,IAEH,EADlBM,EACkB,EADlBA,UAEMr7B,EAAUd,KAEhBrJ,qBAAU,WAEL6wB,GACD2U,EAAUT,GAAYM,aAGvB,CAACxU,IAEJ7wB,qBAAU,WACJ6wB,IAM6B,IAHX8D,EAAe/D,KACE,MAEjB3oC,OACpBu9C,EAAUT,GAAYI,UAEtBK,EAAUT,GAAYG,QAEvB,CAACvQ,EAAe/D,OAEnB5wB,qBAAU,WACH6wB,IAO2B,IAHX8D,EAAeP,IACC,MAEhBnsC,OACnBu9C,EAAUT,GAAYO,gBAEtBE,EAAUT,GAAYM,cAEvB,CAAC1Q,EAAeP,MAEnB,IAOMv3C,EAAyBg0C,EAAmBuU,GAAMH,GAExD,OACE,gBAACQ,EAAA,EAAD,CAAax6B,QAAQ,WAAWF,UAAWZ,EAAQ8E,YAAnD,UACE,eAACy2B,GAAA,EAAD,CAAYC,QAAQ,gBAApB,0BACA,eAACC,GAAA,EAAD,CAAQC,QAAM,EAACxrD,MAAOsV,EAAQwb,SAZZ,SAACC,GAAW,IAE1B06B,EADa16B,EAAXzb,OACkCtV,MAC1CosB,QAAQoV,IAAI,QAASiqB,GACrBN,EAAUM,IAQR,SACGjpD,EAAQ7D,KAAI,SAAC4O,GAAD,OACX,yBAAkBvN,MAAOuN,EAAzB,SACGA,GADUA,a,SDvFXo9C,K,gBAAAA,E,iBAAAA,Q,KAKL,IE2BFe,GF3BQC,IAAM,sBAChBhB,GAAGiB,OAAS,qCADI,gBAEhBjB,GAAGkB,OACF,6GAHe,IGGb78B,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9ChG,YAAa,CACX/xB,MAAO,OACP,uBAAwB,CACtB2wB,SAAU,gBA0CDs4B,GAjCV,SAAC,GAAgE,IAAD,IAA7DrqB,gBAA6D,MAAlD,GAAkD,MAA9CsqB,eAA8C,MAApC,GAAoC,EAAhCC,EAAgC,EAAhCA,YAC7Bl8B,EAAUd,KAQhB,OACE,gBAACo8B,EAAA,EAAD,CAAax6B,QAAQ,WAAWF,UAAWZ,EAAQ8E,YAAnD,UACE,eAACy2B,GAAA,EAAD,CAAYY,QAAM,EAACX,QAAQ,gBAA3B,mCAGA,eAACC,GAAA,EAAD,CACEC,QAAM,EACNxrD,MAAOyhC,EACP3Q,SAdgB,SAACC,GAAW,IAE1B06B,EADa16B,EAAXzb,OAC6BtV,MACrCgsD,EAAYP,IAYRS,WAAY,CACVjgD,KAAM,gBACNhJ,GAAI,iBANR,SASG8oD,EAAQptD,KAAI,SAACsN,GAAD,OACX,yBAAmBjM,MAAOiM,EAA1B,SACGA,GADUA,YCpCjB+iB,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9ChG,YAAa,CACX/xB,MAAO,OACP,uBAAwB,CACtB2wB,SAAU,gBAyCD24B,GAjCV,SAAC,GAAyD,IAAD,IAAtD1qB,gBAAsD,MAA3CkpB,GAAGiB,OAAwC,EAAhCI,EAAgC,EAAhCA,YACtBl8B,EAAUd,KAQhB,OACE,gBAACo8B,EAAA,EAAD,CAAax6B,QAAQ,WAAWF,UAAWZ,EAAQ8E,YAAnD,UACE,eAACy2B,GAAA,EAAD,CAAYY,QAAM,EAACX,QAAQ,eAA3B,uBAGA,eAACC,GAAA,EAAD,CACEC,QAAM,EACNxrD,MAAOyhC,EACP3Q,SAdgB,SAACC,GAAW,IAE1B06B,EADa16B,EAAXzb,OAC6BtV,MACrCgsD,EAAYP,IAYRS,WAAY,CACVjgD,KAAM,eACNhJ,GAAI,gBANR,SASG7F,OAAOoF,QAAQmoD,IAAIhsD,KAAI,SAAC4O,GAAD,OACtB,yBAAqBvN,MAAOuN,EAAI,GAAhC,SACGA,EAAI,IADMA,EAAI,a,qBC3CrByhB,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9ChG,YAAa,CACX/xB,MAAO,OACP,uBAAwB,CACtB2wB,SAAU,YAGdnC,OAAQ,CACNxuB,MAAO,OACP,wBAAyB,IAE3BupD,YAAa,CACX54B,SAAU,WACVmnB,UAAW,SACXxrB,QAASyL,EAAMkB,QAAQ,IACvB+gB,WAAY,UAuCDwP,GA/BV,SAAC,GAAiD,IAA/C/S,EAA8C,EAA9CA,QAAS1kC,EAAqC,EAArCA,QAAS2P,EAA4B,EAA5BA,QAClBuL,EAAUd,KAEVs9B,EAAY,SAACjoC,EAAmBuM,EAASvtB,GAA7B,OAChB,eAACs/C,EAAA,EAAD,CACE/xB,QAASA,EACTvtB,MAAOA,EACPghB,SAAUA,EACV5K,KAAK,QACLiX,UAAWZ,EAAQuB,OACnB9M,QAASA,EACTgoC,UAAW,eAAC,KAAD,IAPb,oBAaF,OAAIjT,EACKgT,GAAU,EAAO,WAAY,aAGlC,eAAC7K,EAAA,EAAD,CACEC,OAAK,EACL7jC,MAAO,sBAAK6S,UAAWZ,EAAQs8B,YAAxB,SAAsCx3C,IAF/C,SAIE,gCAAO03C,GAAU,EAAM,YAAa,gBHrCtCt9B,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9Ce,UAAW,CACT94B,MAAO,OACPssB,QAASyL,EAAMkB,QAAQ,GACvBrE,cAAe,EACfrI,OAAQ,GAEV8H,KAAM,CACJrC,YAAa+F,EAAMkB,QAAQ,IAE7B0wB,cAAe,CACbl9B,QAAS,OACTm9B,SAAU,OACVl9B,WAAY,SACZJ,QAAS,EACTC,OAAQ,Q,SAIPs8B,O,qBAAAA,I,yCAAAA,I,mCAAAA,I,sDAAAA,Q,KAQL,IAkMegB,GAzLV,SAAC,GAAuC,IAAD,EAApC/rD,EAAoC,EAApCA,GAAIgsD,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,cAEhB98B,EAAUd,KAF0B,EAUtC8C,qBAAWqf,IANbmJ,EAJwC,EAIxCA,eACAvE,EALwC,EAKxCA,QACAqC,EANwC,EAMxCA,MACAtmC,EAPwC,EAOxCA,OACA4kC,EARwC,EAQxCA,eACA+L,EATwC,EASxCA,UAEMjM,EAAqBT,EAArBS,iBACAv+B,EAAS6nC,cAAT7nC,KAGF40C,EAAoBvQ,GACxBrkC,EACAtX,EACAo1C,EAAQqK,yBAHgB,SAOpB4D,EAAe3K,GACnBphC,EACAmgC,EACAtmC,EAAO8wC,UACPlM,EACA+L,EACA3wC,EAAO4wC,cA5BiC,EA+BJ10B,mBAAmB,IA/Bf,mBA+BnC8+B,EA/BmC,KA+BtBC,EA/BsB,OAkCJ/+B,mBACpC09B,GAAYsB,SAnC4B,mBAkCnCC,EAlCmC,KAkCtBC,EAlCsB,OAsCcl/B,mBAAS,IAtCvB,mBAwCpCm/B,GAxCoC,UAwCrB,oBAClBzB,GAAY0B,kBAAoB,gCADd,eAElB1B,GAAY2B,eACX,4DAAqDV,EAAWW,QAAhE,sFAHiB,eAKlB5B,GAAY6B,wBACX,oFApDiB,IAoDjB,YANiB,GAWrB5nC,qBAAU,WACR,IAAM6nC,EIjGa,SAAC7sD,GAMtB,IALA,IAAMu4C,EAAWhJ,GAAS,iBAAkBvvC,GAEtCmsD,EAAc,IAAIrjB,IAEpBnsB,EAAM47B,EAAStrC,OACZ0P,KACLwvC,EAAY3nB,IAAI+T,EAAS57B,GAAT,GAGlB,MAAM,CAAE,QAAR,oBAAmB/L,MAAMgxB,KAAKuqB,GAAahb,SJuFX2b,CAAe9sD,GAC7CosD,EAAeS,GAEfE,EAAoB,UACnB,CAAC/sD,IAGJglB,qBAAU,WAEJ6wB,GAA4D,IAAxC8D,EAAe/D,KAAf,MAA6B3oC,QACnD+/C,EAAoBjD,GAAYI,YAGjC,IAGHnlC,qBAAU,WAAO,IACRrQ,EAAUq3C,EAAVr3C,OACJA,IAAWo1C,GAAYG,KAAOrU,GAC/BmX,EAAoBjD,GAAYM,WAElC4C,IACAxhC,QAAQoV,IAAI,OAAQlsB,KACnB,CAACq3C,IAGJ,IAAMiB,EAAoB,WAAa,IAE9Bt4C,EAAUq3C,EAAVr3C,OAEP,GAAGkhC,EAEElhC,IAAWo1C,GAAYO,gBAAyD,IAAvC3Q,EAAeP,IAAf,MAA4BnsC,OAEtEs/C,EAAexB,GAAY0B,mBAE3BF,EAAexB,GAAYsB,aAGxB,CAKL,GADkB9c,GAAS,QAASvvC,GAAIiN,OArGvB,KAsGgB0H,IAAWo1C,GAAYG,IAEtD,YADAqC,EAAexB,GAAY2B,gBAEtB,GAAG/3C,IAAWo1C,GAAYI,UAAYxQ,EAAe/D,KAAf,MAA6B3oC,OAzGzD,IA2Gf,YADAs/C,EAAexB,GAAY6B,yBAI1BZ,EAAWr3C,SAAWo1C,GAAYI,UAAoD,IAAxCxQ,EAAe/D,KAAf,MAA6B3oC,OAE5Es/C,EAAexB,GAAY0B,mBAE3BF,EAAexB,GAAYsB,WAKjCrnC,qBAAU,WACRioC,MACC,CAACtT,IAEJ,IAGMoT,EAAsB,SAACG,GAC3BjB,EAAc,6BAAKD,GAAN,IAAkBW,OAAQO,MAEnCF,EAAsB,SAACpgD,GAC3Bq/C,EAAc,6BAAKD,GAAN,IAAkBr3C,OAAQ/H,MAqBzC,OACE,gBAACugD,EAAA,EAAD,CACEp9B,UAAWZ,EAAQ6L,UACnBA,WAAS,EACTG,QAAS,EACTiyB,QAAQ,aACRx+B,WAAW,SALb,UAOE,eAACu+B,EAAA,EAAD,CAAM52B,MAAI,EAAC82B,GAAI,EAAf,SACE,eAAC,GAAD,CAAYvsB,SAAUkrB,EAAWsB,GAAIjC,YArCnB,SAACiC,GACvBrB,EAAc,6BAAKD,GAAN,IAAkBsB,GAAIA,UAuCjC,eAACH,EAAA,EAAD,CAAM52B,MAAI,EAAC82B,GAAI,EAAGt9B,UAAWZ,EAAQoH,KAArC,SACE,eAAC,GAAD,CACE60B,QAASe,EACTrrB,SAAUkrB,EAAWW,OACrBtB,YAAa0B,MAIjB,eAACI,EAAA,EAAD,CAAM52B,MAAI,EAAC82B,GAAI,EAAf,SACE,eAAC,GAAD,CACE1T,eAAgBA,EAChB9D,iBAAkBA,EAClBlhC,OAAQq3C,EAAWr3C,OACnB61C,UAAWwC,MAIf,eAACG,EAAA,EAAD,CAAM52B,MAAI,EAAC82B,GAAI,EAAf,SACE,eAAC,GAAD,CACE1U,QAAS2T,IAAgBvB,GAAYsB,QACrCp4C,QAASu4C,EAAgBF,GACzB1oC,QAnDa,WACnB,IACI4+B,EADEnB,EAASgC,EAAa5jD,UAEboK,IAAXw3C,IACFmB,EAAQnB,EAAM,IAGhB,IAAMkM,EItKO,SACfvB,EACAtnD,EACAi1C,EACA35C,GAEA,IAAMwtD,EAAiBxB,EAAWW,OAC3BW,EAActB,EAAdsB,GAAI34C,EAAUq3C,EAAVr3C,OACP84C,EAAa,IAAI3kB,IAGrB,GAAGn0B,IAAWo1C,GAAYG,IAEPztD,OAAOiK,OAAOhC,GACtBtF,SAAQ,SAAAwpB,GACf6kC,EAAWjpB,IAAI5b,EAAMjd,IAAI6hD,YAEtB,GAAG74C,IAAWo1C,GAAYI,SAETxQ,EAAe/D,KAAf,MACRx2C,SAAQ,SAAAkC,GACpBmsD,EAAWjpB,IAAI9/B,EAAWpD,GAAMqK,IAAI6hD,YAEjC,GAAG74C,IAAWo1C,GAAYM,UAAW,CAE1C,IAAMhkB,EAAQkJ,GAAS,QAASvvC,GAC1B+sC,EAAU1G,EAAMroC,KAAI,SAAAsD,GAAI,OAAEA,EAAK,UACrCyrC,EAAQ3tC,SAAQ,SAAAkC,GACdmsD,EAAWjpB,IAAI9/B,EAAWpD,GAAMqK,IAAI6hD,OAGtC/hC,QAAQoV,IAAIwF,EAAO0G,OAEd,CAEL,IAAM3L,EAAgBuY,EAAeP,IAAf,MACtBhY,EAAchiC,SAAQ,SAAAkC,GACpBmsD,EAAWjpB,IAAI9/B,EAAWpD,GAAMqK,IAAI6hD,OAGtC/hC,QAAQoV,IAAIO,GAEd,IAAMssB,EAAc98C,MAAMgxB,KAAK6rB,GAAYtc,OAAOtyB,KAAK,KACjDu3B,EAAU4U,GAAOsC,EAAG5gD,YAC1B,MAAM,GAAN,OAAU0pC,GAAV,OAAoBsX,GJ0HOC,CACvB3B,EACAE,EACAvS,EACA6I,GAIF93C,OAAOqH,KAAKw7C,EAAU,mB,qBK3LpBK,GAAiB,GAEjBC,GAAqB,uCAAG,WAC5Bv2C,EACAwL,EACA2mC,EACA/R,GAJ4B,uBAAA9oC,EAAA,8DAQd/E,KAFR6/C,EAAQkE,GAAet2C,IAND,yCASnBoyC,GATmB,eAYT7/C,IAAf6tC,GAA6BA,EAAWnb,QAAWmb,EAAWlb,QAZtC,8CAanB3yB,GAbmB,cAgBtBoI,EAhBsB,UAgBb6Q,EAhBa,YAgBA2mC,GACxBqE,EAAoB,KAjBI,SAoBpBhpC,EAAaqxB,GAAclkC,EAAKylC,GApBZ,UAqBA5yB,EAAWipC,6BAA6B,CAACz2C,IArBzC,QAqBpB02C,EArBoB,OAsB1BF,EAAoBE,EAAY12C,GAChCs2C,GAAet2C,GAAQw2C,EAvBG,wDAyBpB,IAAInb,GAAU,aAAd,MAzBoB,iCA4BrBmb,GA5BqB,0DAAH,4DA+BZ,SAASG,GACtB32C,EACAwL,GAGC,IAFD2mC,EAEA,uDAFqB,KACrB/R,EACA,uCACA,OAAOsB,oBACL,CAAC,qBAAsB1hC,EAAMwL,EAAW2mC,EAAY/R,IACpD,kBAAMmW,GAAsBv2C,EAAMwL,EAAW2mC,EAAY/R,KACzD,CACEwB,OAAO,IChCb,IAAM7qB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXrJ,OAAQ,CACN,iBAAkB,aA+FTw9B,GA1FgC,SAAC,GAAc,IAAZ52C,EAAW,EAAXA,KAC1C6X,EAAUd,KAD2C,EAGH8C,qBAAWqf,IAA3DuF,EAHmD,EAGnDA,eAAgB5kC,EAHmC,EAGnCA,OAAQgyC,EAH2B,EAG3BA,QAASC,EAHkB,EAGlBA,WACnC4K,EAAcC,GAClB32C,EACAnG,EAAO8wC,UACP,KACAlM,GARyD,EAWvB1oB,oBAAS,GAXc,mBAWpD8gC,EAXoD,KAWxClyB,EAXwC,KAgCrDmyB,EAAsB,SAACz8B,GACRwkB,GAAc,GAAD,OAAIhlC,EAAO8wC,UAAX,OAA2BlM,GAExDsY,iBAAiB/2C,GACjB1D,KAAK+d,GACL28B,OAAM,SAACx2C,GAEN,MADA2T,QAAQoV,IAAI/oB,GACN,IAAI1D,MAAM0D,OAItB,OACEi+B,EAAevZ,cACH3yB,IAAZs5C,GACA6K,GACqB,UAArBA,EAAYvuD,KAGV,gBAAC,IAAM8uD,SAAP,WACE,eAACzN,EAAA,EAAD,CAAS5jC,MAAM,qBAAqB6jC,OAAK,EAAC5uB,UAAW,OAArD,SACE,eAAC+qB,EAAA,EAAD,CACEpkC,KAAM,QACN8K,QAzCW,WACnBqY,GAAc,IAyCNlM,UAAWZ,EAAQuB,OAHrB,SAKE,eAAC,KAAD,QAGJ,gBAAC89B,EAAA,EAAD,CACEC,sBAAoB,EACpBC,sBAAoB,EACpB97B,SAAS,KACT,kBAAgB,4BAChB7gB,KAAMo8C,EALR,UAOE,eAACQ,EAAA,EAAD,CAAarsD,GAAG,4BAAhB,gCAGA,gBAACssD,EAAA,EAAD,CAAeC,UAAQ,EAAvB,UACE,eAACzf,EAAA,EAAD,iLAKA,wBACA,eAACA,EAAA,EAAD,wDAEF,gBAAC0f,EAAA,EAAD,WACE,eAAC9M,EAAA,EAAD,CAAQp+B,QA/DS,WACzBqY,GAAc,IA8DN,oBACA,eAAC+lB,EAAA,EAAD,CAAQp+B,QA5DK,WACrBwqC,GAAoB,kBAClBhL,EAAW,6BACND,GADK,IAER4L,SAAKllD,QAIToyB,GAAc,IAoDN,8BAMH,MC3FH5N,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJoE,gBAAiBsH,EAAMogB,QAAQpL,WAAWvU,MAC1CjM,OAAQ,EACRutB,WAAY/hB,EAAMkB,QAAQ,IAE5B5E,KAAM,CACJzH,YAAamL,EAAMkB,QAAQ,IAE7B7K,MAAO,CACLxB,YAAamL,EAAMkB,QAAQ,GAC3B3M,QAAS,EACT0F,YAAa+F,EAAMkB,QAAQ,IAE7B6zB,IAAK,CACHrgC,QAAS,OACTC,WAAY,SACZmrB,UAAW,cAEbkV,KAAM,CACJrgC,WAAY,SACZqE,eAAgB,aAChB+oB,WAAY/hB,EAAMkB,QAAQ,GAC1BrE,cAAemD,EAAMkB,QAAQ,IAE/B+zB,KAAM,CACJh7B,YAAa+F,EAAMkB,QAAQ,IAE7Bg0B,QAAS,CACPzsD,MAAOu3B,EAAMogB,QAAQ8U,QAAQvZ,MAE/BzhC,MAAO,CACLzR,MAAOu3B,EAAMogB,QAAQlmC,MAAMyhC,MAE7BwZ,SAAU,CACRzgC,QAAS,QAEX0gC,WAAY,QA8KDC,GAnKV,SAAC,GAOC,IANLtvD,EAMI,EANJA,GACA0nD,EAKI,EALJA,WACAC,EAII,EAJJA,cACAqE,EAGI,EAHJA,WACAC,EAEI,EAFJA,cACAxJ,EACI,EADJA,SAEMtzB,EAAUd,KACR/W,EAAS6nC,cAAT7nC,KACR,EAAqC6Z,qBAAWqf,IAAxC2S,EAAR,EAAQA,QAAS/N,EAAjB,EAAiBA,QAASjkC,EAA1B,EAA0BA,OAClBmzC,EAAsCnzC,EAAtCmzC,gBAAiBiL,EAAqBp+C,EAArBo+C,iBACzB,EAAoDliC,oBAAS,GAA7D,mBAAOmiC,EAAP,KAA2BC,EAA3B,KAMA,QAAgB5lD,IAAZs5C,GAAqC,OAAZA,EAC3B,OAAO,KAGT,IAA4B/wB,EA2B5B,OACE,uBAAKrC,UAAWZ,EAAQZ,KAAxB,UACG40B,EAAQ4L,IACP,qCACmB,YAAhB5L,EAAQ4L,IACP,gBAAC5B,EAAA,EAAD,CAAMp9B,UAAWZ,EAAQ8/B,KAAMj0B,WAAS,EAACpM,WAAY,SAArD,UACE,gBAACu+B,EAAA,EAAD,CAAM52B,MAAI,EAAV,UACE,eAAC,GAAD,CAAiBjf,KAAMA,IAAS,OAElC,eAAC61C,EAAA,EAAD,CAAM52B,MAAI,EAAV,SACE,eAACm5B,GAAA,EAAD,CACEz/B,QAAS,WACTK,MAAO,sBACPxX,KAAM,QACNpW,MAAO,iBAKb,sBAAKqtB,UAAWZ,EAAQ+/B,KAAxB,SACE,eAACpO,EAAA,EAAD,CACE5jC,MACEsyC,EACI,UACA,gCAENz/B,UAAWZ,EAAQoH,KANrB,SAQE,eAAC,mBAAD,CACEwlB,KAAM,mBAAqBoH,EAAQ4L,IACnCY,OAtCA,WACdF,GAAsB,IAmCV,SAIE,eAACC,GAAA,EAAD,CACEE,WAAS,EACTt/B,MAAK,eAAU6yB,EAAQ4L,KACvBj2C,KAAM,QACNpW,MAAO,UACPutB,QAAQ,WACR4/B,aA1CC,WACjBJ,GAAsB,cAgDhB,KAEJ,gBAACtC,EAAA,EAAD,CAAMnyB,WAAS,EAACjL,UAAWZ,EAAQ8/B,KAAnC,UACE,eAAC7f,EAAA,EAAD,CAAYrf,UAAWZ,EAAQmB,MAAOL,QAAQ,QAA9C,2BAGA,eAACy/B,GAAA,EAAD,CACE52C,KAAK,QACLpW,MAAM,YACN4tB,MAAK,iBAAY6yB,EAAQ2M,WACzB7/B,QAAQ,WACRF,UAAWZ,EAAQoH,OAErB,eAACm5B,GAAA,EAAD,CACE52C,KAAK,QACLpW,MAAM,YACN4tB,MAAK,iBAAY6yB,EAAQ4M,WACzB9/B,QAAQ,WACRF,UAAWZ,EAAQoH,QA1FCnE,EA4FF+wB,EAAQ4M,UAAY5M,EAAQ2M,UA3FhD19B,GAAekyB,GAAmBlyB,EAAcm9B,EAEhD,eAACzO,EAAA,EAAD,CACEC,OAAK,EACL7jC,MAAM,2DAFR,SAIE,eAAC,KAAD,CAAa2V,SAAS,QAAQ9C,UAAWZ,EAAQggC,YAG5C/8B,GAAem9B,EAEtB,eAACzO,EAAA,EAAD,CAASC,OAAK,EAAC7jC,MAAM,kCAArB,SACE,eAAC,KAAD,CAAW2V,SAAS,QAAQ9C,UAAWZ,EAAQhb,eAH9C,MAqFJihC,EAAQS,uBAAoDhsC,IAAhCs5C,EAAQO,oBACnC,gBAACyJ,EAAA,EAAD,CAAMnyB,WAAS,EAACjL,UAAWZ,EAAQ8/B,KAAnC,UACE,eAAC7f,EAAA,EAAD,CAAYrf,UAAWZ,EAAQmB,MAAOL,QAAQ,YAA9C,2BAGA,eAACy/B,GAAA,EAAD,CACE52C,KAAK,QACLwX,MAAK,iBAAY6yB,EAAQO,qBACzBzzB,QAAQ,WACRF,UAAWZ,EAAQoH,OAErB,eAACm5B,GAAA,EAAD,CACE52C,KAAK,QACLwX,MAAK,iBAAY6yB,EAAQQ,qBACzB1zB,QAAQ,WACRF,UAAWZ,EAAQoH,UAGrB,KAEU,QAAbksB,GAAuBrN,EAAQS,iBAG9B,eAAC,GAAD,CACE4P,eAAe,EACfvoC,MACGk4B,EAAQS,iBAEL,4CADA,0BAGNtxB,SACE,eAAC,GAAD,CACEvkB,GAAIA,EACJgsD,WAAYA,EACZC,cAAeA,IAGnBl6C,KAAM21C,EAAWsI,UACjBtK,QA7IiB,SAAC94C,GACxB+6C,EAAc,6BAAKD,GAAN,IAAkBsI,UAAWpjD,MA6IpC+lB,gBAAiB,YAlBnB,6BCrMFtE,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJrsB,MAAO,OACPC,OAAQ,OACRg8C,UAAW,SACX1vB,OAAQ,EACRD,QAAS,EACTG,QAAS,OACTqE,cAAe,SACf+mB,UAAW,aACXpnB,gBAAiBsH,EAAMogB,QAAQpL,WAAWvU,OAE5CmtB,YAAa,CACXr5B,QAAS,EACTC,OAAQ,EACRkE,gBAAiB,UACjBxwB,OAAQ,OACRg8C,UAAW,eAkFF8R,GAtEV,SAAC,GAOC,IANLjwD,EAMI,EANJA,GACA0nD,EAKI,EALJA,WACAC,EAII,EAJJA,cACAqE,EAGI,EAHJA,WACAC,EAEI,EAFJA,cACAxJ,EACI,EADJA,SAEMtzB,EAAUd,KAChB,EAAwD8C,qBAAWqf,IAA3DuF,EAAR,EAAQA,eAAgB5kC,EAAxB,EAAwBA,OAAQiyC,EAAhC,EAAgCA,WAAYD,EAA5C,EAA4CA,QAStC+M,EANkBrG,GAFP1K,cAAT7nC,KAINnG,EAAO8wC,UACP,KACAlM,GAE0Ct2C,KAE5C,YAC0BoK,IAAxBqmD,GAC+C,IAA/CzzD,OAAOoF,QAAQquD,GAAqBjjD,OAGlC,sBAAK8iB,UAAWZ,EAAQZ,KAAxB,SACE,eAAC4+B,EAAA,EAAD,CAAMnyB,WAAS,EAAf,SACE,eAACmyB,EAAA,EAAD,CAAM52B,MAAI,EAAC45B,GAAI,eAMPtmD,IAAZs5C,GACAA,EAAQ4E,QAAUmI,EAAmB,OAErC9M,EAAW,6BACND,GADK,IAER73C,KAAM4kD,EAAmB,KACzBnI,MAAOmI,EAAmB,MAC1Bt4C,WAAYs4C,EAAmB,WAC/B5H,WAAY4H,EAAmB,WAC/BJ,UAAWI,EAAmB,UAC9BH,UAAWG,EAAmB,UAC9BnB,IAAKmB,EAAmB,OAM5B,uBAAKngC,UAAWZ,EAAQZ,KAAxB,UACE,eAAC,GAAD,CACEvuB,GAAIA,EACJ0nD,WAAYA,EACZC,cAAeA,EACfqE,WAAYA,EACZC,cAAeA,EACfxJ,SAAUA,IAEZ,sBAAK1yB,UAAWZ,EAAQ04B,YAAxB,SACE,eAAC,GAAD,CACE1E,QAAS+M,EACTxI,WAAYA,EACZC,cAAeA,W,0CC9FnBt5B,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXrJ,OAAQ,CACNvuB,OAAQ,MACRD,MAAO,MACPusB,OAAQ,EACRyvB,aAAc,EACdprB,OAAQ,qBAEVs9B,UAAW,CACTluD,MAAO,YAmCEmuD,GA9BQ,WACrB,IAAMlhC,EAAUd,KADW,EAEU8C,qBAAWqf,IAAxC4E,EAFmB,EAEnBA,QAASuL,EAFU,EAEVA,gBAKX2P,EAAc,WAHK,IAAClsC,IAIP,6BAAKgxB,GAAN,IAAemL,eAAgBnL,EAAQmL,gBAHvDI,EAAgB,CAAEt9C,KAAMg9C,GAAoCjL,QAAShxB,KAMvE,OAAIgxB,EAAQmL,cAER,eAACO,EAAA,EAAD,CAAS5jC,MAAM,kBAAkBiV,UAAU,OAAO4uB,OAAK,EAAvD,SACE,eAAC7D,EAAA,EAAD,CAAYntB,UAAWZ,EAAQuB,OAAQ5X,KAAK,QAAQ8K,QAAS0sC,EAA7D,SACE,eAAC,KAAD,CAAWvgC,UAAWZ,EAAQihC,UAAW,aAAW,qBAAqB1tD,MAAM,gBAMnF,eAACo+C,EAAA,EAAD,CAAS5jC,MAAM,kBAAkBiV,UAAU,OAAO4uB,OAAK,EAAvD,SACE,eAAC7D,EAAA,EAAD,CAAYntB,UAAWZ,EAAQuB,OAAQ5X,KAAK,QAAQ8K,QAAS0sC,EAA7D,SACE,eAAC,KAAD,CAAUvgC,UAAWZ,EAAQihC,UAAW,aAAW,qBAAqB1tD,MAAM,iB,6FCxClF2rB,GAAYC,YAAW,CAC3BC,KAAM,CACJqH,SAAU,OACV1zB,MAAO,OACPC,OAAQ,OACR6sC,OAAQ,IACRxsC,SAAU,QACVswB,OAAQ,oBACRsyB,OAAQ,WAEVvhC,QAAS,CACP4K,OAAQ,EACRD,QAAS,QACT2vB,UAAW,SACXj8C,MAAO,OACPC,OAAQ,QAEVouD,OAAQ,CACN5hC,QAAS,eACTF,OAAQ,QACR+hC,UAAW,cAEbtzC,MAAO,CACL2V,SAAU,IAEZ49B,IAAK,CACHv2B,aAAc,MA8CH+kB,GAnCV,SAAC,GAAyC,IAAvCt1C,EAAsC,EAAtCA,EAAGC,EAAmC,EAAnCA,EAAGmI,EAAgC,EAAhCA,KAAM2zC,EAA0B,EAA1BA,QAAcrmD,GAAY,EAAjBoD,IAAiB,EAAZpD,OAC1B8vB,EAAUd,KAOhB,OAAa,IAATtc,EACK,KAIP,eAAC2+C,GAAA,EAAD,CACE3gC,UAAWZ,EAAQZ,KACnBjmB,MAAO,CAAE6xC,KAAMxwC,EAAGgnD,IAAK/mD,GACvBqmB,QAAQ,WACRrM,QAdiB,SAAC+U,GACpBA,EAAIi4B,iBACJlL,GAAQ,IAQR,SAME,gBAACmL,GAAA,EAAD,CAAa9gC,UAAWZ,EAAQtL,QAAhC,UACE,eAACurB,EAAA,EAAD,CACErf,UAAWZ,EAAQjS,MACnBxa,MAAM,gBACNouD,cAAY,EAHd,4CAOA,eAAC1hB,EAAA,EAAD,CAAYnf,QAAQ,QAAQC,UAAU,IAAtC,SACG7wB,UCvDL0xD,GAAiB,WACrB,IAAMC,EAAY1iD,SAASiR,cAAc,OACzCyxC,EAAUtxC,aACR,QACA,kFAEFpR,SAASoe,KAAKukC,YAAYD,GAC1B,IAAMD,EAAiBC,EAAUE,YAAcF,EAAUG,YAEzD,OADA7iD,SAASoe,KAAK0kC,YAAYJ,GACnBD,GAIH1iC,GAAYC,aAAW,SAAC2L,GAC5B,OAAOF,YAAa,CAElBxL,KAAM,CACJrsB,MAAO,OACPC,OAAQ,OACRssB,OAAQ,EACRD,QAAS,EACTG,QAAS,OACTqE,cAAe,SACfC,eAAgB,aAChBgc,WAAYhV,EAAMogB,QAAQpL,WAAWvU,MACrCqf,UAAW,aACXr3C,MAAO,UAEP2uD,SAAU,UAIZC,WAAY,CACV/8B,SAAU,EACVryB,MAAO,OACPC,OAAQ,OAER43C,UAAW,aACXoE,UAAW,UAGboT,UAAW,CACTh9B,SAAU,GAGZi9B,QAAS,CACPhvD,SAAU,WACVmsB,QAAS,OACTqE,cAAe,OAEjBy+B,WAAY,CACV9iC,QAAS,OACTqE,cAAe,SACf0+B,KAAM,YAERC,WAAY,CACVhjC,QAAS,OACTC,WAAY,SACZqE,eAAgB,aAChBgc,WAAYhV,EAAMogB,QAAQpL,WAAWvU,MACrCv4B,OAAQ,MACRqsB,QAASyL,EAAMkB,QAAQ,GACvB4hB,UAAU,aAAD,OAAe9iB,EAAMogB,QAAQ6K,SACtCnL,UAAW,aACX/K,OAAQ,KAEV4iB,QAAS,GAGTC,UAAW,CACT3vD,MAAO,OAET4vD,aAAc,CACZ5vD,MAAO,MACP4sB,YAAamL,EAAMkB,QAAQ,IAE7B42B,kBAAmB,CACjB7vD,MAAO,QAETwuB,OAAQ,CACN5B,YAAamL,EAAMkB,QAAQ,IAE7B62B,OAAQ,CACNrjC,QAAS,OACTC,WAAY,SACZqE,eAAgB,aAChByD,aAAcuD,EAAMkB,QAAQ,IAE9Bje,MAAO,CACL8+B,WAAY/hB,EAAMkB,QAAQ,GAC1BjH,YAAa+F,EAAMkB,QAAQ,IAE7B82B,KAAM,CACJlY,UAAW,aACXpnB,gBAAiBsH,EAAMogB,QAAQpL,WAAWvU,MAC1CjM,OAAQ,EACRD,QAAS,EACTrsB,OAAQ,OACRD,MAAO,QAETgwD,IAAK,CAGH,aAAc,CACZxvD,MAAO,YAGXyvD,SAAU,CACRjwD,MAAO,OACPC,OAAQ,QAEVkjD,iBAAkB,CAChBQ,UAAW,QAGbuM,sBAAuB,CACrBV,KAAM,WACN1iB,OAAQ,GACRrc,gBAAiBsH,EAAMogB,QAAQpL,WAAWj0B,QAC1C2T,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,cAEdyjC,aAAc,CACZhB,SAAU,oBACVn9B,YAAa,SAEfo+B,WAAY,CACVpwD,MAAO,OACPmvD,SAAU,oBACVlM,aAAc,oBACdjxB,YAAa,SAEfq+B,SAAU,CACRrwD,MAAO,QAGTswD,QAAS,CACP7jC,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,aACZsF,YAAa,SAEfu+B,OAAQ,CACN9jC,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,aACZ+D,gBAAiB,0BACjBuB,YAAa,SAGfw+B,KAAM,CACJxwD,MAAO,OACPC,OAAQ,OACRwsB,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,cAEd+jC,WAAY,CACV9V,WAAY,OACZn6C,MAAO,OACPR,MAAO,OACPC,OAAQ,OACRwsB,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,SACZorB,UAAW,UAEb4Y,eAAgB,CACdjkC,QAAS,OACTsE,eAAgB,aAChBrE,WAAY,UAEdikC,WAAY,CACV78B,WAAY,QACZlD,OAAQ,oBACRorB,aAAc,MACdkH,OAAQ,UACRnW,WAAY,WAEd6jB,aAAc,CACZ1N,OAAQ,UACRyB,SAAU,aACV3kD,MAAO,OACP6wD,aAAc,mBA6aLC,GAnaV,SAAC,GAA6C,IAA3C5H,EAA0C,EAA1CA,QAAS3rD,EAAiC,EAAjCA,KAAkBqhC,GAAe,EAA3BmyB,WAA2B,EAAfnyB,UAC3B3R,EAAUd,KAGhB,EAAkChB,oBAAS,GAA3C,mBAAO6lC,EAAP,KAAkBC,EAAlB,KACA,EAAgC9lC,mBAAS,CAAE1jB,EAAG,EAAGC,EAAG,IAApD,mBAAOpH,EAAP,KAAiB4wD,EAAjB,KACA,EAA0C/lC,mBAAS,MAAnD,mBAAOy9B,EAAP,KAAsBuI,EAAtB,KAEMC,EAAUtsB,iBAAO,MACjBusB,EAAUvsB,iBAAO,MACjBwsB,EAAUxsB,iBAAO,MAEvB,EAA8C3Z,mBAAS,GAAvD,mBAAOomC,EAAP,KAAwBC,EAAxB,KACA,EAA8CrmC,mBAAS,GAAvD,mBAAOsmC,EAAP,KAAwBC,EAAxB,KAEMC,EAAgBlwC,IAAM+7B,SAC1B,iBAAO,CACLx9C,MAAO,OAET,IAGI4xD,EAAgB,SAACn7B,GACrB,QAAwB9uB,IAApB2pD,EAAQnpB,SAA6C,OAApBmpB,EAAQnpB,QAA7C,CAGA,IAAMloC,EAASqxD,EAAQnpB,QAAQ0pB,aAChB,IAAX5xD,GACFyxD,EAAmBzxD,KAIvB6iB,qBAAU,WACRta,OAAO6I,iBAAiB,SAAUugD,KACjC,IAEH9uC,qBAAU,WACR,QAAwBnb,IAApB2pD,EAAQnpB,SAA6C,OAApBmpB,EAAQnpB,QAA7C,CAGA,IAAMloC,EAASqxD,EAAQnpB,QAAQ0pB,aAC/BH,EAAmBzxD,MAClB,CAACqxD,IAEJxuC,qBAAU,WACR,IAAM7iB,EAASoxD,EAAQlpB,QAAQ0pB,aACzBC,EAAaR,EAAQnpB,QAAQ0pB,aAEpB,IAAX5xD,GACFuxD,EAAmBvxD,GAGF,IAAf6xD,GACFJ,EAAmBI,KAGpB,CAAClzB,IAEJ,MAeImzB,oBACF,CACE7I,UACA3rD,OACAo0D,gBACArvC,aAAc,CACZ0vC,UAAW,EACXC,SAAU,MAGdC,aACAC,iBAEAC,kBAzBAC,GAHF,EACEC,cADF,EAEEC,kBAFF,EAGEF,cACAG,EAJF,EAIEA,WACAC,EALF,EAKEA,KACAC,EANF,EAMEA,gBACAC,EAPF,EAOEA,YACAC,EARF,EAQEA,YACAC,EATF,EASEA,UACAC,EAVF,EAUEA,SACAC,EAXF,EAWEA,SACAC,EAZF,EAYEA,aACAC,EAbF,EAaEA,YAbF,IAcE/wC,MAAS8vC,EAdX,EAcWA,UAAWC,EAdtB,EAcsBA,SAiBhBiB,EAAkB,SAAC/wB,GACvB2wB,EAAS3wB,GACTivB,EAAQjpB,QAAQgrB,aAAa,CAC3BC,YAAa,EACbC,SAAU,KAmBRC,EAAkB,SAAC,GAAmD,IAAjDF,EAAgD,EAAhDA,YAAa7yD,EAAmC,EAAnCA,IAAKgzD,EAA8B,EAA9BA,OAAQF,EAAsB,EAAtBA,SAAUjtD,EAAY,EAAZA,MAC7D,KAAIgtD,EAAc,GAIlB,OAAOI,EAAoB,CAAEJ,cAAa7yD,MAAKgzD,SAAQF,WAAUjtD,WAG7DqtD,EAAoB,SAAC,GAA2C,IAAzCL,EAAwC,EAAxCA,YAAa7yD,EAA2B,EAA3BA,IAAe6F,GAAY,EAAtBitD,SAAsB,EAAZjtD,OACvD,KAAIgtD,EAAc,GAIlB,OAAOM,EAAsB,CAAEN,cAAa7yD,MAAK6F,WAI7CstD,EAAwB,SAAC,GAAiC,IAA/BN,EAA8B,EAA9BA,YAAa7yD,EAAiB,EAAjBA,IAAK6F,EAAY,EAAZA,MAE3CqkD,EADc4H,EAAa,GACNhlD,QAAQ+lD,GA2BnC,OACE,sBAEEhtD,MAAK,6BACAA,GADA,IAEHqmB,QAAS,OACTknC,aAAc,WAEhBjyC,QAAS,kBAjCQkyC,EAiCUnJ,OAhCT,IAAhB2I,EAIJQ,EAAaC,cAAcD,EAAaE,cAHtCF,EAAaG,SAAU,GAFP,IAACH,GA0BnB,SASE,uBAAK/lC,UAAWZ,EAAQyjC,eAAxB,UACGjG,EAAOuJ,OA3BQ,IAAhBZ,GACF3I,EAAOsJ,SAAU,EACV,MAGLtJ,EAAOwJ,SACLxJ,EAAOqJ,aACF,eAAC,KAAD,CAAUjmC,UAAWZ,EAAQ0jC,aAE7B,eAAC,KAAD,CAAQ9iC,UAAWZ,EAAQ0jC,aAG7B,eAAC,KAAD,CAAU9iC,UAAWZ,EAAQ0jC,iBAM/BpwD,IAiBLizD,EAAsB,SAAC,GAMtB,IALLJ,EAKI,EALJA,YACA7yD,EAII,EAJJA,IAEA8yD,GAEI,EAHJE,OAGI,EAFJF,UACAjtD,EACI,EADJA,MAEM0mD,EAAM2F,EAAKY,GACjBb,EAAW1F,GAEX,IAAMoH,EAAQpH,EAAIoH,MAAMp4D,KAAI,SAAC00D,GAAD,OAAUA,KAChCA,EAAO,CAAC0D,EAAMd,IAEde,EAAYd,EAAW,IAAM,EAAIpmC,EAAQqjC,QAAUrjC,EAAQsjC,OAE7D6D,EAAgB5D,EAAK,GAAGrzD,MAAMuV,MAAM2P,SACpCllB,EAAQi3D,EAERC,GAAc,EAMlB,YALsB1sD,IAAlBysD,GAA+BA,EAAcrpD,OApBrB,KAqB1B5N,EAAQi3D,EAAc7gD,UAAU,EArBN,IAsB1B8gD,GAAc,GAId,2DACM7D,EAAK,GAAG8D,gBADd,IAEEzmC,UAAWsmC,EACX5zD,IAAKA,EACL6F,MAAOA,EACPsb,QAAS,SAACwM,GAAD,OAAWqmC,EAAarmC,EAAOkmC,MAEvCC,EACC,oBAAGxmC,UAAWZ,EAAQ2jC,aAAtB,mBAAwCzzD,EAAxC,SAEAA,IAMFo3D,EAAe,SAAC99B,EAAKt5B,GACX,OAAVA,QAA4BwK,IAAVxK,GAAuBA,EAAM4N,OA3CvB,KA4C1BkmD,GAAa,GACbC,EAAY,CAAEzpD,EAAGgvB,EAAI+9B,MAAO9sD,EAAG+uB,EAAIg+B,QACnCtD,EAAiBh0D,KAIfu3D,GAAc,IACdC,GAAczL,EAAQn+C,OAGtB6pD,GAAY,GACZC,GAAWpC,EAAK1nD,OAChB9K,GAAiBwxD,GAAmBF,EAAkBqD,IAE5D,OACE,uCACE,uBAAKzrB,IAAKmoB,EAASzjC,UAAWZ,EAAQZ,KAAtC,UACE,sBAAKwB,UAAWZ,EAAQmiC,WAAxB,SACE,eAAC,KAAD,UACG,YAQK,EAPJ0F,aAOI,EANJ7F,YAMK,IALL8F,EAKI,EALJA,SAEAC,GAGI,EAJJC,aAII,EAHJD,YACAE,EAEI,EAFJA,UAGMC,GADF,EADJC,YAEkB,WAIlB,OACE,uBAAKvnC,UAAWZ,EAAQqiC,QAAxB,UACE,sBACEzhC,UAAWZ,EAAQijC,sBACnB9pD,MAAO,CACL9F,SAAU,WACV23C,KAAM,EACNwW,IAAK,EACLjuD,MAAO20D,GANX,SASE,eAAC,KAAD,CACEE,aAAc3B,EACd7lC,UAAWZ,EAAQmjC,WACnBpwD,MAAO00D,GACPz0D,OAAQ20D,GACRA,UAAWA,GACXF,YAAaA,GACbG,SAAU,EACVF,YAAa,MAGjB,sBACE9mC,UAAWZ,EAAQijC,sBACnB9pD,MAAO,CACL9F,SAAU,WACV23C,KAAM,EACNwW,IAAKmG,GACLp0D,MAAO20D,GANX,SASE,eAAC,KAAD,CACEG,oBAxDQ,EAyDRC,iBAxDK,EAyDLF,aAAc7B,EACdkB,YAAaA,GACbC,YAAa,EACb9mC,UAAWZ,EAAQkjC,aACnBlwD,OAAQA,GAAS4uD,KACjB+F,UAAWA,GACXC,SAAUA,GACVK,UAAWA,EACXl1D,MAAO00D,OAGX,sBAAK7mC,UAAWZ,EAAQsiC,WAAxB,SACE,eAAC,KAAD,UACG,gBAAGvvD,EAAH,EAAGA,MAAH,OACC,iCACE,sBACEoG,MAAO,CACL5F,MAtDC,UAuDDP,OAAQ20D,GACR50D,MAAOA,EAAQ6uD,MAJnB,SAOE,eAAC,KAAD,CACEhhC,UAAWZ,EAAQmjC,WACnBsE,YAAaA,GACbC,YAAaA,GACb10D,OAAQ20D,GACRU,oBArFA,EAsFAD,aAAc5B,EACdmB,UAAWA,GACXC,SAAU,EACVG,WAAYA,EACZh1D,MAAOA,EAAQ6uD,SAGnB,sBACEzoD,MAAO,CACL5F,MAzEI,UA0EJP,UACAD,SAJJ,SAOE,eAAC,KAAD,CACEmpC,IAAKioB,EACLvjC,UAAWZ,EAAQojC,SACnBqE,YAAaA,GACbC,YAAaA,GACbI,SAAUA,EACVO,oBA1GA,EA2GAC,iBA1GH,EA2GGF,aAAc/B,EACdsB,UAAWA,GACXC,SAAUA,GACV50D,OAAQA,GACRD,MAAOA,sBAa7B,uBAAKmpC,IAAKkoB,EAASxjC,UAAWZ,EAAQwiC,WAAtC,UACE,uBAAK5hC,UAAWZ,EAAQyiC,QAAxB,UACE,yBACE7hC,UAAWZ,EAAQuB,OACnB9M,QAAS,kBAAMwxC,EAAgB,IAC/B1xC,UAAWkxC,EAHb,SAKG,OAEH,yBACE7kC,UAAWZ,EAAQuB,OACnB9M,QAAS,kBAnQnBsxC,SACA5B,EAAQjpB,QAAQgrB,aAAa,CAC3BC,YAAa,EACbC,SAAU,KAiQF7xC,UAAWkxC,EAHb,SAKG,MAEH,yBACE7kC,UAAWZ,EAAQuB,OACnB9M,QAAS,kBAlRnBqxC,SACA3B,EAAQjpB,QAAQgrB,aAAa,CAC3BC,YAAa,EACbC,SAAU,KAgRF7xC,UAAWmxC,EAHb,SAKG,MAEH,yBACE9kC,UAAWZ,EAAQuB,OACnB9M,QAAS,kBAAMwxC,EAAgBL,EAAY,IAC3CrxC,UAAWmxC,EAHb,SAKG,UAIL,sBAAK9kC,UAAWZ,EAAQ0iC,UAAxB,wBACWqC,EAAY,EADvB,eAC+BY,EAAY7nD,UAG3C,uBAAK8iB,UAAWZ,EAAQ4iC,kBAAxB,UACE,yBACEhiC,UAAWZ,EAAQ2iC,aACnBzyD,MAAO80D,EACPhkC,SAAU,SAACngB,GACTmlD,EAAY3vB,OAAOx1B,EAAE2E,OAAOtV,SAJhC,SAOG,CAAC,IAAK,IAAK,IAAM,IAAM,KAAOrB,KAAI,SAACm2D,GAAD,OACjC,yBAAuB90D,MAAO80D,EAA9B,SACGA,GADUA,QATnB,oBAmBJ,eAAC,GAAD,CACExqD,EAAGnH,EAASmH,EACZC,EAAGpH,EAASoH,EACZmI,KAAMmhD,EACNxN,QAASyN,EACT9zD,MAAOyrD,QC3mBTvM,GACI,SADJA,GAEI,SAFJA,GAGS,cAGTmZ,GACQ,aAGR/Y,GACE,OADFA,GAEgB,oBAGhBgZ,GAAQ,OACRC,GAAiB,SAAC7b,GACtB,OAAOA,EAAK/sC,QAAQ2oD,GAAO,QAGvBE,GAAgB,SAAC9b,GACrB,YAAgBlyC,IAATkyC,GAA+B,KAATA,GAEzB+b,GAAmB,SAAClvC,GACxB,YACY/e,IAAV+e,GACU,OAAVA,GACU,KAAVA,GACiB,IAAjBA,EAAM3b,QAID,aAAa8yC,SAASn3B,EAAM3I,OAAO,KAqO7B83C,GAzNV,SAAC,GASC,IARLC,EAQI,EARJA,gBACAtzD,EAOI,EAPJA,WACArB,EAMI,EANJA,KACAoX,EAKI,EALJA,QACAw9C,EAII,EAJJA,aACA3nC,EAGI,EAHJA,MACA2iC,EAEI,EAFJA,WACAnyB,EACI,EADJA,SAEQ3vB,EAAWggB,qBAAWqf,IAAtBr/B,OAEF4uB,EAAW,SAACm4B,QACDruD,IAAXquD,IACFA,EAAS,IAGX,IADA,IAAIh2D,EAAgB,EACX8I,EAAI,EAAGA,EAAIktD,EAAOjrD,OAAQjC,IAAK,CACtC,IAAImtD,EAASD,EAAOltD,GACL,MAAXmtD,IACFA,EAAS,cAEkBtuD,IAAzBouD,EAAaE,GACfj2D,GAAS+1D,EAAY,QAErB/1D,GAAS+1D,EAAaE,GAG1B,OAAOj2D,GAGHk2D,EAAiB,SAACC,EAAMC,EAAUC,GACtC,IAEMr2D,EACJnB,KAAKwD,IAAL,MAAAxD,KAAI,aACCs3D,EAAKr6D,KAAI,SAACgxD,GAAD,OAASjvB,EAAS,UAAGivB,EAAIsJ,KAAe,QADlD,QAEFv4B,EAASw4B,MALG,GAOhB,OAAOx3D,KAAKsD,IANM,IAMSnC,IAGvBkpD,EAAU1L,mBAAQ,WACtB,IAD4B,EACtB8Y,EAAc,GADQ,eAEbR,GAFa,IAE5B,2BAAgC,CAAC,IAAxB11D,EAAuB,QACxBi5C,EAAQ72C,EAAWpC,GACzB,QAAcuH,IAAV0xC,GAAiC,OAAVA,EAA3B,CAF8B,qBAKbA,GALa,IAK9B,2BAAwB,CAAC,IAAhBM,EAAe,QACtB,GACEA,EAAK,KAAO8C,KACF,SAATt7C,GACEw4C,EAAK,KAAO0C,IACX1C,EAAK,KAAO0C,IACZ1C,EAAK,KAAO0C,IALlB,CASE,GAAI3tC,MAAMjE,QAAQkvC,EAAK,IAAK,CAAC,IAAD,iBACTA,EAAK,IADI,IAC1B,2BAA0B,CAAC,IAAlBtlB,EAAiB,QACxB,QAAa1sB,IAAT0sB,GAA+B,KAATA,EAAa,CAChCiiC,EAAYzY,SAASlE,EAAK,KAC7B2c,EAAY98C,KAAKmgC,EAAK,IAExB,QANsB,yCAUVhyC,IAAZgyC,EAAK,IAAgC,KAAZA,EAAK,KAC3B2c,EAAYzY,SAASlE,EAAK,KAC7B2c,EAAY98C,KAAKmgC,EAAK,KAK9B,GAAI2c,EAAYvrD,OAAS,IAAMsuC,EAAMtuC,OACnC,QAjC0B,iCAFJ,8BAwC5B,GADAurD,EAAYj9C,QAAQojC,IACP,SAATt7C,EAAiB,sBAEJ20D,GAFI,IAEnB,2BAAgC,CAAC,IAAxB11D,EAAuB,QACxBi5C,EAAQ72C,EAAWpC,GACpBi5C,EAAMzb,IAAI6e,KAEXpD,EAAMzb,IAAIye,KACVhD,EAAMzb,IAAIye,MAENhD,EAAMzb,IAAIye,IACZhD,EAAM3M,IACJ+P,GACApD,EAAM5vC,IAAI4yC,IACR,KACAhD,EAAM5vC,IAAI4yC,IACV,KACAhD,EAAM5vC,IAAI4yC,KAGdhD,EAAM3M,IACJ+P,GACApD,EAAM5vC,IAAI4yC,IACR,QACAhD,EAAM5vC,IAAI4yC,OAvBH,+BA8BrB,OAAOia,IACN,CAACR,IAEEv4D,EAAOigD,mBAAQ,WACnB,IADyB,EACnB+Y,EAAW,GACXC,EAAe,GAFI,eAIVV,GAJU,IAIzB,2BAAgC,CAAC,IAAxB11D,EAAuB,QACxBi5C,EAAQ72C,EAAWpC,GACzB,QAAcuH,IAAV0xC,EAAJ,CAGA,IAL8B,EAKxByT,EAAM,GACN2J,EAAU,GANc,eAOXvN,GAPW,IAO9B,2BAA4B,CAAC,IAApBuB,EAAmB,QACpBttD,EAAQk8C,EAAM5vC,IAAIghD,GACpB/7C,MAAMjE,QAAQtN,IAChB2vD,EAAI4I,GAAejL,IAAWlP,GAAYp+C,EAAOob,GACjDk+C,EAAQf,GAAejL,IAAW9O,GAAkBx+C,KAEhDstD,GAAUhO,GACZqQ,EAAIrC,GAAU3O,GAAoBzC,EAAM5vC,IAAIghD,GAASx7C,EAAO8uC,SAE5D+O,EAAI4I,GAAejL,IAAW/O,GAC5BrC,EAAM5vC,IAAIghD,GACVlyC,GACA,GAGJk+C,EAAQf,GAAejL,IAAWpR,EAAM5vC,IAAIghD,KAtBlB,8BAyB9B8L,EAAS/8C,KAAKszC,GACd0J,EAAah9C,KAAKi9C,KA9BK,8BAkCzB,IAAMC,EAAQH,EAASI,QAAO,SAACjwC,GAAD,OAAWivC,GAAcjvC,EAAMtd,SACvDwtD,EAAWL,EAASI,QAAO,SAACjwC,GAAD,OAAYivC,GAAcjvC,EAAMtd,SAE7DytD,EAAaD,EAASD,QAAO,SAACjwC,GAAD,OAAYkvC,GAAiBlvC,EAAMtd,SAChE0tD,EAAUF,EAASD,QAAO,SAACjwC,GAAD,OAAWkvC,GAAiBlvC,EAAMtd,SAEhEytD,EAAW5nB,MAAK,SAACviC,EAAG/N,GAAJ,OAAW+N,EAAEtD,KAAOzK,EAAEyK,KAAO,GAAK,KAClD0tD,EAAQ7nB,MAAK,SAACviC,EAAG/N,GAAJ,OAAW+N,EAAEtD,KAAOzK,EAAEyK,KAAO,GAAK,KAG/C,IADA,IAAM2tD,EAAiBF,EAAWt8C,OAAOu8C,GAASv8C,OAAOm8C,GAChD5tD,EAAI,EAAGA,EAAIiuD,EAAehsD,OAAQjC,IAEzC,IADA,IAAMgkD,EAAMiK,EAAejuD,GAC3B,MAA2BvO,OAAOoF,QAAQmtD,GAA1C,eAAgD,CAA3C,0BAAOvsD,EAAP,KAAYpD,EAAZ,KACH2vD,EAAIvsD,GAAO,eAAC,KAAD,UAAUpD,IAIzB,MAAO,CAAC45D,EAAgBP,KACvB,CAACV,IAEEkB,EAAexZ,mBAAQ,WAE3B,IAAIyZ,GAAU,EACVC,GAAgB,EAiBpB,OAhBIhO,EAAQrL,SAASpB,MACnBwa,GAAU,EACV/N,EAAQiO,OAAOjO,EAAQ74C,QAAQosC,IAAkB,IAE/CyM,EAAQrL,SAAS2X,MACnB0B,GAAgB,EAChBhO,EAAQiO,OAAOjO,EAAQ74C,QAAQmlD,IAA4B,IAE7DtM,EAAQja,MAAK,SAACviC,EAAG/N,GAAJ,OAAU+N,EAAE2tC,cAAc17C,MACnCu4D,GACFhO,EAAQ7vC,QAAQm8C,IAEdyB,GACF/N,EAAQ7vC,QAAQojC,IAGXyM,EAAQptD,KAAI,SAAC2uD,GAClB,OAAIA,IAAWhO,GACN,CACLuX,OAAQ5lC,EACRgoC,SAAU3Z,GAEVz8C,MAAOk2D,EAAe34D,EAAK,GAAIk/C,GAAiBruB,IAG3C,CACL4lC,OAAQvJ,EACR2L,SAAUV,GAAejL,GACzBzqD,MAAOk2D,EAAe34D,EAAK,GAAIktD,EAAQA,SAI5C,CAACqL,IAEJ,OACE,eAAC,GAAD,CACE5M,QAAS8N,EACTz5D,KAAMA,EAAK,GACXwzD,WAAYA,EACZnyB,SAAUA,K,UCvODw4B,GA3BqC,SAAC,GAIH,IAHhDj2D,EAG+C,EAH/CA,KACAogD,EAE+C,EAF/CA,MACA8V,EAC+C,EAD/CA,UAEMtlD,EACJ,2CAAoC5Q,EAApC,cAA8CogD,EAA9C,4BACcpgD,EADd,6CACuDk2D,EADvD,YACoEl2D,EADpE,gBAGF,OACE,sBACEiF,MAAO,CACLnG,OAAQ,OACRD,MAAO,OACPysB,QAAS,OACTsE,eAAgB,SAChB4iC,aAAc,UANlB,SASE,uBAAKvtD,MAAO,CAAEkmB,QAAS,OAAvB,UACE,eAAC,IAAD,CAAalmB,MAAO,CAAEuqB,SAAU,SAChC,8BAAK5e,UCxBPulD,GAAc,GAEdC,GAAkB,uCAAG,WACzBniD,EACAwL,EACA2mC,EACA/R,GAJyB,mBAAA9oC,EAAA,8DAQX/E,KAFR6/C,EAAQ8P,GAAYliD,IAND,yCAShBoyC,GATgB,eAYN7/C,IAAf6tC,GAA6BA,EAAWnb,OAZnB,8CAahB1yB,GAbgB,mBAiBjBib,EAAaqxB,GAAc,GAAD,OAAIrzB,EAAJ,YAAiB2mC,GAAc/R,GAC3DzmB,EAAW,UACapnB,IAAzB6tC,EAAWn/B,WAAoD,KAAzBm/B,EAAWn/B,UAnB7B,kCAoBJuM,EAAW40C,YAAYpiD,EAAMogC,EAAWn/B,WApBpC,QAoBrB0Y,EApBqB,gDAsBJnM,EAAW40C,YAAYpiD,GAtBnB,QAsBrB2Z,EAtBqB,sBAwBvBuoC,GAAYliD,GAAQ2Z,EAxBG,kBAyBhBA,GAzBgB,wCA2BjB,IAAI0hB,GAAU,aAAd,MA3BiB,0DAAH,4DCMxB,ICwEKgnB,GDkBUC,GA1Fa,WAAO,IACzBtiD,EAAS6nC,cAAT7nC,KADwB,EAG8B6Z,qBAC5Dqf,IADMiH,EAHwB,EAGxBA,MAAOqK,EAHiB,EAGjBA,UAAW/L,EAHM,EAGNA,eAAgB5kC,EAHV,EAGUA,OAAQgyC,EAHlB,EAGkBA,QAI1C1jD,EAASi5C,GACfphC,EACAmgC,EACAtmC,EAAO8wC,UACPlM,EACA+L,EACA3wC,EAAO4wC,cANDtiD,KASFo6D,OAA0BhwD,IAATpK,GAAsBA,EAAI,GAE3C+iD,OACK34C,IAATpK,GAAuBA,EAAI,uBAAqCoK,EAAbpK,EAAI,GAnBzB,EA8BQkkB,IAAM0J,cAASxjB,GA9BvB,mBA8BzB+3C,EA9ByB,KA8BXC,EA9BW,KAgC1BlwB,EAAY,WAChBkwB,EAAgB,oBAGZjwB,EAAY,SAAC9Z,GACjB+pC,EAAgB,2BAA6B/pC,IAOzCgiD,EDnBO,SACbxiD,EACAwL,GAGC,IAFD2mC,EAEA,uDAFqB,KACrB/R,EACA,uCASA,OARYsB,oBACV,CAAC,kBAAmB1hC,EAAMwL,EAAW2mC,EAAY/R,IACjD,kBAAM+hB,GAAmBniD,EAAMwL,EAAW2mC,EAAY/R,KACtD,CACEwB,OAAO,ICSc6gB,CACvBziD,EACAnG,EAAO8wC,UACP,KACAlM,GAOIrkB,EAAwB,CAC5Bpa,KAAMA,EACN6rC,QAASA,EACTlyB,SAPe6oC,EAAiBr6D,KAC9Bq6D,EAAiBr6D,KAAKwxB,cACtBpnB,GAQJ,OACE,gBAAC,GAAD,CAAgBkW,KAAM,KAAtB,UACG85C,EACCrX,EACE,eAAC,GAAD,CACE1pC,KAAK,QACLkZ,QA9CM,kBACd,IAAI5gB,SAAQ,SAACC,EAASC,GAChBkxC,EACFnxC,EAAQmxC,GAERlxC,EAAO,qCA0CHqgB,UAAWA,EACXC,UAAWA,IAEX,KAEJ,eAAC,GAAD,CACE9Y,KAAK,QACL4Y,sBAAuBA,EACvBC,UAAWA,EACXC,UAAWA,IAGf,eAACswB,GAAA,EAAD,CACEnwC,UAAuBlI,IAAjB+3C,EACNO,iBAAkB,IAClB3nB,QA3Cc,WAClBqnB,OAAgBh4C,IA2CZoK,QAAS2tC,QE9FXvzB,GAAYC,aAAW,SAAC2L,GAAD,MAAmB,CAC9C1L,KAAM,CACJpsB,OAAQ,OACRD,MAAO,OACPysB,QAAS,OACTsE,eAAgB,SAChB4iC,aAAc,UAEhBmE,WAAY,CACVhmC,UAAWiG,EAAMkB,QAAQ,GACzB+iB,aAAc,MACdvvB,QAAS,OACTsE,eAAgB,aAChBrE,WAAY,cA0BDqrC,GAtBoD,SAAC,GAG9D,EAFJ52D,KAEK,IADL62D,EACI,EADJA,cAEM/qC,EAAUd,KAEhB,OACE,uBAAK0B,UAAWZ,EAAQZ,KAAxB,UACE,eAAC6gB,EAAA,EAAD,CACEnf,QAAS,KADX,sCAEwBiqC,EAFxB,qBAGA,eAAC9qB,EAAA,EAAD,CAAYnf,QAAS,UAArB,iGAIA,sBAAKF,UAAWZ,EAAQ6qC,WAAxB,SACE,eAAC,GAAD,UDVJG,GAAe,KAEb9rC,GAAYC,aAAW,SAAC2L,GAG5B,OAFAkgC,GAAelgC,EAAMmgC,WAAWvnC,SAEzBkH,YAAa,CAClBxL,KAAM,CACJrsB,MAAO,OACPC,OAAQ,OAER87C,UAAW,OACXxvB,OAAQ,EACRD,QAAS,EACTG,QAAS,OACTqE,cAAe,SACf+mB,UAAW,aACXpnB,gBAAiBsH,EAAMogB,QAAQpL,WAAWvU,MAC1CyjB,UAAW,SACXkc,WAAW,aAAD,OAAepgC,EAAMogB,QAAQ6K,UAEzC8M,OAAQ,CACNrjC,QAAS,OACTC,WAAY,SACZqE,eAAgB,aAChByD,aAAcuD,EAAMkB,QAAQ,GAC5BrI,OAAO,aAAD,OAAemH,EAAMogB,QAAQ6K,UAErChoC,MAAO,CACL8+B,WAAY/hB,EAAMkB,QAAQ,KAC1BrE,cAAemD,EAAMkB,QAAQ,KAC7BjH,YAAa+F,EAAMkB,QAAQ,IAE7Bm/B,WAAY,CACVvgB,UAAW,aACXpnB,gBAAiBsH,EAAMogB,QAAQpL,WAAWvU,MAC1CjM,OAAQ,EACRD,QAAS,EACTtsB,MAAO,OACPC,OAAQ,OACRg8C,UAAW,UAEboc,QAAS,CACPxgB,UAAW,aACXvrB,QAAS,EACTC,OAAQ,EACRo3B,UAAW,SAGbqM,IAAK,CACH,aAAc,CACZxvD,MAAO,YAGX2iD,iBAAkB,CAChBQ,UAAW,c,SAKZ8T,O,qBAAAA,I,eAAAA,I,gBAAAA,Q,KAaL,IAAMa,GAA8B,CAClClN,GAAItD,GAAGiB,OACP0B,OAAQ,OACRh4C,OAAQo1C,GAAYG,KAShBuQ,GAAe,IAqRNC,GA7QV,SAAC,GAAoE,IAAlEx4D,EAAiE,EAAjEA,MAAOlC,EAA0D,EAA1DA,GAAIyiD,EAAsD,EAAtDA,SAAUrwB,EAA4C,EAA5CA,YAAaswB,EAA+B,EAA/BA,WAClCiY,EAAU3zB,iBAAO,MACjB4zB,EAAW5zB,iBAAO,MAClB6zB,EAAU7zB,iBAAO,MACjB7X,EAAUd,KAEhB,EAAgChB,mBAA2B,CACzDyiC,UAAW,EACXC,UAAW,IAFb,mBAAO+K,EAAP,KAAiBC,EAAjB,KAKA,EAAwB1tC,mBAA2B,CAAC,EAAG,IAAvD,mBAAOvU,EAAP,KAAakqC,EAAb,KACA,EAA8B31B,oBAAkB,GAAhD,mBAAO2tC,EAAP,KAAgBC,EAAhB,KAEA,EAA4D9pC,qBAC1Dqf,IADMuF,EAAR,EAAQA,eAAgB5kC,EAAxB,EAAwBA,OAAQwoC,EAAhC,EAAgCA,eAAgBvE,EAAhD,EAAgDA,QAIxCkO,EAA+BnyC,EAA/BmyC,cAA+BnyC,EAAhBozC,YAEvBv/B,qBAAU,WACR,GAAI21C,EAAQtwB,SAAWuwB,EAASvwB,QAAS,CACvC,IAAI6wB,EACFP,EAAQtwB,QAAQ0pB,aAAe6G,EAASvwB,QAAQ0pB,aAC9CoH,EAAYR,EAAQtwB,QAAQ6mB,YAChClO,EAAQ,CAACmY,EAAWD,OAErB,CAACP,EAASC,EAAUC,EAASlhB,IAEhC,IAAQ9D,EAAqBT,EAArBS,iBAEAv+B,EAAS6nC,cAAT7nC,KAEF5S,EAAai3C,GAAcrkC,EAAMtX,EAAIo1C,EAAQqK,yBAC7ChlC,EAAUilC,mBAAQ,kBAAMvC,GAAiBn9C,KAAK,CAACA,IAGrD,EAAgCqtB,mBAAkBssC,GAAQyB,SAA1D,mBAAOt6B,EAAP,KAAiBuqB,EAAjB,KAGA,EAAwCh+B,oBAAkB,GAA1D,mBAAOguC,EAAP,KAAqBC,EAArB,KACA,EAAoCjuC,mBAAgB,IAApD,mBAAOkuC,EAAP,KAAmBC,EAAnB,KACA,EAAoCnuC,mBAAgB,IAApD,mBAAOouC,EAAP,KAAmBC,EAAnB,KAEA12C,qBAAU,WACR,QAAWnb,IAAP7J,GAA2B,OAAPA,GAAe4Q,MAAMjE,QAAQ3M,IAAOA,EAAGiN,OAAS,EAAG,CAGzE,GAAImlB,EAAckxB,GAAiBZ,EAAavxC,EAAOozC,YAErD,YADA+W,GAAgB,GAGhBA,GAAgB,GAGlB,IAAMK,EAAensB,GAAaxvC,GAC5B47D,EAAelsB,GAAa1vC,GAClC+6D,EAAY,CAAEjL,UAAW6L,EAAc5L,UAAW6L,IAElD,IAAMC,EAAWtsB,GAAS,QAASvvC,GAC7BgtC,EAAWuC,GAAS,QAASvvC,GAEnC,QACe6J,IAAbgyD,GACAjrD,MAAMjE,QAAQkvD,IACM,IAApBA,EAAS5uD,OACT,CACA,IACM6uD,OAAuBjyD,IADVgyD,EAAS,GAAG,OACU,KAAO,MAC1CE,EAAaF,EAAS79D,KAAI,SAACsD,GAAD,OAAUA,EAAKw6D,MAC/CN,EAAcO,GAEhB,QACelyD,IAAbmjC,GACAp8B,MAAMjE,QAAQqgC,IACM,IAApBA,EAAS//B,OACT,CACA,IACM6uD,OAAuBjyD,IADVmjC,EAAS,GAAG,OACU,KAAO,MAC1CyuB,EAAazuB,EAAShvC,KAAI,SAACuD,GAAD,OAAUA,EAAKu6D,MAC/CJ,EAAcD,OAGjB,CAACz7D,IAEJglB,qBAAU,WACR,IAAQ4wB,EAAc+D,EAAd/D,KAAMwD,EAAQO,EAARP,IAEZxD,EAAKvP,MAAMp5B,QAAU,GACrB2oC,EAAKtP,MAAMr5B,QAAU,GACrBmsC,EAAI/S,MAAMp5B,QAAU,GACpBmsC,EAAI9S,MAAMr5B,QAAU,EAEpBo+C,EAAYsO,GAAQyB,UAIpB/P,EAAYsO,GAAQqC,MACpBf,GAAYD,IAIY,IAAtBplB,EAAKvP,MAAMp5B,QAAgB6tD,EAAShL,YAEvC,CAACnW,IAGJ,MAAoCtsB,mBAA4B,CAC9D+7B,aAAa,EACbC,iBAAiB,EACjBC,WAAW,EACX0G,WAAW,IAJb,mBAAOtI,GAAP,KAAmBC,GAAnB,KAQA,GAAoCt6B,mBAAqBmtC,IAAzD,qBAAOxO,GAAP,MAAmBC,GAAnB,MAEMgM,GAAevY,mBAAQ,WAC3B,IAAMuc,EAAS,GACXC,EAAW,EACTC,EAAU7tD,SAAS8tD,eAAe,WACxCD,EAAQ7zD,MAAMqmB,QAAU,QACxB,IAAK,IAAI3jB,EAAI,GAAIA,EAAI,IAAKA,IAAK,CAC7B,IAAImtD,EAAS9rC,OAAOgwC,aAAarxD,GAClB,MAAXmtD,IACFA,EAAS,SAEX8D,EAAO9D,GAAUgC,GACjB+B,GAAYD,EAAO9D,GAIrB,OAFAgE,EAAQ7zD,MAAMqmB,QAAU,OACxBstC,EAAM,QAAcC,EAAQ,GACrBD,IACN,IAEC51B,GAAQ,GACRC,GAAQ,GAEPuP,GAcHxP,GAAQsT,EAAeP,IAAf,MACR9S,GAAQqT,EAAeP,IAAf,QAZR/S,GAAQsT,EAAe/D,KAAf,MACRtP,GAAQqT,EAAe/D,KAAf,MAGa,IAAjBvP,GAAMp5B,QAAgB6tD,EAAShL,UAAY2K,KAC7Cp0B,GAAQk1B,GAEW,IAAjBj1B,GAAMr5B,QAAgB6tD,EAAS/K,UAAY0K,KAC7Cn0B,GAAQm1B,IAOZ,IAMMvL,GANkBrG,GACtBvyC,EACAnG,EAAO8wC,UACP,KACAlM,GAE0Ct2C,KAOtC68D,GAAW,SAACtE,EAAwB30D,GACxC,OAA+B,IAA3B20D,EAAgB/qD,OAEhB,eAAC,GAAD,CACE5J,KAAMA,EACNogD,MAAgB,SAATpgD,EAAkBy3D,EAAShL,UAAYgL,EAAS/K,UACvDwJ,UAAWkB,KAGNzC,EAAgB/qD,OAASwtD,GAC3B,eAAC,GAAD,CAAcp3D,KAAMA,EAAM62D,cAAelC,EAAgB/qD,SAGrD,SAAT5J,EAEA,eAAC,GAAD,CAEE20D,gBAAiBA,EACjBtzD,WAAYA,EAAW6zC,SACvB99B,QAASA,EACTw9C,aAAcA,GACd3nC,MAAO,OACP2iC,WAAYn6C,EACZgoB,SAAUk6B,GAPL,kBAYP,eAAC,GAAD,CAEEhD,gBAAiB1xB,GACjB5hC,WAAYA,EAAWk2C,SACvBv3C,KAAM,OACNoX,QAASA,EACTw9C,aAAcA,GACd3nC,MAAO,OACP2iC,WAAYn6C,EACZgoB,SAAUk6B,GARL,mBAcTuB,GACe,IAAjBl2B,GAAMp5B,QAAgBo5B,GAAMp5B,SAAW6tD,EAAShL,UAC5C,GADJ,WAEQzpB,GAAMp5B,OAFd,cAGEuvD,GACe,IAAjBl2B,GAAMr5B,QAAgBq5B,GAAMr5B,SAAW6tD,EAAS/K,UAC5C,GADJ,WAEQzpB,GAAMr5B,OAFd,cAIF,OACE,uBAAK8iB,UAAWZ,EAAQZ,KAAMjmB,MAAO,CAAEpG,MAAOA,GAASmpC,IAAKsvB,EAA5D,UACE,uBAAK5qC,UAAWZ,EAAQ6iC,OAAQ3mB,IAAKuvB,EAArC,UACE,eAAC,GAAD,IACA,eAACxrB,EAAA,EAAD,CAAYnf,QAAQ,KAAKF,UAAWZ,EAAQjS,MAA5C,SACGgzC,GAAmB,UAIxB,sBAAKngC,UAAWZ,EAAQmrC,WAAxB,SACE,gBAAC,KAAD,CACEmC,cAAe37B,EACf47B,qBAAqB,EACrBt2B,SAtEc,SAAC/B,EAAOs4B,EAAWvsC,GACvC6qC,GAAYD,GACZ3P,EAAYhnB,IAiER,UAKE,gBAAC,KAAD,CAAStU,UAAWZ,EAAQorC,QAASlvB,IAAKwvB,EAA1C,UACE,eAAC,KAAD,qBAAU,eACV,eAAC,KAAD,CAAKn3C,SAAU23C,EAAf,SACE,0CAAYkB,OADoB,aAGlC,eAAC,KAAD,CAAK74C,SAAU23C,EAAf,SACE,0CAAYmB,OADoB,gBAKpC,eAAC,KAAD,CAAUn9D,MAAOyhC,EAAUuD,MAAO,EAAlC,SACE,eAAC,GAAD,CACErkC,GAAIA,EACJ0nD,WAAYA,GACZC,cAAeA,GACfqE,WAAYA,GACZC,cAAeA,GACfxJ,SAAUA,MAId,eAAC,KAAD,CAAUpjD,MAAOyhC,EAAUuD,MAAO,EAAlC,SACGi4B,GAASj2B,GAAO,UAEnB,eAAC,KAAD,CAAUhnC,MAAOyhC,EAAUuD,MAAO,EAAlC,SACGi4B,GAASh2B,GAAO,mBEtXvBs2B,GAAW,GAEXC,GAAK,uCAAG,WACZvlD,EACAwL,EACA2mC,EACA/R,EACA6hB,EACAnnC,EACAie,GAPY,iBAAAzhC,EAAA,yDAUD,OAAT0I,GACCogC,EAAWnb,QACG,OAAfktB,GACc,OAAd3mC,GACS,OAATxL,GACe,MAAf8a,EAfU,yCAkBHwqC,IAlBG,YAqBRxqC,EAAcmnC,GArBN,uBAsBV9tC,QAAQ4qB,KAAR,+BAAqCkjB,EAArC,MAtBU,kBAuBHqD,IAvBG,mBA2BJ93C,EAAaqxB,GAAc,GAAD,OAAIrzB,EAAJ,YAAiB2mC,GAAc/R,GACzDn/B,EAAYm/B,EAAWn/B,UAEZ,MAAd83B,EA9BO,yBA+BSxmC,IAAd0O,EA/BK,kCAgCOuM,EAAWg4C,cAAcxlD,EAAMiB,GAhCtC,0FAkCKuM,EAAWg4C,cAAcxlD,GAlC9B,gBAoCSzN,IAAd0O,EApCK,kCAqCOuM,EAAWi4C,cAAczlD,EAAMiB,GArCtC,yBAuCKuM,EAAWi4C,cAAczlD,GAvC9B,gEA0CJ,IAAIq7B,GAAU,aAAd,MA1CI,0DAAH,kECJX,ICJKqqB,GDIC3uC,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJ/rB,SAAU,QACV09C,MAAO,EACPyQ,IAAK,EACL3U,WAAY,MACZrtB,QAAS,OACTqE,cAAe,SACfgc,OAAQ,UAcCiuB,GAVK,WAClB,IAAM9tC,EAAUd,KAEhB,OACE,sBAAK0B,UAAWZ,EAAQZ,KAAxB,SACE,eAAC,GAAD,O,UETS2uC,GARD,SAAC,GAAe,IAAbhgD,EAAY,EAAZA,MACf,OACE,eAACigD,GAAA,EAAD,UACE,iCAAQjgD,GALO,gC,SDHhB8/C,O,6BAAAA,I,iCAAAA,I,2BAAAA,I,yBAAAA,I,gDAAAA,Q,KAQUA,UEHTI,GAAc,IAAIzuB,IAExByuB,GAAYxuB,IAAIouB,GAAaK,WAAY,CACvC,2CACA,mGAEFD,GAAYxuB,IAAIouB,GAAaM,aAAc,CACzC,gDACA,0EAEFF,GAAYxuB,IAAIouB,GAAaO,oBAAqB,CAChD,6BACA,uDAEFH,GAAYxuB,IAAIouB,GAAaQ,SAAU,CACrC,yCACA,kDAGF,I,UCmCeC,GAtC+B,SAAC,GAAwE,IAAD,IAArEvgD,aAAqE,MAA7D,GAA6D,MAAzDjJ,eAAyD,MAA/C,GAA+C,EAA3ClC,EAA2C,EAA3CA,KAAM2zC,EAAqC,EAArCA,QAASgY,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,UAY9FC,GAXQC,cAWO,WACnBF,GAAU,GACVjY,GAAQ,GACRgY,GAAW,KAIb,OACE,gBAAClP,EAAA,EAAD,CAAQz8C,KAAMA,EAAMyoB,QAASojC,EAA7B,UACE,eAACjP,EAAA,EAAD,UAAczxC,IACd,eAAC0xC,EAAA,EAAD,UACE,eAACkP,GAAA,EAAD,UAAoB7pD,MAEtB,gBAAC66C,EAAA,EAAD,WACE,eAAC9M,EAAA,EAAD,CAAQp+B,QAASg6C,EAAcl7D,MAAM,UAArC,oBAIA,eAACs/C,EAAA,EAAD,CAAQp+B,QA3BQ,WAEpB+5C,GAAU,QACQ9zD,IAAf6zD,GACDA,GAAW,GAEbhY,GAAQ,IAqB4BhjD,MAAM,YAAtC,uBC/CFq7D,GAAmB,WAEvB,MAAM,GAAN,OAAUrzD,OAAOwV,SAASP,SAA1B,aAAuCjV,OAAOwV,SAASxK,O,+DCqCnDmqB,GAAW,SAAC3rB,EAAoB+lB,GAA0B,IACtDogB,EAAYpgB,EAAZogB,QACR,OAAInmC,IAAS8oD,GAAaQ,UAAYtpD,IAAS8oD,GAAaM,aACnDjjB,EAAQ/xB,KAAKstB,KAEpB1hC,IAAS8oD,GAAaK,YACtBnpD,IAAS8oD,GAAagB,UAEf3jB,EAAQ8U,QAAQvZ,KAEhByE,EAAQlmC,MAAMyhC,MAIVqoB,GA1C8C,SAAC,GAGvD,IAFL/pD,EAEI,EAFJA,KAEI,IADJ4E,YACI,MADG,OACH,EASEqW,EARYb,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXmkC,UAAW,CACTrrC,SAAU/Z,EACVpW,MAAOm9B,GAAS3rB,EAAM+lB,QAIZ5L,GAEhB,OAAIna,IAAS8oD,GAAaQ,SACjB,eAAC,KAAD,CAAUztC,UAAWZ,EAAQ+uC,YAEpChqD,IAAS8oD,GAAaM,cACtBppD,IAAS8oD,GAAagB,UAEf,eAAC,KAAD,CAAMjuC,UAAWZ,EAAQ+uC,YACvBhqD,IAAS8oD,GAAaK,WACxB,eAAC,KAAD,CAASttC,UAAWZ,EAAQ+uC,YAE5B,eAAC,KAAD,CAAOnuC,UAAWZ,EAAQ+uC,aClB/B7vC,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXokC,UAAW,CACTj8D,MAAO,OACPC,OAAQ,OACR43C,UAAW,aACXr3C,MAAO,UACPisB,QAAS,OACTogB,WAAY,UAEd96B,QAAS,CACP0a,QAAS,OACTogB,WAAY,SACZnc,SAAU,QAEZqC,aAAc,CACZ+mB,WAAY,MACZt5C,MAAOu3B,EAAMogB,QAAQ0B,KAAKqiB,SAE5BF,UAAW,CACTrrC,SAAU,QAEZwrC,aAAc,CACZrqC,UAAW,OAEbsqC,cAAe,CACb3vC,QAAS,OACTogB,WAAY,SACZ/a,UAAWiG,EAAMkB,QAAQ,IAE3ByhB,QAAS,CACP5oB,UAAWiG,EAAMkB,QAAQ,IAE3ByuB,WAAY,CACV51B,UAAWiG,EAAMkB,QAAQ,GACzBjB,aAAcD,EAAMkB,QAAQ,GAC5Bz4B,MAAOu3B,EAAMogB,QAAQ0B,KAAKqiB,SAE5BG,KAAM,CACJ77D,MAAOu3B,EAAMogB,QAAQ/xB,KAAKstB,KAC1B5hB,UAAWiG,EAAMkB,QAAQ,GACzBjB,aAAcD,EAAMkB,QAAQ,GAC5B,UAAW,CACT0hB,WAAY,IACZuI,OAAQ,iBAsJVkL,GAAc,SAACr+C,GACnBvH,OAAOqH,KAAKE,EAAK,UAGJusD,GAtIuB,SAAC,GAUhC,IATLvqD,EASI,EATJA,QACA21C,EAQI,EARJA,WACA6U,EAOI,EAPJA,gBACAvqD,EAMI,EANJA,KAMI,IALJwqD,oBAKI,SAJJvb,EAII,EAJJA,QACAua,EAGI,EAHJA,WAGI,IAFJvpD,aAEI,SADJwpD,EACI,EADJA,UAEMxuC,EAAUd,KADZ,GAEa8wB,cAAT7nC,KAC6B6Z,qBAAWqf,KAAxCr/B,EAHJ,EAGIA,OAAQwtD,EAHZ,EAGYA,iBAHZ,EAKoBtxC,oBAAS,GAL7B,mBAKGtb,EALH,KAKS2zC,EALT,OAOkCr4B,mBAAS,IAP3C,mBAOGuxC,EAPH,KAOgBC,EAPhB,OAQsCxxC,mBAAS,IAR/C,mBAQGyxC,EARH,KAQkBC,EARlB,KAUJ/5C,qBAAU,WACR,QAAgBnb,IAAZs5C,EAAuB,CACzB,IAAM6b,EAAQ7b,EAAO,UAAgBA,EAAO,UAI5C,GAHmBA,EAAO,YAGThyC,EAAOozC,aAAeya,EAAQ7tD,EAAOmyC,cAGpD,OAFAoC,GAAQ,QACRgY,GAAW,GAIb,GAAIsB,GAAS7tD,EAAOo+C,kBACApM,EAAO,WAEP6b,EAAQ7tD,EAAOmzC,iBAC/Bua,EAAe,wCACfE,EACE,uGAEFrZ,GAAQ,IAGRgY,GAAW,QAIbhY,GAAQ,GACRgY,GAAW,MAGd,CAACva,IAYJ,OAAIhvC,EAEA,sBAAK4b,UAAWZ,EAAQgvC,UAAxB,SACE,uBAAKpuC,UAAWZ,EAAQlb,QAAxB,UACE,eAAC,GAAD,CAAWC,KAAMA,EAAM4E,KAAM,SAC7B,eAACs2B,EAAA,EAAD,CAAYrf,UAAWZ,EAAQ8F,aAAchF,QAAQ,KAArD,SACGhc,IAEH,eAACm7B,EAAA,EAAD,CAAYnf,QAAQ,KAAKF,UAAWZ,EAAQy6B,WAA5C,SACG6U,IAGFvqD,IAAS8oD,GAAaM,cACvBppD,IAAS8oD,GAAagB,UACpB,eAAC5uB,EAAA,EAAD,CACEnf,QAAQ,KACRrM,QArBa,WAEvB+6C,EAAiBM,SAoBPlvC,UAAWZ,EAAQovC,KAHrB,qBAQA,yBAGF,gBAACnvB,EAAA,EAAD,CAAYnf,QAAQ,QAApB,cAA8B25B,EAA9B,OACA,sBAAK75B,UAAWZ,EAAQmvC,cAAxB,SACE,eAAClvB,EAAA,EAAD,CACEnf,QAAQ,UACRrM,QAAS,kBAAM0sC,GAAY,GAAD,OAAIyN,QAC9BhuC,UAAWZ,EAAQovC,KAHrB,uCAaR,gBAAC,IAAMhQ,SAAP,WACE,eAAC,GAAD,CACEmP,WAAYA,EACZC,UAAWA,EACX5rD,KAAMA,EACN2zC,QAvDc,WAElBA,GAAQ,IAsDJxoC,MAAO0hD,EACP3qD,QAAS6qD,IAEX,sBAAK/uC,UAAWZ,EAAQgvC,UAAxB,SACE,uBAAKpuC,UAAWZ,EAAQlb,QAAxB,UACE,eAACm7B,EAAA,EAAD,CAAYnf,QAAQ,KAApB,SAA0Bhc,IACzByqD,EACC,eAACrvB,EAAA,EAAD,CACE3sC,MAAO,YACP4sC,eAAa,EACbvf,UAAWZ,EAAQkvC,eAGrB,kCClLNa,GACC,MADDA,GAEE,OAGF7wC,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXolC,cAAe,CACb5qC,SAAU,EACVwlB,UAAW,aACX/K,OAAQ,IACRrgB,QAAS,OACTxsB,OAAQ,OACR6wB,cAAe,SACfxwB,SAAU,YAEZ48D,UAAW,CACTzwC,QAAS,OACTqE,cAAe,eAKfqsC,GAAuB,WAC3B,OAAOt+D,KAAKu+D,MAA0B,IAApB50D,OAAOo0C,aAUrBygB,GAAgC,CACpClvB,UAAW,IACXoT,MAAOje,OAAOC,kBACdgd,SAAUyc,GACV5zD,KAAM,OAoSFk0D,GAAiB,WAErB,OADoC90D,OAA5Bo0C,YAIJ2gB,GAAiB,WACrB,MAAsCpyC,mBAASmyC,MAA/C,mBAAO3gB,EAAP,KAAoB6gB,EAApB,KAWA,OATA16C,qBAAU,WACR,SAASipB,IACPyxB,EAAeF,MAIjB,OADA90D,OAAO6I,iBAAiB,SAAU06B,GAC3B,kBAAMvjC,OAAO60C,oBAAoB,SAAUtR,MACjD,IAEI4Q,GAGM8gB,GA/RO,WACpB,IAAMxwC,EAAUd,KACVuxC,EAAe54B,mBACb1vB,EAAS6nC,cAAT7nC,KACR,EAA6D6Z,qBAC3Dqf,IADM4E,EAAR,EAAQA,QAASW,EAAjB,EAAiBA,eAAgB5kC,EAAjC,EAAiCA,OAAQwvC,EAAzC,EAAyCA,gBAGnCkf,EAAS1uD,EAAOmyC,cAChBwc,EAAK3uD,EAAOmzC,gBAEZyb,EAAkBlW,GACtBvyC,EACAnG,EAAO8wC,UA7EA,KA+EPlM,GAGMvoB,EAAuCuyC,EAAvCvyC,UACF21B,GADyC4c,EAA5BC,QAA4BD,EAAnBE,eACJF,EAAgBtgE,MAClCygE,EAzCe,SAAC/c,EAAiB2c,GACvC,QAAgBj2D,IAAZs5C,EACF,OAAOoc,GAET,IAAM9b,EAAQN,EAAO,UAAgBA,EAAO,UACxC9S,EAAY,IACZoS,EAAWyc,GAaf,OAXIzb,EAAQqc,IACVzvB,EAAY,IACZoS,EAAWyc,IAGoB,CAC/B7uB,YACAoT,QACAhB,WACAn3C,KAAM63C,EAAO,MAwBKgd,CAAehd,EAAS2c,GAG5C,EAA8BzyC,mBAAS,MAAvC,mBAAO+yC,EAAP,KAAgBC,EAAhB,KACMC,ET7DO,SACbhpD,EACAwL,GAMC,IALD2mC,EAKA,uDALqB,KACrB/R,EAIA,uCAHA6hB,EAGA,uDAHoB,IACpBnnC,EAEA,uDAFsB,EACtBie,EACA,uDADoB,IAEdnwB,EAAW4pC,cACXxxC,EAAoBm+B,GAAav2B,EAASN,QAIhD,OAHiB,OAAdtH,IACDo/B,EAAWn/B,UAAYD,GAElB0gC,oBACL,CACE,KACA1hC,EACAwL,EACA2mC,EACA/R,EACA6hB,EACAnnC,EACAie,IAEF,kBACEwsB,GACEvlD,EACAwL,EACA2mC,EACA/R,EACA6hB,EACAnnC,EACAie,KAEJ,CACE6I,OAAO,ISyBQqnB,CACjBH,EACAjvD,EAAO8wC,UA1FA,KA4FPlM,EACA8pB,EACAK,EAAYzc,MACZyc,EAAY7vB,WAGRmwB,EAAuBF,EAAW7gE,KAGxC,EAAoC4tB,mBAASgyC,MAA7C,mBAAOoB,EAAP,KAAmBC,EAAnB,KACA,EAA8CrzC,mBAAS,GAAvD,mBAAOszC,EAAP,KAAwBC,EAAxB,KACA,EAAgCvzC,oBAAS,GAAzC,mBAAOs1B,EAAP,KAAiBke,EAAjB,KACA,EAA0BxzC,mBAAS,GAAnC,mBAAOo2B,EAAP,KAAcqd,EAAd,KACA,EAAoCzzC,mBAAS,GAA7C,mBAAOq1B,EAAP,KAAmBqe,EAAnB,KACA,EAA8B1zC,oBAAS,GAAvC,mBAAO2zC,EAAP,KAAgBtD,EAAhB,KACA,EAA4BrwC,oBAAS,GAArC,mBAAOw1B,EAAP,KAAe8a,EAAf,KAEM9e,EAAc4gB,KACpB,EAA0BpyC,mBAAS,MAAnC,oBAAOm1B,GAAP,MAAcI,GAAd,MAEMqe,GAAkB,WAAO,IAAD,EACtBC,EAAM,iBAAGtB,QAAH,IAAGA,OAAH,EAAGA,EAAcv1B,eAAjB,QAA4B,CAAE0pB,aAAc,GACpDmN,GACFhlD,YAAW,WACLglD,EAAOnN,eAAiB4M,GAC1BC,EAAmBM,EAAOnN,gBAE3B,MAIP/uC,qBAAU,WACRta,OAAO6I,iBAAiB,SAAU0tD,IAClC,IAAME,ECxJgB,WACxB,IACIC,EAEJ,IAEEA,EADS9yD,SAASiR,cAAc,UACnB8hD,WAAW,UACxB,MAAOrxD,GAEP,OADAyb,QAAQ4qB,KAAK,2CAA4CrmC,IAClD,EAIT,OADAyb,QAAQoV,IAAIugC,QACAv3D,IAARu3D,GAAuD,qBAA3BE,yBAIhC71C,QAAQ4qB,KAAK,sGACN,GDsIwBkrB,GAC7BV,EAAYM,KACX,IAEHK,2BAAgB,WACdP,QAGFj8C,qBAAU,WACR,QAAgBnb,IAAZs5C,GAAyD,IAAhC1mD,OAAO0C,KAAKgkD,GAASl2C,OAAc,CAC9D,IAAMw2C,EAAQN,EAAO,UAAgBA,EAAO,UACtCse,EAASte,EAAO,YACtB2d,EAASrd,GACTsd,EAAcU,GAEVhe,EAAQtyC,EAAOmyC,eAAiBZ,EAAavxC,EAAOozC,cAClD5B,IAAaE,IAELF,GAAYc,EAAQtyC,EAAOmzC,kBADrC+b,EAAW/oD,MAMhB,CAAC6rC,IAEJn+B,qBAAU,YACHowB,EAAQmL,eAAiBkgB,EAAa,EACzCC,EAAc,GACLtrB,EAAQmL,eACjBmgB,EAAcrB,QAEf,CAACjqB,EAAQmL,gBAEZ,IAMMmhB,GAAmB,SAACt9C,GAAD,OACvBu8B,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAShxB,KAGbY,qBAAU,WAZiB,IAACZ,IAaP,6BAAKgxB,GAAN,IAAe+K,gBAAiBsgB,IAZlD9f,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAShxB,MAWV,CAACq8C,IAEJ,IAAMtrC,GAAe,SAACwsC,GACpB,IAAMC,EAAgB/iB,EAAc8iB,EAChCC,GAAiB,EACnBF,GAAiB,6BAAKtsB,GAAN,IAAemL,eAAe,KACpCnL,EAAQmL,eAClBmhB,GAAiB,6BAAKtsB,GAAN,IAAemL,eAAe,KAEhDmgB,EAAckB,IAGVC,GAAiB,CACrB1/D,OAAQw+D,GAuCJmB,GAAU,WACd,OACE,gBAAC,IAAMvT,SAAP,WACE,eAAC,GAAD,CAAOrxC,MAAK,UAAKgjD,EAAY50D,KAAjB,aAA0BgM,EAA1B,OACZ,sBAAK+zB,IAAKu0B,EAAc7vC,UAAWZ,EAAQgwC,cAA3C,SACE,gBAAC,KAAD,CACEphE,MAAM,WACNglD,QAAuB,GAAdlE,EACT/lC,KAAM+lC,EAAc4hB,EACpB3b,eAAgB3vB,GAChB7sB,MAAOu5D,GACPhd,QAAS,EANX,UAvCF1zC,EAAOozC,YAAc7B,GAAcvxC,EAAOmyC,cAAgBG,EAE1D,eAAC,GAAD,CACEZ,OAAQA,EACR7iD,GAAIwgE,EACJ/d,SAAUyd,EAAYzd,SACtBrwB,YAAaqxB,EACbf,WAAYA,EACZC,SAAUA,EACVC,SAAUA,UAGU/4C,IAAf22D,GAA4BF,EAAW9yC,UAE9C,eAACu0C,GAAD,CACE9tD,QAAS,2CACTyqD,cAAc,EACdhB,WAAYA,IAKhB,eAAC,GAAD,CACE7a,OAAQA,EACR7iD,GAAIwgE,EACJ/d,SAAUyd,EAAYzd,SACtBrwB,YAAaqxB,EACbf,WAAYA,EACZC,SAAUA,EACVC,SAAUA,KAmBLxN,EAAQmL,cACP,eAAC,GAAD,CACEr+C,MAAOu+D,EACPzgE,GAAIo1C,EAAQqK,wBAA0B+C,GAAQge,EAC9C/d,SAAUyd,EAAYzd,SACtBrwB,YAAaqxB,EACbf,WAAYA,IAGd,eAAC,GAAD,aASZ,GAAIqd,EAAgBC,QAAS,CAC3B,IAEM/qC,GLtQW,SAAC9gB,GAAoC,IAChDqhB,EAAYrhB,EAAZqhB,QACFwsC,EAA6B,CACjC/tD,QAAQ,kBAAD,OAAoBE,EAAM7I,MACjC22D,gBAAiB9tD,EAAMF,SAGzB,QAAgBpK,IAAZ2rB,EACF,OAAOwsC,EAGT,IAAMtvD,EAAW8iB,EAAO,SACxB,QAAiB3rB,IAAb6I,EAMF,MAL0C,CACxCuB,QAAS,sBACTwqD,gBAAiBtqD,EAAMqhB,QAAN,QAAyBo0B,WAC1CqY,gBAAiB9tD,EAAMF,SAhB4B,MAoBxBvB,EAAvBpC,EApB+C,EAoB/CA,OAAQuC,EApBuC,EAoBvCA,WACVpT,EAAOiT,EAAQ,KACfuB,EAA4BmpD,GAAYzxD,IAAI2E,GAElD,YAAgBzG,IAAZoK,EACiC,CACjCA,QAASA,EAAQ,GACjBwqD,gBAAiBxqD,EAAQ,GACzBguD,gBAAgB,GAAD,OAAKpvD,EAAL,aAAoBpT,EAAKwU,SACxCC,KAAM5D,GAMH0xD,EKmO8BE,CAFjBnC,EAAV5rD,OAGR,OACE,eAAC4tD,GAAD,CACE9tD,QAASghB,GAAahhB,QACtB21C,WAAY30B,GAAagtC,gBACzBxD,gBAAiBxpC,GAAawpC,gBAC9BvqD,KAAM+gB,GAAa/gB,KACnBC,OAAO,EACPupD,WAAYA,IAMlB,YAAgB7zD,IAAZs5C,GAAyB31B,EAEzB,eAACu0C,GAAD,CACE9tD,QAAS,oCACTyqD,cAAc,EACdhB,WAAYA,IAKd4C,EAAWN,QAEXM,EAAWnsD,MAAX,UACAmsD,EAAWnsD,MAAX,SAA6B1U,MAE3B,mDADF6gE,EAAWnsD,MAAX,SAA6B1U,KAAKwU,QAIhC,eAAC8tD,GAAD,CACE5e,QAASA,EACTlvC,QAAO,gEACPE,OAAO,EACPupD,WAAYA,KAIhBjyC,QAAQoV,IAAI,yBAA0By/B,EAAWnsD,MAAX,SAA6B1U,MAEjE,eAACsiE,GAAD,CACE5e,QAASA,EACTlvC,QAAO,UAAKqsD,EAAWnsD,OACvBA,OAAO,EACPupD,WAAYA,UAMJ7zD,IAAZs5C,GAA0B6d,GAExB7vD,EAAOmyC,cAAgBG,GAAStyC,EAAOozC,YAAc7B,EAgBpDof,KAXH,eAACC,GAAD,CACE5e,QAASA,EACTlvC,QAAS,qCACTypD,WAAYA,EACZC,UAAWA,K,qBEjUJwE,GApBe,WACThxC,qBAAWqf,IAAtBr/B,OAD2B,IAE3BmG,EAAS6nC,cAAT7nC,KAEF8+B,EAAkB2nB,KAClBqE,EAAU,UAAMhsB,EAAN,sBAA2B9+B,GAM3C,OACE,eAACwpC,EAAA,EAAD,CAAS5jC,MAAM,oCAAf,SACE,eAAC8kC,EAAA,EAAD,CAAQ/xB,QAAQ,WAAWvtB,MAAM,UAAUoW,KAAK,QAAQupD,QAAS,eAAC,KAAD,IAAgBz+C,QANjE,WAClBlZ,OAAOqH,KAAKqwD,EAAY,UAKtB,uCCrBS,OAA0B,sCCMnC/zC,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXlL,SAAU,CACR1sB,OAAQ83B,EAAMkB,QAAQ,KACtBrM,YAAamL,EAAMkB,QAAQ,GAC3B3M,QAAS,EACTmE,gBAAiB,cACjB,UAAW,CACTA,gBAAiB,qBA2BV2vC,GArBY,WACzB,IAAMnzC,EAAUd,KACV+nB,EAAkB2nB,KAMxB,OACE,eAACjd,EAAA,EAAD,CAAS5jC,MAAM,YAAYiV,UAAU,SAArC,SACE,eAAC+qB,EAAA,EAAD,CACE,aAAW,YACXt5B,QARc,WAClBlZ,OAAOqH,KAAKqkC,EAAS,UAQjBrmB,UAAWZ,EAAQN,SAHrB,SAKE,sBAAK0D,IAAI,YAAYC,IAAKc,GAAMvD,UAAWZ,EAAQN,gB,yCC3BrDR,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXrJ,OAAQ,CACNvuB,OAAQ83B,EAAMkB,QAAQ,GACtB3M,QAAS,EACTC,OAAQ,EACRK,YAAamL,EAAMkB,QAAQ,GAC3BxI,gBAAiB,cACjB,UAAW,CACTA,gBAAiB,qBAkFV4vC,GA5EM,WACnB,IAAMpzC,EAAUd,KAChB,EAAgC1K,IAAM0J,SAAmC,MAAzE,mBAAOkN,EAAP,KAAiB4B,EAAjB,KAUMpqB,EAAOsqB,QAAQ9B,GACfj4B,EAAKyP,EAAO,wBAAqBlI,EAEvC,OACE,uCACE,eAACi3C,EAAA,EAAD,CAAS5jC,MAAM,gBAAf,SACE,eAACggC,EAAA,EAAD,CACEntB,UAAWZ,EAAQuB,OACnB,mBAAkBpuB,EAClBshB,QAjBY,SAACwM,GACnB+L,EAAY/L,EAAMoyC,gBAiBZ9/D,MAAM,UACN8tB,eAAe,EACfD,oBAAoB,EACpBkyC,oBAAoB,EAPtB,SASE,eAAC,KAAD,QAGJ,gBAACC,GAAA,EAAD,CAAM3wD,KAAMA,EAAMwoB,SAAUA,EAAUC,QAtBtB,WAClB2B,EAAY,OAqBV,UACE,eAACwmC,GAAA,EAAD,CACE/+C,QAAS,WACPlZ,OAAOqH,KAAK,wCACZoqB,EAAY,OAHhB,mBAQA,eAACwmC,GAAA,EAAD,CACE/+C,QAAS,WACPlZ,OAAOqH,KAAK,yCACZoqB,EAAY,OAHhB,kBAQA,eAACwmC,GAAA,EAAD,CACE/+C,QAAS,WACPlZ,OAAOqH,KAAK,0CACZoqB,EAAY,OAHhB,wBAQA,eAACwmC,GAAA,EAAD,CACE/+C,QAAS,WACPlZ,OAAOqH,KAAK,wCACZoqB,EAAY,OAHhB,wBAQA,eAACwmC,GAAA,EAAD,CACE/+C,QAAS,WACPlZ,OAAOqH,KAAK,iCACZoqB,EAAY,OAHhB,wBCzEF9N,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJ/rB,SAAU,QACVmsB,QAAS,OACTC,WAAY,SACZqE,eAAgB,aAChB09B,IAAK12B,EAAMkB,QAAQ,GACnBgf,KAAMlgB,EAAMkB,QAAQ,GACpBh5B,OAAQ83B,EAAMkB,QAAQ,KACtB3M,QAASyL,EAAMkB,QAAQ,GACvBxI,gBAAiB,yBACjBqc,OAAQ,IACRkP,aAAc,QA6FL0kB,GAxFK,SAAChuD,GACnB,IAAMua,EAAUd,KACVw0C,EAAa77B,iBAAO,MAE1B,EAMI7V,qBAAWqf,IAJb2S,GAFF,EACEhyC,OADF,EAEEgyC,SACApN,EAHF,EAGEA,eACA+sB,EAJF,EAIEA,kBACAC,EALF,EAKEA,oBAGF/9C,qBAAU,WACR+9C,EAAoBF,EAAWx4B,QAAQ24B,aACtC,IAEH,IAAMC,EAAgBlF,KAmCtB,OACE,sBAAKhuC,UAAWZ,EAAQZ,KAAxB,SACE,gBAAC4+B,EAAA,EAAD,CACEnyB,WAAS,EACTC,UAAU,MACVmyB,QAAQ,aACRx+B,WAAW,SACXuM,QAAS,EALX,UAOE,gBAACgyB,EAAA,EAAD,CACEnyB,WAAS,EACTC,UAAU,MACVmyB,QAAQ,aACRx+B,WAAW,SAJb,UAME,eAAC,GAAD,IACA,sBAAKyc,IAAKw3B,EAAV,SACE,eAAC,GAAD,CACE/pD,KAAM,SACN2hB,aAAcwoC,EAAgB,eAC9BnnC,oBArDc,SAACF,GACzB,GAAIA,EACF,GAAIA,EAAWR,SACb0nC,EAAkB,CAChBvmC,QAAQ,EACRC,SAAS,EACTpB,UAAU,EACVtC,MAAO8C,QAEJ,CACL,IAAMpG,EAAUoG,EAAWP,aAC3BynC,EAAkB,CAChBvmC,QAAQ,EACRC,SAAS,EACTpB,UAAU,EACV6a,MAAO,CAAEjqB,OAAQwJ,EAAQlzB,GAAIsP,SAAU4jB,EAAQ5jB,iBAI/CmkC,EAAexZ,QAAUwZ,EAAevZ,UAC1C/Q,QAAQoV,IAAI,uCAAwCsiB,GAC/CA,GAAiC,WAAtBA,EAAQmF,aACtB59C,OAAOwV,SAAST,KAAOwjD,IAG3BH,EAAkB,CAChBvmC,QAAQ,EACRC,SAAS,EACTpB,UAAU,SA4BR,eAAC,GAAD,IACA,eAAC,GAAD,OAEF,eAAC+xB,EAAA,EAAD,CACEnyB,WAAS,EACTC,UAAU,MACVmyB,QAAQ,WACRx+B,WAAW,iB,yCChHN,OAA0B,yCCA1B,OAA0B,iDCA1B,OAA0B,6CCA1B,OAA0B,2CCA1B,OAA0B,iDCqBnCP,GAAYC,YAAW,CAC3BC,KAAM,CACJC,QAAS,OAEXva,QAAS,CACPua,QAAS,MACTG,QAAS,OACTogB,WAAY,iBAEd6vB,YAAa,CACX,OAAQ,CACNjwC,QAAS,OACTqE,cAAe,OAEjBoyB,OAAQ,QAEV7pB,WAAY,CACV/M,QAAS,eACTtsB,MAAO,OACPC,OAAQ,QAEV+a,MAAO,CACLqX,SAAU,GAEZ2uC,sBAAuB,CACrBv0C,QAAS,OACTqE,cAAe,MACf84B,SAAU,OACVqX,UAAW,MACXlwC,eAAgB,UAElBmwC,sBAAuB,CACrBz0C,QAAS,OACTqE,cAAe,MACfpE,WAAY,SACZgE,SAAU,OACVizB,UAAW,QAEbwd,oBAAqB,CACnB10C,QAAS,OACTqE,cAAe,SACfswC,OAAQ,OAEVC,iBAAkB,CAChB3tC,SAAU,OACVrB,SAAU,EACVivC,UAAW,kBACX5wC,SAAU,QAEZ6wC,iBAAkB,GAClBC,eAAgB,GAChBnuC,MAAO,CACLpzB,OAAQ,OACR6zB,WAAY,SAIV2tC,GAAiB,SAAC/uD,GACNyZ,KAChB,OACE,eAAC,KAAD,CAAWxa,OAAQ,mCAAnB,SACE,eAAC+vD,GAAA,EAAD,gBAAWhvD,OA6IFivD,GAnIU,SAACjvD,GACxB,IAAMua,EAAUd,KACRmM,EAAkB5lB,EAAlB4lB,QAASzoB,EAAS6C,EAAT7C,KAEX+xD,EAAc,WAClBtpC,KAGF,OACE,qCACE,gBAACg0B,EAAA,EAAD,CACEz+B,UAAWZ,EAAQZ,KACnBiM,QAASspC,EACT,kBAAgB,2BAChB/xD,KAAMA,EACN4xD,eAAgBA,GAChB/wC,SAAS,KANX,UAQE,gBAAC+7B,EAAA,EAAD,CAAarsD,GAAG,cAAcytB,UAAWZ,EAAQyvC,YAAjD,UACE,eAACxvB,EAAA,EAAD,CAAYnf,QAAQ,KAAKF,UAAWZ,EAAQjS,MAA5C,iCAGA,eAACggC,EAAA,EAAD,CAAY,gBAAc,OAAOt5B,QAASkgD,EAAa/zC,UAAWZ,EAAQoM,WAA1E,SACE,eAAC,KAAD,SAGJ,eAACqzB,EAAA,EAAD,CAAeC,UAAU,EAAzB,SACE,eAACiP,GAAA,EAAD,CAAmBp7D,MAAM,cAAzB,SACE,uBAAKqtB,UAAWZ,EAAQ+zC,sBAAxB,UACE,uBAAKnzC,UAAW,CAACZ,EAAQk0C,oBAAqBl0C,EAAQo0C,kBAAkB1kD,KAAK,KAA7E,UACE,uBAAKkR,UAAW,CAACZ,EAAQi0C,sBAAuBj0C,EAAQu0C,gBAAgB7kD,KAAK,KAA7E,UACE,sBAAKkR,UAAWZ,EAAQs0C,iBAAxB,SACE,gBAACr0B,EAAA,EAAD,CAAYnf,QAAQ,QAApB,UACE,wBADF,+PAOF,sBAAKF,UAAWZ,EAAQs0C,iBAAxB,SACE,sBAAKjxC,IAAKuxC,GAAMh0C,UAAWZ,EAAQoG,aAGvC,uBAAKxF,UAAW,CAACZ,EAAQi0C,sBAAuBj0C,EAAQu0C,gBAAgB7kD,KAAK,KAA7E,UACE,uBAAKkR,UAAWZ,EAAQs0C,iBAAxB,UACE,eAACr0B,EAAA,EAAD,CAAYnf,QAAQ,QAApB,SACE,sDAEF,eAACmf,EAAA,EAAD,CAAYnf,QAAQ,QAApB,iNAMF,sBAAKF,UAAWZ,EAAQs0C,iBAAxB,SACE,sBAAKjxC,IAAKwxC,GAAcj0C,UAAWZ,EAAQoG,aAG/C,uBAAKxF,UAAW,CAACZ,EAAQi0C,sBAAuBj0C,EAAQu0C,gBAAgB7kD,KAAK,KAA7E,UACE,sBAAKkR,UAAWZ,EAAQs0C,iBAAxB,SACE,gBAACr0B,EAAA,EAAD,CAAYnf,QAAQ,QAApB,UACE,eAACmf,EAAA,EAAD,CAAYnf,QAAQ,QAApB,SACE,kDAFJ,6LAK6F,SAG/F,sBAAKF,UAAWZ,EAAQs0C,iBAAxB,SACE,sBAAKjxC,IAAKyxC,GAAUl0C,UAAWZ,EAAQoG,gBAI7C,uBAAKxF,UAAW,CAACZ,EAAQk0C,oBAAqBl0C,EAAQo0C,kBAAkB1kD,KAAK,KAA7E,UACE,uBAAKkR,UAAW,CAACZ,EAAQi0C,sBAAuBj0C,EAAQu0C,gBAAgB7kD,KAAK,KAA7E,UACE,sBAAKkR,UAAWZ,EAAQs0C,iBAAxB,SACE,gBAACr0B,EAAA,EAAD,CAAYnf,QAAQ,QAApB,UACE,eAACmf,EAAA,EAAD,CAAYnf,QAAQ,QAApB,SACE,iDAFJ,yLAQF,sBAAKF,UAAWZ,EAAQs0C,iBAAxB,SACE,sBAAKjxC,IAAKskB,GAAQ/mB,UAAWZ,EAAQoG,aAGzC,uBAAKxF,UAAW,CAACZ,EAAQi0C,sBAAuBj0C,EAAQu0C,gBAAgB7kD,KAAK,KAA7E,UACE,sBAAKkR,UAAWZ,EAAQs0C,iBAAxB,SACE,gBAACr0B,EAAA,EAAD,CAAYnf,QAAQ,QAApB,UACE,eAACmf,EAAA,EAAD,CAAYnf,QAAQ,QAApB,SACE,sDAFJ,8PAM0D,SAG5D,sBAAKF,UAAWZ,EAAQs0C,iBAAxB,SACE,sBAAKjxC,IAAKykB,GAAclnB,UAAWZ,EAAQoG,aAG/C,sBAAKxF,UAAW,CAACZ,EAAQi0C,sBAAuBj0C,EAAQu0C,gBAAgB7kD,KAAK,KAA7E,SACE,uBAAKkR,UAAWZ,EAAQs0C,iBAAxB,UACE,gBAACr0B,EAAA,EAAD,CAAYnf,QAAQ,QAApB,UACE,6CADF,QAC8B,6CAD9B,qGAIA,gBAACmf,EAAA,EAAD,CAAYnf,QAAQ,QAApB,UACE,wBADF,6CAE6C,IAC3C,oBAAGxQ,KAAK,0DAA0D9K,OAAO,SAAzE,mDAHF,sBAcZ,eAACm6C,EAAA,EAAD,UACE,eAAC9M,EAAA,EAAD,CAAQp+B,QAASkgD,EAAjB,2BCtIKI,GA1ES,WACtB,IAAQ5sD,EAAS6nC,cAAT7nC,KACR,EACE6Z,qBAAWqf,IADLiH,EAAR,EAAQA,MAAOqK,EAAf,EAAeA,UAAW1M,EAA1B,EAA0BA,QAASW,EAAnC,EAAmCA,eAAgB5kC,EAAnD,EAAmDA,OAAQgyC,EAA3D,EAA2DA,QAErDE,EAAe3K,GACnBphC,EACAmgC,EACAtmC,EAAO8wC,UACPlM,EACA+L,EACA3wC,EAAO4wC,cAGDvlB,EAAYuZ,EAAZvZ,QAEF6kB,EAASgC,EAAa5jD,KACtBu4C,OACOnuC,IAAXw3C,GAAuBA,EAAM,kBACzB8iB,EAAqBhhB,EACvBA,EAAQO,oBAAsBP,EAAQQ,oBACtC,EAEEnB,OACO34C,IAAXw3C,GAAwB8iB,EAAqB,EAAI9iB,EAAM,QAASx3C,EAQlE,EAAwC8Z,IAAM0J,cAASxjB,GAAvD,mBAAO+3C,EAAP,KAAqBC,EAArB,KAeA,GAAIzM,EAAQS,iBAAkB,CAC5B,IAAInyB,GAAW,EAIf,YAHc7Z,IAAV24C,IAAuBxK,GAAsBxb,IAC/C9Y,GAAW,GAGX,uCACE,eAAC,GAAD,CACEA,SAAUA,EACVsO,QA9BQ,WACd,OAAO,IAAI5gB,SAAgB,SAAUC,EAASC,GAC5CD,EAAQmxC,OA6BJ7wB,UAvBU,SAAClyB,GACjBgsB,QAAQoV,IAAIphC,GACZoiD,EAAgB,2BAsBVjwB,UAnBU,SAAC9Z,GACjB+pC,EAAgB,2BAA6B/pC,IAmBvCyL,QAAQ,iBAEV,eAAC2+B,GAAA,EAAD,CACEvnB,aAAc,CAAEC,SAAU,SAAUC,WAAY,QAChD9oB,UAAuBlI,IAAjB+3C,EACNO,iBAAkB,KAClB3nB,QAtBY,WAClBqnB,OAAgBh4C,IAsBVoK,QAAS2tC,OAKf,OAAO,eAAC,GAAD,CAAkBl+B,UAAU,K,UC5EjC0gD,GAAiB,IAAI9xB,kBAErB+xB,GAA+B,SAACC,GAElC,OAD8BA,EAAet1D,QAAQ,MAAO,KAAKA,QAAQ,MAAO,MAI9Eu1D,GAAyB,SAACC,GAE5B,IAAIC,EAAW,UAWf,OATID,IAEIA,EAAQr4D,EACRs4D,EAAWD,EAAQr4D,EAEZq4D,EAAQliE,KACfmiE,EAAWD,EAAQliE,KAGpBmiE,GAGLC,GAAc,SAAC1xB,EAAQhB,GACzB,IAAKgB,EAAQ,OAAO,KAEpB,IAOIjmB,EAPAxrB,EAAOyxC,EAAO1M,MAAM0L,GACpB2yB,EAAW,CACX,GAAM3yB,EACNjvC,EAAGxB,EAAKwB,EACRC,EAAGzB,EAAKyB,EACRgI,EAAGzJ,EAAKyJ,GAGZ,GAAIgoC,EAAO4xB,gBAAkB5xB,EAAO4xB,eAAe5yB,GAAS,CACxD,IAAI6yB,EAAY7xB,EAAO4xB,eAAe5yB,GACtCv1C,OAAO0C,KAAK0lE,GAAWzlE,SAAQ,SAAC0lE,GAC5B,IAAMzlE,EAAQwlE,EAAUC,GACxB,GAAa,YAATA,EACA,GAAKH,EAASG,GAEP,CACH,KAAOH,EAASG,EAAQ,IAAM/3C,IAC1BA,IAEJ43C,EAASG,EAAQ,IAAM/3C,GAAW1tB,EAClC0tB,SANA43C,EAASG,GAASzlE,KAYlC,GAAI2zC,EAAO+xB,eAAiB/xB,EAAO+xB,cAAc/yB,GAAS,CACtD,IAAIgzB,EAAe,GACnBhyB,EAAO+xB,cAAc/yB,GAAQ5yC,SAAQ,SAAC6lE,GAClCD,EAAatpD,KAAKs3B,EAAOkyB,UAAUD,OAEnCD,EAAa/3D,OAAS,IACtB03D,EAAQ,UAAgBK,GAGhC,OAAOL,GAGLQ,GAAc,SAACnyB,EAAQpB,GACzB,IAAKoB,EAAQ,OAAO,KAEpB,IAAI1xC,EAAO0xC,EAAO3M,MAAMuL,GAEpBwzB,EAAW,CACX,GAAMxzB,EACN,gBAAmBwyB,GAAeiB,oBAAoBryB,EAAQ1xC,GAC9D,EAAKA,EAAK6K,EACV,EAAK7K,EAAKX,GAEVosB,EAAU,EACd,GAAIimB,EAAOsyB,gBAAkBtyB,EAAOsyB,eAAe1zB,GAAS,CACxD,IAAI2zB,EAAYvyB,EAAOsyB,eAAe1zB,GACtCn1C,OAAO0C,KAAKomE,GAAWnmE,SAAQ,SAAC0lE,GAC5B,IAAMzlE,EAAQkmE,EAAUT,GACxB,GAAa,YAATA,EACA,GAAKM,EAASN,GAEP,CACH,KAAOM,EAASN,EAAQ,IAAM/3C,IAC1BA,IAEJq4C,EAASN,EAAQ,IAAM/3C,GAAW1tB,EAClC0tB,SANAq4C,EAASN,GAASzlE,KAalC,OAAO+lE,GAGLI,GAAoB,SAACC,GACvB,IAAIC,EAAY,GAEhB,GAA2B,qBAAfD,GAA4C,KAAdA,GAAiC,MAAbA,EAC1D,OAAOC,EAEX,GAA2B,kBAAfD,EACR,OAAOA,EAIX,GAA2B,kBAAfA,GAEJA,EAAUvmE,EAEV,GAAI0R,MAAMjE,QAAQ84D,EAAUvmE,GAAI,CAE5B,IAAK,IAAI8L,EAAI,EAAGA,EAAIy6D,EAAUvmE,EAAE+N,OAAQjC,IACpCy6D,EAAUvmE,EAAE8L,GAAKq5D,GAA6BoB,EAAUvmE,EAAE8L,IAG9D06D,EAAYD,EAAUvmE,EAAE2f,KAAK,SAEG,kBAAjB4mD,EAAUvmE,IAEzBwmE,EAAYD,EAAUvmE,GAKlC,OAAOwmE,GA4NLC,GAAS,SAAC3lE,GAEZ,OA3N0B,SAACgzC,GAmB3B,IAAIK,EAAUL,EAEV1M,EAAQ+M,EAAQ/M,MAChBs/B,EAAWnpE,OAAO0C,KAAKmnC,GAIvB0oB,EAAM,GAEN4V,EAAiBvxB,EAAQuxB,eAEzBr1D,EAAU,CAAE,cAAe,EAAGs2D,YAAa,EAAG,cAAe,EAAG,YAAa,EAAG,eAAgB,GAChGC,EAAmBv2D,EAAQ,gBAI3B82B,EAAQgN,EAAQhN,MAEhB0/B,EAAWtpE,OAAO0C,KAAKknC,GACvBi/B,EAAiBjyB,EAAQiyB,eAG7B,IAAK,IAAI7iE,KAAOsjE,EAAU,CACtB,IAAIn0B,EAASm0B,EAAStjE,GAEtB,GAAI6iE,EAAgB,CAEhB,IAAIC,EAAYD,EAAe1zB,GAE/B,IAAK,IAAIo0B,KAAQT,EAAW,CACxB,IAAIU,EAAgBV,EAAUS,GAAUT,EAAUS,GAAS,GAIvDE,EAAyB,WAFzBC,EAAmB9B,GAA6B4B,EAAY,IAI5DE,GAAuD,SAAlCA,EAAiB/yD,gBAEhC8yD,KAA0B32D,WACrBA,EAAQ,gBACfA,EAAQ22D,GAA0BJ,IAKpCI,KAA0B32D,IAC5BA,EAAQ22D,GAA0BzpE,OAAO0C,KAAKoQ,GAAStC,UAUvEsC,EAAQ,aAAe9S,OAAO0C,KAAKoQ,GAAStC,OAC5CsC,EAAQ,gBAAkB9S,OAAO0C,KAAKoQ,GAAStC,OAC/C,IAAIm5D,EAAmB72D,EAAQ,gBAE/B,IAAK,IAAI9M,KAAOsjE,EAGZ,GAFIn0B,EAASm0B,EAAStjE,GAElB6iE,EAIA,IAAK,IAAIU,KAFLT,EAAYD,EAAe1zB,GAEH,CACpBq0B,EAAgBV,EAAUS,GAAUT,EAAUS,GAAS,GAA3D,IAEIG,EAEAE,EAAyB,WAFzBF,EAAmB9B,GAA6B4B,EAAY,IAI5DE,GAAuD,SAAlCA,EAAiB/yD,gBAChCizD,KAA0B92D,WACrBA,EAAQ,gBACfA,EAAQ82D,GAA0BD,IAIpCC,KAA0B92D,IAC5BA,EAAQ82D,GAA0B5pE,OAAO0C,KAAKoQ,GAAStC,QAMvEsC,EAAO,SAAe9S,OAAO0C,KAAKoQ,GAAStC,OAG3C,IAFA,IAAIq5D,EAAgB/2D,EAAO,SAElBvE,EAAI,EAAGA,EAAI46D,EAAS34D,OAAQjC,IAAK,CACtC,IAAIu7D,EAAUX,EAAS56D,GAEvB,GAAI45D,EACA,IAAK,IAAIniE,KAAOmiE,EAAe2B,GAAU,CAErC,IAAIC,EAAenC,GAA6B5hE,GAE5C+jE,GAA+C,YAA9BA,EAAapzD,gBACxBozD,KAAgBj3D,WACXA,EAAO,SACdA,EAAQi3D,GAAgBF,IAI1BE,KAAgBj3D,IAClBA,EAAQi3D,GAAgB/pE,OAAO0C,KAAKoQ,GAAStC,SAM7DsC,EAAQ,cAAgB9S,OAAO0C,KAAKoQ,GAAStC,OAC7CsC,EAAQ,qBAAuB9S,OAAO0C,KAAKoQ,GAAStC,OACpDsC,EAAQ,qBAAuB9S,OAAO0C,KAAKoQ,GAAStC,OAGpD,IAAIw5D,EAAoBhqE,OAAO0C,KAAKoQ,GACpCk3D,EAAkBt1B,MAAK,SAAUviC,EAAG/N,GAChC,OAAO0O,EAAQX,GAAKW,EAAQ1O,MAahC,IAXA,IAEI6lE,EAFmBD,EAAkB5nD,KAAK,MAAQ,KAMlD8nD,GAFA3X,EAAM,GAE2B,CAAE,EAAK,EAAG,EAAK,EAAG,GAAM,EAAG,gBAAmB,IAC/E4X,EAAiC,CAAE,GAAM,EAAG,EAAK,EAAG,EAAK,EAAG,EAAK,GAI5D57D,EAAI,EAAGA,EAAI46D,EAAS34D,OAAQjC,IAAK,CACtC,IAAKvI,KAAO8M,EACRy/C,EAAIvsD,GAAO,GAIX8jE,EAAUX,EAAS56D,GADvB,IAEI67D,EAAUnC,GAAYrxB,EAASkzB,GAGnCvX,EAAI,cAAiB6X,GAAWA,EAAQvkE,GAAMukE,EAAQvkE,GAAK,GAC3D0sD,EAAI,qBAAwB6X,IAAYA,EAAQ9jE,GAAkB,GAAb8jE,EAAQ9jE,GAAW8jE,EAAQ9jE,EAAI,GACpFisD,EAAG,YAAmB6X,GAAWA,EAAQ77D,EAAK67D,EAAQ77D,EAAI,GAC1DgkD,EAAI,qBAAwB6X,IAAYA,EAAQ7jE,GAAkB,GAAb6jE,EAAQ7jE,GAAW6jE,EAAQ7jE,EAAI,GAGpF,IAAI8jE,EAAgB3B,GAAY9xB,EAASwzB,EAAO,GAC5CE,EAAgB5B,GAAY9xB,EAASwzB,EAAO,GAQhD,IAAK,IAAItuB,KANTyW,EAAI,eAAiBuV,GAAuBuC,GAC5C9X,EAAI,aAAgB8X,GAAiBA,EAAcnmE,EAAKmmE,EAAcnmE,EAAI,GAC1EquD,EAAI,eAAiBuV,GAAuBwC,GAC5C/X,EAAI,aAAgB+X,GAAiBA,EAAcpmE,EAAKomE,EAAcpmE,EAAI,GAGrDmmE,EAAe,CAChC,IAAIE,EAAqB3C,GAA6B9rB,GAClDyuB,KAAsBL,IAG1B3X,EAAI,UAAYgY,GAAsBxB,GAAkBsB,EAAcvuB,KAG1E,IAAKA,KAAYwuB,EAAe,CAC5B,IAAIE,EAAsB5C,GAA6B9rB,GACnD0uB,KAAuBN,IAG3B3X,EAAI,UAAYiY,GAAuBzB,GAAkBuB,EAAcxuB,KAI3E,IAAK,IAAIqC,KAAYisB,EAAS,CAC1B,IAAIK,EAAqB7C,GAA6BzpB,GAClDssB,KAAsBN,IAG1B5X,EAAIkY,GAAsB1B,GAAkBqB,EAAQjsB,KAGxD,IAAIusB,EAAkB,GACtB,IAAK1kE,KAAOgkE,EAERU,EAAkBA,EADDnY,EAAIyX,EAAkBhkE,IACU,KAKrDikE,GAFAS,EAAkBA,EAAgB98C,MAAM,GAAI,GAAK,KAMrD,OAAOq8C,EAKAU,CADQhD,GAAenxB,cAAcjzC,KCrTjCqnE,GA9BV,SAAC,GAA6C,IAA3CrnE,EAA0C,EAA1CA,GAAIwjB,EAAsC,EAAtCA,SAAUkiC,EAA4B,EAA5BA,QAChBhiC,GAAW,OACJ7Z,IAAP7J,IACF0jB,GAAW,GAiBb,OACE,gBAACi/C,GAAA,EAAD,CAAU/+C,QAPS,WACnB8hC,GAAQ,GATQ,SAAC7hC,EAASL,EAAU8jD,GACpC,IAAM14D,EAAIN,SAASiR,cAAc,KAC3BuE,EAAO,IAAIC,KAAK,CAACF,GAAU,CAAExgB,KAAMikE,IACzC14D,EAAE6Q,KAAOrJ,IAAImxD,gBAAgBzjD,GAC7BlV,EAAE44D,SAAWhkD,EACb5U,EAAEqwD,QAMFwI,CADkB9B,GAAO3lE,GACJwjB,EAAU,qBAIEE,SAAUA,EAA3C,UACE,eAACgkD,GAAA,EAAD,UACE,eAAC,IAAD,CAAc70C,SAAS,YAEzB,eAACuc,EAAA,EAAD,CAAYnf,QAAQ,UAApB,4BCUS03C,GAzCwD,SAAC,GAEnD,IADnBjiB,EACkB,EADlBA,QAEQpuC,EAAS6nC,cAAT7nC,KACR,EACE6Z,qBAAWqf,IADLiH,EAAR,EAAQA,MAAOqK,EAAf,EAAeA,UAAW/L,EAA1B,EAA0BA,eAAgB5kC,EAA1C,EAA0CA,OAAQgyC,EAAlD,EAAkDA,QAGlD,EAAyBzK,GACvBphC,EACAmgC,EACAtmC,EAAO8wC,UACPlM,EACA+L,EACA3wC,EAAO4wC,cANDzxC,EAAR,EAAQA,OAAQ7Q,EAAhB,EAAgBA,KASVu4C,OACKnuC,IAATpK,GAAqBA,EAAI,kBACrB0kE,EAAqBhhB,EACvBA,EAAQO,oBAAsBP,EAAQQ,oBACtC,EAEEnB,OAAiB34C,IAATpK,EAAqBA,EAAI,QAASoK,EAC1C2Z,EAAWlM,EAAOA,EAAO,cAAgB,aAE/C,OACE,eAACswD,GAAD,CACE5nE,GACEsQ,GACW,YAAXA,IACC0nC,GACDmsB,EAAqB,EACjB3hB,OACA34C,EAEN2Z,SAAUA,EACVkiC,QAASA,KCjCTr3B,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXqgC,WAAY,QAkDDyN,GA5CW,WACRx5C,KAAhB,IACA,EAAgC1K,IAAM0J,SAAmC,MAAzE,mBAAOkN,EAAP,KAAiB4B,EAAjB,KAYA,EAAwB9O,mBAAkBgP,QAAQ9B,IAAlD,mBAAOxoB,EAAP,KAAa2zC,EAAb,KACMpjD,EAAKyP,EAAO,qBAAkBlI,EAEpC,OACE,uCACE,eAACi3C,EAAA,EAAD,CAAS5jC,MAAM,6BAAf,SACE,eAACggC,EAAA,EAAD,CAAY,mBAAkB56C,EAAIshB,QAhBpB,SAACwM,GACnB+L,EAAY/L,EAAMoyC,eAClB9c,GAAQ,IAcoDhjD,MAAM,UAA9D,SACE,eAAC,KAAD,QAGJ,eAACggE,GAAA,EAAD,CACEpgE,GAAIA,EACJyP,KAAMA,EACNwoB,SAAUA,EACVC,QAnBc,WAClB2B,EAAY,MACZupB,GAAQ,IAkBJ/qB,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,SACVC,WAAY,UAXhB,SAcE,eAAC,GAAD,CAAsB6qB,QAASA,UC/BjCr3B,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJI,QAAS,OACTC,WAAY,SACZqE,eAAgB,aAChBirB,aAAcjkB,EAAM6tC,MAAM5pB,aAC1BvrB,gBAAiBsH,EAAMogB,QAAQ0tB,KAAK,KACpCj5C,YAAamL,EAAMkB,QAAQ,GAC3BnF,WAAYiE,EAAMkB,QAAQ,GAC1B3M,QAAS,EACTkI,aAAcuD,EAAMkB,QAAQ,IAE9Bvb,OAAQ,CACNgT,SAAU,OACVjE,QAAS,OACTC,WAAY,SACZqE,eAAgB,cAElB+0C,UAAW,CACT9lE,MAAO,OACPQ,MAAO,WAETulE,WAAY,CACV/zC,YAAa+F,EAAMkB,QAAQ,GAC3BzE,aAAcuD,EAAMkB,QAAQ,GAC5B+sC,WAAYjuC,EAAMkuC,YAAYl8D,OAAO,SACrC/J,MAAO,QAET+xB,YAAa,CACX2B,SAAU,QAEZwyC,YAAa,CACXp0C,UAAWiG,EAAMkB,QAAQ,IAE3BktC,WAAY,CACVz1C,SAAU,OACVpE,QAAS,GAEXkC,OAAQ,CACNlC,QAAS,QAKT85C,GAAa,CACjBxxB,OAAQ,SACRC,sBAAuB,sBACvBC,kBAAmB,kBACnBC,aAAc,eACdC,oBAAqB,sBACrBC,gBAAiB,mBAsMJoxB,GAnMO,WACpB,IAkCI/lB,EAlCErzB,EAAUd,KADU,EAEFhB,oBAAS,GAFP,mBAEnBtb,EAFmB,KAEb2zC,EAFa,OAGcr4B,oBAAS,GAHvB,mBAGnBm7C,EAHmB,KAGLC,EAHK,OAIMp7C,mBAAS,IAJf,mBAInBq7C,EAJmB,KAITC,EAJS,KAMlBrxD,EAAS6nC,cAAT7nC,KANkB,EAqBtB6Z,qBAAWqf,IAZb6E,EATwB,EASxBA,YACAoC,EAVwB,EAUxBA,MACAmxB,EAXwB,EAWxBA,SACA9mB,EAZwB,EAYxBA,UACA+mB,EAbwB,EAaxBA,aACAloB,EAdwB,EAcxBA,gBACAvL,EAfwB,EAexBA,QACAuE,EAhBwB,EAgBxBA,eACAyF,EAjBwB,EAiBxBA,uBACArJ,EAlBwB,EAkBxBA,eACA5kC,EAnBwB,EAmBxBA,OACAgyC,EApBwB,EAoBxBA,QApBwB,EAuBU91B,mBAASy0B,GAvBnB,mBAuBnBumB,EAvBmB,KAuBPS,EAvBO,KAkCpBznB,EATe3I,GACnBphC,EACAmgC,EACAtmC,EAAO8wC,UACPlM,EACA+L,EACA3wC,EAAO4wC,cAGmBtiD,UAEboK,IAAXw3C,IACFmB,EAAQnB,EAAM,IAGhB,IAAMrJ,OACOnuC,IAAXw3C,GAAuBA,EAAM,kBAMzB0nB,EAA+B,CACnCtpE,MANyB0jD,EACvBA,EAAQO,oBAAsBP,EAAQQ,oBACtC,GAE8B,EAAInB,OAAQ34C,EAG5C0Z,QAAS,8BACTC,SAAS,GAAD,OAAKlM,EAAL,eAkBJ0xD,EAAsB,SAAC5kD,GAAD,OAC1Bu8B,EAAgB,CACdt9C,KAAMg9C,GACNjL,QAAShxB,KAEP6kD,EAAoB,SAAC7kD,GACzBg7B,EAAuB,CACrB/7C,KAAMo2C,GACNE,eAAgBv1B,IAElBg7B,EAAuB,CACrB/7C,KAAMo2C,GACNE,eAAgBv1B,KAIdksC,EAAc,WAClBsY,EAASF,GACTM,EAAoB,6BAAK5zB,GAAN,IAAeS,kBAAkB,KACpDozB,EAAkB,gBAAKtvB,IACvBz9B,YAAW,WACTkkC,GAAW/K,KAEV,MAiCL,OACE,uBAAKtlB,UAAWZ,EAAQZ,KAAxB,UACE,sBAAKwB,UAAWZ,EAAQvP,OAAxB,SACE,eAACspD,GAAA,EAAD,CACEC,WAAW,EACX1zC,YAAY,oBACZp2B,MAAOqpE,EACPv5C,QAAS,CACPZ,KAAMY,EAAQ64C,UACdoB,MAAOj6C,EAAQ84C,YAEjB1c,WAAY,CAAE,aAAc,UAC5Bp7B,SA9EkB,SAACwI,GACzB,IAAM0wC,EAAY1wC,EAAIhkB,OAAOtV,WACnBwK,IAANw/D,GAAgC,IAAbA,EAAEp8D,OACvBw7D,GAAgB,GAEhBA,GAAgB,GAElBE,EAAYU,IAwENC,WAxBe,SAACt5D,GACE,IAApB04D,EAASz7D,SAKD,UADA+C,EAAEvN,KAEZ6tD,UAoBA,eAACxP,EAAA,EAAD,CAAS5jC,MAAM,aAAf,SACE,eAACggC,EAAA,EAAD,CACEx6C,MAAM,UACN6tB,oBAAkB,EAClBC,eAAa,EACb5M,QApCe,WACrB8hC,GAAQ,IA+BJ,SAME,eAAC,IAAD,QAGJ,eAAC+E,EAAA,EAAD,CAAax6B,QAAQ,WAAWF,UAAWZ,EAAQ8E,YAAnD,SACE,eAAC22B,GAAA,EAAD,CACEC,QAAM,EACNxrD,MAAOgpE,EACPl4C,SArGuB,SAACwI,GAC9B,IAAM/rB,EAAM+rB,EAAIhkB,OAAOtV,MACvBypE,EAAcl8D,GACdi8D,EAAaj8D,IAmGP0jB,MAAM,cACNi7B,WAAY,CACVjgD,KAAM,cACNhJ,GAAI,eAPR,SAUG7F,OAAO0C,KAAKmpE,IAAYtqE,KAAI,SAACyE,GAAD,OAC3B,yBAAkBpD,MAAOoD,EAAzB,SACG6lE,GAAW7lE,IADDA,UAMnB,eAACy6C,EAAA,EAAD,CACEx6C,MAAM,UACN6tB,oBAAkB,EAClBC,eAAa,EACb9M,SAAU8kD,EACV5kD,QAAS0sC,EALX,SAOE,eAAC,KAAD,OAEAtY,GAAqB,eAAC,EAAD,gBAAoB+wB,KACzC/wB,GAAqB,eAAC,GAAD,IACvB,eAAC,GAAD,IACA,eAACkF,EAAA,EAAD,CACEx6C,MAAM,UACN6tB,oBAAkB,EAClBC,eAAa,EACbT,UAAWZ,EAAQuB,OACnBhN,SAAU8kD,EACV5kD,QA5Fc,WAClB+kD,EAAY,IACZC,EAAS,IACTH,GAAgB,GAChBO,EAAoB,6BAAK5zB,GAAN,IAAeS,kBAAkB,KACpDozB,EAAkB,gBAAKtvB,IACvBz9B,YAAW,WACTkkC,GAAW/K,KAEV,MA6ED,SAQE,eAAC,KAAD,MAEF,eAAC,GAAD,CAAkB7a,QApFE,WACtBkrB,GAAQ,IAmFsC3zC,KAAMA,Q,0CC1KzCw3D,GAtFgB,WAC7B,MAA4Cp4C,qBAAWqf,IAA/C2S,EAAR,EAAQA,QAASpN,EAAjB,EAAiBA,eAAgB5kC,EAAjC,EAAiCA,OACzBmG,EAAS6nC,cAAT7nC,KACAklB,EAAYuZ,EAAZvZ,QAQFgtC,EANkB3f,GACtBvyC,EACAnG,EAAO8wC,UACP,KACAlM,GAEqCt2C,KACnCgqE,GAAiB,EACjBC,GAAW,OAEQ7/D,IAAnB2/D,GAAmD,OAAnBA,SAEtB3/D,IADIs5C,EAAR4L,MAGN0a,GAAiB,GAGnBC,EAAWF,EAAeG,YAG5B,IAAM3b,EAAcC,GAClB32C,EACAnG,EAAO8wC,UACP,KACAlM,GAGE6zB,GAAgB,OAEF//D,IAAhBmkD,GACgB,OAAhBA,GACqB,UAArBA,EAAYvuD,OAEZmqE,GAAgB,GAGlB,IAAIC,GAAiB,EACjBrtC,QAAuB3yB,IAAZs5C,IACb0mB,GAAQ,GAGV,IAAI51D,EAAU,oDAEVyP,GAAW,EAkBf,OAjBIkmD,GAAiBC,EACfJ,EACFx1D,EACE,kFAEEy1D,GACFz1D,EAAU,4BACVyP,GAAW,IAEXzP,EAAU,0BACVyP,GAAW,IAGLkmD,GAAiBC,IAC3B51D,EAAU,kDAIV,eAAC6sC,EAAA,EAAD,CAAS5jC,MAAOjJ,EAAS8sC,OAAK,EAAC5uB,UAAW,YAA1C,SACE,+BACE,eAAC+qB,EAAA,EAAD,CACEx5B,SAAUA,EACVhhB,MAAM,UACN+c,KACEs+C,KACA,yBACA5a,EAAQvrC,WACR,qBAPJ,SAUG8xD,GAAYhmD,EAAW,eAAC,KAAD,IAAe,eAAC,KAAD,W,0CCjElComD,GAlBoD,SAAC,GAG7D,IAAD,IAFJxyD,YAEI,MAFG,GAEH,MADJoM,gBACI,SACJ,OACE,gBAACi/C,GAAA,EAAD,CACAj/C,SAAUA,EACRwM,UAAU,IACVzQ,KAAMs+C,KAAqB,qBAAuBzmD,EAAO,gBAH3D,UAKE,eAACowD,GAAA,EAAD,UACE,eAAC,KAAD,CAAU70C,SAAS,YAErB,eAACuc,EAAA,EAAD,CAAYnf,QAAQ,UAApB,uB,qBCUS85C,GArBoD,SAAC,GAAD,QACjEzyD,YADiE,MAC1D,GAD0D,MAEjEoM,gBAFiE,gBAIjE,gBAACi/C,GAAA,EAAD,CACEj/C,SAAUA,EACVwM,UAAU,IACVzQ,KACEs+C,KACA,yBACAzmD,EACA,8BAPJ,UAUE,eAACowD,GAAA,EAAD,UACE,eAAC,KAAD,CAAkB70C,SAAS,YAE7B,eAACuc,EAAA,EAAD,CAAYnf,QAAQ,UAApB,6BCfE+5C,GACJ,oDAyHaC,GAvHQ,WAAqB,IAClC3yD,EAAS6nC,cAAT7nC,KADiC,EAEG6Z,qBAAWqf,IAA/C2S,EAFiC,EAEjCA,QAAShyC,EAFwB,EAExBA,OAAQ4kC,EAFgB,EAEhBA,eAEnBiY,EAAcC,GAClB32C,EACAnG,EAAO8wC,UACP,KACAlM,GAGE6zB,GAAgB,OAEF//D,IAAhBmkD,GACgB,OAAhBA,GACqB,UAArBA,EAAYvuD,OAEZmqE,GAAgB,GAIlB,IAAMlmD,GAAYqyB,EAAevZ,QArBQ,EAuBT7Y,IAAM0J,SAAmC,MAvBhC,mBAuBlCkN,EAvBkC,KAuBxB4B,EAvBwB,KA+CnCpqB,EAAOsqB,QAAQ9B,GACfj4B,EAAKyP,EAAO,qBAAkBlI,EAChC4/D,GAAiB,OACL5/D,IAAZs5C,GAAqC,OAAZA,SAEft5C,IADIs5C,EAAR4L,MAGN0a,GAAiB,IAIrB,OACE,uCACE,eAAC3oB,EAAA,EAAD,CAAS5jC,MAAM,WAAf,SACE,eAACggC,EAAA,EAAD,CACE,aAAW,QACX,mBAAkB56C,EAClBshB,QAvCY,SAACwM,GACnB+L,EAAY/L,EAAMoyC,gBAuCZ9/D,MAAM,UAJR,SAME,eAAC,KAAD,QAGJ,gBAACggE,GAAA,EAAD,CACEpgE,GAAIA,EACJyP,KAAMA,EACNwoB,SAAUA,EACVC,QA7Cc,WAClB2B,EAAY,OA6CRxB,aAAc,CACZC,SAAU,MACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,SACVC,WAAY,UAXhB,UAcE,eAACimB,EAAA,EAAD,CACE5jC,MACEwG,EACIsmD,GACA,8CAENjpB,OAAK,EACL5uB,UAAW,WAPb,SASE,+BACE,eAAC,GAAD,CAAmB7a,KAAMA,EAAMoM,SAAUA,QAI7C,eAACo9B,EAAA,EAAD,CACE5jC,MACEwG,GAAY+lD,IAAmBG,EAnEd,SACzBptC,EACAitC,EACAG,GAEA,OAAGptC,IAAYotC,EACN,4CACCptC,GAAWotC,GAAiBH,EAC7B,oDAEAO,GA0DGE,CAAmBn0B,EAAevZ,QAASitC,EAAgBG,GAC3D,uDAEN7oB,OAAK,EACL5uB,UAAW,WAPb,SASE,+BACE,eAAC,GAAD,CACE7a,KAAMA,EACNoM,SAAUA,GAAY+lD,IAAmBG,eC1ExCO,GAxCa,WAAO,IACzB7yD,EAAS6nC,cAAT7nC,KADwB,EAGY6Z,qBAAWqf,IAA/CuF,EAHwB,EAGxBA,eAAgB5kC,EAHQ,EAGRA,OAAQgyC,EAHA,EAGAA,QAE1BinB,EAAW,WACf,I1BjB0Bn4D,E0BiBpBrD,EAAIN,SAASiR,cAAc,KAC7B8qD,EAAiB,GACjBt0B,EAAevZ,UAEf6tC,EADEt0B,EAAe3a,SAEf,aAAe2a,EAAejd,MAAf,aAAqCkd,QAGpD,eACAlkC,KACEikC,EAAeE,MAAMjqB,OAAS,IAAM+pB,EAAeE,MAAMrkC,WAKjEhD,EAAE6Q,KAAF,W1BhC0BxN,E0BiCxBd,EAAO8uC,Q1BhCJv1C,OAAOwV,SAASP,SAAW,KAAO1N,G0B+BvC,uBAEgBqF,EAFhB,yBAEqC+yD,GACrCz7D,EAAEqwD,SAOJ,OACE,eAACne,EAAA,EAAD,CAAS5jC,MAAM,qCAAf,SACE,eAACggC,EAAA,EAAD,CAAYx5B,UAAWy/B,EAASv/B,QANhB,WAClBwmD,KAKwD1nE,MAAM,UAA5D,SACE,eAAC,IAAD,SC0CO4nE,GA1E0D,SAAC,GAGnE,IAFLv4D,EAEI,EAFJA,KACA2zC,EACI,EADJA,QAEMtP,EAAkB2nB,KAClBwM,EAAe,UAAMn0B,EAAN,gBAFjB,EAI+BjlB,qBAAWqf,IAAtCuF,EAJJ,EAIIA,eAAgB5kC,EAJpB,EAIoBA,OAChBmG,EAAS6nC,cAAT7nC,KALJ,EAMoC+V,oBAAkB,GANtD,mBAMGm9C,EANH,KAMiBC,EANjB,KAuBEC,EAAe,WACnBhlB,GAAQ,IAWV,OACE,uCACE,gBAAC8I,EAAA,EAAD,CACEz8C,KAAMA,EACNyoB,QAASkwC,EACT,kBAAgB,qBAChB,mBAAiB,2BAJnB,UAME,eAAC/b,EAAA,EAAD,CAAarsD,GAAG,qBAAhB,SACG,wBAEH,eAACssD,EAAA,EAAD,UACE,eAACkP,GAAA,EAAD,CAAmBx7D,GAAG,2BAAtB,qGAKF,gBAACwsD,EAAA,EAAD,WACE,eAAC9M,EAAA,EAAD,CAAQp+B,QAAS8mD,EAAchoE,MAAM,UAAUymE,WAAS,EAAxD,oBAGA,eAACnnB,EAAA,EAAD,CAAQp+B,QAhDM,WACDuyB,GAAc,GAAD,OAAIhlC,EAAO8wC,UAAX,OAA2BlM,GAExD40B,cAAcrzD,GACd1D,MAAK,SAAClB,GACL+Y,QAAQoV,IAAInuB,GACZ+3D,GAAgB,MAEjBnc,OAAM,SAACx2C,GAEN,MADA2T,QAAQoV,IAAI/oB,GACN,IAAI1D,MAAM0D,MAEpB4tC,GAAQ,IAoC8BhjD,MAAM,YAAtC,2BAKJ,eAACw/C,GAAA,EAAD,CACEnwC,KAAMy4D,EACNroB,iBAAkB,IAClBluC,QAAQ,wEACRumB,QAtCuB,WAC3BiwC,GAAgB,GAChBvuD,YAAW,WACTxR,OAAOqH,KAAKw4D,EAAiB,WAC5B,aCiBQK,GAtDW,WAAqB,IAAD,EACAz5C,qBAAWqf,IAA/C2S,EADoC,EACpCA,QAASpN,EAD2B,EAC3BA,eAAgB5kC,EADW,EACXA,OACzBmG,EAAS6nC,cAAT7nC,KACAklB,EAAYuZ,EAAZvZ,QAHoC,EAKpBnP,oBAAkB,GALE,mBAKrCtb,EALqC,KAK/B2zC,EAL+B,KAOtCsI,EAAcC,GAClB32C,EACAnG,EAAO8wC,UACP,KACAlM,GAGE6zB,GAAgB,OAEF//D,IAAhBmkD,GACgB,OAAhBA,GACqB,UAArBA,EAAYvuD,OAEZmqE,GAAgB,GAGlB,IAAIC,GAAiB,EACjBrtC,QAAuB3yB,IAAZs5C,IACb0mB,GAAQ,GAGV,IAAI51D,EAAU,uDAEVyP,GAAW,EACXkmD,GAAiBC,GACnB51D,EAAU,sBACVyP,GAAW,IACDkmD,GAAiBC,IAC3B51D,EAAU,oDAOZ,OACE,eAAC6sC,EAAA,EAAD,CAAS5jC,MAAOjJ,EAAS8sC,OAAK,EAAC5uB,UAAW,YAA1C,SACE,iCACE,eAAC+qB,EAAA,EAAD,CAAYx6C,MAAM,UAAUghB,SAAUA,EAAUE,QAPjC,SAACwM,GACpBs1B,GAAQ,IAMJ,SACE,eAAC,KAAD,MAEF,eAAC,GAAD,CAAc3zC,KAAMA,EAAM2zC,QAASA,UCjDrCr3B,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACX8wC,QAAS,CACPl8C,QAAS,OACTC,WAAY,SACZqE,eAAgB,aAChB/wB,MAAO,OACPC,OAAQ,OACRwwB,gBAAiB,UACjBonB,UAAW,aACX7lB,YAAa+F,EAAMkB,QAAQ,GAC3BzE,aAAcuD,EAAMkB,QAAQ,IAE9B2vC,KAAM,CACJv2C,SAAU,QAqBDw2C,GAhBS,WACtB,IAAM57C,EAAUd,KAEhB,OACE,uBAAK0B,UAAWZ,EAAQ07C,QAAxB,UACE,eAAC,GAAD,IACA,sBAAK96C,UAAWZ,EAAQ27C,OACxB,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,IACA,eAAC,GAAD,QC9BAz8C,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXixC,SAAU,CACR9oE,MAAO,OACPC,OAAQ,OACRqsB,QAAS,EACTC,OAAQ,EACRsrB,UAAW,cAEboM,QAAS,CACPjkD,MAAO,OACPC,OAAQ,OACRqsB,QAAS,EACTC,OAAQ,EACRE,QAAS,OACTqE,cAAe,SACf+mB,UAAW,cAGbwe,OAAQ,GAGR3iB,KAAM,CACJrhB,SAAU,EACV0a,WAAY,UACZtgB,QAAS,OACTqE,cAAe,SAEf+mB,UAAW,aACX73C,MAAO,OACPC,OAAQ,QAEV8oE,OAAQ,CACNlxB,UAAW,aACX/K,OAAQ,IACRxgB,QAAS,EACTC,OAAQ,EACRsuB,UAAW,kCACX76C,MAAO,OACPC,OAAQ,OAEVg6D,QAAS,CACP35D,SAAU,WACV23C,KAAM,eAgCG+wB,GA3BM,WACnB,IAAM/7C,EAAUd,KACRld,EAAWggB,qBAAWqf,IAAtBr/B,OAER,OACE,uBAAK4e,UAAWZ,EAAQ67C,SAAxB,UACE,eAAC,GAAD,CACE79C,cAAehc,EAAO8wC,UACtB70B,eAAgBjc,EAAOic,eAFzB,SAIE,uBAAK2C,UAAWZ,EAAQg3B,QAAxB,UACE,yBAAQp2B,UAAWZ,EAAQopC,OAA3B,SACE,eAAC,GAAD,MAEF,uBAAMxoC,UAAWZ,EAAQymB,KAAzB,SACE,eAAC,GAAD,MAEF,yBAAQ7lB,UAAWZ,EAAQ87C,OAA3B,SACE,eAAC,GAAD,WAIN,sBAAK3oE,GAAG,gBCxER+rB,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXoxC,aAAc,CACZjpE,MAAO,OACPC,OAAQ,QACRqsB,QAAS,EACTG,QAAS,OACTsE,eAAgB,SAChBrE,WAAY,SACZoE,cAAe,SACf+mB,UAAW,mBAyBFqxB,GApBU,SAACx2D,GACxB,IAAMua,EAAUd,KACRld,EAAWggB,qBAAWqf,IAAtBr/B,OAER,OACE,sBAAK4e,UAAWZ,EAAQg8C,aAAxB,SACE,eAAC,GAAD,CACEh+C,cAAehc,EAAO8wC,UACtB70B,eAAgBjc,EAAOic,eAFzB,SAIGxY,EAAM2P,cClBT8J,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJrsB,MAAO,OACPssB,QAAS,EACTC,OAAQ,EACRE,QAAS,OACTqE,cAAe,SACf+mB,UAAW,cAEblrB,SAAU,CACR1sB,OAAQ,MACR,iBAAkB,UAEpBkpE,UAAW,CACT,iBAAkB,SAClB,eAAgB,MAChB,cAAe,OAEjBC,WAAY,CACV5oE,MAAO,QACP,mBAAoB,UACpB6oE,cAAe,QAEjBN,OAAQ,CACN,aAAc,eA4DLO,GAvDe,WAC5B,IAAMr8C,EAAUd,KAEhBrJ,qBAAU,WACR1W,SAAS4O,MAAQ,qBAChB,IAEH,IAAMk5B,EAAkB2nB,KAPU,EASM1wC,oBAAS,GATf,mBAS3Bo+C,EAT2B,KASbC,EATa,KAuBlC,OACE,gBAACve,EAAA,EAAD,CAAMnyB,WAAS,EAACjL,UAAWZ,EAAQZ,KAAnC,UACE,gBAAC4+B,EAAA,EAAD,CAAMnyB,WAAS,EAACpM,WAAY,SAAUw+B,QAAS,SAA/C,UACE,eAACD,EAAA,EAAD,CAAM52B,MAAI,EAAV,SACE,sBAAKhE,IAAI,YAAYC,IAAKc,GAAMvD,UAAWZ,EAAQN,aAErD,eAACs+B,EAAA,EAAD,CAAM52B,MAAI,EAAV,SACE,eAAC6Y,EAAA,EAAD,CACEnf,QAAQ,KACRtB,QAAQ,SACRoB,UAAWZ,EAAQk8C,UAHrB,mCASJ,eAAC,GAAD,CACE12C,iBAAkBA,GAClBD,eA9BiB,WACrBhqB,OAAOqH,KAAKqkC,EAAU,eAAgB,UA8BlCpf,yBAvB2B,SAAC3C,EAAUK,GAC1Cg3C,GAAgB,MAwBbD,GACC,sBAAK17C,UAAWZ,EAAQ87C,OAAxB,SACE,eAACjpB,EAAA,EAAD,CAAQp+B,QA/BQ,WACtBlZ,OAAOqH,KAAKqkC,EAAS,UA8BmBrmB,UAAWZ,EAAQm8C,WAArD,wCC7EJj9C,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJqE,SAAU,OACVnE,OAAQ,EACRD,QAAS,GAEXK,SAAU,CACR1sB,OAAQ,MACR,iBAAkB,UAEpBkpE,UAAW,CACT,iBAAkB,UAEpBC,WAAY,CACV5oE,MAAO,QACP,mBAAoB,UACpB6oE,cAAe,QAEjBN,OAAQ,CACNj3C,UAAW,OAEbg7B,IAAK,CACH90B,aAAc,YAmELyxC,GA9DuB,WACpC,IAAMx8C,EAAUd,KAD0B,EAGFhB,oBAAS,GAHP,mBAGnCo+C,EAHmC,KAGrBC,EAHqB,KAKpCt1B,EAAkB2nB,KAExB/4C,qBAAU,WACR1W,SAAS4O,MAAQ,0BAChB,IAUH,OACE,gBAACiwC,EAAA,EAAD,CAAMnyB,WAAS,EAACjL,UAAWZ,EAAQZ,KAAM4M,QAAS,EAAlD,UACE,gBAACgyB,EAAA,EAAD,CACEp9B,UAAWZ,EAAQ6/B,IACnBh0B,WAAS,EACToyB,QAAS,SACTx+B,WAAY,SACZy+B,GAAI,GACJlyB,QAAS,EANX,UAQE,eAACgyB,EAAA,EAAD,CAAM52B,MAAI,EAAV,SACE,sBAAKhE,IAAI,YAAYC,IAAKc,GAAMvD,UAAWZ,EAAQN,aAErD,eAACs+B,EAAA,EAAD,CAAM52B,MAAI,EAAV,SACE,eAAC6Y,EAAA,EAAD,CACEnf,QAAQ,KACRtB,QAAQ,SACRoB,UAAWZ,EAAQk8C,UAHrB,wCASJ,gBAACle,EAAA,EAAD,CACEp9B,UAAWZ,EAAQ6/B,IACnBh0B,WAAS,EACToyB,QAAS,SACTx+B,WAAY,SACZy+B,GAAI,GALN,UAOE,eAAC,GAAD,CAAqB/0B,eAlCJ,SAACxL,GACtB4+C,GAAgB,MAkCXD,GACC,sBAAK17C,UAAWZ,EAAQ87C,OAAxB,SACE,eAACjpB,EAAA,EAAD,CAAQ4pB,WAAS,EAAChoD,QAzCJ,WACtBlZ,OAAOqH,KAAKqkC,EAAS,UAwC+BrmB,UAAWZ,EAAQm8C,WAA/D,sDCtFNj9C,GAAYC,aAAW,SAAC2L,GAAD,OAC3BF,YAAa,CACXxL,KAAM,CACJI,QAAS,OACTzsB,MAAO,OACPC,OAAQ,OACR4sC,WAAY,UAEdxY,KAAM,CACJ5H,QAAS,OACTqE,cAAe,SACfC,eAAgB,SAChBrE,WAAY,UAEd3a,QAAS,CACPua,QAAS,OAEXK,SAAU,CACR1sB,OAAQ,OACRqsB,QAAS,MACT,UAAW,CACT42B,OAAQ,UACR1iD,MAAOu3B,EAAMogB,QAAQwxB,UAAUj2B,OAGnC2oB,KAAM,CACJ,UAAW,CACT1hB,WAAY,IACZuI,OAAQ,UACR1iD,MAAOu3B,EAAMogB,QAAQwxB,UAAUj2B,YA+BxBk2B,GAzBC,SAAC,GAAe,EAAb36D,OAAc,IACzBge,EAAUd,KAEVpc,EAAM8rD,KAENzN,EAAc,WAClB5lD,OAAOqH,KAAKE,EAAK,UAGnB,OACE,sBAAK8d,UAAWZ,EAAQZ,KAAxB,SACE,uBAAKwB,UAAWZ,EAAQoH,KAAxB,UACE,sBAAKhE,IAAI,YAAYC,IAAKc,GAAMvD,UAAWZ,EAAQN,SAAUjL,QAAS0sC,IACtE,eAAClhB,EAAA,EAAD,CAAYrf,UAAWZ,EAAQlb,QAASgc,QAAQ,KAAhD,gDAIA,eAACmf,EAAA,EAAD,CAAYrf,UAAWZ,EAAQovC,KAAM36C,QAAS0sC,EAAargC,QAAQ,QAAnE,qCClCF87C,GAAoC,CACxCxvC,QAAQ,EACRC,SAAS,EACTpB,UAAU,GAGN4wC,GAAsB,CAC1B1gE,KAAM,OAwFO2gE,GArFH,SAAC,GAAgB,IAAd96D,EAAa,EAAbA,OACP+6D,EAAUrO,YAAWvd,IADD,EAGAjzB,mBAAS,IAHT,mBAGnBoqB,EAHmB,KAGZmxB,EAHY,OAIQv7C,mBAAS,yBAJjB,mBAInBy0B,EAJmB,KAIR+mB,EAJQ,OAKIx7C,mBAAS2+C,IALb,mBAKnB7oB,EALmB,KAKVC,EALU,OAOc/1B,mBAAS,MAPvB,mBAOnBk0B,EAPmB,KAOLhQ,EAPK,OASkBlkB,mBAAS0+C,IAT3B,mBASnBh2B,EATmB,KASH+sB,EATG,OAWuBr+C,qBAC/Ci1B,GACAP,IAbwB,mBAWnBQ,EAXmB,KAWHyF,EAXG,OAeQ36B,qBAAWq1B,GAAWD,IAf9B,mBAenBxE,EAfmB,KAeN6N,EAfM,OAgBSz+B,qBACjCg8B,GACAH,IAlBwB,mBAgBnBlL,EAhBmB,KAgBVuL,EAhBU,OAqBsBtzB,mBAAS,MArB/B,mBAwBpBW,EAAqB,CACzB7c,SAEAkkC,cACA6N,aAEA3B,eACAhQ,kBAEA6D,UACAuL,kBAEAlJ,QACAmxB,WACA9mB,YACA+mB,eAEA9yB,iBACA+sB,oBAEA3f,UACAC,aAEAzJ,iBACAyF,yBAEAuf,iBAlDwB,KAmDxBoE,oBAnDwB,MAsD1B,OACE,eAAC,IAAD,CAAeoJ,SAAUl9D,UAAwBi9D,QAASA,EAA1D,SACE,gBAAC,IAAD,WACE,eAAC,IAAD,CAAO5rD,KAAK,kBAAZ,SACE,eAAC,GAAW8rD,SAAZ,CAAqB/sE,MAAO2uB,EAA5B,SACE,eAAC,GAAD,QAGJ,eAAC,IAAD,CAAO1N,KAAK,UAAZ,SACE,eAAC,GAAW8rD,SAAZ,CAAqB/sE,MAAO2uB,EAA5B,SACE,eAAC,GAAD,UACE,eAAC,GAAD,UAIN,eAAC,IAAD,CAAO1N,KAAK,mBAAZ,SACE,eAAC,GAAW8rD,SAAZ,CAAqB/sE,MAAO2uB,EAA5B,SACE,eAAC,GAAD,UACE,eAAC,GAAD,UAIN,eAAC,IAAD,CAAO1N,KAAK,IAAZ,SACE,eAAC+rD,GAAD,CAAUl7D,OAAQA,YCpGRkrB,QACW,cAA7B3xB,OAAOwV,SAASJ,UAEe,UAA7BpV,OAAOwV,SAASJ,UAEhBpV,OAAOwV,SAASJ,SAASc,MACvB,2D,4ECKSqZ,GAlBDqyC,aAAe,CAC3BjyB,QAAS,CACP+jB,QAAS,CACPxoB,KAAM,WAGRi2B,UAAW,CACTj2B,KAAMxb,KAAK,MAEbjmB,MAAO,CACLyhC,KAAM22B,KAAIC,MAEZv9B,WAAY,CACVj0B,QAAS,cCdMyxD,G,+MACnBroD,MAAQ,CACNsoD,UAAU,EACVv4D,MAAO,M,wDAGT,SAAkBA,EAAOw4D,GAEvBlhD,QAAQoV,IAAI,CAAE1sB,QAAOw4D,cACrBj8D,KAAKk8D,SAAS,CAAEF,UAAU,EAAMv4D,Y,oBAGlC,WAAU,IAAD,EACqBzD,KAAK0T,MAAzBsoD,EADD,EACCA,SAAUv4D,EADX,EACWA,MAEdF,EAAU,GAKd,OAJa,OAAVE,QAAoCtK,IAAlBsK,EAAMF,UACzBA,EAAUE,EAAMF,SAGdy4D,EAEA,sBAAKpkE,MAAO,CAAEnG,OAAQ,OAAQD,MAAO,OAAQysB,QAAS,OAAQsE,eAAgB,SAAUrE,WAAY,UAApG,SACE,uBAAKtmB,MAAO,CAAE0xC,UAAW,UAAzB,UACE,gBAAC5K,EAAA,EAAD,CAAYnf,QAAQ,KAAK3nB,MAAO,CAAEmmB,OAAQ,QAA1C,yDAC+C,OAE/C,gBAAC2gB,EAAA,EAAD,CAAYnf,QAAQ,KAApB,cACIhc,EADJ,OAGA,eAACm7B,EAAA,EAAD,CACExrB,QAAS,WACPlZ,OAAOwV,SAAS2sD,UAElBnqE,MAAM,YACNutB,QAAQ,KACR3nB,MAAO,CAAE88C,OAAQ,UAAW32B,OAAQ,QANtC,4CAUA,eAAC2gB,EAAA,EAAD,CACE1sC,MAAM,YACNkhB,QAAS,WACPlZ,OAAOqH,KAAK,yCAA0C,WAExDke,QAAQ,KACR3nB,MAAO,CAAE88C,OAAQ,UAAW32B,OAAQ,QANtC,8CAcC/d,KAAKkE,MAAM2P,a,GAtDmBuoD,aCSrCC,GAAW,OAGX7sD,GAAWxV,OAAOwV,SACE,cAAtBA,GAASJ,UAAkD,WAAtBI,GAASP,UAChDO,GAASlR,QAAT,gBAA0BkR,GAAST,KAAKhK,UAAUyK,GAASP,SAAS1S,UAItE,IAAMmpC,GAAUl2B,GAAST,KACnBE,GAAWy2B,GAAQr4C,MAAM,MAAM,GAC/BivE,GAAU52B,GAAQpnC,QAAR,UAAmB2Q,GAAnB,MAAiC,IAC3CstD,GAAaD,GAAQh+D,QAAQ,SAAU,KAC1Ci+D,KAAeD,IAChB9sD,GAASlR,QAAT,UAAoB2Q,GAApB,aAAiCstD,KAInC,IACMC,GAAa,IAAIC,cACjBC,GAAc,IAAIC,eAAY,CAAEH,cAAYI,eAF9B,CAAEC,QAAS,CAAEC,sBAAsB,M,8CAIvD,8CAAA5+D,EAAA,sEACyB4c,MAAM,GAAD,OAAIvc,UAAJ,mBAD9B,UAG0B,OAFlByD,EADR,QAGepC,OAHf,sBAIU,IAAI8D,MAAM,sEAJpB,uBAMyB1B,EAASqlC,OANlC,OAMQ01B,EANR,OAOEhiD,QAAQoV,IAAI,0BAA2B4sC,GACjCxtB,EAAUwtB,EAAQ,QAClBrgD,EAAiBqgD,EAAQ,eACzBC,EAAWD,EAAQ,gBACnBnqB,EAAgBmqB,EAAQ,cACxB1rB,EAAe0rB,EAAQ,aACvBlpB,EAAckpB,EAAQ,YACtBle,EAAmBke,EAAQ,iBAE3Bt8D,EAAoB,CACxB8uC,UACAgC,UAAU,WAAD,OAAahC,GACtB7yB,iBACAk3B,gBAAiBopB,EACjBpqB,gBACAiB,cACAxC,eACAwN,oBAGFoe,IAASC,OACP,eAAC,IAAMC,WAAP,UACE,gBAACC,GAAA,EAAD,CAAe7zC,MAAOA,GAAtB,UACE,eAAC8zC,GAAA,EAAD,IACA,eAAC,uBAAD,CAAqBC,OAAQZ,GAA7B,SACE,eAAC,GAAD,UACE,eAAC,GAAD,CAAKj8D,OAAQA,aAKrB7C,SAAS8tD,eAAe2Q,KAtC5B,6C,2DA2CAkB,GH6DM,kBAAmB7/D,WACrBA,UAAU8/D,cAAcC,MACrBv6D,MAAK,SAAAw6D,GACJA,EAAaC,gBAEd/f,OAAM,SAAAn6C,GACLsX,QAAQtX,MAAMA,EAAMF,c","file":"static/js/main.9e578d71.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cxVizConverter\"] = factory();\n\telse\n\t\troot[\"cxVizConverter\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 50b0a1b05dfd771372d5","\nmodule.exports = Object.freeze({\n    CX_VERSION: 'CXVersion',\n    NODE: 'node',\n    EDGE: 'edge',\n    NETWORK: 'network',\n\n    NODES: 'nodes',\n    EDGES: 'edges',\n\n    ID: 'id',\n    X: 'x',\n    Y: 'y',\n    Z: 'z',\n    V: 'v',\n\n    AT: 'at',\n    N: 'n',\n    E: 'e',\n\n    VISUAL_PROPERTIES: 'visualProperties',\n    DEFAULT: 'default',\n\n    STYLE: 'style',\n\n    PO: 'po'\n});\n\n\n// WEBPACK FOOTER //\n// ./src/cxConstants.js","function getCxVersion(versionString) {\n    const versionArray = versionString.split('.').map((numberString) => { return parseInt(numberString, 10); });\n    if (versionArray.length !== 2 && versionArray.length != 3) {\n        throw 'Incompatible version format: ' + versionString;\n    }\n    versionArray.forEach(element => {\n        if (isNaN(element)) {\n            throw 'Non-integer value in version string: ' + versionString;\n        }\n    });\n    return versionArray;\n}\n\nfunction getCxMajorVersion(versionString) {\n    return versionString ? getCxVersion(versionString)[0] : 1;\n}\n\nfunction processAttributeDeclarations(cxAttributeDeclarations, \n    nodeAttributeNameMap, \n    nodeAttributeTypeMap, \n    nodeAttributeDefaultValueMap, \n    edgeAttributeNameMap, edgeAttributeTypeMap, \n    edgeAttributeDefaultValueMap) {\n    //console.log(\" cxAttributeDeclarations: \" + JSON.stringify(cxAttributeDeclarations, null, 2));\n    cxAttributeDeclarations.forEach((cxAttributeDeclaration) => {\n        if (cxAttributeDeclaration['nodes']) {\n            updateAttributeNameMap(nodeAttributeNameMap, cxAttributeDeclaration.nodes);\n            updateAttributeTypeMap(nodeAttributeTypeMap, cxAttributeDeclaration.nodes);\n            updateAttributeDefaultValueMap(nodeAttributeDefaultValueMap, cxAttributeDeclaration.nodes);\n        }\n        if (cxAttributeDeclaration['edges']) {\n            updateAttributeNameMap(edgeAttributeNameMap, cxAttributeDeclaration.edges);\n            updateAttributeTypeMap(edgeAttributeTypeMap, cxAttributeDeclaration.edges);\n            updateAttributeDefaultValueMap(edgeAttributeDefaultValueMap, cxAttributeDeclaration.edges);\n        }\n    });\n}\n\nfunction updateAttributeTypeMap(attributeTypeMap, attributeDeclarations) {\n    Object.keys(attributeDeclarations).forEach((attributeName) => {\n        const attributeDeclaration = attributeDeclarations[attributeName];\n        if (attributeDeclaration['d']) {\n            attributeTypeMap.set(attributeName, attributeDeclaration.d);\n        }\n    });\n}\n\nfunction updateAttributeNameMap(attributeNameMap, attributeDeclarations) {\n    Object.keys(attributeDeclarations).forEach((attributeName) => {\n        const attributeDeclaration = attributeDeclarations[attributeName];\n        if (attributeDeclaration['a']) {\n            //console.log('attribute ' + attributeDeclaration.a + ' should be renamed to ' + attributeName);\n            attributeNameMap.set(attributeDeclaration.a, attributeName);\n        }\n    });\n}\n\nfunction updateAttributeDefaultValueMap(attributeDefaultValueMap, attributeDeclarations) {\n    Object.keys(attributeDeclarations).forEach((attributeName) => {\n        const attributeDeclaration = attributeDeclarations[attributeName];\n        if (attributeDeclaration['v']) {\n            //console.log('attribute ' + attributeName + ' has default value ' + attributeDeclaration.v);\n            attributeDefaultValueMap.set(attributeName, attributeDeclaration.v);\n        }\n    });\n}\n\nfunction updateInferredTypes(attributeTypeMap, attributeNameMap, v) {\n    v && Object.keys(v).forEach((key) => {\n        if (!attributeTypeMap.has(key)) {\n            const value = v[key];\n            const inferredType = typeof value;\n            const newKey = attributeNameMap.has(key) ? attributeNameMap.get(key) : key;\n            attributeTypeMap.set(newKey, inferredType);\n        }\n    })\n}\n\nfunction getExpandedAttributes(v, attributeNameMap, attributeDefaultValueMap) {\n    let data = {};\n    v && Object.keys(v).forEach((key) => {\n        const newKey = attributeNameMap.has(key) ? attributeNameMap.get(key) : key;\n        data[newKey] = v[key];\n    });\n    attributeDefaultValueMap.forEach((value, key) => {\n        if (!data[key]) {\n            data[key] = value;\n        }\n    });\n    return data;\n}\n\nmodule.exports = {\n    getCxVersion: getCxVersion,\n    getCxMajorVersion: getCxMajorVersion,\n    processAttributeDeclarations: processAttributeDeclarations,\n    updateAttributeTypeMap: updateAttributeTypeMap,\n    updateAttributeNameMap: updateAttributeNameMap,\n    updateAttributeDefaultValueMap: updateAttributeDefaultValueMap,\n    updateInferredTypes: updateInferredTypes,\n    getExpandedAttributes : getExpandedAttributes\n};\n\n\n// WEBPACK FOOTER //\n// ./src/cxUtil.js","'use strict';\n\nconst converter = require ('./converter.js');\n\nmodule.exports.convert = (cx, targetFormat) => { return converter.convert(cx, targetFormat); };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","\nconst cxConstants = require('./cxConstants.js');\nconst largeNetwork = require ('./largeNetwork/largeNetwork.js'); \nconst cytoscapeJS = require ('./cytoscapeJS/cytoscapeJS.js');\nconst cxUtil = require('./cxUtil.js');\n\nfunction verifyVersion(cx) {\n    const firstElement = cx[0];\n    const versionString = firstElement[cxConstants.CX_VERSION];\n\n    const majorVersion = cxUtil.getCxMajorVersion(versionString);\n\n    if (majorVersion !== 2) {\n        throw 'Incompatible CX version: ' + versionString;\n    }\n}\n\nconst defaultConverters = [\n    largeNetwork,\n    cytoscapeJS\n];\n\nfunction selectConverter(targetFormat, converters) {\n    let selectedConverter = undefined;\n    \n    converters.forEach( converter => {\n        if (converter.converter.targetFormat == targetFormat) {\n            //console.log('target format: ' + converter.converter.targetFormat);\n            if (typeof selectedConverter == 'undefined') {\n                selectedConverter = converter;\n            } else {\n                throw 'converters contain multiple entries for target format: ' + targetFormat;\n            }\n        }\n    });\n\n    if (typeof selectedConverter == 'undefined') {\n        throw 'no converter available for target format: ' + targetFormat\n    }\n    return selectedConverter;\n}\n\nfunction getEmptyNetwork(targetFormat, converters) {\n    const selectedConverter = selectConverter(targetFormat, converters);\n    return selectedConverter.converter.emptyNetwork;\n}\n\nfunction convert(cx, targetFormat, converters = defaultConverters) {\n    \n    if (cx.length == 0) {\n        return getEmptyNetwork(targetFormat, converters);\n    }\n    \n    verifyVersion(cx);\n    const selectedConverter = selectConverter(targetFormat, converters);\n    return selectedConverter.converter.convert(cx)\n}\n\nmodule.exports = {\n    convert: convert\n};\n\n\n// WEBPACK FOOTER //\n// ./src/converter.js","\nconst cxConstants = require('../cxConstants.js');\nconst largeNetworkConstants = require('./largeNetworkConstants.js');\nconst cxUtil = require('../cxUtil.js');\n\nfunction simpleDefaultPropertyConvert(targetStyleField, portablePropertValue) {\n    const targetStyleEntry = {};\n    targetStyleEntry[targetStyleField] = portablePropertValue;\n    return targetStyleEntry;\n}\n\nfunction hexToRGB(hex) {\n    if (hex === undefined) {\n        return hex;\n    }\n    let r = 0, g = 0, b = 0;\n\n    // 3 digits\n    if (hex.length == 4) {\n        r = \"0x\" + hex[1] + hex[1];\n        g = \"0x\" + hex[2] + hex[2];\n        b = \"0x\" + hex[3] + hex[3];\n\n        // 6 digits\n    } else if (hex.length == 7) {\n        r = \"0x\" + hex[1] + hex[2];\n        g = \"0x\" + hex[3] + hex[4];\n        b = \"0x\" + hex[5] + hex[6];\n    }\n\n    return [parseInt(r), parseInt(g), parseInt(b)];\n}\n\nfunction alphaToInt(alphaDecimal) {\n    return clamp(Math.round(alphaDecimal * 255), 0, 255);\n}\n\nconst defaultPropertyConvert = {\n    'node': {\n        'NODE_WIDTH': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessNodeWidth, portablePropertyValue),\n        'NODE_HEIGHT': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessNodeHeight, portablePropertyValue),\n        'NODE_BACKGROUND_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessColor, hexToRGB(portablePropertyValue)),\n        'NODE_BACKGROUND_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessAlpha, alphaToInt(portablePropertyValue)),\n        'NODE_LABEL': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.label, portablePropertyValue),\n        'NODE_LABEL_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelColor, hexToRGB(portablePropertyValue)),\n        'NODE_LABEL_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelAlpha, alphaToInt(portablePropertyValue)),\n        'NODE_LABEL_FONT_SIZE': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.labelFontSize, portablePropertyValue)\n    },\n    'edge': {\n        'EDGE_WIDTH': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.width, portablePropertyValue),\n        'EDGE_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessAlpha, alphaToInt(portablePropertyValue)),\n        'EDGE_LINE_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessColor, hexToRGB(portablePropertyValue)),\n        'EDGE_LABEL': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.label, portablePropertyValue),\n        'EDGE_LABEL_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelColor, hexToRGB(portablePropertyValue)),\n        'EDGE_LABEL_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelAlpha, alphaToInt(portablePropertyValue)),\n        'EDGE_LABEL_FONT_SIZE': (portablePropertyValue) => simpleDefaultPropertyConvert(largeNetworkConstants.labelFontSize, portablePropertyValue)\n    }\n}\n\n\n\nfunction getDefaultValues(defaultVisualProperties) {\n    let output = {\n        node: {},\n        edge: {}\n    };\n    if (defaultVisualProperties['node']) {\n        const nodeDefault = defaultVisualProperties.node;\n        const lnvEntries = getLNVValues('node', nodeDefault);\n        Object.assign(output.node, lnvEntries);\n    }\n    if (defaultVisualProperties['edge']) {\n        const edgeDefault = defaultVisualProperties.edge;\n        const lnvEntries = getLNVValues('edge', edgeDefault);\n        Object.assign(output.edge, lnvEntries);\n    }\n    return output;\n}\n\nfunction getLNVValues(entityType, entries) {\n    let output = {};\n    Object.keys(entries).forEach(portablePropertyKey => {\n        const portablePropertyValue = entries[portablePropertyKey];\n        if (defaultPropertyConvert[entityType][portablePropertyKey]) {\n            const lnvEntry = defaultPropertyConvert[entityType][portablePropertyKey](portablePropertyValue);\n            Object.keys(lnvEntry).forEach(lnvKey => {\n                output[lnvKey] = lnvEntry[lnvKey];\n            });\n        }\n    })\n    return output;\n}\n\nfunction processColor(colorArray, alpha) {\n    return colorArray != undefined\n        ? alpha != undefined\n            ? [colorArray[0], colorArray[1], colorArray[2], alpha]\n            : [colorArray[0], colorArray[1], colorArray[2]]\n        : undefined;\n}\n\nfunction processSize(width, height) {\n    return Math.max(width, height);\n}\n\nfunction processNodeView(nodeView) {\n    let width = undefined;\n    let height = undefined;\n    let colorArray = undefined;\n    let alpha = undefined;\n\n    let labelColorArray = undefined;\n    let labelAlpha = undefined;\n\n    let output = {\n        id: nodeView.id,\n        position: nodeView.position\n    };\n\n\n    Object.keys(nodeView).forEach(key => {\n        if (key === largeNetworkConstants.preprocessNodeWidth) {\n            width = nodeView.preprocessNodeWidth;\n        } else if (key === largeNetworkConstants.preprocessNodeHeight) {\n            height = nodeView.preprocessNodeHeight;\n        } else if (key === largeNetworkConstants.preprocessColor) {\n            colorArray = nodeView.preprocessColor;\n        } else if (key === largeNetworkConstants.preprocessAlpha) {\n            alpha = nodeView.preprocessAlpha;\n        } else if (key === largeNetworkConstants.preprocessLabelColor) {\n            labelColorArray = nodeView.preprocessLabelColor;\n        } else if (key === largeNetworkConstants.preprocessLabelAlpha) {\n            labelAlpha = nodeView.preprocessLabelAlpha;\n        } else {\n            output[key] = nodeView[key];\n        }\n    });\n\n    const color = processColor(colorArray, alpha);\n    if (color) {\n        output[largeNetworkConstants.color] = color;\n    }\n\n    const labelColor = processColor(labelColorArray, labelAlpha);\n    if (labelColor) {\n        output[largeNetworkConstants.labelColor] = labelColor;\n    }\n\n    const size = processSize(width, height);\n    if (size) {\n        output[largeNetworkConstants.size] = processSize(width, height);\n    }\n    return output;\n}\n\nfunction processEdgeView(edgeView) {\n    let colorArray = undefined;\n    let alpha = undefined;\n\n    let labelColorArray = undefined;\n    let labelAlpha = undefined;\n\n    let output = {\n        id: edgeView.id,\n        s: edgeView.s,\n        t: edgeView.t\n    }\n\n    Object.keys(edgeView).forEach(key => {\n        if (key === largeNetworkConstants.preprocessColor) {\n            colorArray = edgeView.preprocessColor;\n        } else if (key === largeNetworkConstants.preprocessAlpha) {\n            alpha = edgeView.preprocessAlpha;\n        } else if (key === largeNetworkConstants.preprocessLabelColor) {\n            labelColorArray = edgeView.preprocessLabelColor;\n        } else if (key === largeNetworkConstants.preprocessLabelAlpha) {\n            labelAlpha = edgeView.preprocessLabelAlpha;\n        } else {\n            output[key] = edgeView[key];\n        }\n    });\n\n    const color = processColor(colorArray, alpha);\n    if (color) {\n        output[largeNetworkConstants.color] = color;\n    }\n\n    const labelColor = processColor(labelColorArray, labelAlpha);\n    if (labelColor) {\n        output[largeNetworkConstants.labelColor] = labelColor;\n    }\n\n    return output;\n}\n\nfunction getMappings(mappings) {\n    let output = {}\n    Object.keys(mappings).forEach(propertyKey => {\n        const mapping = mappings[propertyKey];\n        const mappingList = output[mapping.definition.attribute] ? output[mapping.definition.attribute] : []\n        mappingList.push({\n            type: mapping.type,\n            vp: propertyKey,\n            definition: mapping.definition\n        })\n        output[mapping.definition.attribute] = mappingList;\n    });\n    return output;\n}\n\n\nfunction getAttributeRatio(attributeValue, attributeMin, attributeMax) {\n    return (attributeValue - attributeMin) / (attributeMax - attributeMin);\n}\n\nfunction getMap(vpMin, vpMax, attributeRatio) {\n    if (vpMin !== undefined && vpMax !== undefined) {\n        return vpMin + ((vpMax - vpMin) * attributeRatio);\n    } else {\n        if (vpMin === undefined) {\n            return vpMax;\n        } else if (vpMax === undefined) {\n            return vpMin;\n        }\n    }\n}\n\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\n\nfunction continuousNumberPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax) {\n    const attributeRatio = getAttributeRatio(attributeValue, attributeMin, attributeMax);\n\n    const output = getMap(vpMin, vpMax, attributeRatio);\n\n    return output;\n}\n\nfunction continuousColorPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax) {\n    const minRGB = hexToRGB(vpMin);\n    const maxRGB = hexToRGB(vpMax);\n\n    const attributeRatio = getAttributeRatio(attributeValue, attributeMin, attributeMax);\n\n    const output = [\n        //TODO check that minRGB and maxRGB are defined/undefined\n        clamp(Math.round(getMap(minRGB === undefined ? undefined : minRGB[0], maxRGB === undefined ? undefined : maxRGB[0], attributeRatio)), 0, 255),\n        clamp(Math.round(getMap(minRGB === undefined ? undefined : minRGB[1], maxRGB === undefined ? undefined : maxRGB[1], attributeRatio)), 0, 255),\n        clamp(Math.round(getMap(minRGB === undefined ? undefined : minRGB[2], maxRGB === undefined ? undefined : maxRGB[2], attributeRatio)), 0, 255)\n    ]\n    return output;\n}\n\nfunction continuousAlphaPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax) {\n    const attributeRatio = getAttributeRatio(attributeValue, attributeMin, attributeMax);\n\n    const alphaDecimal = getMap(vpMin, vpMax, attributeRatio);\n\n    //console.log(\"alphaDecimal = \" + alphaDecimal);\n    return alphaToInt(alphaDecimal);\n}\n\nconst continuousPropertyConvert = {\n    'node': {\n        'NODE_WIDTH': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessNodeWidth, continuousNumberPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'NODE_HEIGHT': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessNodeHeight, continuousNumberPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'NODE_BACKGROUND_COLOR': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessColor, continuousColorPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'NODE_BACKGROUND_OPACITY': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessAlpha, continuousAlphaPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'NODE_LABEL_COLOR': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelColor, continuousColorPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'NODE_LABEL_OPACITY': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelAlpha, continuousAlphaPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'NODE_LABEL_FONT_SIZE': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.labelFontSize, continuousNumberPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax))\n    },\n    'edge': {\n        'EDGE_WIDTH': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.width, continuousNumberPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'EDGE_OPACITY': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessAlpha, continuousAlphaPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'EDGE_LINE_COLOR': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessColor, continuousColorPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'EDGE_LABEL_COLOR': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelColor, continuousColorPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'EDGE_LABEL_OPACITY': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.preprocessLabelAlpha, continuousAlphaPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax)),\n        'EDGE_LABEL_FONT_SIZE': (attributeValue, attributeMin, attributeMax, vpMin, vpMax) => simpleDefaultPropertyConvert(largeNetworkConstants.labelFontSize, continuousNumberPropertyConvert(attributeValue, attributeMin, attributeMax, vpMin, vpMax))\n    }\n}\n\nfunction isInRange(attributeValue, min, max, includeMin, includeMax) {\n    const minSatisfied = min !== undefined\n        ? (includeMin ? min <= attributeValue : min < attributeValue)\n        : true;\n    const maxSatisfied = max != undefined\n        ? (includeMax ? max >= attributeValue : max > attributeValue)\n        : true;\n    //console.log('isInRange: ' + attributeValue + ' ' + min + ' ' + max + ' ' + includeMin + ' ' + includeMax + ' ' + minSatisfied + ' ' + maxSatisfied);\n    return minSatisfied && maxSatisfied;\n}\n\nfunction getMappedValues(mappings, entityType, attributes) {\n    let output = {};\n    Object.keys(attributes).forEach(attributeKey => {\n        const attributeValue = attributes[attributeKey];\n        if (mappings[entityType][attributeKey]) {\n            mappings[entityType][attributeKey].forEach(\n                (mapping) => {\n\n                    if (mapping.type === 'DISCRETE') {\n                        if (mapping.definition.map) {\n                            const discreteMap = mapping.definition.map;\n                            //console.log('processing discrete map:' + entityType + ' mapping.vp=' + mapping.vp + ' ' + attributeKey);\n                            discreteMap.forEach(keyValue => {\n                                if (keyValue.v == attributeValue) {\n                                    //console.log('\\tkeyValue.v=' + keyValue.v + ' ' + attributeValue);\n                                    if (defaultPropertyConvert[entityType][mapping.vp]) {\n                                        const converted = defaultPropertyConvert[entityType][mapping.vp](keyValue.vp);\n                                        //console.log('\\tconverted ' + JSON.stringify(converted))\n                                        Object.assign(output, converted);\n                                    }\n                                }\n                            });\n                        }\n                    } else if (mapping.type === 'PASSTHROUGH') {\n                        if (defaultPropertyConvert[entityType][mapping.vp]) {\n                            const converted = defaultPropertyConvert[entityType][mapping.vp](attributeValue);\n                            Object.assign(output, converted);\n                        }\n                    } else if (mapping.type === 'CONTINUOUS') {\n                        const continuousMappings = mapping.definition.map;\n                        continuousMappings.forEach(mappingRange => {\n\n                            if (isInRange(attributeValue, mappingRange.min, mappingRange.max, mappingRange.includeMin, mappingRange.includeMax)\n                                && continuousPropertyConvert[entityType][mapping.vp]) {\n                                const converted = continuousPropertyConvert[entityType][mapping.vp](attributeValue, mappingRange.min, mappingRange.max, mappingRange.minVPValue, mappingRange.maxVPValue);\n                                Object.assign(output, converted);\n                            }\n                        });\n                    }\n                })\n        }\n    });\n    return output;\n}\n\nfunction lnvConvert(cx) {\n\n    //First pass. \n    // We need to collect object attributes to calculate\n    // mappings in the second pass. \n\n    let cxVisualProperties = undefined;\n    let cxNodeBypasses = [];\n    let cxEdgeBypasses = [];\n\n    let nodeAttributeTypeMap = new Map();\n    let edgeAttributeTypeMap = new Map();\n\n    let nodeAttributeNameMap = new Map();\n    let edgeAttributeNameMap = new Map();\n\n    let nodeAttributeDefaultValueMap = new Map();\n    let edgeAttributeDefaultValueMap = new Map();\n\n    let defaultValues = undefined;\n    let mappings = {\n        node: {},\n        edge: {}\n    }\n    let bypassMappings = {\n        'node': {},\n        'edge': {}\n    };\n\n    cx.forEach((cxAspect) => {\n        if (cxAspect['attributeDeclarations']) {\n            const cxAttributeDeclarations = cxAspect['attributeDeclarations'];\n            cxUtil.processAttributeDeclarations(cxAttributeDeclarations,\n                nodeAttributeNameMap,\n                nodeAttributeTypeMap,\n                nodeAttributeDefaultValueMap,\n                edgeAttributeNameMap,\n                edgeAttributeTypeMap,\n                edgeAttributeDefaultValueMap\n            );\n        } else if (cxAspect['nodes']) {\n            const cxNodes = cxAspect['nodes'];\n            cxNodes.forEach((cxNode) => {\n                cxUtil.updateInferredTypes(nodeAttributeTypeMap, nodeAttributeNameMap, cxNode['v']);\n            })\n        } else if (cxAspect['edges']) {\n            const cxEdges = cxAspect['edges'];\n            cxEdges.forEach((cxEdge) => {\n                cxUtil.updateInferredTypes(edgeAttributeTypeMap, edgeAttributeNameMap, cxEdge['v']);\n            })\n        } else if (cxAspect['visualProperties']) {\n            cxVisualProperties = cxAspect['visualProperties'];\n        } else if (cxAspect['nodeBypasses']) {\n            cxAspect.nodeBypasses.forEach(bypass => {\n                cxNodeBypasses.push(bypass);\n            });\n        } else if (cxAspect['edgeBypasses']) {\n            cxAspect.edgeBypasses.forEach(bypass => {\n                cxEdgeBypasses.push(bypass);\n            });\n        }\n    });\n\n    let output = {};\n\n    let nodeViews = [];\n    let edgeViews = [];\n\n    cxVisualProperties && cxVisualProperties.forEach(vpElement => {\n\n        const defaultStyles = vpElement.default;\n\n        defaultValues = getDefaultValues(defaultStyles);\n\n        mappings.node = vpElement.nodeMapping ? getMappings(vpElement.nodeMapping) : {};\n        mappings.edge = vpElement.edgeMapping ? getMappings(vpElement.edgeMapping) : {};\n\n\n    });\n\n    cxNodeBypasses && cxNodeBypasses.forEach((vpElement) => {\n\n        const key = vpElement[cxConstants.ID].toString();\n        const values = getLNVValues('node', vpElement.v)\n\n        if (!bypassMappings.node[key]) {\n            bypassMappings.node[key] = {};\n        }\n\n        //console.log('bypass calculated: ' + JSON.stringify(values, null, 2));\n\n        Object.assign(bypassMappings.node[key], values);\n        //bypassCSSEntries.push(getBypassCSSEntry('node', vpElement));\n    });\n\n    cxEdgeBypasses && cxEdgeBypasses.forEach((vpElement) => {\n        const key = vpElement[cxConstants.ID].toString();\n        const values = getLNVValues('edge', vpElement.v)\n\n        if (!bypassMappings.edge[key]) {\n            bypassMappings.edge[key] = {};\n        }\n\n        //console.log('bypass calculated: ' + JSON.stringify(values, null, 2));\n\n        Object.assign(bypassMappings.edge[key], values);\n    }\n    );\n\n    //console.log('mappings: ' + JSON.stringify(mappings, null, 2));\n\n    //Second pass. \n    // Here is where the actual output is generated.\n\n    cx.forEach((cxAspect) => {\n        if (cxAspect['nodes']) {\n            const cxNodes = cxAspect['nodes'];\n\n\n            cxNodes.forEach((cxNode) => {\n                const cxId = cxNode[cxConstants.ID].toString();\n                let nodeView = {\n                    id: cxId,\n                    position: cxNode['z'] ?\n                        [cxNode['x'], cxNode['y'], cxNode['z']]\n                        : [cxNode['x'], cxNode['y']]\n                }\n\n                //TODO calculate lnv vps based on defaults and attributes\n                if (defaultValues) {\n                    const defaultNodeVisualProperties = defaultValues['node'];\n                    Object.assign(nodeView, defaultNodeVisualProperties);\n                }\n                //Assign mappings\n                const expandedAttributes = cxUtil.getExpandedAttributes(cxNode['v'], nodeAttributeNameMap, nodeAttributeDefaultValueMap);\n                const mappingValues = getMappedValues(mappings, 'node', expandedAttributes);\n                Object.assign(nodeView, mappingValues);\n\n                //Assign bypass\n                if (bypassMappings.node[cxId]) {\n                    Object.assign(nodeView, bypassMappings.node[cxId]);\n                }\n\n                const processedNodeView = processNodeView(nodeView);\n\n                nodeViews.push(processedNodeView);\n            });\n\n        } else if (cxAspect['edges']) {\n            const cxEdges = cxAspect['edges'];\n\n            cxEdges.forEach((cxEdge) => {\n                const cxId = cxEdge[cxConstants.ID].toString();\n                const edgeView = {\n                    id: cxId,\n                    s: cxEdge.s.toString(),\n                    t: cxEdge.t.toString()\n                }\n\n                //TODO calculate lnv vps based on defaults and attributes\n                if (defaultValues) {\n                    const defaultEdgeVisualProperties = defaultValues['edge'];\n                    Object.assign(edgeView, defaultEdgeVisualProperties);\n                }\n\n                const expandedAttributes = cxUtil.getExpandedAttributes(cxEdge['v'], edgeAttributeNameMap, edgeAttributeDefaultValueMap);\n                const mappingValues = getMappedValues(mappings, 'edge', expandedAttributes);\n                Object.assign(edgeView, mappingValues);\n                //Assign bypass\n                if (bypassMappings.edge[cxId]) {\n                    Object.assign(edgeView, bypassMappings.edge[cxId]);\n                }\n\n                const processedEdgeView = processEdgeView(edgeView);\n\n                edgeViews.push(processedEdgeView);\n            });\n        }\n    });\n\n    output[largeNetworkConstants.nodeViews] = nodeViews;\n    output[largeNetworkConstants.edgeViews] = edgeViews;\n\n    return output;\n}\n\nconst converter = {\n    targetFormat: 'lnv',\n    emptyNetwork: { \"nodeViews\": [], \"edgeViews\": [] },\n    convert: (cx) => {\n        return lnvConvert(cx);\n    }\n}\n\nmodule.exports = {\n    simpleDefaultPropertyConvert: simpleDefaultPropertyConvert,\n    continuousNumberPropertyConvert: continuousNumberPropertyConvert,\n    continuousAlphaPropertyConvert: continuousAlphaPropertyConvert,\n    continuousColorPropertyConvert: continuousColorPropertyConvert,\n    processNodeView: processNodeView,\n    processEdgeView: processEdgeView,\n    getDefaultValues: getDefaultValues,\n    getAttributeRatio: getAttributeRatio,\n    isInRange: isInRange,\n    converter: converter\n};\n\n\n// WEBPACK FOOTER //\n// ./src/largeNetwork/largeNetwork.js","\nmodule.exports = Object.freeze({\n    'nodeViews': 'nodeViews',\n    'edgeViews': 'edgeViews', \n    'id': 'id',\n    'position': 'position',\n    's': 's',\n    't': 't',\n    'label': 'label', \n    'labelColor' : 'labelColor',\n    'labelFontSize' : 'labelFontSize',\n    'color': 'color',\n    'size' : 'size',\n    'width' : 'width',\n\n    'preprocessColor': 'preprocessColor',\n    'preprocessAlpha': 'preprocessAlpha',\n    'preprocessLabelColor': 'preprocessLabelColor',\n    'preprocessLabelAlpha': 'preprocessLabelAlpha',\n    'preprocessNodeWidth' : 'preprocessNodeWidth',\n    'preprocessNodeHeight' : 'preprocessNodeHeight'\n});\n\n\n// WEBPACK FOOTER //\n// ./src/largeNetwork/largeNetworkConstants.js","\nconst cxConstants = require('../cxConstants.js');\nconst jsConstants = require('./cytoscapeJSConstants.js');\nconst cxUtil = require('../cxUtil.js');\n\nfunction simpleDefaultPropertyConvert(targetStyleField, portablePropertValue) {\n    const targetStyleEntry = new Map();\n    targetStyleEntry.set(targetStyleField, portablePropertValue);\n    return targetStyleEntry;\n}\n\nconst defaultPropertyConvert = {\n    'node': {\n        'NODE_SHAPE': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.shape, portablePropertyValue),\n        'NODE_WIDTH': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.width, portablePropertyValue),\n        'NODE_HEIGHT': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.height, portablePropertyValue),\n        'NODE_BACKGROUND_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.background_color, portablePropertyValue),\n        'NODE_BACKGROUND_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.background_opacity, portablePropertyValue),\n        'NODE_LABEL': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label, portablePropertyValue),\n        'NODE_LABEL_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label_color, portablePropertyValue),\n        'NODE_LABEL_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label_opacity, portablePropertyValue),\n        'NODE_LABEL_FONT_SIZE': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label_font_size, portablePropertyValue)\n    },\n    'edge': {\n        'EDGE_WIDTH': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.width, portablePropertyValue),\n        'EDGE_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.opacity, portablePropertyValue),\n        'EDGE_LABEL': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label, portablePropertyValue),\n        'EDGE_LINE_COLOR': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.line_color, portablePropertyValue),\n        'EDGE_LABEL_OPACITY': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label_opacity, portablePropertyValue),\n        'EDGE_LABEL_FONT_SIZE': (portablePropertyValue) => simpleDefaultPropertyConvert(jsConstants.label_font_size, portablePropertyValue)\n    },\n}\n\nfunction simplePassthroughMappingConvert(targetStyleField, attributeName) {\n    const output = {};\n    output[targetStyleField] = 'data(' + attributeName + ')';\n    return output;\n}\n\nconst passthroughMappingConvert = {\n    'node': {\n        'NODE_SHAPE': (attributeName) => simplePassthroughMappingConvert(jsConstants.shape, attributeName),\n        'NODE_WIDTH': (attributeName) => simplePassthroughMappingConvert(jsConstants.width, attributeName),\n        'NODE_HEIGHT': (attributeName) => simplePassthroughMappingConvert(jsConstants.height, attributeName),\n        'NODE_BACKGROUND_COLOR': (attributeName) => simplePassthroughMappingConvert(jsConstants.background_color, attributeName),\n        'NODE_BACKGROUND_OPACITY': (attributeName) => simplePassthroughMappingConvert(jsConstants.background_opacity, attributeName),\n        'NODE_LABEL': (attributeName) => simplePassthroughMappingConvert(jsConstants.label, attributeName),\n        'NODE_LABEL_COLOR': (attributeName) => simplePassthroughMappingConvert(jsConstants.label_color, attributeName),\n        'NODE_LABEL_OPACITY': (attributeName) => simplePassthroughMappingConvert(jsConstants.label_opacity, attributeName),\n        'NODE_LABEL_FONT_SIZE': (attributeName) => simplePassthroughMappingConvert(jsConstants.label_font_size, attributeName)\n    },\n    'edge': {\n        'EDGE_WIDTH': (attributeName) => simplePassthroughMappingConvert(jsConstants.width, attributeName),\n        'EDGE_OPACITY': (attributeName) => simplePassthroughMappingConvert(jsConstants.opacity, attributeName),\n        'EDGE_LINE_COLOR': (attributeName) => simplePassthroughMappingConvert(jsConstants.line_color, attributeName),\n        'EDGE_LABEL': (attributeName) => simplePassthroughMappingConvert(jsConstants.label, attributeName),\n        'EDGE_LABEL_COLOR': (attributeName) => simplePassthroughMappingConvert(jsConstants.label_color, attributeName),\n        'EDGE_LABEL_OPACITY': (attributeName) => simplePassthroughMappingConvert(jsConstants.label_opacity, attributeName),\n        'EDGE_LABEL_FONT_SIZE': (attributeName) => simplePassthroughMappingConvert(jsConstants.label_font_size, attributeName)\n    },\n}\nfunction simpleMapDataPropertyConvert(targetStyleField, attributeName, minValue, maxValue, minVP, maxVP) {\n    let output = {};\n    if (minValue != undefined && maxValue !== undefined) {\n    output[targetStyleField] = 'mapData(' + attributeName\n        + ', ' + minValue\n        + ', ' + maxValue\n        + ', ' + minVP\n        + ', ' + maxVP\n        + ')';\n    } else {\n        if (minValue === undefined) {\n            output[targetStyleField] = maxVP;\n        } else if (maxValue == undefined) {\n            output[targetStyleField] = minVP;\n        }\n    }\n    return output;\n}\n\nconst mapDataPropertyConvert = {\n    'node': {\n        'NODE_SHAPE': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.shape, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_WIDTH': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.width, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_HEIGHT': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.height, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_BACKGROUND_COLOR': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.background_color, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_BACKGROUND_OPACITY': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.background_opacity, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_LABEL': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_LABEL_COLOR': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label_color, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_LABEL_OPACITY': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label_opacity, attributeName, minValue, maxValue, minVP, maxVP),\n        'NODE_LABEL_FONT_SIZE': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label_font_size, attributeName, minValue, maxValue, minVP, maxVP)\n\n    },\n    'edge': {\n        'EDGE_WIDTH': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.width, attributeName, minValue, maxValue, minVP, maxVP),\n        'EDGE_OPACITY': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.opacity, attributeName, minValue, maxValue, minVP, maxVP),\n        'EDGE_LINE_COLOR': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.line_color, attributeName, minValue, maxValue, minVP, maxVP),\n        'EDGE_LABEL': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label, attributeName, minValue, maxValue, minVP, maxVP),\n        'EDGE_LABEL_COLOR': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label_color, attributeName, minValue, maxValue, minVP, maxVP),\n        'EDGE_LABEL_OPACITY': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label_opacity, attributeName, minValue, maxValue, minVP, maxVP),\n        'EDGE_LABEL_FONT_SIZE': (attributeName, minValue, maxValue, minVP, maxVP) => simpleMapDataPropertyConvert(jsConstants.label_font_size, attributeName, minValue, maxValue, minVP, maxVP)\n    },\n}\n\n\nfunction getCSSStyleEntries(cxStyleEntries, entityType) {\n    let output = {};\n    Object.keys(cxStyleEntries).forEach((key) => {\n        const portablePropertyValue = cxStyleEntries[key];\n        if (defaultPropertyConvert[entityType][key]) {\n            const cssEntries = defaultPropertyConvert[entityType][key](portablePropertyValue);\n            cssEntries.forEach((value, key) => {\n                output[key] = value;\n            });\n        }\n    });\n    return output;\n}\n\nfunction getIdSelector(id, elementType) {\n    //node#id or edge#id\n    return elementType + '#' + id;\n}\n\n\n\nfunction getStyleElement(selector, css) {\n    return { 'selector': selector, 'style': css };\n}\n\nfunction getContinuousSelector(entityType, attributeName, minValue, maxValue, includeMin, includeMax) {\n    const minCondition = includeMin ? '>=' : '>';\n    const maxCondition = includeMax ? '<=' : '<';\n    const minBound = (minValue !== undefined) ? '[' + attributeName + ' ' + minCondition + ' ' + minValue + ']' : '';\n    const maxBound = (maxValue !== undefined) ? '[' + attributeName + ' ' + maxCondition + ' ' + maxValue + ']' : '';\n    return entityType + minBound + maxBound;\n}\n\nfunction getContinuousStyle(entityType, portablePropertyKey, attributeName, minValue, maxValue, minVP, maxVP) {\n    if (mapDataPropertyConvert[entityType][portablePropertyKey]) {\n        return mapDataPropertyConvert[entityType][portablePropertyKey](attributeName, minValue, maxValue, minVP, maxVP);\n    }\n    return {};\n}\n\nfunction getContinuousMappingCSSEntries(portablePropertyKey, cxMappingDefinition, entityType, attributeTypeMap) {\n    let output = [];\n    const attributeName = cxMappingDefinition['attribute'];\n    const rangeMaps = cxMappingDefinition['map'];\n    //console.log('continuous mapping for ' + attributeName + ': ' + JSON.stringify(rangeMaps, null, 2));\n\n    rangeMaps.forEach((range) => {\n        const selector = getContinuousSelector(entityType, attributeName, range.min, range.max, range.includeMin, range.includeMax);\n        const style = getContinuousStyle(entityType, portablePropertyKey, attributeName, range.min, range.max, range.minVPValue, range.maxVPValue);\n\n        output.push(getStyleElement(selector, style));\n    });\n    return output;\n}\n\nfunction getPassthroughMappingCSSEntry(portablePropertyKey, cxMappingDefinition, entityType) {\n    if (passthroughMappingConvert[entityType][portablePropertyKey]) {\n        const css = passthroughMappingConvert[entityType][portablePropertyKey](cxMappingDefinition.attribute);\n        return getStyleElement(entityType, css);\n    }\n    return null;\n}\n\nfunction getDiscreteSelector(entityType, attributeName, attributeDataType, attributeValue) {\n    if (attributeDataType == 'string') {\n        return entityType + '[' + attributeName + ' = \\'' + attributeValue + '\\']';\n    } else if (attributeDataType == 'boolean') {\n\n        if (attributeValue == 'true') {\n            return entityType + '[?' + attributeName + ']';\n        } else {\n            return entityType + '[' + attributeName + '][!' + attributeName + ']';\n        }\n    } else {\n        return entityType + '[' + attributeName + ' = ' + attributeValue + ']';\n    }\n}\n\nfunction getDiscreteMappingCSSEntries(portablePropertyKey, cxMappingDefinition, entityType, attributeTypeMap) {\n    let output = [];\n    const atttributeToValueMap = cxMappingDefinition['map'];\n    const attributeName = cxMappingDefinition['attribute'];\n    const attributeDataType = attributeTypeMap.get(attributeName);\n    atttributeToValueMap.forEach((discreteMap) => {\n        //console.log(' discrete map for ' + portablePropertyKey + ': ' + discreteMap.v + ' (' + attributeName + '<' + attributeDataType + '>) -> ' + discreteMap.vp);\n\n        const selector = getDiscreteSelector(entityType, attributeName, attributeDataType, discreteMap.v);\n\n        if (defaultPropertyConvert[entityType][portablePropertyKey]) {\n            const styleMap = defaultPropertyConvert[entityType][portablePropertyKey](discreteMap.vp);\n            const css = {};\n            styleMap.forEach((value, key) => {\n                css[key] = value;\n            });\n            output.push(getStyleElement(selector, css));\n            //console.log('   style: ' + JSON.stringify(css));\n        }\n    });\n\n\n    return output; //getStyleElement(selector, css);\n}\n\nfunction getBypassCSSEntry(entityType, cxElement) {\n\n    const id = cxElement.id;\n    const css = {};\n    Object.keys(cxElement.v).forEach((portablePropertyKey) => {\n        const portablePropertyValue = cxElement.v[portablePropertyKey];\n        if (defaultPropertyConvert[entityType][portablePropertyKey]) {\n            const styleMap = defaultPropertyConvert[entityType][portablePropertyKey](portablePropertyValue);\n            styleMap.forEach((value, key) => {\n                css[key] = value;\n            });\n        }\n    });\n\n    const selector = getIdSelector(id, entityType);\n    return getStyleElement(selector, css);\n}\n\n/** \n * \n*/\nfunction getCSSMappingEntries(\n    cxMappingEntries,\n    entityType,\n    attributeTypeMap) {\n    let output = [];\n    cxMappingEntries && Object.keys(cxMappingEntries).forEach((key) => {\n        const cxMappingEntry = cxMappingEntries[key];\n        //console.log(\" mapping type: \" + cxMappingEntry.type);\n        switch (cxMappingEntry.type) {\n            case 'CONTINUOUS': {\n                const continousMappings = getContinuousMappingCSSEntries(key, cxMappingEntry.definition, entityType, attributeTypeMap);\n                continousMappings.forEach((continousMapping) => {\n                    output.push(continousMapping);\n                })\n                break;\n            }\n            case 'PASSTHROUGH': {\n                const cssEntry = getPassthroughMappingCSSEntry(key, cxMappingEntry.definition, entityType);\n                if (cssEntry) {\n                    output.push(cssEntry);\n                }\n                break;\n            }\n            case 'DISCRETE': {\n                const discreteMappings = getDiscreteMappingCSSEntries(key, cxMappingEntry.definition, entityType, attributeTypeMap);\n                discreteMappings.forEach((discreteMapping) => {\n                    output.push(discreteMapping);\n                })\n                break;\n            }\n        }\n    });\n    return output;\n}\n\nconst NODE_SELECTOR = 'node';\nconst EDGE_SELECTOR = 'edge';\n\nfunction getVisualProperties(cxVisualProperties, cxNodeBypasses, cxEdgeBypasses, nodeAttributeTypeMap, edgeAttributeTypeMap) {\n    let output = {\n        style: [],\n        'background-color': undefined\n    }\n\n    let defaultCSSNodeStyle = undefined;\n    let defaultCSSEdgeStyle = undefined;\n\n    let cssNetworkBackgroundColor = undefined;\n\n    let mappingCSSNodeStyle = undefined;\n    let mappingCSSEdgeStyle = undefined;\n\n    let bypassCSSEntries = [];\n\n    cxVisualProperties.forEach((vpElement) => {\n        const defaultStyles = vpElement.default;\n\n        //console.log('default style: ' + JSON.stringify(defaultStyles));\n        defaultCSSNodeStyle = getCSSStyleEntries(defaultStyles.node, 'node');\n        defaultCSSEdgeStyle = getCSSStyleEntries(defaultStyles.edge, 'edge');\n\n        cssNetworkBackgroundColor = defaultStyles.network['background-color'];\n\n        const nodeMapping = vpElement.nodeMapping;\n        mappingCSSNodeStyle = getCSSMappingEntries(nodeMapping, 'node', nodeAttributeTypeMap);\n\n        const edgeMapping = vpElement.edgeMapping;\n        mappingCSSEdgeStyle = getCSSMappingEntries(edgeMapping, 'edge', edgeAttributeTypeMap);\n\n    })\n\n    cxNodeBypasses.forEach((vpElement) => {\n        bypassCSSEntries.push(getBypassCSSEntry('node', vpElement));\n    });\n\n    cxEdgeBypasses.forEach((vpElement) => {\n        bypassCSSEntries.push(getBypassCSSEntry('edge', vpElement));\n    });\n\n    //console.log('default node style: ' + JSON.stringify(defaultCSSNodeStyle));\n\n    //Add default style\n    output.style.push(getStyleElement(NODE_SELECTOR, defaultCSSNodeStyle));\n    output.style.push(getStyleElement(EDGE_SELECTOR, defaultCSSEdgeStyle));\n\n    output.style.push.apply(output.style, mappingCSSNodeStyle);\n    output.style.push.apply(output.style, mappingCSSEdgeStyle);\n\n    output.style.push.apply(output.style, bypassCSSEntries);\n\n    output['background-color'] = cssNetworkBackgroundColor;\n\n    return output;\n}\n\nconst converter = {\n    targetFormat: 'cytoscapeJS',\n    emptyNetwork: {\n        style: [],\n        elements: {},\n        layout: {},\n        'background-color': null\n    },\n    convert: (cx) => {\n        const output = {\n            style: [],\n            elements: {},\n            layout: {},\n            'background-color': null\n        }\n\n        let cxVisualProperties = undefined;\n        let cxNodeBypasses = [];\n        let cxEdgeBypasses = [];\n\n        let nodeAttributeTypeMap = new Map();\n        let edgeAttributeTypeMap = new Map();\n\n        let nodeAttributeNameMap = new Map();\n        let edgeAttributeNameMap = new Map();\n\n        let nodeAttributeDefaultValueMap = new Map();\n        let edgeAttributeDefaultValueMap = new Map();\n\n        cx.forEach((cxAspect) => {\n            if (cxAspect['attributeDeclarations']) {\n                const cxAttributeDeclarations = cxAspect['attributeDeclarations'];\n                //console.log(\" cxAttributeDeclarations: \" + JSON.stringify(cxAttributeDeclarations, null, 2));\n                cxUtil.processAttributeDeclarations(cxAttributeDeclarations,\n                    nodeAttributeNameMap,\n                    nodeAttributeTypeMap,\n                    nodeAttributeDefaultValueMap,\n                    edgeAttributeNameMap,\n                    edgeAttributeTypeMap,\n                    edgeAttributeDefaultValueMap\n                );\n            } else if (cxAspect['nodes']) {\n                const cxNodes = cxAspect['nodes'];\n                cxNodes.forEach((cxNode) => {\n                    cxUtil.updateInferredTypes(nodeAttributeTypeMap, nodeAttributeNameMap, cxNode['v']);\n                });\n            } else if (cxAspect['edges']) {\n                const cxEdges = cxAspect['edges'];\n                cxEdges.forEach((cxEdge) => {\n                    cxUtil.updateInferredTypes(edgeAttributeTypeMap, edgeAttributeNameMap, cxEdge['v']);\n                });\n            } else if (cxAspect['visualProperties']) {\n                cxVisualProperties = cxAspect['visualProperties'];\n            } else if (cxAspect['nodeBypasses']) {\n                cxAspect.nodeBypasses.forEach(bypass => {\n                    cxNodeBypasses.push(bypass);\n                });\n            } else if (cxAspect['edgeBypasses']) {\n                cxAspect.edgeBypasses.forEach(bypass => {\n                    cxEdgeBypasses.push(bypass);\n                });\n            }\n        });\n\n        nodeAttributeTypeMap.forEach((inferredType, attributeName) => {\n            //console.log('inferred attribute type for node: ' + attributeName + ': ' + inferredType);\n        });\n\n        edgeAttributeTypeMap.forEach((inferredType, attributeName) => {\n            //console.log('inferred attribute type for edge: ' + attributeName + ': ' + inferredType);\n        });\n\n        //Add nodes\n        output.elements['nodes'] = [];\n\n        //Add edges\n        output.elements['edges'] = [];\n\n\n        cx.forEach((cxAspect) => {\n            if (cxAspect['nodes']) {\n                const cxNodes = cxAspect['nodes'];\n                cxNodes.forEach((cxNode) => {\n                    const element = {};\n                    element['data'] = cxUtil.getExpandedAttributes(cxNode['v'], nodeAttributeNameMap, nodeAttributeDefaultValueMap);\n                    element['data']['id'] = cxNode.id.toString();\n                    element['position'] = {\n                        x: cxNode['x'],\n                        y: cxNode['y']\n                    }\n                    output.elements.nodes.push(element)\n                });\n            } else if (cxAspect['edges']) {\n                const cxEdges = cxAspect['edges'];\n                cxEdges.forEach((cxEdge) => {\n                    const element = {};\n                    element['data'] = cxUtil.getExpandedAttributes(cxEdge['v'], edgeAttributeNameMap, edgeAttributeDefaultValueMap);\n                    element['data']['id'] = cxEdge.id.toString();\n                    element['data']['source'] = cxEdge['s'];\n                    element['data']['target'] = cxEdge['t'];\n                    output.elements.edges.push(element)\n                });\n            }\n        });\n\n        const style = getVisualProperties(cxVisualProperties, cxNodeBypasses, cxEdgeBypasses, nodeAttributeTypeMap, edgeAttributeTypeMap);\n\n        output.style = style.style;\n        //console.log('visualProperties: ' + JSON.stringify(cxVisualProperties, null, 2));\n        //console.log('style: ' + JSON.stringify(output.style, null, 2));\n\n        output['background-color'] = style['background-color'];\n\n        return output;\n    }\n}\n\nmodule.exports = {\n    converter: converter\n};\n\n\n// WEBPACK FOOTER //\n// ./src/cytoscapeJS/cytoscapeJS.js","\nmodule.exports = Object.freeze({\n    'shape': 'shape',\n    'width': 'width', \n    'height': 'height',\n    'background_color': 'background-color',\n    'background_opacity': 'background-opacity',\n    'label': 'label',\n    'label_color': 'color',\n    'label_font_size' : 'font-size',\n    'label_opacity' : 'text-opacity',\n    'opacity': 'opacity',\n    'line_color': 'line-color'\n});\n\n\n// WEBPACK FOOTER //\n// ./src/cytoscapeJS/cytoscapeJSConstants.js","!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.ndexClient=e():t.ndexClient=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=8)}([function(t,e,r){\"use strict\";var n=r(3),o=r(11),i=Object.prototype.toString;function u(t){return\"[object Array]\"===i.call(t)}function s(t){return null!==t&&\"object\"==typeof t}function a(t){return\"[object Function]\"===i.call(t)}function c(t,e){if(null!=t)if(\"object\"!=typeof t&&(t=[t]),u(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:u,isArrayBuffer:function(t){return\"[object ArrayBuffer]\"===i.call(t)},isBuffer:o,isFormData:function(t){return\"undefined\"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return\"string\"==typeof t},isNumber:function(t){return\"number\"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return\"[object Date]\"===i.call(t)},isFile:function(t){return\"[object File]\"===i.call(t)},isBlob:function(t){return\"[object Blob]\"===i.call(t)},isFunction:a,isStream:function(t){return s(t)&&a(t.pipe)},isURLSearchParams:function(t){return\"undefined\"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return(\"undefined\"==typeof navigator||\"ReactNative\"!==navigator.product)&&(\"undefined\"!=typeof window&&\"undefined\"!=typeof document)},forEach:c,merge:function t(){var e={};function r(r,n){\"object\"==typeof e[n]&&\"object\"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,(function(e,o){t[o]=r&&\"function\"==typeof e?n(e,r):e})),t},trim:function(t){return t.replace(/^\\s*/,\"\").replace(/\\s*$/,\"\")}}},function(t,e,r){\"use strict\";(function(e){var n=r(0),o=r(14),i={\"Content-Type\":\"application/x-www-form-urlencoded\"};function u(t,e){!n.isUndefined(t)&&n.isUndefined(t[\"Content-Type\"])&&(t[\"Content-Type\"]=e)}var s,a={adapter:((\"undefined\"!=typeof XMLHttpRequest||void 0!==e)&&(s=r(4)),s),transformRequest:[function(t,e){return o(e,\"Content-Type\"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(u(e,\"application/x-www-form-urlencoded;charset=utf-8\"),t.toString()):n.isObject(t)?(u(e,\"application/json;charset=utf-8\"),JSON.stringify(t)):t}],transformResponse:[function(t){if(\"string\"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};a.headers={common:{Accept:\"application/json, text/plain, */*\"}},n.forEach([\"delete\",\"get\",\"head\"],(function(t){a.headers[t]={}})),n.forEach([\"post\",\"put\",\"patch\"],(function(t){a.headers[t]=n.merge(i)})),t.exports=a}).call(this,r(13))},function(t,e,r){t.exports=r(10)},function(t,e,r){\"use strict\";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){\"use strict\";var n=r(0),o=r(15),i=r(17),u=r(18),s=r(19),a=r(5);t.exports=function(t){return new Promise((function(e,c){var f=t.data,h=t.headers;n.isFormData(f)&&delete h[\"Content-Type\"];var d=new XMLHttpRequest;if(t.auth){var p=t.auth.username||\"\",l=t.auth.password||\"\";h.Authorization=\"Basic \"+btoa(p+\":\"+l)}if(d.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf(\"file:\"))){var r=\"getAllResponseHeaders\"in d?u(d.getAllResponseHeaders()):null,n={data:t.responseType&&\"text\"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:t,request:d};o(e,c,n),d=null}},d.onerror=function(){c(a(\"Network Error\",t,null,d)),d=null},d.ontimeout=function(){c(a(\"timeout of \"+t.timeout+\"ms exceeded\",t,\"ECONNABORTED\",d)),d=null},n.isStandardBrowserEnv()){var v=r(20),y=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if(\"setRequestHeader\"in d&&n.forEach(h,(function(t,e){void 0===f&&\"content-type\"===e.toLowerCase()?delete h[e]:d.setRequestHeader(e,t)})),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if(\"json\"!==t.responseType)throw e}\"function\"==typeof t.onDownloadProgress&&d.addEventListener(\"progress\",t.onDownloadProgress),\"function\"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener(\"progress\",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),c(t),d=null)})),void 0===f&&(f=null),d.send(f)}))}},function(t,e,r){\"use strict\";var n=r(16);t.exports=function(t,e,r,o,i){var u=new Error(t);return n(u,e,r,o,i)}},function(t,e,r){\"use strict\";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){\"use strict\";function n(t){this.message=t}n.prototype.toString=function(){return\"Cancel\"+(this.message?\": \"+this.message:\"\")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){\"use strict\";var n=r(9).NDEx,o=r(28).CyNDEx;t.exports={NDEx:n,CyNDEx:o}},function(t,e,r){\"use strict\";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=r(2),i=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}(this,t),null==e||\"\"===e)throw new Error(\"NDEx server endpoint base URL is required in client constructor.\");this._host=e,this._v3baseURL=this._host.substring(0,this.host.lastIndexOf(\"v2\"))+\"v3\"}return n(t,[{key:\"SetGoogleAuth\",value:function(t){void 0!==t&&(this._googleAuth=t,this._authType=\"g\")}},{key:\"setAuthToken\",value:function(t){void 0!==t&&(this._authToken=t,this._authType=\"g\")}},{key:\"setBasicAuth\",value:function(t,e){if(void 0!==t&&null!=t&&\"\"!==t)return this._username=t,this._password=e,void(this._authType=\"b\");this._username=void 0,this._password=void 0,this._authType=void 0}},{key:\"_httpGetOpenObj\",value:function(t){var e=this.host;return new Promise((function(r,n){o({method:\"get\",url:t,baseURL:e}).then((function(t){return 200===t.status?r(t.data):n(t)}),(function(t){return n(t)}))}))}},{key:\"_getIdToken\",value:function(){return this._authToken?this._authToken:this._googleAuth.getAuthInstance().currentUser.get().getAuthResponse().id_token}},{key:\"_setAuthHeader\",value:function(t){if(\"b\"===this._authType)t.auth={username:this.username,password:this.password};else if(\"g\"===this.authenticationType){var e=this._getIdToken();void 0===t.headers&&(t.headers={}),t.headers.Authorization=\"Bearer \"+e}}},{key:\"_httpGetProtectedObjAux\",value:function(t,e,r){var n={method:\"get\",url:e,baseURL:t};return this._setAuthHeader(n),void 0!==r&&(n.params=r),new Promise((function(t,e){o(n).then((function(r){return 200===r.status?t(r.data):e(r)}),(function(t){return e(t)}))}))}},{key:\"_httpGetV3ProtectedObj\",value:function(t,e){return this._httpGetProtectedObjAux(this._v3baseURL,t,e)}},{key:\"_httpGetProtectedObj\",value:function(t,e){return this._httpGetProtectedObjAux(this.host,t,e)}},{key:\"_httpPostProtectedObjAux\",value:function(t,e,r,n){var i={method:\"post\",url:e,baseURL:t};return this._setAuthHeader(i),void 0!==r&&(i.params=r),i.data=n,new Promise((function(t,e){o(i).then((function(r){return r.status>=200&&r.status<=299?t(r.data):e(r)}),(function(t){return e(t)}))}))}},{key:\"_httpPostProtectedObj\",value:function(t,e,r){return this._httpPostProtectedObjAux(this.host,t,e,r)}},{key:\"_httpPostV3ProtectedObj\",value:function(t,e,r){return this._httpPostProtectedObjAux(this._v3baseURL,t,e,r)}},{key:\"_httpPutObj\",value:function(t,e,r){var n={method:\"put\",url:t,baseURL:this.host};return this._setAuthHeader(n),void 0!==e&&(n.params=e),n.data=r,new Promise((function(t,e){o(n).then((function(r){return r.status>=200&&r.status<=299?t(r.data):e(r)}),(function(t){return e(t)}))}))}},{key:\"_httpDeleteObj\",value:function(t,e){var r={method:\"delete\",url:t,baseURL:this.host};return this._setAuthHeader(r),void 0!==e&&(r.params=e),new Promise((function(t,e){o(r).then((function(r){return r.status>=200&&r.status<=299?t(r.data):e(r)}),(function(t){return e(t)}))}))}},{key:\"getStatus\",value:function(){return this._httpGetOpenObj(\"admin/status\")}},{key:\"getSignedInUser\",value:function(){if(null==this._authType)throw new Error(\"Authentication parameters are missing in NDEx client.\");return this._httpGetProtectedObj(\"user\",{valid:!0})}},{key:\"getUser\",value:function(t){return this._httpGetProtectedObj(\"user/\"+t)}},{key:\"getAccountPageNetworks\",value:function(t,e){var r=this;return new Promise((function(n,o){r.getSignedInUser().then((function(i){var u={};void 0!==t&&(u.offset=t),void 0!==e&&(u.limit=e),r._httpGetProtectedObj(\"/user/\"+i.externalId+\"/networksummary\",u).then((function(t){n(t)}),(function(t){o(t)}))}),(function(t){o(t)}))}))}},{key:\"getAccountPageNetworksByUUID\",value:function(t,e,r){var n={};return void 0!==e&&(n.offset=e),void 0!==r&&(n.limit=r),this._httpGetProtectedObj(\"user/\"+t+\"/networksummary\",n)}},{key:\"createGroup\",value:function(t){var e=this;return new Promise((function(r,n){e._httpPostProtectedObj(\"group\",void 0,t).then((function(t){var e=t.split(\"/\"),n=e[e.length-1];return r(n)}),(function(t){n(t)}))}))}},{key:\"getGroup\",value:function(t){return this._httpGetProtectedObj(\"group/\"+t)}},{key:\"updateGroup\",value:function(t){var e=this;return new Promise((function(r,n){e._httpPutObj(\"group/\"+t.externalId,void 0,t).then((function(t){return r(t)}),(function(t){n(t)}))}))}},{key:\"deleteGroup\",value:function(t){return this._httpDeleteObj(\"group/\"+t)}},{key:\"getRawNetwork\",value:function(t,e){var r={};return void 0!==e&&(r={accesskey:e}),this._httpGetProtectedObj(\"network/\"+t,r)}},{key:\"getCX2Network\",value:function(t,e){var r={};return void 0!==e&&(r={accesskey:e}),this._httpGetV3ProtectedObj(\"networks/\"+t,r)}},{key:\"getNetworkSummary\",value:function(t,e){var r={};return void 0!==e&&(r={accesskey:e}),this._httpGetProtectedObj(\"network/\"+t+\"/summary\",r)}},{key:\"createNetworkFromRawCX\",value:function(t,e){var r=this;return new Promise((function(n,o){r._httpPostProtectedObj(\"network\",e,t).then((function(t){var e=t.split(\"/\"),r=e[e.length-1];return n(r)}),(function(t){o(t)}))}))}},{key:\"updateNetworkFromRawCX\",value:function(t,e){return this._httpPutObj(\"network/\"+t,void 0,e)}},{key:\"deleteNetwork\",value:function(t){return this._httpDeleteObj(\"network/\"+t)}},{key:\"searchUsers\",value:function(t,e,r){var n={};void 0!==e&&(n.start=e),void 0!==r&&(n.limit=r);var o={searchString:t};return this._httpPostProtectedObj(\"search/user\",n,o)}},{key:\"searchGroups\",value:function(t,e,r){var n={};void 0!==e&&(n.start=e),void 0!==r&&(n.limit=r);var o={searchString:t};return this._httpPostProtectedObj(\"search/group\",n,o)}},{key:\"searchNetworks\",value:function(t,e,r,n){var o={};void 0!==e&&(o.start=e),void 0!==r&&(o.limit=r);var i={searchString:t};return void 0!==n&&(void 0!==n.permission&&(i.permission=n.permission),void 0!==n.includeGroups&&(i.includeGroups=n.includeGroups),void 0!==n.accountName&&(i.accountName=n.accountName)),this._httpPostProtectedObj(\"search/network\",o,i)}},{key:\"neighborhoodQuery\",value:function(t,e,r,n){var o={};void 0!==r&&!0===r&&(o.save=!0);var i={searchString:e,searchDepth:1};return void 0!==n&&(void 0!==n.searchDepth&&(i.searchDepth=n.searchDepth),void 0!==n.edgeLimit&&(i.edgeLimit=n.edgeLimit),void 0!==n.errorWhenLimitIsOver&&(i.errorWhenLimitIsOver=n.errorWhenLimitIsOver),void 0!==n.directOnly&&(i.directOnly=n.directOnly)),this._httpPostProtectedObj(\"search/network/\"+t+\"/query\",o,i)}},{key:\"interConnectQuery\",value:function(t,e,r,n){var o={};void 0!==r&&!0===r&&(o.save=!0);var i={searchString:e};return void 0!==n&&(void 0!==n.edgeLimit&&(i.edgeLimit=n.edgeLimit),void 0!==n.errorWhenLimitIsOver&&(i.errorWhenLimitIsOver=n.errorWhenLimitIsOver)),this._httpPostProtectedObj(\"search/network/\"+t+\"/interconnectquery\",o,i)}},{key:\"getUsersByUUIDs\",value:function(t){return this._httpPostProtectedObj(\"batch/user\",void 0,t)}},{key:\"getGroupsByUUIDs\",value:function(t){return this._httpPostProtectedObj(\"batch/group\",void 0,t)}},{key:\"getNetworkSummariesByUUIDs\",value:function(t,e){var r=void 0===e?void 0:{accesskey:e};return this._httpPostProtectedObj(\"batch/network/summary\",r,t)}},{key:\"getNetworkPermissionsByUUIDs\",value:function(t){return this._httpPostProtectedObj(\"batch/network/permission\",void 0,t)}},{key:\"exportNetworks\",value:function(t){return this._httpPostProtectedObj(\"batch/network/export\",void 0,t)}},{key:\"getRandomEdges\",value:function(t,e,r){if(e<=0)throw new Error(\"Value of parameter limit has to be greater than 0.\");var n={size:e,method:\"random\"};return void 0!==r&&(n={accesskey:r}),this._httpGetV3ProtectedObj(\"networks/\"+t+\"/aspects/edges\",n)}},{key:\"getMetaData\",value:function(t,e){var r={};return void 0!==e&&(r.accesskey=e),this._httpGetProtectedObj(\"network/\"+t+\"/aspect\",r)}},{key:\"getAspectElements\",value:function(t,e,r,n){var o={};return void 0!==r&&(o={size:r}),void 0!==n&&(o.accesskey=n),this._httpGetV3ProtectedObj(\"networks/\"+t+\"/aspects/\"+e,o)}},{key:\"getFilteredEdges\",value:function(t,e,r,n,o,i,u,s){var a={};void 0!==o&&(a={size:o}),void 0!==i&&(a.order=i),void 0!==s&&(a.accesskey=s),void 0!==u&&(a.format=u);var c={name:e,value:r,operator:n};return this._httpPostV3ProtectedObj(\"/search/networks/\"+t+\"/edges\",a,c)}},{key:\"getCX2MetaData\",value:function(t,e){var r={};return void 0!==e&&(r.accesskey=e),this._httpGetV3ProtectedObj(\"networks/\"+t+\"/aspects\",r)}},{key:\"cancelDOIRequest\",value:function(t){var e={type:\"Cancel_DOI\",networkId:t};return this._httpPostProtectedObj(\"admin/request\",{},e)}},{key:\"host\",get:function(){return this._host}},{key:\"googleAuth\",get:function(){return this._googleAuth}},{key:\"authenticationType\",get:function(){return this._authType}},{key:\"username\",get:function(){return this._username}},{key:\"password\",get:function(){return this._password}}]),t}();t.exports={NDEx:i}},function(t,e,r){\"use strict\";var n=r(0),o=r(3),i=r(12),u=r(1);function s(t){var e=new i(t),r=o(i.prototype.request,e);return n.extend(r,i.prototype,e),n.extend(r,e),r}var a=s(u);a.Axios=i,a.create=function(t){return s(n.merge(u,t))},a.Cancel=r(7),a.CancelToken=r(26),a.isCancel=r(6),a.all=function(t){return Promise.all(t)},a.spread=r(27),t.exports=a,t.exports.default=a},function(t,e){\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\nt.exports=function(t){return null!=t&&null!=t.constructor&&\"function\"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,r){\"use strict\";var n=r(1),o=r(0),i=r(21),u=r(22);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){\"string\"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(n,{method:\"get\"},this.defaults,t)).method=t.method.toLowerCase();var e=[u,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)r=r.then(e.shift(),e.shift());return r},o.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(t){s.prototype[t]=function(e,r){return this.request(o.merge(r||{},{method:t,url:e}))}})),o.forEach([\"post\",\"put\",\"patch\"],(function(t){s.prototype[t]=function(e,r,n){return this.request(o.merge(n||{},{method:t,url:e,data:r}))}})),t.exports=s},function(t,e){var r,n,o=t.exports={};function i(){throw new Error(\"setTimeout has not been defined\")}function u(){throw new Error(\"clearTimeout has not been defined\")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r=\"function\"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n=\"function\"==typeof clearTimeout?clearTimeout:u}catch(t){n=u}}();var a,c=[],f=!1,h=-1;function d(){f&&a&&(f=!1,a.length?c=a.concat(c):h=-1,c.length&&p())}function p(){if(!f){var t=s(d);f=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function l(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new l(t,e)),1!==c.length||f||s(p)},l.prototype.run=function(){this.fun.apply(null,this.array)},o.title=\"browser\",o.browser=!0,o.env={},o.argv=[],o.version=\"\",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error(\"process.binding is not supported\")},o.cwd=function(){return\"/\"},o.chdir=function(t){throw new Error(\"process.chdir is not supported\")},o.umask=function(){return 0}},function(t,e,r){\"use strict\";var n=r(0);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},function(t,e,r){\"use strict\";var n=r(5);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(n(\"Request failed with status code \"+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){\"use strict\";t.exports=function(t,e,r,n,o){return t.config=e,r&&(t.code=r),t.request=n,t.response=o,t}},function(t,e,r){\"use strict\";var n=r(0);function o(t){return encodeURIComponent(t).replace(/%40/gi,\"@\").replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var u=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+=\"[]\":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),u.push(o(e)+\"=\"+o(t))})))})),i=u.join(\"&\")}return i&&(t+=(-1===t.indexOf(\"?\")?\"?\":\"&\")+i),t}},function(t,e,r){\"use strict\";var n=r(0),o=[\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"];t.exports=function(t){var e,r,i,u={};return t?(n.forEach(t.split(\"\\n\"),(function(t){if(i=t.indexOf(\":\"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(u[e]&&o.indexOf(e)>=0)return;u[e]=\"set-cookie\"===e?(u[e]?u[e]:[]).concat([r]):u[e]?u[e]+\", \"+r:r}})),u):u}},function(t,e,r){\"use strict\";var n=r(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement(\"a\");function o(t){var n=t;return e&&(r.setAttribute(\"href\",n),n=r.href),r.setAttribute(\"href\",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,\"\"):\"\",host:r.host,search:r.search?r.search.replace(/^\\?/,\"\"):\"\",hash:r.hash?r.hash.replace(/^#/,\"\"):\"\",hostname:r.hostname,port:r.port,pathname:\"/\"===r.pathname.charAt(0)?r.pathname:\"/\"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){\"use strict\";var n=r(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,u){var s=[];s.push(t+\"=\"+encodeURIComponent(e)),n.isNumber(r)&&s.push(\"expires=\"+new Date(r).toGMTString()),n.isString(o)&&s.push(\"path=\"+o),n.isString(i)&&s.push(\"domain=\"+i),!0===u&&s.push(\"secure\"),document.cookie=s.join(\"; \")},read:function(t){var e=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+t+\")=([^;]*)\"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,\"\",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){\"use strict\";var n=r(0);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,r){\"use strict\";var n=r(0),o=r(23),i=r(6),u=r(1),s=r(24),a=r(25);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=a(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(function(e){delete t.headers[e]})),(t.adapter||u.adapter)(t).then((function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,r){\"use strict\";var n=r(0);t.exports=function(t,e,r){return n.forEach(r,(function(r){t=r(t,e)})),t}},function(t,e,r){\"use strict\";t.exports=function(t){return/^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(t)}},function(t,e,r){\"use strict\";t.exports=function(t,e){return e?t.replace(/\\/+$/,\"\")+\"/\"+e.replace(/^\\/+/,\"\"):t}},function(t,e,r){\"use strict\";var n=r(7);function o(t){if(\"function\"!=typeof t)throw new TypeError(\"executor must be a function.\");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,r){\"use strict\";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){\"use strict\";var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}var i=r(2),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1234;o(this,t),this._port=e}return n(t,[{key:\"setNDExServer\",value:function(t){void 0!==t&&null!=t&&\"\"!==t&&(this._ndexServer=t)}},{key:\"getNDExServer\",value:function(){return this._ndexServer?this._ndexServer:\"http://public.ndexbio.org\"}},{key:\"setGoogleAuth\",value:function(t){void 0!==t&&(this._googleAuth=t,this._authType=\"g\")}},{key:\"setAuthToken\",value:function(t){void 0!==t&&(this._authToken=t,this._authType=\"g\")}},{key:\"setBasicAuth\",value:function(t,e){void 0!==t&&null!=t&&\"\"!==t&&(this._username=t,this._password=e,this._authType=\"b\")}},{key:\"cyRestURL\",value:function(){return\"http://127.0.0.1:\"+this._port}},{key:\"_getIdToken\",value:function(){return this._authToken?this._authToken:this._googleAuth.getAuthInstance().currentUser.get().getAuthResponse().id_token}},{key:\"_getAuthorizationFields\",value:function(){switch(this._authType){case\"b\":return{username:this._username,password:this._password};case\"g\":return{idToken:this._getIdToken()};default:return{}}}},{key:\"_httpGet\",value:function(t){var e=this.cyRestURL();return new Promise((function(r,n){i({method:\"get\",url:t,baseURL:e}).then((function(t){return 200===t.status?r(t.data):n(t)}),(function(t){return n(t)}))}))}},{key:\"_httpPut\",value:function(t,e,r){return this._http(\"put\",t,e,r)}},{key:\"_httpPost\",value:function(t,e,r){return this._http(\"post\",t,e,r)}},{key:\"_http\",value:function(t,e,r,n){var o={method:t,url:e,baseURL:this.cyRestURL()};return void 0!==r&&(o.params=r),o.data=n,new Promise((function(t,e){i(o).then((function(r){return r.status>=200&&r.status<=299?t(r.data):e(r)}),(function(t){return e(t)}))}))}},{key:\"getCyNDExStatus\",value:function(){return this._httpGet(\"/cyndex2/v1\")}},{key:\"getCytoscapeNetworkSummary\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"current\";return this._httpGet(\"/cyndex2/v1/networks/\"+t)}},{key:\"postNDExNetworkToCytoscape\",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n={serverUrl:this.getNDExServer()+\"/v2\",uuid:t,accessKey:e,createView:r},o=this._getAuthorizationFields();return this._httpPost(\"/cyndex2/v1/networks\",void 0,Object.assign(n,o))}},{key:\"postCXNetworkToCytoscape\",value:function(t){return this._httpPost(\"/cyndex2/v1/networks/cx\",void 0,t)}},{key:\"postCytoscapeNetworkToNDEx\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"current\",e={serverUrl:this.getNDExServer()+\"/v2\"},r=this._getAuthorizationFields();return this._httpPost(\"/cyndex2/v1/networks/\"+t,void 0,Object.assign(e,r))}},{key:\"putCytoscapeNetworkInNDEx\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"current\",e=arguments[1],r={serverUrl:this.getNDExServer()+\"/v2\",uuid:e},n=this._getAuthorizationFields();return this._httpPut(\"/cyndex2/v1/networks/\"+t,void 0,Object.assign(r,n))}},{key:\"port\",get:function(){return this._port}}],[{key:\"cyRestBaseURL\",get:function(){return\"http://127.0.0.1\"}}]),t}();t.exports={CyNDEx:u}}])}));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZGV4Q2xpZW50L2J1aWxkL2J1bmRsZS5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJ3aW5kb3ciLCJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiaXNCdWZmZXIiLCJ0b1N0cmluZyIsImlzQXJyYXkiLCJ2YWwiLCJpc09iamVjdCIsImlzRnVuY3Rpb24iLCJmb3JFYWNoIiwib2JqIiwiZm4iLCJsZW5ndGgiLCJpc0FycmF5QnVmZmVyIiwiaXNGb3JtRGF0YSIsIkZvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJBcnJheUJ1ZmZlciIsImlzVmlldyIsImJ1ZmZlciIsImlzU3RyaW5nIiwiaXNOdW1iZXIiLCJpc1VuZGVmaW5lZCIsImlzRGF0ZSIsImlzRmlsZSIsImlzQmxvYiIsImlzU3RyZWFtIiwicGlwZSIsImlzVVJMU2VhcmNoUGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaXNTdGFuZGFyZEJyb3dzZXJFbnYiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwiZG9jdW1lbnQiLCJtZXJnZSIsInJlc3VsdCIsImFzc2lnblZhbHVlIiwiYXJndW1lbnRzIiwiZXh0ZW5kIiwiYSIsImIiLCJ0aGlzQXJnIiwidHJpbSIsInN0ciIsInJlcGxhY2UiLCJwcm9jZXNzIiwidXRpbHMiLCJub3JtYWxpemVIZWFkZXJOYW1lIiwiREVGQVVMVF9DT05URU5UX1RZUEUiLCJDb250ZW50LVR5cGUiLCJzZXRDb250ZW50VHlwZUlmVW5zZXQiLCJoZWFkZXJzIiwiYWRhcHRlciIsImRlZmF1bHRzIiwiWE1MSHR0cFJlcXVlc3QiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZGF0YSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0cmFuc2Zvcm1SZXNwb25zZSIsInBhcnNlIiwiZSIsInRpbWVvdXQiLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwibWF4Q29udGVudExlbmd0aCIsInZhbGlkYXRlU3RhdHVzIiwic3RhdHVzIiwiY29tbW9uIiwiQWNjZXB0IiwibWV0aG9kIiwidGhpcyIsImFyZ3MiLCJBcnJheSIsImFwcGx5Iiwic2V0dGxlIiwiYnVpbGRVUkwiLCJwYXJzZUhlYWRlcnMiLCJpc1VSTFNhbWVPcmlnaW4iLCJjcmVhdGVFcnJvciIsImNvbmZpZyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsInJlcXVlc3QiLCJhdXRoIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIkF1dGhvcml6YXRpb24iLCJidG9hIiwib3BlbiIsInRvVXBwZXJDYXNlIiwidXJsIiwicGFyYW1zIiwicGFyYW1zU2VyaWFsaXplciIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsImluZGV4T2YiLCJyZXNwb25zZUhlYWRlcnMiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJyZXNwb25zZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvbmVycm9yIiwib250aW1lb3V0IiwiY29va2llcyIsInhzcmZWYWx1ZSIsIndpdGhDcmVkZW50aWFscyIsInJlYWQiLCJ1bmRlZmluZWQiLCJ0b0xvd2VyQ2FzZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvbkRvd25sb2FkUHJvZ3Jlc3MiLCJhZGRFdmVudExpc3RlbmVyIiwib25VcGxvYWRQcm9ncmVzcyIsInVwbG9hZCIsImNhbmNlbFRva2VuIiwicHJvbWlzZSIsInRoZW4iLCJjYW5jZWwiLCJhYm9ydCIsInNlbmQiLCJlbmhhbmNlRXJyb3IiLCJtZXNzYWdlIiwiY29kZSIsImVycm9yIiwiRXJyb3IiLCJfX0NBTkNFTF9fIiwiQ2FuY2VsIiwiTkRFeCIsIkN5TkRFeCIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiYXhpb3MiLCJob3N0cHJlZml4IiwiaW5zdGFuY2UiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJfaG9zdCIsIl92M2Jhc2VVUkwiLCJzdWJzdHJpbmciLCJob3N0IiwibGFzdEluZGV4T2YiLCJnb29nbGVBdXRoT2JqIiwiX2dvb2dsZUF1dGgiLCJfYXV0aFR5cGUiLCJhdXRoVG9rZW4iLCJfYXV0aFRva2VuIiwiYWNjb3VudG5hbWUiLCJfdXNlcm5hbWUiLCJfcGFzc3dvcmQiLCJVUkwiLCJBUElFbmRQb2ludFByZWZpeCIsImJhc2VVUkwiLCJnZXRBdXRoSW5zdGFuY2UiLCJjdXJyZW50VXNlciIsImdldEF1dGhSZXNwb25zZSIsImlkX3Rva2VuIiwiYXV0aGVudGljYXRpb25UeXBlIiwiaWRUb2tlbiIsIl9nZXRJZFRva2VuIiwicHJlZml4IiwicGFyYW1ldGVycyIsIl9zZXRBdXRoSGVhZGVyIiwiX2h0dHBHZXRQcm90ZWN0ZWRPYmpBdXgiLCJfaHR0cFBvc3RQcm90ZWN0ZWRPYmpBdXgiLCJfaHR0cEdldE9wZW5PYmoiLCJfaHR0cEdldFByb3RlY3RlZE9iaiIsInZhbGlkIiwidXVpZCIsIm9mZnNldCIsImxpbWl0IiwiX3RoaXMiLCJnZXRTaWduZWRJblVzZXIiLCJ1c2VyIiwiZXh0ZXJuYWxJZCIsIm5ldHdvcmtBcnJheSIsImVyciIsImdyb3VwIiwiX3RoaXMyIiwiX2h0dHBQb3N0UHJvdGVjdGVkT2JqIiwidXVpZHIiLCJzcGxpdCIsIl90aGlzMyIsIl9odHRwUHV0T2JqIiwiX2h0dHBEZWxldGVPYmoiLCJhY2Nlc3NLZXkiLCJhY2Nlc3NrZXkiLCJfaHR0cEdldFYzUHJvdGVjdGVkT2JqIiwicmF3Q1giLCJfdGhpczQiLCJyYXdjeCIsInNlYXJjaFRlcm1zIiwic3RhcnQiLCJzaXplIiwic2VhcmNoU3RyaW5nIiwib3B0aW9uYWxQYXJhbWV0ZXJzIiwicGVybWlzc2lvbiIsImluY2x1ZGVHcm91cHMiLCJhY2NvdW50TmFtZSIsInNhdmVSZXN1bHQiLCJzYXZlIiwic2VhcmNoRGVwdGgiLCJlZGdlTGltaXQiLCJlcnJvcldoZW5MaW1pdElzT3ZlciIsImRpcmVjdE9ubHkiLCJ1dWlkTGlzdCIsInBhcmFtZXRlciIsImV4cG9ydEpvYiIsImFzcGVjdE5hbWUiLCJjb2x1bW5OYW1lIiwidmFsdWVTdHJpbmciLCJvcGVyYXRvciIsIm9yZGVyIiwiZm9ybWF0IiwiX2h0dHBQb3N0VjNQcm90ZWN0ZWRPYmoiLCJjYW5jZWxCb2R5IiwidHlwZSIsIm5ldHdvcmtJZCIsIkF4aW9zIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsImluc3RhbmNlQ29uZmlnIiwiQ2FuY2VsVG9rZW4iLCJpc0NhbmNlbCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCIsImNvbnN0cnVjdG9yIiwiSW50ZXJjZXB0b3JNYW5hZ2VyIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiaW50ZXJjZXB0b3JzIiwiY2hhaW4iLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInB1c2giLCJzaGlmdCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwibm9ybWFsaXplZE5hbWUiLCJlbmNvZGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemVkUGFyYW1zIiwicGFydHMiLCJ2IiwidG9JU09TdHJpbmciLCJqb2luIiwiaWdub3JlRHVwbGljYXRlT2YiLCJwYXJzZWQiLCJsaW5lIiwic3Vic3RyIiwib3JpZ2luVVJMIiwibXNpZSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJ1cmxQYXJzaW5nTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJyZXNvbHZlVVJMIiwiaHJlZiIsInNldEF0dHJpYnV0ZSIsInByb3RvY29sIiwic2VhcmNoIiwiaGFzaCIsImhvc3RuYW1lIiwicG9ydCIsInBhdGhuYW1lIiwiY2hhckF0IiwibG9jYXRpb24iLCJyZXF1ZXN0VVJMIiwid3JpdGUiLCJleHBpcmVzIiwicGF0aCIsImRvbWFpbiIsInNlY3VyZSIsImNvb2tpZSIsIkRhdGUiLCJ0b0dNVFN0cmluZyIsIm1hdGNoIiwiUmVnRXhwIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicmVtb3ZlIiwibm93IiwiaGFuZGxlcnMiLCJ1c2UiLCJlamVjdCIsImlkIiwiaCIsInRyYW5zZm9ybURhdGEiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwidGhyb3dJZlJlcXVlc3RlZCIsInJlYXNvbiIsImZucyIsInJlbGF0aXZlVVJMIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsInRva2VuIiwic291cmNlIiwiY2FsbGJhY2siLCJhcnIiLCJfcG9ydCIsIm5kZXhTZXJ2ZXIiLCJfbmRleFNlcnZlciIsIkNZX1JFU1RfQkFTRV9VUkwiLCJjeVJlc3RVUkwiLCJfaHR0cCIsIl9odHRwR2V0Iiwic3VpZCIsImNyZWF0ZVZpZXciLCJpbXBvcnRQYXJhbXMiLCJzZXJ2ZXJVcmwiLCJnZXROREV4U2VydmVyIiwiYXV0aG9yaXphdGlvbkZpZWxkcyIsIl9nZXRBdXRob3JpemF0aW9uRmllbGRzIiwiX2h0dHBQb3N0IiwiYXNzaWduIiwiY3giLCJzYXZlUGFyYW1zIiwiX2h0dHBQdXQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxJQUNRLG1CQUFYRyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sR0FBSUgsR0FDZSxpQkFBWkMsUUFDZEEsUUFBb0IsV0FBSUQsSUFFeEJELEVBQWlCLFdBQUlDLElBUnZCLENBU0dLLFFBQVEsV0FDWCxPQUFnQixTQUFVQyxHQUVoQixJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUixRQUduQyxJQUFJQyxFQUFTSyxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVixRQUFTLElBVVYsT0FOQUssRUFBUUcsR0FBVUcsS0FBS1YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU08sR0FHL0ROLEVBQU9TLEdBQUksRUFHSlQsRUFBT0QsUUEwRGYsT0FyREFPLEVBQW9CSyxF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LFFBQXNCcUcsSUFBakI1RSxVQUFVLEdBQW1CQSxVQUFVLEdBQUssVUFFL0UsT0FBT2tDLEtBQUtzUyxTQUFTLHdCQUEwQkMsS0FFaEQsQ0FDRHBYLElBQUssNkJBQ0xOLE1BQU8sU0FBb0NpTSxFQUFNaUIsR0FDL0MsSUFBSXlLLEVBQWExVSxVQUFVekIsT0FBUyxRQUFzQnFHLElBQWpCNUUsVUFBVSxHQUFtQkEsVUFBVSxRQUFLNEUsRUFFakYrUCxFQUFlLENBQ2pCQyxVQUFXMVMsS0FBSzJTLGdCQUFrQixNQUNsQzdMLEtBQU1BLEVBQ05pQixVQUFXQSxFQUNYeUssV0FBWUEsR0FHVkksRUFBc0I1UyxLQUFLNlMsMEJBRS9CLE9BQU83UyxLQUFLOFMsVUFBVSw0QkFBd0JwUSxFQUFXcEksT0FBT3lZLE9BQU9OLEVBQWNHLE1BRXRGLENBQ0R6WCxJQUFLLDJCQUNMTixNQUFPLFNBQWtDbVksR0FDdkMsT0FBT2hULEtBQUs4UyxVQUFVLCtCQUEyQnBRLEVBQVdzUSxLQUU3RCxDQUNEN1gsSUFBSyw2QkFDTE4sTUFBTyxXQUNMLElBQUkwWCxFQUFPelUsVUFBVXpCLE9BQVMsUUFBc0JxRyxJQUFqQjVFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxVQUUzRW1WLEVBQWEsQ0FDZlAsVUFBVzFTLEtBQUsyUyxnQkFBa0IsT0FHaENDLEVBQXNCNVMsS0FBSzZTLDBCQUUvQixPQUFPN1MsS0FBSzhTLFVBQVUsd0JBQTBCUCxPQUFNN1AsRUFBV3BJLE9BQU95WSxPQUFPRSxFQUFZTCxNQUU1RixDQUNEelgsSUFBSyw0QkFDTE4sTUFBTyxXQUNMLElBQUkwWCxFQUFPelUsVUFBVXpCLE9BQVMsUUFBc0JxRyxJQUFqQjVFLFVBQVUsR0FBbUJBLFVBQVUsR0FBSyxVQUMzRWdKLEVBQU9oSixVQUFVLEdBRWpCbVYsRUFBYSxDQUNmUCxVQUFXMVMsS0FBSzJTLGdCQUFrQixNQUNsQzdMLEtBQU1BLEdBR0o4TCxFQUFzQjVTLEtBQUs2UywwQkFFL0IsT0FBTzdTLEtBQUtrVCxTQUFTLHdCQUEwQlgsT0FBTTdQLEVBQVdwSSxPQUFPeVksT0FBT0UsRUFBWUwsTUFFM0YsQ0FDRHpYLElBQUssT0FDTFYsSUFBSyxXQUNILE9BQU91RixLQUFLZ1MsU0FFWixDQUFDLENBQ0g3VyxJQUFLLGdCQUNMVixJQUFLLFdBQ0gsTUE3TWlCLHVCQWlOZHNKLEVBN01JLEdBZ05iMUssRUFBT0QsUUFBVSxDQUFFMkssT0FBUUEiLCJmaWxlIjoiLi9idWlsZC9idW5kbGUuanMiLCJzb3VyY2VSb290IjoiIn0=","import React, { FC } from 'react'\nimport { Button, Tooltip } from '@material-ui/core'\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\n\nexport interface DownloadProps {\n  data?: object\n  tooltip?: string\n  fileName?: string\n}\n\nconst DEF_FILENAME = 'ce-data.json'\nconst CONTENT_TYPE = 'application/json'\n\nexport const DownloadButton: FC<DownloadProps> = ({\n  data,\n  tooltip = 'Download as JSON',\n  fileName = DEF_FILENAME,\n}: DownloadProps) => {\n  let disabled = true\n  if (data !== undefined) {\n    disabled = false\n  }\n\n  const handleClick = () => {\n    const content = JSON.stringify(data)\n    const a = document.createElement('a')\n    const file = new Blob([content], { type: CONTENT_TYPE })\n    a.href = URL.createObjectURL(file)\n    a.download = fileName\n    a.click()\n  }\n\n  return (\n    <Tooltip title={tooltip}>\n      <span>\n        <Button disabled={disabled} onClick={handleClick}>\n          <DownloadIcon />\n        </Button>\n      </span>\n    </Tooltip>\n  )\n}\n","import React, {\n  createContext,\n  useContext,\n  useReducer,\n  useEffect,\n  VFC,\n  Dispatch,\n} from 'react'\n\nimport ndexClient from 'ndex-client'\n\n// There are only two action types for this: Cytoscape is available or not.\ntype CyNdexActionType = 'setAvailable' | 'setUnavailable'\n\ninterface CyNdexAction {\n  type: CyNdexActionType\n  payload: any\n}\n\ninterface CyNdexState {\n  available: boolean\n  port: number\n  status: any\n}\n\nconst DEFAULT_STATE: CyNdexState = {\n  available: false,\n  port: 1234,\n  status: undefined,\n}\n\nexport const CyNDExContext = createContext<{\n  state: CyNdexState\n  dispatch: Dispatch<CyNdexAction>\n}>({ state: DEFAULT_STATE, dispatch: () => {} })\n\nexport const CyNDExProvider: VFC<{ port: number; children: any }> = ({\n  port,\n  children,\n}) => {\n  const initialState: CyNdexState = {\n    available: false,\n    status: undefined,\n    port,\n  }\n\n  const [state, dispatch] = useReducer(\n    (state: CyNdexState, action: CyNdexAction) => {\n      switch (action.type) {\n        case 'setAvailable':\n          return {\n            ...state,\n            available: true,\n            status: action.payload,\n          }\n        case 'setUnavailable':\n          return {\n            ...state,\n            available: false,\n            status: undefined,\n          }\n        default:\n          throw new Error()\n      }\n    },\n    initialState\n  )\n\n  let pollCyREST = false\n\n  function refresh() {\n    const cyndex = new ndexClient.CyNDEx(port)\n\n    if (pollCyREST) {\n      cyndex.getCyNDExStatus().then(\n        (response) => {\n          dispatch({\n            type: 'setAvailable',\n            payload: response.data,\n          })\n        },\n        (err) => {\n          dispatch({ type: 'setUnavailable', payload: err })\n        }\n      )\n      setTimeout(refresh, 5000)\n    }\n  }\n\n  const pollingStart = () => {\n    pollCyREST = true\n    setTimeout(refresh, 1000)\n  }\n\n  const pollingStop = () => {\n    pollCyREST = false\n  }\n\n  useEffect(() => {\n    pollingStart()\n\n    return () => {\n      pollingStop()\n    }\n  }, [])\n\n  return (\n    <CyNDExContext.Provider value={{ state, dispatch }}>\n      {children}\n    </CyNDExContext.Provider>\n  )\n}\n\nexport const useCyNDExValue = () => useContext(CyNDExContext)\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","import HttpResponse from './HttpResponse'\nimport NDExUserModel from '../model/NDExUserModel'\n\nimport { useState, useCallback } from 'react'\n\nexport async function callApi<T>(\n  request: RequestInfo,\n  settings\n): Promise<HttpResponse<T>> {\n  const response: HttpResponse<T> = await fetch(request, settings)\n\n  try {\n    response.parsedBody = await response.json()\n  } catch (ex) {\n    console.error('API Call error:', ex)\n  }\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n  return response\n}\n\nexport async function callTextApi(\n  request: RequestInfo,\n  settings\n): Promise<HttpResponse<string>> {\n  const response: HttpResponse<string> = await fetch(request, settings)\n\n  try {\n    response.parsedBody = await response.text()\n  } catch (ex) {\n    console.error('API Call error:', ex)\n  }\n\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  return response\n}\n\nexport function signUp(ndexServer, api) {\n  console.log('Sign Up!', ndexServer + api)\n}\n\nexport const getUserByEmail = async (ndexServer, api, emailAddress) => {\n  const path = '/' + api + '/user?email=' + emailAddress\n  const apiCall = ndexServer + path\n  return callApi(apiCall, undefined)\n}\n\nexport const getUserByUserName = async (ndexServer, api, userName) => {\n  const path = '/' + api + '/user?username=' + userName\n  const apiCall = ndexServer + path\n  return callApi(apiCall, undefined)\n}\n\nexport const useUserProfile = (ndexServer: string) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string>()\n  const [data, setData] = useState<string>()\n\n  const execute = async (email) => {\n    try {\n      setIsLoading(true)\n      setError(undefined)\n      setData(undefined)\n      if (email) {\n        const newData: any = await getUserByEmail(ndexServer, 'v2', email)\n        setData(newData.parsedBody)\n        return newData\n      } else {\n        setData(undefined)\n        return undefined\n      }\n    } catch (e) {\n      setError('Error getting user profile: ' + e)\n      setIsLoading(false)\n      throw e\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return {\n    isLoading,\n    error,\n    data,\n    execute: useCallback(execute, []), // to avoid infinite calls when inside a `useEffect`\n  }\n}\n\nexport const emailNewPassword = async (ndexServer, api, userId) => {\n  const path = '/' + api + '/user/' + userId + '/password?forgot=true'\n  const apiCall = ndexServer + path\n\n  const putConfig = {\n    method: 'PUT',\n  }\n\n  return callApi(apiCall, putConfig)\n}\n\nconst emailRE = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\nexport const isValidEmail = (inputString: string) => {\n  return emailRE.test(String(inputString).toLowerCase())\n}\n\nexport const getUserBySearch = async (\n  ndexServer: string,\n  api: string,\n  emailAddress: string\n) => {\n  let response\n\n  if (isValidEmail(emailAddress)) {\n    try {\n      response = await getUserByEmail(ndexServer, api, emailAddress)\n    } catch (error) {\n      response = await getUserByUserName(ndexServer, api, emailAddress)\n    }\n  } else {\n    response = await getUserByUserName(ndexServer, api, emailAddress)\n  }\n  return response.parsedBody.externalId\n}\n\nexport const resetPassword = async (ndexServer, api, searchString) => {\n  const user = await getUserBySearch(ndexServer, api, searchString)\n  const result = await emailNewPassword(ndexServer, api, user)\n  console.log('Result of resetPassword: ' + result)\n  return user\n}\n\nexport const useResetPassword = (ndexServer) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string>()\n  const [data, setData] = useState<string>()\n\n  const execute = async (user) => {\n    try {\n      setIsLoading(true)\n      setError(undefined)\n      setData(undefined)\n      const newData = await resetPassword(ndexServer, 'v2', user)\n      setData(newData)\n      return newData\n    } catch (e) {\n      setError('Cannot find user.')\n      setIsLoading(false)\n      throw e\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return {\n    isLoading,\n    error,\n    data,\n    execute: useCallback(execute, []), // to avoid infinite calls when inside a `useEffect`\n  }\n}\n\nexport const createUser = async (\n  ndexServer: string,\n  api: string,\n  user: NDExUserModel\n) => {\n  const path = '/' + api + '/user'\n  const apiCall = ndexServer + path\n\n  const postConfig = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(user),\n  }\n\n  return callTextApi(apiCall, postConfig)\n}\n\nexport const useCreateUser = (ndexServer) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string>()\n  const [data, setData] = useState<string>()\n\n  const execute = async (user: NDExUserModel) => {\n    try {\n      setIsLoading(true)\n      setError(undefined)\n      setData(undefined)\n      const newData: any = await createUser(ndexServer, 'v2', user)\n\n      setData(newData.parsedBody)\n      return newData\n    } catch (e) {\n      setError('Cannot create user: ' + e)\n      setIsLoading(false)\n      throw e\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return {\n    isLoading,\n    error,\n    data,\n    execute: useCallback(execute, []), // to avoid infinite calls when inside a `useEffect`\n  }\n}\n\nconst USERNAME_LENGTH_LIMIT = 95\n\nexport const getUniqueUserName = async (ndexServer, api, email: string) => {\n  let userName = email.replace(/@.*$/, '')\n\n  if (userName.length > USERNAME_LENGTH_LIMIT) {\n    // get first $scope.limitOfUserNameLength of user name\n    userName = userName.substring(0, USERNAME_LENGTH_LIMIT)\n  }\n  try {\n    let counter = 1\n    while (await getUserByUserName(ndexServer, api, userName)) {\n      userName = userName + counter\n      counter++\n    }\n  } catch (error) {}\n  return userName\n}\n\nexport const createGoogleUser = async (\n  ndexServer: string,\n  api: string,\n  tokenId: string,\n  email: string\n) => {\n  const path = '/' + api + '/user?idtoken=' + tokenId\n  const apiCall = ndexServer + path\n\n  const userName = await getUniqueUserName(ndexServer, api, email)\n\n  const postConfig = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ userName: userName }),\n  }\n\n  return callTextApi(apiCall, postConfig)\n}\n\nexport const useCreateGoogleUser = (ndexServer) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string>()\n  const [data, setData] = useState<string>()\n\n  const execute = async (tokenId, email) => {\n    try {\n      setIsLoading(true)\n      setError(undefined)\n      setData(undefined)\n      const newData: any = await createGoogleUser(\n        ndexServer,\n        'v2',\n        tokenId,\n        email\n      )\n\n      setData(newData.parsedBody)\n      return newData\n    } catch (e) {\n      setError('Cannot create user: ' + e)\n      setIsLoading(false)\n      throw e\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return {\n    isLoading,\n    error,\n    data,\n    execute: useCallback(execute, []), // to avoid infinite calls when inside a `useEffect`\n  }\n}\n","import { useUserProfile } from './api/ndex'\nimport React, { createContext, useContext, useState } from 'react'\nimport NDExAccountModel from './model/NDExAccountModel'\n\nexport const NDExAccountContext = createContext<NDExAccountModel>(\n  {} as NDExAccountModel\n)\n\nexport const NDExAccountProvider = ({\n  ndexServerURL,\n  googleClientId,\n  children,\n}) => {\n  const [loginInfo, setLoginInfo] = useState<any>(null)\n\n  const {\n    isLoading: isUserProfileLoading,\n    data: userProfile,\n    error: userProfileError,\n    execute: getUserProfile,\n  } = useUserProfile(ndexServerURL)\n\n  const defState: NDExAccountModel = {\n    ndexServerURL,\n    googleClientId,\n    loginInfo,\n    setLoginInfo,\n    isUserProfileLoading,\n    userProfile,\n    userProfileError,\n    getUserProfile,\n  }\n\n  return (\n    <NDExAccountContext.Provider value={defState}>\n      {children}\n    </NDExAccountContext.Provider>\n  )\n}\nexport const useNDExAccountValue = () => useContext(NDExAccountContext)\n","import React, { useState } from 'react'\n\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Typography,\n  Divider,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  FormControl,\n  Tooltip,\n  IconButton,\n} from '@material-ui/core'\n\nimport InfoIcon from '@material-ui/icons/InfoOutlined'\n\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 0,\n    margin: 0,\n  },\n  content: {\n    padding: '2em',\n    margin: 0,\n  },\n  title: {\n    color: '#444444',\n    'padding-top': '0.8em',\n    'padding-bottom': '0em',\n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  ndexLogo: {\n    height: '3em',\n    marginRight: '1em',\n  },\n  actionPanel: {\n    margin: 0,\n    padding: '0.3em',\n  },\n  userIcon: {\n    height: '1.5em',\n    width: '1.5em',\n  },\n  formLabel: {\n    'padding-top': '1em',\n    'padding-left': '1em',\n  },\n})\n\nconst LargeNetworkDialog = (props) => {\n  const classes = useStyles()\n\n  const { isOpen, hasLayout, hasView, setIsOpen, importNetworkFunction } = props\n\n  const [viewBehavior, setViewBehavior] = useState('none')\n\n  const createViewTip =\n    hasView || hasLayout ? (\n      <Typography>\n        Choose this option to import the network and display it{' '}\n        <u>preserving the original layout and visual styling info</u>. Your\n        computer might crash if it's older or not powerful enough.\n      </Typography>\n    ) : (\n      <Typography>\n        Choose this option to import the network and display it{' '}\n        <u>generating any necessary layout or visual styling info</u>. Your\n        computer might crash if it's older or not powerful enough.\n      </Typography>\n    )\n  const dontCreateViewTip =\n    hasView || hasLayout ? (\n      <Typography>\n        Choose this option to import the network without generating a graphic\n        rendering. The{' '}\n        <u>original layout and visual styling info will be lost</u>. You can\n        decide to generate a graphic rendering later if desired.\n      </Typography>\n    ) : (\n      <Typography>\n        Choose this option to import the network without generating a graphic\n        rendering. You can decide to generate a graphic rendering later if\n        desired.\n      </Typography>\n    )\n\n  const createViewLabel =\n    hasView || hasLayout ? (\n      <Typography display=\"inline\">\n        <b>Create View</b> (Resource Intensive, layout and visual properties are\n        preserved)\n      </Typography>\n    ) : (\n      <Typography display=\"inline\">\n        <b>Create View</b> (Resource Intensive)\n      </Typography>\n    )\n\n  const dontCreateViewLabel =\n    hasView || hasLayout ? (\n      <Typography display=\"inline\">\n        <b>Don't Create View</b> (Faster, layout and visual properties are\n        discarded)\n      </Typography>\n    ) : (\n      <Typography display=\"inline\">\n        <b>Don't Create View</b> (Faster)\n      </Typography>\n    )\n\n  const handleChange = (event) => {\n    setViewBehavior(event.target.value)\n  }\n\n  return (\n    <Dialog className={classes.root} open={isOpen}>\n      <DialogTitle disableTypography={true} className={classes.title}>\n        <Typography variant={'h6'}>Open Large Network in Cytoscape</Typography>\n      </DialogTitle>\n\n      <DialogContent className={classes.content}>\n        <Typography>\n          You are about to import a large network. Creating a view for a network\n          of this size requires large amounts of memory and could cause problems\n          on less powerful computers. Please choose one of the following\n          options.\n        </Typography>\n        <FormControl component=\"fieldset\">\n          <RadioGroup\n            aria-label=\"viewBehavior\"\n            name=\"viewBehavior1\"\n            value={viewBehavior}\n            onChange={handleChange}\n          >\n            <FormControlLabel\n              className={classes.formLabel}\n              value=\"createView\"\n              control={<Radio />}\n              label={\n                <div>\n                  {createViewLabel}\n                  <Tooltip title={createViewTip}>\n                    <IconButton size={'small'} disableFocusRipple disableRipple>\n                      <InfoIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              }\n            />\n            <FormControlLabel\n              className={classes.formLabel}\n              value=\"dontCreateView\"\n              control={<Radio />}\n              label={\n                <div>\n                  {dontCreateViewLabel}\n                  <Tooltip title={dontCreateViewTip}>\n                    <IconButton size={'small'} disableFocusRipple disableRipple>\n                      <InfoIcon />\n                    </IconButton>\n                  </Tooltip>\n                </div>\n              }\n            />\n          </RadioGroup>\n        </FormControl>\n      </DialogContent>\n      <Divider />\n      <DialogActions className={classes.actionPanel}>\n        <Button\n          variant={'contained'}\n          disabled={viewBehavior === 'none'}\n          onClick={() => {\n            setIsOpen(false)\n            importNetworkFunction(viewBehavior === 'createView')\n            setViewBehavior('none')\n          }}\n          color={'default'}\n        >\n          Import\n        </Button>\n        <Button\n          variant={'contained'}\n          onClick={() => {\n            setIsOpen(false)\n            setViewBehavior('none')\n          }}\n          color={'default'}\n        >\n          Cancel\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default LargeNetworkDialog\n","import React, { useState, useContext } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Icon from '@material-ui/core/Icon'\nimport logo from '../assets/images/cytoscape-logo.svg'\nimport logoDisabled from '../assets/images/cytoscape-logo-mono-light.svg'\nimport { withStyles } from '@material-ui/core'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport ndexClient from 'ndex-client'\n\nimport { useCyNDExValue } from '../CyNDExContext'\nimport { NDExAccountContext } from '../NDExAccountContext'\nimport LargeNetworkDialog from './LargeNetworkDialog'\n\nconst styles = () => ({\n  button: {\n    color: '#EA9123',\n    borderColor: '#EA9123',\n    '&:active': {\n      borderColor: '#EA9123',\n    },\n    'line-height': 0,\n  },\n  iconSmall: {\n    height: '22px',\n    'margin-left': '2px',\n  },\n  iconMedium: {\n    height: '24px',\n  },\n  iconLarge: {\n    height: '26px',\n  },\n  buttonIcon: {\n    height: '100%',\n    width: '100%',\n  },\n})\n\n/**\n * Button to open network data in Cytoscape Desktop\n *\n * @param props\n * @returns\n */\nconst OpenInCytoscapeButton = (props) => {\n  const cyNDExValue = useCyNDExValue()\n  const cyRESTAvailable = cyNDExValue.state.available\n  const cyNDExStatus = cyNDExValue.state.status\n  const cyRESTPort = cyNDExValue.state.port\n\n  const { ndexServerURL, loginInfo } = useContext(NDExAccountContext)\n  const [largeNetworkDialogOpen, setLargeNetworkDialogOpen] = useState(false)\n\n  const importNetworkFromNDEx = (createView) => {\n    const cyndex = new ndexClient.CyNDEx(cyRESTPort)\n\n    cyndex.setNDExServer(ndexServerURL)\n\n    if (loginInfo) {\n      if (loginInfo.isGoogle) {\n        cyndex.setAuthToken(loginInfo.loginDetails.tokenId)\n      } else {\n        cyndex.setBasicAuth(\n          loginInfo.loginDetails.id,\n          loginInfo.loginDetails.password\n        )\n      }\n    }\n\n    const accessKey = ndexNetworkProperties.accessKey\n\n    cyndex\n      .postNDExNetworkToCytoscape(\n        ndexNetworkProperties.uuid,\n        accessKey,\n        createView\n      )\n      .then((response) => {\n        typeof onSuccess !== 'undefined' && onSuccess(response.data)\n      })\n      .catch((error) => {\n        typeof onFailure !== 'undefined' && onFailure(error)\n      })\n  }\n\n  const getObjectCount = (ndexNetworkProperties) => {\n    if (!ndexNetworkProperties.summary) {\n      return undefined\n    }\n\n    return (\n      (ndexNetworkProperties.summary.edgeCount\n        ? ndexNetworkProperties.summary.edgeCount\n        : 0) +\n      (ndexNetworkProperties.summary.nodeCount\n        ? ndexNetworkProperties.summary.nodeCount\n        : 0)\n    )\n  }\n\n  /**\n   * Compares decimal separated version strings.\n   * Returns:\n   *    1 if a > b\n   *    0 if a = b\n   *   -1 if a < b\n   *\n   * @param {*} a\n   * @param {*} b\n   * @returns\n   */\n  const checkVersion = (a: string, b: string) => {\n    let x = a.split('.').map((e) => parseInt(e))\n    let y = b.split('.').map((e) => parseInt(e))\n    let z = ''\n    let i = 0\n    for (i = 0; i < x.length; i++) {\n      if (x[i] === y[i]) {\n        z += 'e'\n      } else if (x[i] > y[i]) {\n        z += 'm'\n      } else {\n        z += 'l'\n      }\n    }\n    if (!z.match(/[l|m]/g)) {\n      return 0\n    } else if (z.split('e').join('')[0] === 'm') {\n      return 1\n    } else {\n      return -1\n    }\n  }\n\n  const cyndexHasExplicitViewSupport = () => {\n    const oldestVersion = '3.4.0'\n\n    const checkVersionResult = checkVersion(\n      cyNDExStatus.appVersion,\n      oldestVersion\n    )\n    return checkVersionResult >= 0\n  }\n\n  const importNetwork = () => {\n    if (ndexNetworkProperties) {\n      const objectCount = getObjectCount(ndexNetworkProperties)\n\n      if (!objectCount || !cyndexHasExplicitViewSupport()) {\n        importNetworkFromNDEx(undefined)\n      } else if (objectCount > 100000) {\n        setLargeNetworkDialogOpen(true)\n      } else {\n        importNetworkFromNDEx(true)\n      }\n    } else {\n      const cyndex = new ndexClient.CyNDEx(cyRESTPort)\n      fetchCX().then(\n        (cx) => {\n          cyndex\n            .postCXNetworkToCytoscape(cx)\n            .then((response) => {\n              typeof onSuccess !== 'undefined' && onSuccess(response.data)\n            })\n            .catch((error) => {\n              typeof onFailure !== 'undefined' && onFailure(error)\n            })\n        },\n        (error) => {\n          typeof onFailure !== 'undefined' && onFailure(error)\n        }\n      )\n    }\n  }\n\n  const {\n    classes,\n    variant,\n    size,\n    onSuccess,\n    onFailure,\n    fetchCX,\n    ndexNetworkProperties,\n  } = props\n\n  const getMetaDataElement = (metaData, aspectName) => {\n    return metaData.find((element) => element && element['name'] === aspectName)\n  }\n\n  const hasLayout =\n    ndexNetworkProperties && ndexNetworkProperties.summary\n      ? ndexNetworkProperties.summary.hasLayout\n      : false\n  const hasView =\n    ndexNetworkProperties && ndexNetworkProperties.metaData\n      ? getMetaDataElement(ndexNetworkProperties.metaData, 'cyVisualProperties')\n        ? true\n        : false\n      : false\n\n  const iconClassName = (size) => {\n    switch (size) {\n      case 'small':\n        return classes.iconSmall\n      case 'large':\n        return classes.iconLarge\n      default:\n        return classes.iconMedium\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <Tooltip\n        disableFocusListener\n        title={\n          cyRESTAvailable\n            ? 'Open this network in Cytoscape'\n            : 'To use this feature, you need Cytoscape 3.6.0 or higher running on your machine (default port: 1234) and the CyNDEx-2 app installed'\n        }\n        placement=\"bottom\"\n      >\n        <span>\n          <Button //Do not add any spaces between the span and button tags. Tooltip interprets these as an array of elements instead of nested elements and will throw an exception.\n            className={classes.button}\n            variant={variant}\n            disabled={!cyRESTAvailable}\n            onClick={importNetwork}\n            size={size}\n          >\n            Open In Cytoscape\n            <Icon className={iconClassName(size)}>\n              <img\n                alt=\"Open in Cytoscape\"\n                className={classes.buttonIcon}\n                src={!cyRESTAvailable ? logoDisabled : logo}\n              />\n            </Icon>\n          </Button>\n        </span>\n      </Tooltip>\n      <LargeNetworkDialog\n        isOpen={largeNetworkDialogOpen}\n        setIsOpen={setLargeNetworkDialogOpen}\n        importNetworkFunction={importNetworkFromNDEx}\n        hasLayout={hasLayout}\n        hasView={hasView}\n      />\n    </React.Fragment>\n  )\n}\n\nexport default withStyles(styles)(OpenInCytoscapeButton)\n","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Generator: Adobe Illustrator 15.0.2%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='250px' height='250px' viewBox='0 0 250 250' enable-background='new 0 0 250 250' xml:space='preserve'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' fill='%23EA9123' d='M114.356%2c61.667c-0.394%2c3.877-1.521%2c7.628-3.332%2c11.074 l29.379%2c29.998c4.202-2.025%2c8.775-3.151%2c13.461-3.313l12.234-40.312c-3.125-2.317-5.785-5.212-7.828-8.522L114.356%2c61.667z M109.459%2c41.725l44.544-11.234c1.999-14.976%2c14.836-26.465%2c30.272-26.465c16.865%2c0%2c30.544%2c13.68%2c30.544%2c30.544 c0%2c16.445-13.008%2c29.861-29.291%2c30.518l-12.07%2c39.768c9.517%2c6.184%2c15.383%2c16.798%2c15.383%2c28.34c0%2c9.688-4.126%2c18.789-11.236%2c25.16 l13.215%2c26.378c1.416-0.201%2c2.848-0.3%2c4.281-0.3c16.865%2c0%2c30.544%2c13.679%2c30.544%2c30.544c0%2c16.863-13.679%2c30.543-30.544%2c30.543 s-30.544-13.68-30.544-30.543c0-7.812%2c2.965-15.229%2c8.233-20.859l-13.714-27.372c-1.335%2c0.159-2.68%2c0.24-4.026%2c0.24 c-6.841%2c0-13.444-2.051-19.033-5.872l-15.527%2c13.675c0.105%2c0.803%2c0.157%2c1.613%2c0.157%2c2.427c0%2c10.289-8.345%2c18.636-18.635%2c18.636 s-18.636-8.347-18.636-18.636c0-10.291%2c8.346-18.638%2c18.636-18.638c1.776%2c0%2c3.534%2c0.252%2c5.227%2c0.745l16.175-14.243 c-0.823-2.19-1.414-4.46-1.766-6.774l-38.559-5.194c-5.276%2c9.805-15.562%2c16.071-26.901%2c16.071c-16.865%2c0-30.543-13.68-30.543-30.543 c0-16.864%2c13.678-30.542%2c30.543-30.542c14.838%2c0%2c27.367%2c10.642%2c30.023%2c24.91l38.552%2c5.194c0.256-0.517%2c0.527-1.028%2c0.81-1.533 L96.115%2c86.588c-3.823%2c1.659-7.946%2c2.514-12.145%2c2.514c-16.864%2c0-30.543-13.679-30.543-30.543c0-16.864%2c13.679-30.543%2c30.543-30.543 C94.321%2c28.015%2c103.851%2c33.236%2c109.459%2c41.725z'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='250px' height='250px' viewBox='0 0 250 250' enable-background='new 0 0 250 250' xml:space='preserve'%3e %3cimage id='image0' width='250' height='250' x='0' y='0' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAPoAAAD6BAMAAAB6wkcOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEX//////vz%2b/Pn%2b/Pj///7%2b%2b/b%2b%2bvX//fz//v3//fv//Pr%2b%2b/f%2b%2bvaxsbH///%2b94VFyAAAADXRSTlMAAAAAAAAAAAAAAAAA7Uh4SAAAAAFiS0dEDm%2b9ME8AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAAHdElNRQfjCBYXExx1gSgmAAAFFklEQVR42u3c620TQRAHcAOBBMhIbsASDUSihDRgiQaQ0ghSGojkBiLRQCQaQKIBpIUkvLcXIIng7Nt57syuk9x8jO/md/%2b59SP22bPZVFM51iJfVw8b8r9KPfGcP/fEcz7viTcefs4d%2beVYb7fyHxfwduFzsRrhT8p6o/AHuWd4BG8THjD9smf0NqPH9RSPA65/jdeXuN5g9ASej7vqKRqH7dXDT3xfPW%2bxPq9s%2b6VKTzYbpB0i9KW0RQ7Ql8IemSuLDqImO6xt0vfGXQ4NuY16oculybbowLcR2ha93MdiG3Rg%2bihsg441Mth6/QnWaKW39TrgjdS2XjcQRL11im4rr8E30X3xvrpy0TkPvq8%2bv7%2bL7sdtWnQW/ZXb4B%2bo7SNqrSh1EKuD0e6Qt4bpr272OvWJrtITt5c2ukI/Gu7mE12sJ8Fu6uhCfdz3zCO6SE%2by/fTRBXoS7mfAWT2J9zPgnI4GWnjgZn1jO%2bOHgbu0ju63vtnchpvf/xpss7LSZh0kR9hCTzX60rTovHQw6ZJtmuiHNTp54iU7VeEm/ZmbTo3%2bBb9P5SUPlH7O75PqdHL0q3B9SejIXL3ucMzokecPt0XHjP4rt0e1rg4PnjoZ/oLWU71Ohj%2bO1rWfrL721R9RPHmwcwednP04nuui%2b1sHivB77vrwXHLhfe9wo56JDu%2b15JfXPW4ezf9jG8tgw/DRH467vP65fiDF8NlDXwv4ibiN%2bHTMBx%2bloMI76KPPgtZ54tg8lvz4jjUXhh/oFyryf52N9fUgePj6JS%2b4LhI9tDfVei6WLPzgjy9N%2bH5Zl4WvXnSnZV0WvlpHcEF4GP9JW4Dpn6jNkvzaEFN04gH96kZ6VPX6ej/IdJl0EPdjdFP0hbghBOiKhv6T31E0ZMIfuZ72cRz3M0/qvzQbW2Z/qkrjHV7Xzju8MoxzeGUYJvyxq/6nvlUdLV3A6htNmR0i9EFf5nrGwyA931zJcOI4epV%2b1X5B3qz7cphaF56gTvqqq6468XdM1534Sb8zumrZ9dXhHusP670K3f3E6/SPXXXoqu/SjYJ1/r2LfTmt1/HRDzZaROl70j5nETrzTYm1euavg6INuOuq6yJZ/YNWLwZCMrC6Fi%2b3VM2pSi8se%2bz0Bejj2V%2bIt5TuSNVCmoCLnuTmoM5kOBfd4VugxD%2biEaf9qv4tvXeiQ3TWr5uvqNv5q/uNgxfVx546P/fIr13zeN/ogTqPBw6%2ba/SnXaML8JjofzsL5h4SfSlww7KfiPEAXTLxuNEjKaGJfoKFLPLeo8dPMMTryFm/um0Xu6FB9PKxueLl/9w3LmiGwnEFDn7eSH8vWthRo8eXXC99PNyg0e%2bLokfpIIoeNXoQRW%2boJ267pCNuvR4z%2bluih4z%2blugxo5fd3bvrIaM36W6HIG8qXiGNdIcfJxYOvvyExP34HFun6/2%2bq3TzJe1I04RvWdKdv6go3tDpvg/SKMXRb379Q10HwkVc1qn3fEUlHWNZ/1mpz2Q49q7S3IdnNkIm3%2biXmTNWLXBA9Rbhcb32AU9SGa94nLrWM4XrsLV69RMtW5mqu63Tn9OlYB0mHanoRztaj152edInfdIn/R7osMV632eZdKf1vq%2bs7vNrWvLEf69vX6GncJ0a/buuejze%2bb2L/a5633eNOr9jhoU/bKOXw2t/DNw3/LyVXgr/rb5tRfh2uNOvE7vxTfFNvuFJH/PN8dnsea%2bx39T1K8wXXeyptrZ%2bAwYxz8JQtX7yAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA4LTIyVDIzOjE5OjI4KzAzOjAwjG8PswAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wOC0yMlQyMzoxOToyOCswMzowMP0ytw8AAAAASUVORK5CYII=' /%3e%3c/svg%3e\";\n  export default img;","import { withStyles } from '@material-ui/core/styles'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst HtmlTooltip = withStyles(() => ({\n  tooltip: {\n    backgroundColor: '#fafafa',\n    color: '#555555',\n    maxWidth: '13em',\n    fontSize: '1em',\n    border: '1px solid #00A1DE',\n    padding: '1.2em',\n  },\n}))(Tooltip)\n\nexport default HtmlTooltip\n","import React from 'react'\n\nimport GoogleLogo from './assets/images/google-logo.svg'\nimport GoogleLogoDisabled from './assets/images/google-logo-disabled.svg'\nimport { Button } from '@material-ui/core'\nimport HtmlTooltip from './HtmlTooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/styles'\n\nconst useStyles = makeStyles({\n  googlePanel: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n})\n\nconst NdexGoogleLoginPanel = (props) => {\n  const classes = useStyles()\n\n  const { googleSignIn, googleSSO } = props\n\n  const clsName = googleSSO\n    ? 'google-sign-in-button'\n    : 'google-sign-in-button googleButtonDisabled'\n  const title = googleSSO\n    ? 'Sign in with your Google account'\n    : \"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.\" +\n      'To use the Google Sign In feature you can do one of two things:' +\n      \"1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or\" +\n      \"2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.\"\n\n  const logo = googleSSO ? GoogleLogo : GoogleLogoDisabled\n\n  return (\n    <HtmlTooltip\n      placement={'left'}\n      disableFocusListener={googleSSO}\n      disableHoverListener={googleSSO}\n      title={\n        <React.Fragment>\n          <Typography variant={'subtitle1'} color={'inherit'}>\n            Currently this feature is only available for test and public servers\n          </Typography>\n          <Typography variant={'body1'}>\n            {'Server selected: ' + props.ndexServer}\n          </Typography>\n        </React.Fragment>\n      }\n    >\n      <div className={classes.googlePanel}>\n        <Button\n          id=\"googleSignInButtonId\"\n          disabled={!googleSSO}\n          className={clsName}\n          title={title}\n          onClick={googleSignIn}\n        >\n          <span className=\"google-sign-in-button-span\">\n            <img src={logo} alt=\"\" className=\"googleLogo\" />\n            <div className=\"googleSignInText\">Sign in with Google</div>\n          </span>\n        </Button>\n      </div>\n    </HtmlTooltip>\n  )\n}\n\nexport default NdexGoogleLoginPanel\n","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3e %3cpath fill='%23EA4335' d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z'/%3e %3cpath fill='%234285F4' d='M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z'/%3e %3cpath fill='%23FBBC05' d='M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z'/%3e %3cpath fill='%2334A853' d='M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z'/%3e %3cpath fill='none' d='M0 0h48v48H0z'/%3e%3c/svg%3e\";\n  export default img;","var img = \"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3e %3cpath fill='%23B6B6B6' d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z'/%3e %3cpath fill='%23B6B6B6' d='M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z'/%3e %3cpath fill='%23B6B6B6' d='M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z'/%3e %3cpath fill='%23B6B6B6' d='M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z'/%3e %3cpath fill='none' d='M0 0h48v48H0z'/%3e%3c/svg%3e\";\n  export default img;","type UserValidation = {\n  status: number\n  userData: any | null\n  error: any | null\n}\n\nasync function validateLogin(\n  id: string,\n  password: string,\n  ndexServer: string\n): Promise<UserValidation> {\n  const auth = 'Basic ' + btoa(id + ':' + password)\n  const headers = {\n    authorization: auth,\n  }\n  const url = ndexServer + '/v2/user?valid=true'\n\n  const res: Response = await fetch(url, {\n    method: 'GET',\n    headers: headers,\n  })\n  const status = res.status\n  let userData = await res.json()\n\n  let error = null\n  if (!res.ok) {\n    error = userData\n    userData = null\n  }\n\n  const validation: UserValidation = {\n    status,\n    userData,\n    error,\n  }\n\n  return validation\n}\n\nexport { validateLogin, UserValidation }\n","import React from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 0,\n    margin: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  progress: {\n    padding: '0.3em',\n  },\n})\n\nconst LoadingPanel = (props) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress size={'3em'} className={classes.progress} />\n      <Typography variant={'subtitle1'}>{props.message}</Typography>\n    </div>\n  )\n}\n\nexport default LoadingPanel\n","import React, { FC, ReactElement, useState, useEffect } from 'react'\nimport { Button, FormControl, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport Typography from '@material-ui/core/Typography'\nimport { ErrorOutline } from '@material-ui/icons'\nimport { validateLogin, UserValidation } from './validateCredentials'\nimport LoadingPanel from './LoadingPanel'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100%',\n    width: '23em',\n    padding: '0.3em',\n    margin: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n  },\n  loginButton: {\n    width: '100%',\n    marginTop: '0.5em',\n    'background-color': '#337ab7',\n    'text-transform': 'none',\n  },\n  formControl: {\n    width: '100%',\n  },\n  error: {\n    paddingLeft: '0.5em',\n  },\n  errorPanel: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginTop: '0.5em',\n    height: '3em',\n  },\n  blank: {\n    marginTop: '0.5em',\n    width: '100%',\n  },\n  userInfo: {\n    width: '100%',\n  },\n  signup: {\n    height: '100%',\n    display: 'grid',\n    justifyContent: 'left',\n    alignItems: 'center',\n    flexGrow: 1,\n  },\n})\n\nconst FIELD_NAME = {\n  ID: 'id',\n  PW: 'password',\n}\n\nconst NdexCredentialsLoginPanel: FC<{\n  onSuccessLogin: Function\n  handleNDExSignOn: Function\n  ndexServer: string\n  setContentMode: (mode: string) => void\n}> = ({\n  onSuccessLogin,\n  handleNDExSignOn,\n  ndexServer,\n  setContentMode,\n}): ReactElement => {\n  const classes = useStyles()\n\n  const [isLoading, setLoading] = useState(false)\n  const [disabled, setDisabled] = useState(true)\n  const [id, setId] = useState('')\n  const [password, setPassword] = useState('')\n  const [errorMessage, setErrorMessage] = useState<string | null>(null)\n\n  useEffect(() => {\n    if (id === '' || password === '') {\n      setDisabled(true)\n    } else {\n      setDisabled(false)\n    }\n  }, [id, password])\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    setLoading(true)\n    setErrorMessage(null)\n\n    validateLogin(id, password, ndexServer).then((data: UserValidation) => {\n      setTimeout(() => {\n        setLoading(false)\n\n        const { error, userData } = data\n        if (error !== null && error['message'] !== undefined) {\n          setErrorMessage(error['message'] as string)\n        } else {\n          handleNDExSignOn(\n            {\n              id,\n              password,\n              ndexServer,\n              fullName: userData.firstName + ' ' + userData.lastName,\n              image: userData.image,\n              details: userData,\n            },\n            onSuccessLogin\n          )\n        }\n      }, 500)\n    })\n  }\n\n  const handleChange = (tag: string) => (event) => {\n    const value = event.target.value\n    if (tag === FIELD_NAME.ID) {\n      setId(value)\n    } else if (tag === FIELD_NAME.PW) {\n      setPassword(value)\n    }\n\n    if (id !== '' && password !== '') {\n      setDisabled(false)\n    } else {\n      setDisabled(true)\n    }\n  }\n\n  if (isLoading) {\n    return <LoadingPanel message={'Validating your user info...'} />\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={classes.root}>\n      <div className={classes.userInfo}>\n        <FormControl className={classes.formControl}>\n          <TextField\n            name=\"id\"\n            type=\"text\"\n            placeholder=\"Your NDEx ID\"\n            required\n            title=\"\"\n            autoComplete=\"username\"\n            onChange={handleChange('id')}\n          />\n        </FormControl>\n        <FormControl className={classes.formControl}>\n          <TextField\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            required\n            title=\"\"\n            autoComplete=\"password\"\n            onChange={handleChange('password')}\n          />\n        </FormControl>\n\n        <Button\n          className={classes.loginButton}\n          type=\"submit\"\n          variant=\"contained\"\n          color={'secondary'}\n          disabled={disabled}\n        >\n          Sign In with NDEx\n        </Button>\n      </div>\n\n      <div className={classes.signup}>\n        <Typography variant={'body1'}>\n          <a\n            href=\"#\"\n            onClick={() => {\n              setContentMode('FORGOT_PASSWORD')\n            }}\n          >\n            Forgot your password?\n          </a>\n        </Typography>\n\n        <Typography variant={'body2'}>\n          {\"Need an account? \"}\n          <a\n            href=\"#\"\n            onClick={() => {\n              setContentMode('SIGN_UP')\n            }}\n          >\n            Click here to sign up!\n          </a>\n        </Typography>\n      </div>\n\n      {errorMessage ? (\n        <div className={classes.errorPanel}>\n          <ErrorOutline color={'error'} />\n          <Typography\n            className={classes.error}\n            variant={'body1'}\n            color={'error'}\n          >\n            {errorMessage}\n          </Typography>\n        </div>\n      ) : (\n        <div className={classes.blank} />\n      )}\n    </form>\n  )\n}\n\nexport default NdexCredentialsLoginPanel\n","import React from 'react'\n\nimport { Divider } from '@material-ui/core'\n\nimport { makeStyles } from '@material-ui/styles'\nimport NdexGoogleLoginPanel from './NdexGoogleLoginPanel'\nimport NdexCredentialsLoginPanel from './NdexCredentialsLoginPanel'\n\nconst useStyles = makeStyles({\n  root: {\n    height: '18em',\n    margin: 0,\n    padding: '0.6em',\n    display: 'flex',\n    minWidth: '30em',\n  },\n  leftComponent: {\n    display: 'flex',\n    height: '100%',\n    alignItem: 'center',\n    justifyContent: 'center',\n    marginRight: '0.6em',\n  },\n  rightComponent: {\n    height: '100%',\n    marginLeft: '0.6em',\n    flexGrow: 1,\n  },\n})\n\nconst NdexLoginPanel = (props) => {\n  const classes = useStyles()\n\n  const {\n    onLoginSuccess,\n    onSuccess,\n    handleNDExSignOn,\n    onSuccessLogin,\n    onError,\n    // handleError,\n    // error,\n    ndexServer,\n    googleSignIn,\n    googleSSO,\n    setContentMode,\n  } = props\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.leftComponent}>\n        <NdexGoogleLoginPanel\n          onError={onError}\n          onLoginSuccess={onLoginSuccess}\n          onSuccess={onSuccess}\n          ndexServer={ndexServer}\n          googleSignIn={googleSignIn}\n          googleSSO={googleSSO}\n        />\n      </div>\n      <Divider orientation=\"vertical\" flexItem />\n      <div className={classes.rightComponent}>\n        <NdexCredentialsLoginPanel\n          // onLoginSuccess={onLoginSuccess}\n          handleNDExSignOn={handleNDExSignOn}\n          onSuccessLogin={onSuccessLogin}\n          // handleError={handleError}\n          // error={error}\n          ndexServer={ndexServer}\n          setContentMode={setContentMode}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default NdexLoginPanel\n","import React, { useState, useContext } from 'react'\nimport {\n  Button,\n  TextField,\n  FormControlLabel,\n  Checkbox,\n  Typography,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { NDExAccountContext } from '../NDExAccountContext'\nimport { isValidEmail, useCreateUser } from '../api/ndex'\nimport { validateLogin } from './validateCredentials'\nimport NDExUserModel from '../model/NDExUserModel'\n\nconst useStyles = makeStyles({\n  signUpHeader: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '1.2em',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  item: {\n    alignSelf: 'normal',\n    marginRight: '1em',\n    marginLeft: '1em',\n  },\n  leftItem: {\n    paddingRight: '1em',\n  },\n  rightItem: {\n    paddingRight: '0em',\n  },\n  lastItem: {\n    alignSelf: 'flex-end',\n  },\n  textItem: {\n    paddingBottom: '1em',\n  },\n})\n\nconst NdexSignUpPanel = (props) => {\n  const classes = useStyles()\n\n  const { handleNDExSignOn, onSuccessLogin, onWaitForEmailValidation } = props\n\n  const { ndexServerURL } = useContext(NDExAccountContext)\n\n  const [firstName, setFirstName] = useState<string>('')\n  const [lastName, setLastName] = useState<string>('')\n  const [userName, setUserName] = useState<string>('')\n  const [emailAddress, setEmailAddress] = useState<string>('')\n  const [password, setPassword] = useState<string>('')\n  const [confirmPassword, setConfirmPassword] = useState<string>('')\n  const [readAgreement, setReadAgreement] = useState(false)\n\n  const [errorMessage, setErrorMessage] = useState<string>()\n\n  const [showEmailValidation, setShowEmailValidation] = useState(false)\n\n  const {\n    isLoading,\n    error,\n    //data,\n    execute,\n  } = useCreateUser(ndexServerURL)\n\n  const loginAfterCreate = (userName: string, password: string) => {\n    setErrorMessage(undefined)\n\n    validateLogin(userName, password, ndexServerURL).then((data) => {\n      setTimeout(() => {\n        if (data.error !== null) {\n          setErrorMessage(data.error.message)\n        } else {\n          handleNDExSignOn(\n            {\n              id: data.userData.userName,\n              password,\n              ndexServer: ndexServerURL,\n              fullName: data.userData.firstName + ' ' + data.userData.lastName,\n              image: data.userData.image,\n              details: data.userData,\n            },\n            onSuccessLogin\n          )\n        }\n      }, 500)\n    })\n  }\n\n  const validate = (): string | null => {\n    if (\n      firstName.length < 1 ||\n      lastName.length < 1 ||\n      userName.length < 1 ||\n      emailAddress.length < 1 ||\n      password.length < 1 ||\n      confirmPassword.length < 1\n    ) {\n      return 'Please fill out all fields.'\n    }\n\n    if (!isValidEmail(emailAddress)) {\n      return 'Please enter a valid email.'\n    }\n\n    if (password !== confirmPassword) {\n      return 'Passwords do not match'\n    }\n\n    if (password.length < 8) {\n      return 'Password must be a minimum of 8 characters'\n    }\n\n    if (!readAgreement) {\n      return 'Please read and sign the Terms & Conditions'\n    }\n    return null\n  }\n\n  const handleChange = (event) => {\n    switch (event.target.name) {\n      case 'firstName':\n        setFirstName(event.target.value)\n        break\n      case 'lastName':\n        setLastName(event.target.value)\n        break\n      case 'userName':\n        setUserName(event.target.value)\n        break\n      case 'emailAddress':\n        setEmailAddress(event.target.value)\n        break\n      case 'password':\n        setPassword(event.target.value)\n        break\n      case 'confirmPassword':\n        setConfirmPassword(event.target.value)\n        break\n      case 'readAgreement':\n        setReadAgreement(event.target.checked)\n        break\n    }\n  }\n\n  const signUpAction = (event) => {\n    event.preventDefault()\n    const formError = validate()\n    if (formError === null) {\n      const user: NDExUserModel = {\n        userName,\n        firstName,\n        lastName,\n        emailAddress,\n        password,\n      }\n      execute(user)\n        .then((response) => {\n          if (response.parsedBody && response.parsedBody.length > 0) {\n            loginAfterCreate(user.userName, user.password)\n          } else {\n            setShowEmailValidation(true)\n            onWaitForEmailValidation()\n          }\n        })\n        .catch((error) => {\n          setErrorMessage('Cannot create user: ' + error)\n        })\n    } else {\n      setErrorMessage(formError)\n    }\n  }\n\n  return showEmailValidation ? (\n    <div className={classes.signUpHeader}>\n      <div className={classes.item}>\n        <Typography variant={'h6'} className={classes.textItem}>\n          Check Your Email\n        </Typography>\n        <Typography variant={'subtitle2'} className={classes.textItem}>\n          ALMOST DONE!\n        </Typography>\n        <Typography variant={'body1'} className={classes.textItem}>\n          We sent a verification link to the e-mail address you provided. Please\n          check your email and follow the instructions to complete your\n          registration. You must complete your registration within 24 hours.\n          Can't find the email? Make sure to check your SPAM folder and add\n          \"support@ndexbio.org\" to your safe-senders list.\n        </Typography>\n      </div>\n    </div>\n  ) : (\n    <form onSubmit={signUpAction}>\n      <div className={classes.signUpHeader}>\n        <div className={classes.item}>\n          <TextField\n            name=\"firstName\"\n            label=\"First Name\"\n            value={firstName}\n            onChange={handleChange}\n            className={classes.leftItem}\n          />\n          <TextField\n            name=\"lastName\"\n            label=\"Last Name\"\n            value={lastName}\n            onChange={handleChange}\n            className={classes.rightItem}\n          />\n        </div>\n        <TextField\n          name=\"userName\"\n          label=\"Username\"\n          value={userName}\n          onChange={handleChange}\n          className={classes.item}\n        />\n        <TextField\n          name=\"emailAddress\"\n          label=\"E-Mail Address\"\n          value={emailAddress}\n          onChange={handleChange}\n          className={classes.item}\n        />\n        <TextField\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          value={password}\n          onChange={handleChange}\n          autoComplete=\"current-password\"\n          className={classes.item}\n        />\n        <TextField\n          name=\"confirmPassword\"\n          label=\"Confirm Password\"\n          type=\"password\"\n          value={confirmPassword}\n          onChange={handleChange}\n          autoComplete=\"current-password\"\n          className={classes.item}\n        />\n\n        <FormControlLabel\n          className={classes.item}\n          control={\n            <Checkbox\n              checked={readAgreement}\n              onChange={handleChange}\n              name=\"readAgreement\"\n              color=\"secondary\"\n            />\n          }\n          label={\n            <Typography variant={'body1'}>\n              I have read and accept the{' '}\n              <a\n                href=\"https://home.ndexbio.org/disclaimer-license/\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Terms &amp; Conditions\n              </a>\n            </Typography>\n          }\n        />\n        {errorMessage ||\n          (error && (\n            <Typography>{errorMessage ? errorMessage : error}</Typography>\n          ))}\n        <Button\n          color={'secondary'}\n          variant={'outlined'}\n          className={classes.lastItem}\n          disabled={isLoading}\n          type=\"submit\"\n        >\n          Sign Up\n        </Button>\n      </div>\n    </form>\n  )\n}\n\nexport default NdexSignUpPanel\n","import React, { useContext, useState } from 'react'\nimport { TextField, Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { NDExAccountContext } from '../NDExAccountContext'\nimport { useResetPassword } from '../api/ndex'\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '0.6em',\n    width: '40em',\n    height: '7em',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n  },\n  textArea: {\n    flexGrow: 1,\n    marginRight: '0.3em'\n  },\n  itemRight: {\n    // width: '100%',\n\n  },\n})\n\nconst ForgotPasswordPanel: React.VFC<{\n  onSuccessReset?: (string) => void\n  onFailReset?: (any) => void\n}> = ({ onSuccessReset = () => {}, onFailReset = () => {} }) => {\n  const classes = useStyles()\n\n  const { ndexServerURL } = useContext(NDExAccountContext)\n  const [email, setEmail] = useState('')\n  const { isLoading, error, data, execute } = useResetPassword(ndexServerURL)\n\n  const handleEmailChange = (evt) => {\n    const email: string = evt.target.value\n    setEmail(email)\n  }\n\n  const handleResetPassword = () => {\n    execute(email)\n      .then(() => {\n        onSuccessReset(email)\n      })\n      .catch((e) => {\n        onFailReset(e)\n      })\n  }\n\n  return (\n    <div\n      className={classes.root}\n    >\n      <TextField\n        variant=\"outlined\"\n        className={classes.textArea}\n        error={email.trim().length < 0}\n        helperText={\n          error\n            ? error\n            : data\n            ? 'Sent a new password to e-mail of record'\n            : undefined\n        }\n        name=\"id\"\n        type=\"text\"\n        placeholder=\"\"\n        required\n        label=\"Account Name or E-Mail\"\n        autoComplete=\"username\"\n        value={email}\n        onChange={handleEmailChange}\n      />\n      <Button\n        size={'large'}\n        color={'secondary'}\n        className={classes.itemRight}\n        variant={'outlined'}\n        disabled={email.trim().length < 1 || isLoading}\n        onClick={handleResetPassword}\n      >\n        Reset Password\n      </Button>\n    </div>\n  )\n}\n\nexport default ForgotPasswordPanel\n","import React, { useContext, useState } from 'react'\nimport {\n  Button,\n  Typography,\n  FormControlLabel,\n  Checkbox,\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { NDExAccountContext } from '../NDExAccountContext'\nimport { useCreateGoogleUser } from '../api/ndex'\n\nconst useStyles = makeStyles({\n  signInHeader: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '1.2em',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  item: {\n    alignSelf: 'normal',\n    marginRight: '1em',\n    marginLeft: '1em',\n    marginTop: '1em',\n  },\n  lastItem: {\n    alignSelf: 'flex-end',\n  },\n})\n\nconst TermsAndConditionsPanel = (props) => {\n  const { oauth, onGoogleAgreement } = props\n\n  const classes = useStyles()\n\n  const { ndexServerURL } = useContext(NDExAccountContext)\n\n  const [errorMessage, setErrorMessage] = useState<string>()\n\n  const {\n    isLoading,\n    error,\n    //data,\n    execute,\n  } = useCreateGoogleUser(ndexServerURL)\n\n  console.log('terms and condition ndexServerUrl' + ndexServerURL)\n\n  const [readAgreement, setReadAgreement] = useState(false)\n\n  const handleChange = (event) => {\n    console.log('set agreement to checked')\n    setReadAgreement(event.target.checked)\n  }\n\n  const agreeAction = (event) => {\n    console.log('agreeAction', event)\n    setErrorMessage(undefined)\n    console.log('agreeaction tokenId=', oauth.tokenId)\n    console.log('agreeaction email=', oauth.profileObj.email)\n    execute(oauth.tokenId, oauth.profileObj.email)\n      .then(() => {\n        onGoogleAgreement(oauth)\n      })\n      .catch((error) => {\n        console.log(error)\n        setErrorMessage('Cannot create user account.')\n      })\n  }\n\n  return (\n    <div className={classes.signInHeader}>\n      <Typography className={classes.item}>\n        No account was found in NDEx for the selected email address, so we are\n        creating one for you.\n      </Typography>\n      <Typography className={classes.item}>\n        Please review and accept our Terms and Conditions and then click the\n        'Sign Up' button to complete your registration.\n      </Typography>\n      <FormControlLabel\n        className={classes.item}\n        control={\n          <Checkbox\n            checked={readAgreement}\n            onChange={handleChange}\n            name=\"readAgreement\"\n            color=\"secondary\"\n          />\n        }\n        label={\n          <Typography variant={'body1'}>\n            I have read and accept the{' '}\n            <a\n              href=\"https://home.ndexbio.org/disclaimer-license/\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              Terms &amp; Conditions\n            </a>\n          </Typography>\n        }\n      />\n      {errorMessage ||\n        (error && (\n          <Typography>{errorMessage ? errorMessage : error}</Typography>\n        ))}\n      <Button\n        onClick={agreeAction}\n        disabled={!readAgreement || isLoading}\n        className={classes.lastItem}\n      >\n        Sign Up\n      </Button>\n    </div>\n  )\n}\n\nexport default TermsAndConditionsPanel\n","import React, { useState, useContext } from 'react'\n\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Typography,\n  Divider,\n} from '@material-ui/core'\n\nimport NdexLoginPanel from './NdexLoginPanel'\nimport { makeStyles } from '@material-ui/styles'\n\nimport NdexLogo from './assets/images/ndex-logo.svg'\n\nimport { NDExAccountContext } from '../NDExAccountContext'\n\nimport NdexSignUpPanel from './NdexSignUpPanel'\nimport ForgotPasswordPanel from './ForgotPasswordPanel'\n\nimport TermsAndConditionsPanel from './TermsAndConditionsPanel'\n\nconst content_mode = {\n  SIGN_IN: 'SIGN_IN',\n  FORGOT_PASSWORD: 'FORGOT_PASSWORD',\n  SIGN_TERMS_AND_CONDITIONS: 'SIGN_TERMS_AND_CONDITIONS',\n  SIGN_UP: 'SIGN_UP',\n}\n\nconst title_options = {\n  SIGN_IN: 'Sign in to your NDEx Account',\n  FORGOT_PASSWORD: 'Reset Password',\n  SIGN_TERMS_AND_CONDITIONS: 'Create New Account',\n  SIGN_UP: 'Sign Up for NDEx',\n}\n\nconst useStyles = makeStyles({\n  root: {\n    padding: 0,\n    margin: 0,\n  },\n  content: {\n    padding: 0,\n    margin: 0,\n  },\n  title: {\n    color: '#444444',\n    'padding-top': '0.8em',\n    'padding-bottom': '0em',\n  },\n  titleWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n  ndexLogo: {\n    height: '3em',\n    marginRight: '1em',\n  },\n  actionPanel: {\n    margin: 0,\n    padding: '0.3em',\n  },\n  userIcon: {\n    height: '1.5em',\n    width: '1.5em',\n  },\n})\n\nconst NdexLoginDialog = (props) => {\n  const classes = useStyles()\n\n  const {\n    isOpen,\n    setDialogState,\n    ndexServer,\n    onLoginSuccess,\n    onLogout,\n    handleNDExSignOn,\n    onSuccessLogin,\n    onGoogleSuccess,\n    onError,\n    handleError,\n    errorMessage,\n    signIn,\n    googleSSO,\n    onGoogleAgreement,\n  } = props\n\n  const { loginInfo } = useContext(NDExAccountContext)\n\n  const [contentMode, setContentMode] = useState(content_mode.SIGN_IN)\n\n  const getContent = () => {\n    switch (contentMode) {\n      case content_mode.SIGN_IN:\n        return (\n          <NdexLoginPanel\n            setDialogState={setDialogState}\n            onLoginSuccess={onLoginSuccess}\n            onLogout={onLogout}\n            handleNDExSignOn={handleNDExSignOn}\n            onSuccessLogin={onSuccessLogin}\n            onSuccess={onGoogleSuccess}\n            onError={onError}\n            handleError={handleError}\n            error={errorMessage}\n            ndexServer={ndexServer}\n            googleSignIn={signIn}\n            googleSSO={googleSSO}\n            setContentMode={setContentMode}\n          />\n        )\n      case content_mode.SIGN_UP:\n        return (\n          <NdexSignUpPanel\n            ndexServer={ndexServer}\n            handleNDExSignOn={handleNDExSignOn}\n          />\n        )\n      case content_mode.FORGOT_PASSWORD:\n        return <ForgotPasswordPanel />\n      case content_mode.SIGN_TERMS_AND_CONDITIONS:\n        return (\n          <TermsAndConditionsPanel\n            ndexServer={ndexServer}\n            onGoogleAgreement={onGoogleAgreement}\n          />\n        )\n      default:\n        return <div />\n    }\n  }\n\n  const title = title_options[contentMode]\n\n  return (\n    <Dialog className={classes.root} open={isOpen}>\n      {loginInfo !== null ? (\n        <div />\n      ) : (\n        <DialogTitle disableTypography={true} className={classes.title}>\n          <div className={classes.titleWrapper}>\n            <img\n              src={NdexLogo}\n              alt={'NDEx Logo'}\n              className={classes.ndexLogo}\n            />\n            <div>\n              <Typography variant={'subtitle1'}>{title}</Typography>\n            </div>\n          </div>\n        </DialogTitle>\n      )}\n      <DialogContent className={classes.content}>{getContent()}</DialogContent>\n      <Divider />\n      <DialogActions className={classes.actionPanel}>\n        {contentMode !== content_mode.SIGN_IN && (\n          <Button\n            variant={'outlined'}\n            onClick={() => {\n              setContentMode(content_mode.SIGN_IN)\n            }}\n          >\n            Back\n          </Button>\n        )}\n        <Button\n          variant={'contained'}\n          onClick={() => {\n            setDialogState(false)\n            setContentMode(content_mode.SIGN_IN)\n          }}\n          color={'default'}\n        >\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default NdexLoginDialog\n","var img = \"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 168 96' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' xmlns:serif='http://www.serif.com/' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:1.41421%3b'%3e %3cg transform='matrix(1.00115%2c0%2c0%2c1.00115%2c-316.233%2c-299.117)'%3e %3cpath d='M476.004%2c357.34C474.592%2c358.717 473.114%2c359.978 471.565%2c361.124C470.017%2c362.274 468.49%2c363.326 466.98%2c364.28C462.213%2c366.822 457.633%2c369.782 452.696%2c371.907C451.105%2c372.591 449.483%2c373.302 447.837%2c374.023C446.195%2c374.75 444.557%2c375.43 442.929%2c376.059C441.301%2c376.69 439.666%2c377.366 438.021%2c378.094C434.697%2c379.239 431.403%2c380.365 428.13%2c381.471C424.861%2c382.575 421.531%2c383.645 418.143%2c384.678C416.465%2c385.095 414.823%2c385.571 413.216%2c386.107C408.346%2c387.721 403.072%2c389.139 398.069%2c390.167C396.6%2c390.432 395.219%2c390.098 393.93%2c389.155C392.646%2c388.216 391.89%2c386.921 391.664%2c385.276C391.441%2c383.626 391.715%2c382.067 392.476%2c380.593C393.69%2c378.262 396.377%2c377.723 398.602%2c377.411C402.617%2c376.844 406.82%2c375.481 410.791%2c374.554C412.413%2c374.174 414.066%2c373.771 415.743%2c373.352C419.027%2c372.398 422.289%2c371.465 425.521%2c370.547C428.757%2c369.634 431.984%2c368.643 435.201%2c367.576C438.421%2c366.505 441.622%2c365.41 444.808%2c364.282C450.988%2c362.09 457.287%2c359.386 463.063%2c356.059C467.481%2c353.493 474.124%2c349.643 476.136%2c343.894C481.577%2c322.788 413.755%2c324.268 418.017%2c322.959C434.948%2c321.684 458.422%2c318.806 474.752%2c327.857C475.229%2c328.164 475.66%2c328.46 476.05%2c328.751C476.438%2c329.037 476.872%2c329.336 477.35%2c329.642C487.915%2c337.267 483.68%2c349.982 476.004%2c357.34ZM323.533%2c338.902C324.946%2c337.524 326.425%2c336.264 327.973%2c335.117C329.522%2c333.968 331.05%2c332.916 332.56%2c331.963C337.327%2c329.42 341.907%2c326.46 346.844%2c324.335C348.434%2c323.651 350.055%2c322.94 351.701%2c322.218C353.345%2c321.493 354.982%2c320.813 356.61%2c320.184C358.237%2c319.551 359.874%2c318.876 361.52%2c318.149C364.841%2c317.003 368.135%2c315.876 371.407%2c314.772C374.676%2c313.666 378.007%2c312.596 381.396%2c311.565C383.073%2c311.149 384.715%2c310.67 386.325%2c310.136C391.194%2c308.521 396.466%2c307.104 401.472%2c306.076C402.939%2c305.81 404.319%2c306.146 405.608%2c307.087C406.892%2c308.026 407.649%2c309.321 407.874%2c310.966C408.098%2c312.616 407.824%2c314.176 407.061%2c315.648C405.849%2c317.98 403.162%2c318.519 400.936%2c318.831C396.921%2c319.397 392.719%2c320.761 388.748%2c321.69C387.126%2c322.069 385.473%2c322.47 383.796%2c322.889C380.511%2c323.842 377.25%2c324.777 374.018%2c325.695C370.783%2c326.608 367.556%2c327.6 364.337%2c328.667C361.119%2c329.739 357.916%2c330.833 354.729%2c331.96C348.549%2c334.152 342.251%2c336.855 336.475%2c340.184C332.059%2c342.751 325.414%2c346.598 323.402%2c352.349C317.962%2c373.455 385.784%2c371.974 381.52%2c373.284C364.59%2c374.559 341.116%2c377.435 324.786%2c368.383C324.31%2c368.078 323.878%2c367.781 323.49%2c367.491C323.1%2c367.205 322.666%2c366.906 322.19%2c366.6C311.623%2c358.974 315.858%2c346.26 323.533%2c338.902ZM404.292%2c345.792L413.935%2c343.905C414.564%2c345.954 416.385%2c347.319 418.399%2c347.085C420.761%2c346.81 422.496%2c344.441 422.275%2c341.793C422.053%2c339.143 419.958%2c337.219 417.595%2c337.494C415.427%2c337.746 413.802%2c339.747 413.705%2c342.112L403.973%2c344.017C403.721%2c343.287 403.331%2c342.64 402.844%2c342.11L415.539%2c317.516C416.68%2c317.97 417.929%2c318.154 419.219%2c318.003C423.874%2c317.463 427.294%2c312.792 426.857%2c307.572C426.42%2c302.353 422.291%2c298.56 417.635%2c299.102C412.981%2c299.643 409.561%2c304.313 409.998%2c309.532C410.221%2c312.191 411.405%2c314.483 413.128%2c316.018L400.391%2c340.696C400.154%2c340.647 399.913%2c340.617 399.667%2c340.611L398.446%2c332.307C400.413%2c331.441 401.722%2c329.19 401.515%2c326.724C401.267%2c323.756 398.919%2c321.599 396.272%2c321.907C393.625%2c322.215 391.681%2c324.871 391.929%2c327.838C392.169%2c330.697 394.344%2c332.793 396.863%2c332.679L398.064%2c340.863C397.317%2c341.128 396.655%2c341.588 396.116%2c342.186L388.289%2c335.971C388.625%2c335.19 388.782%2c334.301 388.705%2c333.377C388.48%2c330.689 386.353%2c328.735 383.955%2c329.013C381.557%2c329.292 379.796%2c331.699 380.02%2c334.387C380.246%2c337.075 382.373%2c339.029 384.771%2c338.751C385.81%2c338.63 386.724%2c338.112 387.415%2c337.345L395.22%2c343.544C394.828%2c344.382 394.626%2c345.339 394.673%2c346.34L394.673%2c346.336L387.142%2c347.81C386.655%2c346.141 385.186%2c345.024 383.559%2c345.213C381.671%2c345.433 380.283%2c347.327 380.461%2c349.443C380.638%2c351.56 382.313%2c353.098 384.201%2c352.878C385.97%2c352.673 387.301%2c350.982 387.312%2c349.023L394.851%2c347.547C395.063%2c348.371 395.441%2c349.106 395.939%2c349.708L383.245%2c375.596C382.183%2c375.231 381.037%2c375.094 379.86%2c375.231C375.141%2c375.779 371.674%2c380.515 372.117%2c385.805C372.56%2c391.096 376.746%2c394.941 381.465%2c394.392C386.183%2c393.843 389.649%2c389.109 389.206%2c383.818C388.967%2c380.961 387.635%2c378.522 385.715%2c376.973L398.32%2c351.268C398.832%2c351.407 399.376%2c351.45 399.931%2c351.386C400.121%2c351.364 400.309%2c351.329 400.491%2c351.284L403.936%2c360.169C402.257%2c361.443 401.184%2c363.138 401.432%2c366.094C401.68%2c369.048 404.492%2c372.134 407.613%2c371.772C410.733%2c371.409 413.026%2c368.278 412.733%2c364.779C412.434%2c361.209 408.135%2c358.61 405.783%2c359.249L402.329%2c350.337C403.571%2c349.299 404.345%2c347.621 404.292%2c345.792ZM399.159%2c342.173C401.05%2c341.952 402.728%2c343.494 402.905%2c345.614C403.082%2c347.733 401.694%2c349.631 399.803%2c349.851C397.912%2c350.071 396.234%2c348.529 396.057%2c346.409C395.879%2c344.29 397.268%2c342.392 399.159%2c342.173ZM380.088%2c377.967C383.459%2c377.575 386.45%2c380.323 386.766%2c384.102C387.082%2c387.882 384.606%2c391.265 381.235%2c391.656C377.864%2c392.048 374.874%2c389.301 374.558%2c385.521C374.241%2c381.741 376.718%2c378.359 380.088%2c377.967ZM406.703%2c360.91C408.932%2c360.651 410.91%2c362.468 411.119%2c364.967C411.328%2c367.467 409.691%2c369.703 407.462%2c369.962C405.232%2c370.222 403.254%2c368.405 403.045%2c365.906C402.836%2c363.406 404.474%2c361.169 406.703%2c360.91ZM396.4%2c323.442C398.291%2c323.221 399.969%2c324.763 400.147%2c326.883C400.325%2c329.003 398.935%2c330.901 397.044%2c331.12C395.153%2c331.34 393.475%2c329.799 393.298%2c327.679C393.12%2c325.559 394.51%2c323.661 396.4%2c323.442ZM384.071%2c330.404C385.784%2c330.205 387.304%2c331.602 387.465%2c333.521C387.626%2c335.442 386.366%2c337.161 384.655%2c337.36C382.942%2c337.559 381.422%2c336.162 381.261%2c334.243C381.1%2c332.322 382.359%2c330.603 384.071%2c330.404ZM383.65%2c346.308C384.998%2c346.151 386.194%2c347.25 386.321%2c348.762C386.448%2c350.274 385.457%2c351.627 384.109%2c351.784C382.761%2c351.941 381.564%2c350.841 381.438%2c349.33C381.311%2c347.819 382.302%2c346.465 383.65%2c346.308ZM417.71%2c338.864C419.397%2c338.668 420.894%2c340.043 421.053%2c341.935C421.211%2c343.826 419.971%2c345.52 418.285%2c345.716C416.598%2c345.912 415.101%2c344.536 414.942%2c342.645C414.784%2c340.754 416.024%2c339.059 417.71%2c338.864ZM417.862%2c301.802C421.187%2c301.415 424.136%2c304.126 424.448%2c307.852C424.76%2c311.58 422.317%2c314.917 418.993%2c315.303C415.668%2c315.69 412.719%2c312.98 412.407%2c309.252C412.094%2c305.525 414.537%2c302.188 417.862%2c301.802' style='fill:rgb(0%2c161%2c222)%3b'/%3e %3c/g%3e%3c/svg%3e\";\n  export default img;","import React, { FC, ReactElement } from 'react'\nimport { Avatar, Button, Grid, Typography } from '@material-ui/core'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\nimport Popover from '@material-ui/core/Popover'\nimport { blue } from '@material-ui/core/colors'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    accountPopover: {\n      padding: theme.spacing(2),\n    },\n    item: {\n      padding: 0,\n      marginBottom: theme.spacing(1),\n    },\n    largeAvatar: {\n      backgroundColor: blue[500],\n      width: theme.spacing(10),\n      height: theme.spacing(10),\n    },\n  })\n)\n\ninterface NdexUserInfoPopoverProps {\n  userId: string\n  userImage: string\n  userName: string\n  onLogout: () => void\n  anchorEl: any\n  isOpen: boolean\n  onClose: () => void\n  myAccountURL: string\n}\n\nconst NdexUserInfoPopover: FC<NdexUserInfoPopoverProps> = (\n  props: NdexUserInfoPopoverProps\n): ReactElement => {\n  const classes = useStyles()\n\n  const {\n    userId,\n    userImage,\n    userName,\n    onLogout,\n    anchorEl,\n    isOpen,\n    onClose,\n    myAccountURL,\n  } = props\n\n  const _handleLogout = (): void => {\n    onClose()\n    onLogout()\n  }\n\n  const getInitial = (userName: string): string => {\n    if (userName === undefined || userName === null || userName.length === 0) {\n      return '?'\n    }\n\n    return userName.substring(0, 1).toUpperCase()\n  }\n\n  return (\n    <Popover\n      id=\"account-popper\"\n      classes={{\n        paper: classes.accountPopover,\n      }}\n      onClose={onClose}\n      anchorOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      anchorEl={anchorEl}\n      open={isOpen}\n      disableRestoreFocus={true}\n    >\n      <Grid\n        justifyContent={'center'}\n        alignItems={'center'}\n        container\n        direction=\"column\"\n      >\n        <Grid\n          item\n          className={classes.item}\n          justifyContent={'center'}\n          alignItems={'center'}\n        >\n          <Avatar className={classes.largeAvatar} src={userImage}>\n            {getInitial(userName)}\n          </Avatar>\n        </Grid>\n\n        <Grid item className={classes.item}>\n          <Typography variant={'h6'}>{userName}</Typography>\n        </Grid>\n\n        <Grid item className={classes.item}>\n          <Typography variant={'body2'}>\n            You are logged in as {userId}\n          </Typography>\n        </Grid>\n\n        <Grid item direction=\"row\" container spacing={1}>\n          <Grid item>\n            {myAccountURL && (\n              <Button variant={'outlined'} href={myAccountURL} rel=\"noopener\">\n                Go to My Account\n              </Button>\n            )}\n          </Grid>\n          <Grid item>\n            <Button\n              variant={'outlined'}\n              color={'secondary'}\n              onClick={_handleLogout}\n            >\n              Sign Out\n            </Button>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Popover>\n  )\n}\n\nexport default NdexUserInfoPopover\n","const LOGGED_IN_USER = 'loggedInUser'\n\nconst handleNDExSignOn = (userInfo, onSuccessLogin) => {\n  const loginInfo = { isGoogle: false, loginDetails: userInfo }\n\n  const loggedInUser = {\n    externalId: userInfo.details.externalId,\n    firstName: userInfo.details.firstName,\n    lastName: userInfo.details.lastName,\n    token: userInfo.password,\n    userName: userInfo.id,\n  }\n\n  window.localStorage.setItem(LOGGED_IN_USER, JSON.stringify(loggedInUser))\n\n  onSuccessLogin(loginInfo)\n}\n\nexport { handleNDExSignOn }\n","import React, { useState, useContext } from 'react'\nimport IconButton from '@material-ui/core/IconButton'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\nimport NdexLoginDialog from './NdexLoginDialog'\nimport { NDExAccountContext } from '../NDExAccountContext'\nimport Avatar from '@material-ui/core/Avatar'\nimport NdexUserInfoPopover from './NdexUserInfoPopover'\n\nimport { useGoogleLogin, useGoogleLogout } from 'react-google-login'\nimport { UserValidation, validateLogin } from './validateCredentials'\nimport { handleNDExSignOn } from './handleNDExSignOn'\nimport { getUserByEmail } from '../api/ndex'\nimport { blue } from '@material-ui/core/colors'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    iconButton: {\n      backgroundColor: 'transparent',\n      '&:hover': {\n        backgroundColor: 'transparent',\n      },\n    },\n    iconSmall: {\n      color: '#FFFFFF',\n      backgroundColor: blue[500],\n      height: theme.spacing(3),\n      width: theme.spacing(3),\n    },\n    iconMedium: {\n      color: '#FFFFFF',\n      backgroundColor: blue[500],\n      height: theme.spacing(5),\n      width: theme.spacing(5),\n    },\n    iconLarge: {\n      color: '#FFFFFF',\n      backgroundColor: blue[500],\n      height: theme.spacing(7),\n      width: theme.spacing(7),\n    },\n    logoutIconSmall: {\n      color: blue[500],\n      height: theme.spacing(3),\n      width: theme.spacing(3),\n    },\n    logoutIconMedium: {\n      color: blue[500],\n      height: theme.spacing(5),\n      width: theme.spacing(5),\n    },\n    logoutIconLarge: {\n      color: blue[500],\n      height: theme.spacing(7),\n      width: theme.spacing(7),\n    },\n  })\n)\n\nconst DEFAULT_HANDLER = (loginState) => {\n  // Default callback function for login status change\n  console.warn('Default handler: NDEx login state updated', loginState)\n\n  // Add actual handler here...\n}\n\nconst LOGGED_IN_USER = 'loggedInUser'\n\nconst NDExSignInButton = (props) => {\n  const classes = useStyles()\n\n  const {\n    ndexServerURL,\n    loginInfo,\n    setLoginInfo,\n    googleClientId,\n    userProfile,\n    isUserProfileLoading,\n    getUserProfile,\n  } = useContext(NDExAccountContext)\n\n  const { onLoginStateUpdated, myAccountURL } = props\n\n  let onUpdate = DEFAULT_HANDLER\n  if (onLoginStateUpdated !== null && onLoginStateUpdated !== undefined) {\n    onUpdate = onLoginStateUpdated\n  }\n\n  const [isDialogOpen, setDialogOpen] = useState(false)\n\n  const setDialogState = (dialogState) => {\n    setDialogOpen(dialogState)\n  }\n\n  const [anchorEl, setAnchorEl] = React.useState(null)\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const isPopoverOpen = Boolean(anchorEl)\n\n  const { variant, size } = props\n\n  const [errorMessage, setErrorMessage] = useState('')\n\n  // const [tempGoogleAuth, setTempGoogleAuth] = useState()\n\n  const onLoginSuccess = (event): void => {\n    console.log('Login success', event)\n  }\n\n  const onGoogleLogoutSuccess = (): void => {\n    //console.log(\"Google logged out\");\n  }\n\n  const onLogout = (): void => {\n    if (loginInfo.isGoogle) {\n      signOut()\n    } else {\n      window.localStorage.removeItem(LOGGED_IN_USER)\n    }\n    setLoginInfo(null)\n    onLoginStateUpdated(null)\n    setDialogState(false)\n  }\n\n  const onGoogleSuccess = (res) => {\n    console.log('onGoogleSuccess called')\n\n    const newNdexCredential = {\n      loaded: true,\n      isLogin: true,\n      isGoogle: true,\n      oauth: res,\n    }\n\n    getUserByEmail(\n      ndexServerURL,\n      'v2',\n      newNdexCredential.oauth.profileObj.email\n    )\n      .then(() => {\n        onGoogleAgreement(res)\n      })\n      .catch((error) => {\n        // if (isOpen) {\n        // setTempGoogleAuth(res)\n        // setContentMode(content_mode.SIGN_TERMS_AND_CONDITIONS)\n        // } else {\n        setLoginInfo(null)\n        getUserProfile(null)\n        onLoginStateUpdated(null)\n        console.warn('Get by email failed:', error)\n        // }\n      })\n  }\n\n  const onGoogleAgreement = (res) => {\n    const newLoginInfo = { isGoogle: true, loginDetails: res }\n\n    refreshTokenSetup(res)\n    onSuccessLogin(newLoginInfo)\n  }\n\n  const refreshTokenSetup = (res) => {\n    let refreshTiming = (res.expires_in || 3600 - 5 * 60) * 1000\n    console.log('Will refresh auth token in ' + refreshTiming)\n\n    const refreshToken = async () => {\n      const newAuthRes = await res.reloadAuthResponse()\n      refreshTiming = (newAuthRes.expires_in || 3600 - 5 * 60) * 1000\n      console.log('newAuthRes: ', newAuthRes)\n      console.log('Will refresh auth token in ' + refreshTiming)\n      onTokenRefresh(res, newAuthRes)\n      setTimeout(refreshToken, refreshTiming)\n    }\n\n    setTimeout(refreshToken, refreshTiming)\n  }\n\n  const onTokenRefresh = (res, authResponse) => {\n    const loginDetails = res\n    console.log('Login Details', loginDetails)\n\n    let refreshedLoginDetails = Object.assign({}, loginDetails)\n\n    refreshedLoginDetails['id_token'] = authResponse.id_token\n\n    console.log('Refreshed Login Details', refreshedLoginDetails)\n\n    const loginInfo = { isGoogle: true, loginDetails: refreshedLoginDetails }\n\n    setLoginInfo(loginInfo)\n    onLoginStateUpdated(loginInfo)\n  }\n\n  const onSuccessLogin = (loginInfo) => {\n    setLoginInfo(loginInfo)\n    console.log('onSuccess loginInfo: ', loginInfo)\n    if (loginInfo.isGoogle) {\n      getUserProfile(loginInfo.loginDetails.profileObj.email)\n    } else {\n      getUserProfile(loginInfo.loginDetails.details.emailAddress)\n    }\n    onLoginStateUpdated(loginInfo)\n    setDialogState(false)\n  }\n\n  const handleError = (error) => {\n    console.log('Error:', error)\n    setErrorMessage(error)\n  }\n\n  const onError = (error: any) => {\n    props.handleError(error)\n    // setIsGoogle({ googleSSO })\n  }\n\n  // Unique ID for each NDEx server\n  let googleSSO = true\n  if (googleClientId === undefined || googleClientId === null) {\n    googleSSO = false\n  }\n\n  const onFailure = (err): void => {\n    const message =\n      (err.details &&\n        err.details.startsWith(\n          'Not a valid origin for the client: http://localhost:'\n        )) ||\n      (err.error && err['error']) ||\n      JSON.stringify(err)\n    props.onError(message, false)\n  }\n\n  const onAutoLoadFinished = (signedIn) => {\n    const loggedInUserString = window.localStorage.getItem('loggedInUser')\n\n    if (loggedInUserString) {\n      const loggedInUser = JSON.parse(loggedInUserString)\n\n      validateLogin(\n        loggedInUser.userName,\n        loggedInUser.token,\n        ndexServerURL\n      ).then((data: UserValidation) => {\n        if (data.error !== null) {\n          setErrorMessage(data.error.message)\n          setLoginInfo(null)\n          onLoginStateUpdated(null)\n        } else {\n          handleNDExSignOn(\n            {\n              id: loggedInUser.userName,\n              password: loggedInUser.token,\n              ndexServerURL,\n              fullName: data.userData.firstName + ' ' + data.userData.lastName,\n              image: data.userData.image,\n              details: data.userData,\n            },\n            onSuccessLogin\n          )\n        }\n      })\n    } else {\n      // Check current login status\n      if (!signedIn) {\n        setLoginInfo(null)\n        onLoginStateUpdated(null)\n      }\n    }\n  }\n\n  const { signIn } = useGoogleLogin({\n    clientId: googleClientId,\n    scope: 'profile email',\n    onSuccess: onGoogleSuccess,\n    onFailure: onFailure,\n    onAutoLoadFinished: onAutoLoadFinished,\n    isSignedIn: true,\n    fetchBasicProfile: true,\n  })\n\n  const { signOut } = useGoogleLogout({\n    clientId: googleClientId,\n    onLogoutSuccess: onGoogleLogoutSuccess,\n    // @ts-ignore\n    onFailure: onFailure,\n  })\n\n  const iconClassName = (size: string) => {\n    switch (size) {\n      case 'small':\n        return classes.iconSmall\n      case 'large':\n        return classes.iconLarge\n      default:\n        return classes.iconMedium\n    }\n  }\n\n  const getLogoutIconClass = (size: string) => {\n    switch (size) {\n      case 'small':\n        return classes.logoutIconSmall\n      case 'large':\n        return classes.logoutIconLarge\n      default:\n        return classes.logoutIconMedium\n    }\n  }\n\n  const getIcon = () => {\n    return loginInfo && userProfile && !isUserProfileLoading ? (\n      <Avatar className={iconClassName(size)} src={userProfile.image}>\n        {userProfile.image ? '' : userProfile.userName.trim().substring(0, 1)}\n      </Avatar>\n    ) : (\n      <AccountCircleIcon className={getLogoutIconClass(size)} />\n    )\n  }\n\n  const getTitle = () => {\n    return loginInfo && userProfile && !isUserProfileLoading\n      ? 'Signed in as ' + userProfile.userName\n      : 'Sign in to NDEx'\n  }\n\n  const userId =\n    loginInfo && userProfile && !isUserProfileLoading\n      ? userProfile.userName\n      : '(Not logged in)'\n\n  const userName =\n    loginInfo && userProfile && !isUserProfileLoading\n      ? userProfile.firstName + ' ' + userProfile.lastName\n      : ''\n  const userImage =\n    loginInfo && userProfile && !isUserProfileLoading\n      ? userProfile.image\n      : undefined\n\n  return (\n    <React.Fragment>\n      <Tooltip disableFocusListener title={getTitle()} placement=\"bottom\">\n        <IconButton\n          className={classes.iconButton}\n          variant={variant}\n          onClick={(event) => {\n            if (loginInfo) {\n              setAnchorEl(event.currentTarget)\n            } else {\n              setDialogState(true)\n            }\n          }}\n          size={size}\n        >\n          {getIcon()}\n        </IconButton>\n      </Tooltip>\n      <NdexLoginDialog\n        setDialogState={setDialogState}\n        isOpen={isDialogOpen}\n        ndexServer={ndexServerURL}\n        onLoginStateUpdated={onUpdate}\n        myAccountURL={myAccountURL}\n        onLoginSuccess={onLoginSuccess}\n        onLogout={onLogout}\n        handleNDExSignOn={handleNDExSignOn}\n        onSuccessLogin={onSuccessLogin}\n        onGoogleSuccess={onGoogleSuccess}\n        onError={onError}\n        handleError={handleError}\n        errorMessage={errorMessage}\n        signIn={signIn}\n        googleSSO={googleSSO}\n        onGoogleAgreement={onGoogleAgreement}\n      />\n      <NdexUserInfoPopover\n        userName={userName}\n        userId={userId}\n        userImage={userImage}\n        isOpen={isPopoverOpen}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        myAccountURL={myAccountURL}\n        onLogout={onLogout}\n      />\n    </React.Fragment>\n  )\n}\n\nexport default NDExSignInButton\n","import React, { useContext } from 'react'\nimport Button from '@material-ui/core/Button'\nimport { withStyles } from '@material-ui/core'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport SaveIcon from '@material-ui/icons/Save'\nimport { NDExAccountContext } from '../NDExAccountContext'\nimport ndexClient from 'ndex-client'\n\nconst styles = () => ({\n  button: {\n    color: '#4DA1DE',\n    borderColor: '#4DA1DE',\n    '&:active': {\n      borderColor: '#4DA1DE',\n    },\n    'line-height': 0,\n  },\n  iconSmall: {\n    height: '22px',\n  },\n  iconMedium: {\n    height: '24px',\n  },\n  iconLarge: {\n    height: '26px',\n  },\n  buttonIcon: {\n    fontSizeSmall: '22px',\n    fontSizeLarge: '26px',\n  },\n  toolTipSpan: {},\n})\n\nconst SaveToNDExButton = (props) => {\n  const { classes } = props\n\n  const { ndexServerURL, loginInfo } = useContext(NDExAccountContext)\n\n  const {\n    disabled,\n    tooltip,\n    onSuccess,\n    onFailure,\n    variant,\n    fetchCX,\n    size,\n  } = props\n\n  const onClick = () => {\n    const ndex = new ndexClient.NDEx(ndexServerURL + '/v2')\n    if (loginInfo) {\n      if (loginInfo.isGoogle) {\n        ndex.setAuthToken(loginInfo.loginDetails.tokenId)\n      } else {\n        ndex.setBasicAuth(\n          loginInfo.loginDetails.id,\n          loginInfo.loginDetails.password\n        )\n      }\n    }\n    fetchCX().then(\n      (cx) => {\n        ndex\n          .createNetworkFromRawCX(cx)\n          .then((data) => {\n            typeof onSuccess !== 'undefined' && onSuccess(data)\n          })\n          .catch((error) => {\n            typeof onFailure !== 'undefined' && onFailure(error)\n          })\n      },\n      (error) => {\n        typeof onFailure !== 'undefined' && onFailure(error)\n      }\n    )\n  }\n\n  const iconClassName = (size) => {\n    switch (size) {\n      case 'small':\n        return classes.iconSmall\n      case 'large':\n        return classes.iconLarge\n      default:\n        return classes.iconMedium\n    }\n  }\n\n  return (\n    <React.Fragment>\n      <Tooltip disableFocusListener title={tooltip ? tooltip : 'Save to NDEx'}>\n        <span>\n          <Button //Do not add any spaces between the span and button tags. Tooltip interprets these as an array of elements instead of nested elements and will throw an exception.\n            className={classes.button}\n            variant={variant}\n            onClick={onClick}\n            disabled={disabled || !loginInfo}\n            size={size}\n          >\n            <SaveIcon className={iconClassName(size)} />\n          </Button>\n        </span>\n      </Tooltip>\n    </React.Fragment>\n  )\n}\n\nexport default withStyles(styles)(SaveToNDExButton)\n","import { ScatterplotLayer } from '@deck.gl/layers';\nconst DEFAULTS = {\n    highlightColor: [255, 0, 0],\n    radiusScale: 0.2,\n    radiusMinPixels: 1,\n    radiusMaxPixels: 1500\n};\n/**\n * Create new node layer\n *\n * @param nodeViewMap - Key-value pair for node views.  Key is ID of view\n */\nconst createNodeLayer = (nodeViews, pickable = true, selectedNodes) => {\n    return new ScatterplotLayer({\n        id: 'node-layer',\n        data: nodeViews,\n        getPosition: (d) => [d.position[0], d.position[1]],\n        getFillColor: (d) => selectedNodes.has(d.id) ? [255, 255, 0, 255] : d.color,\n        getRadius: (d) => (d.size ? d.size : 3),\n        pickable,\n        updateTriggers: {\n            getFillColor: selectedNodes\n        },\n        autoHighlight: true,\n        highlightColor: DEFAULTS.highlightColor,\n        radiusScale: DEFAULTS.radiusScale,\n        radiusMinPixels: DEFAULTS.radiusMinPixels,\n        radiusMaxPixels: DEFAULTS.radiusMaxPixels\n    });\n};\nexport { createNodeLayer };\n","import { LineLayer, ArcLayer } from '@deck.gl/layers';\nconst create2DLayer = (edgeViews, nodeViewMap, showEdges, pickable, selectedEdges, updated) => new LineLayer({\n    id: 'edge-layer',\n    data: edgeViews,\n    getSourcePosition: (e) => {\n        const s = nodeViewMap.get(e.s);\n        if (!s) {\n            return [0, 0, 0];\n        }\n        return [s.position[0], s.position[1]];\n    },\n    getTargetPosition: (e) => {\n        const t = nodeViewMap.get(e.t);\n        if (!t) {\n            return [0, 0, 0];\n        }\n        return [t.position[0], t.position[1]];\n    },\n    getColor: (e) => (selectedEdges.has(e.id) ? [255, 255, 0, 225] : e.color),\n    getWidth: (e) => (selectedEdges.has(e.id) ? e.width * 1.3 : e.width),\n    updateTriggers: {\n        getColor: updated,\n        getWidth: updated\n    },\n    visible: showEdges,\n    pickable,\n    widthScale: 0.16,\n    widthMinPixels: 1,\n    widthMaxPixels: 10,\n    autoHighlight: true,\n    highlightColor: [255, 0, 0]\n});\nconst create3DLayer = (edgeViews, nodeViewMap, showEdges, pickable) => new ArcLayer({\n    id: `edge-layer-3d`,\n    data: edgeViews,\n    getSourcePosition: (e) => {\n        const s = nodeViewMap.get(e.s);\n        if (!s) {\n            return [0, 0, 0];\n        }\n        return [s.position[0], s.position[1]];\n    },\n    getTargetPosition: (e) => {\n        const t = nodeViewMap.get(e.t);\n        if (!t) {\n            return [0, 0, 0];\n        }\n        return [t.position[0], t.position[1]];\n    },\n    getSourceColor: (e) => e.color,\n    getTargetColor: (e) => e.color,\n    strokeWidth: 0.1,\n    visible: showEdges,\n    pickable,\n    widthScale: 0.1,\n    autoHighlight: true,\n    highlightColor: [0, 255, 0]\n});\nconst createEdgeLayers = (edgeViews, nodeViewMap, render3d, showEdges, pickable, depth, selectedEdges, test) => {\n    if (render3d) {\n        const layers3D = [create3DLayer(edgeViews[0], nodeViewMap, showEdges, pickable)];\n        return layers3D;\n    }\n    else {\n        const layers = [];\n        edgeViews.forEach((viewGroup) => {\n            const newLayer = create2DLayer(viewGroup, nodeViewMap, showEdges, pickable, selectedEdges, test);\n            layers.push(newLayer);\n        });\n        return layers;\n    }\n};\nconst createMultipleLayers = (edgeViews) => {\n    let idx = edgeViews.length;\n    const layers = [];\n    while (idx--) {\n        const ev = edgeViews[idx];\n        const layerId = ev.layer;\n        if (layerId === undefined) {\n            let defLayer = layers[0];\n            if (defLayer === undefined) {\n                defLayer = [ev];\n                layers[0] = defLayer;\n            }\n            else {\n                defLayer.push(ev);\n            }\n        }\n        else {\n            let targetLayer = layers[layerId.toString()];\n            if (targetLayer === undefined) {\n                targetLayer = [ev];\n                layers[layerId.toString()] = targetLayer;\n            }\n            else {\n                targetLayer.push(ev);\n            }\n        }\n    }\n    return layers;\n};\nexport { createEdgeLayers, createMultipleLayers };\n","import { CompositeLayer } from '@deck.gl/core';\nimport { createNodeLayer } from './NodeLayer';\nimport { createEdgeLayers } from './EdgeLayer';\nimport { createLabelLayer } from './LabelLayer';\nimport { createSelectionLayer } from './SelectionLayer';\nclass GraphLayer extends CompositeLayer {\n    constructor(props) {\n        super(props);\n    }\n    onClick(info) {\n        return info;\n    }\n    getPickingInfo(pickingInfo) {\n        const currentProps = this['props'];\n        const { mode, info } = pickingInfo;\n        if (currentProps.disableClick) {\n            return info;\n        }\n        if (mode === 'query' && currentProps.multipleSelection === false) {\n            // @ts-ignore\n            const { onNodeClick, onEdgeClick } = currentProps.eventHandlers;\n            const isNode = info.object.position ? true : false;\n            console.log('CLK event:', info, mode);\n            if (isNode) {\n                onNodeClick(info.object, info.x, info.y);\n                info.object.selected = true;\n            }\n            else {\n                onEdgeClick(info.object, info.x, info.y);\n                info.object.selected = true;\n            }\n        }\n        else {\n            // // @ts-ignore\n            // this.props.eventHandlers.onNodeMouseover(info)\n        }\n        return info;\n    }\n    renderLayers() {\n        const { nodeViews, nodeViewMap, edgeViews, showEdges, showLabels, edgeLayerDepth, render3d, nodePickable, edgePickable, bounds, selectedNodes, selectedEdges, updated } = this['props'];\n        // Nodes\n        const nodeLayer = createNodeLayer(nodeViews, nodePickable, selectedNodes);\n        // Node labels\n        const nodeLabelLayer = createLabelLayer(nodeViews, showLabels);\n        // Selection box\n        const selectionLayer = createSelectionLayer(bounds);\n        // Edges in multiple layers\n        const edgeLayers = createEdgeLayers(edgeViews, nodeViewMap, render3d, showEdges, edgePickable, edgeLayerDepth, selectedEdges, updated);\n        return [...edgeLayers, nodeLayer, nodeLabelLayer, selectionLayer];\n        // return [nodeLayer, nodeLabelLayer, selectionLayer]\n    }\n}\nexport default GraphLayer;\n","import { TextLayer } from '@deck.gl/layers';\nconst createLabelLayer = (nodeViewMap, showLabels) => {\n    const nodeViews = Array.from(nodeViewMap.values());\n    return new TextLayer({\n        id: 'text-layer',\n        data: nodeViews,\n        pickable: false,\n        getPosition: (d) => [d.position[0], d.position[1]],\n        getText: (d) => d.label,\n        getSize: (d) => d.labelFontSize,\n        getColor: (d) => d.labelColor ? d.labelColor : [0, 0, 0],\n        getAngle: 0,\n        sizeScale: 1,\n        sizeMinPixels: 15,\n        sizeMaxPixels: 50,\n        getTextAnchor: 'middle',\n        getAlignmentBaseline: 'center',\n        visible: showLabels\n    });\n};\nexport { createLabelLayer };\n","import { PolygonLayer } from '@deck.gl/layers';\nconst getBounds = (bound) => {\n    if (bound === null) {\n        return [\n            [0, 0],\n            [0, 0],\n            [0, 0],\n            [0, 0]\n        ];\n    }\n    else {\n        return [\n            [bound[0], bound[1]],\n            [bound[0], bound[3]],\n            [bound[2], bound[3]],\n            [bound[2], bound[1]]\n        ];\n    }\n};\n/**\n *\n * Layer to draw rectangle for selection.\n *\n * @param points\n *\n * @returns\n */\nconst createSelectionLayer = (points) => {\n    return new PolygonLayer({\n        id: 'polygon-layer',\n        data: [\n            {\n                bound: getBounds(points)\n            }\n        ],\n        pickable: false,\n        stroked: false,\n        filled: true,\n        wireframe: false,\n        lineWidthMinPixels: 1,\n        getPolygon: (d) => d.bound,\n        getElevation: 0,\n        getFillColor: [255, 249, 196, 100],\n        getLineColor: [180, 180, 180],\n    });\n};\nexport { createSelectionLayer };\n","/**\n * Proxy object to accept commands for LGR\n */\nclass CommandProxy {\n    constructor(fitFunction, zoomFunction) {\n        this.fit = () => {\n            this._fitFunction();\n        };\n        this.zoomIn = () => {\n            this._zoomFunction(0.1);\n        };\n        this.zoomOut = () => {\n            this._zoomFunction(-0.1);\n        };\n        this._fitFunction = fitFunction;\n        this._zoomFunction = zoomFunction;\n    }\n}\nexport default CommandProxy;\n","import Flatbush from 'flatbush';\nexport const getArea = (startX, startY, endX, endY) => {\n    const positions = getPoints(startX, startY, endX, endY);\n    const xLeftTop = positions[0];\n    const yLeftTop = positions[1];\n    const xRightBottom = positions[2];\n    const yRightBottom = positions[3];\n    const width = Math.abs(xRightBottom - xLeftTop);\n    const height = Math.abs(yRightBottom - yLeftTop);\n    const area = { x: xLeftTop, y: yLeftTop, width, height };\n    return area;\n};\nconst getPoints = (startX, startY, endX, endY) => {\n    if (startX < endX && startY < endY) {\n        console.log('!!!base select:', startX, startY, endX, endY);\n        return [startX, startY, endX, endY];\n    }\n    else if (startX < endX && startY > endY) {\n        console.log('!!!base select case2:', startX, startY, endX, endY);\n        return [startX, endY, endX, startY];\n    }\n    else if (startX > endX && startY > endY) {\n        console.log('!!!base select case3:', startX, startY, endX, endY);\n        return [endX, endY, startX, startY];\n    }\n    else {\n        console.log('!!!base select case4:', startX, startY, endX, endY);\n        return [endX, startY, startX, endY];\n    }\n};\nexport const initSpatialIndex = (graphView, nodeViewMap) => {\n    const { nodeViews, edgeViews } = graphView;\n    const nodeViewList = [...nodeViews.values()];\n    const edgeViewList = [...edgeViews.values()];\n    const nodeIndex = initNodeIndex(nodeViewList);\n    const edgeIndices = initEdgeIndex(nodeViewMap, edgeViewList);\n    const indices = {\n        nodeIndex,\n        edgeSourceIndex: edgeIndices[0],\n        edgeTargetIndex: edgeIndices[1]\n    };\n    return indices;\n};\nconst initNodeIndex = (nodeViews) => {\n    const numNodes = nodeViews.length;\n    // Spatial Index\n    const index = new Flatbush(numNodes);\n    for (let i = 0; i < numNodes; i++) {\n        const nv = nodeViews[i];\n        const x = nv.position[0];\n        const y = nv.position[1];\n        // const size: number = nv.size\n        // const delta: number = size / 2\n        index.add(x, y, x, y);\n        // index.add(x - delta, y - delta, x + delta, y + delta)\n    }\n    index.finish();\n    return index;\n};\nconst initEdgeIndex = (nodeViewMap, edgeViews) => {\n    const numEdges = edgeViews.length;\n    // Spatial Index\n    const sIndex = new Flatbush(numEdges);\n    const tIndex = new Flatbush(numEdges);\n    for (let i = 0; i < numEdges; i++) {\n        const ev = edgeViews[i];\n        const sourceNodeId = ev.s;\n        const targetNodeId = ev.s;\n        const sourceNode = nodeViewMap.get(sourceNodeId);\n        const targetNode = nodeViewMap.get(targetNodeId);\n        const sx = sourceNode.position[0];\n        const sy = sourceNode.position[1];\n        const tx = targetNode.position[0];\n        const ty = targetNode.position[1];\n        sIndex.add(sx, sy, sx, sy);\n        tIndex.add(tx, ty, tx, ty);\n    }\n    sIndex.finish();\n    tIndex.finish();\n    return [sIndex, tIndex];\n};\n","export const getBounds = (nodeViews) => {\n    let minX = Number.POSITIVE_INFINITY;\n    let minY = Number.POSITIVE_INFINITY;\n    let maxX = Number.NEGATIVE_INFINITY;\n    let maxY = Number.NEGATIVE_INFINITY;\n    let idx = nodeViews.length;\n    while (idx--) {\n        const nv = nodeViews[idx];\n        const x = nv.position[0];\n        const y = nv.position[1];\n        if (x <= minX) {\n            minX = x;\n        }\n        if (y <= minY) {\n            minY = y;\n        }\n        if (x >= maxX) {\n            maxX = x;\n        }\n        if (y >= maxY) {\n            maxY = y;\n        }\n    }\n    const newBounds = {\n        minX,\n        minY,\n        maxX,\n        maxY\n    };\n    return newBounds;\n};\n","export const DEF_EVENT_HANDLER = {\n    onNodeClick: (event, x, y) => {\n        console.log('* Default click handler: node', event, x, y);\n    },\n    onEdgeClick: (event, x, y) => {\n        console.log('* Default click handler: edge', event, x, y);\n    },\n    onNodeMouseover: (event) => {\n        // console.log('* Mouse over: node', event)\n    },\n    onEdgeMouseover: (event) => {\n        // console.log('* Mouse over: edge', event)\n    },\n    onBackgroundClick: (layer, object) => {\n        console.log('* BG click event');\n    },\n    onSelect: (nodes, edges) => {\n        console.log('* Selected', nodes, edges);\n    }\n};\n","import React, { useState, useEffect, useRef } from 'react';\nimport DeckGL from '@deck.gl/react';\nimport { OrthographicView, OrbitView, LinearInterpolator } from '@deck.gl/core';\nimport GraphLayer from '../../layers/GraphLayer';\nimport { createMultipleLayers } from '../../layers/EdgeLayer';\nimport CommandProxy from './CommandProxy';\nimport { getArea, initSpatialIndex } from '../../utils/selection-util';\nimport { getBounds } from '../../utils/bounds-util';\nimport { DEF_EVENT_HANDLER } from './EventHandlers';\n// Background color when it is not available\nconst DEF_BG_COLOR = '#555555';\n// Padding to be used when executing fit function\nconst PADDING = 50;\n// Style for the area for network view\nconst baseStyle = {\n    backgroundColor: DEF_BG_COLOR,\n    position: 'relative'\n};\nconst DUMMY_PROXY = (proxy) => {\n    console.log('Dummy proxy function called:', proxy);\n};\n/**\n * Functional React component for large graph rendering using Deck.gl\n */\nconst LargeGraphRenderer = ({ graphView, render3d, onNodeClick, onEdgeClick, onBackgroundClick, onNodeMouseover, onEdgeMouseover, onSelect, backgroundColor = DEF_BG_COLOR, pickable = true, setDeckglReference = (deckRef) => {\n    console.log('Deck.gl instance', deckRef);\n}, commandProxy = DUMMY_PROXY }) => {\n    // For using low-level API\n    const deck = useRef(null);\n    const [deckRef, setDeckRef] = useState(null);\n    const [bounds, setBounds] = useState({ minX: 0, minY: 0, maxX: 0, maxY: 0 });\n    const [initialViewState2, setInitialViewState2] = useState({\n        target: [6000, 0, 0],\n        zoom: -3.5,\n        minZoom: -8,\n        maxZoom: 8,\n        transitionInterpolator: new LinearInterpolator({\n            transitionProps: ['target', 'zoom']\n        })\n    });\n    const fitContent2 = () => {\n        const deckGlInstance = deckRef.deck;\n        const { width, height } = deckGlInstance;\n        const networkWidth = bounds.maxX - bounds.minX;\n        const networkHeight = bounds.maxY - bounds.minY;\n        const wRatio = (networkWidth + PADDING) / width;\n        const hRatio = (networkHeight + PADDING) / height;\n        // Case 1: width is larger than height of network --> Fit to width\n        let scalingFactor = 0;\n        if (networkWidth >= networkHeight) {\n            scalingFactor = -Math.log2(wRatio);\n        }\n        else {\n            // Case 2: height is larger than width --> fit to height\n            scalingFactor = -Math.log2(hRatio);\n        }\n        const deltaX = (Math.abs(bounds.maxX) - Math.abs(bounds.minX)) / 2;\n        const deltaY = (Math.abs(bounds.maxY) - Math.abs(bounds.minY)) / 2;\n        setInitialViewState2({\n            target: [deltaX, deltaY, 0],\n            zoom: scalingFactor,\n            minZoom: -8,\n            maxZoom: 8,\n            transitionInterpolator: new LinearInterpolator({\n                transitionProps: ['target', 'zoom']\n            })\n        });\n    };\n    const _handleZoom = (increment) => {\n        const deckGlInstance = deckRef.deck;\n        const { viewState } = deckGlInstance;\n        const newZoomLevel = viewState.zoom + increment;\n        const newTarget = viewState.target;\n        viewState.zoom = newZoomLevel;\n        // if (deckRef.viewports[0] !== undefined) {\n        //   const newBounds = deckRef.viewports[0].getBounds()\n        //   console.log('Zoom2::', newBounds)\n        //   newTarget = [-(newBounds[2] - newBounds[0]) / 2, -(newBounds[3] - newBounds[1]) / 2, 0]\n        // }\n        setInitialViewState2({\n            target: newTarget,\n            zoom: newZoomLevel,\n            minZoom: -8,\n            maxZoom: 8,\n            transitionInterpolator: new LinearInterpolator({\n                transitionProps: ['target', 'zoom']\n            })\n        });\n    };\n    const proxy = new CommandProxy(fitContent2, _handleZoom);\n    const handleLoad = (deckRef, graphView) => {\n        const { nodeViews } = graphView;\n        const nodeViewList = [...nodeViews.values()];\n        const bounds = getBounds(nodeViewList);\n        setBounds(bounds);\n        fitContent2();\n        commandProxy(proxy);\n    };\n    const handleResize = () => {\n        if (bounds !== null) {\n            const bounds = getBounds(nodeViewList);\n            setBounds(bounds);\n        }\n    };\n    baseStyle.backgroundColor = backgroundColor;\n    const [disableClick, setDisableClick] = useState(false);\n    //\n    const [dataUpdated, setDataUpdated] = useState(false);\n    const [selectedNodes, setSelectedNodes] = useState(new Set());\n    const [selectedEdges, setSelectedEdges] = useState(new Set());\n    // For performance, show/hide edges/labels dynamically\n    const [showEdges, setShowEdges] = useState(true);\n    const [showLabels, setShowLabels] = useState(false);\n    const [edgeLayerDepth, setEdgeLayerDepth] = useState(1);\n    const [selectionStart, setSelectionStart] = useState([0, 0]);\n    const [selectionPoint, setSelectionPoint] = useState([0, 0]);\n    const [selectionBounds, setSelectionBounds] = useState(null);\n    // const [isBoxSelection, setIsBoxSelection] = useState<boolean>(false)\n    const [isShiftDown, setIsShiftDown] = useState(false);\n    const emptyLayers = [];\n    const [edgeLayerGroups, setEdgeLayerGroups] = useState(emptyLayers);\n    const [spatialIndex, setSpatialIndex] = useState(null);\n    const [edgeSourceIndex, setEdgeSourceIndex] = useState(null);\n    const [edgeTargetIndex, setEdgeTargetIndex] = useState(null);\n    useEffect(() => {\n        const deckGlRef = deck.current;\n        if (deckGlRef !== null && deckGlRef !== undefined) {\n            setDeckRef(deckGlRef);\n        }\n    }, [deck]);\n    // Executed once after initialization\n    useEffect(() => {\n        // Create layer groups here.\n        const { edgeViews } = graphView;\n        const edgeViewList = edgeViews === undefined ? [] : edgeViews.values();\n        const eLayers = createMultipleLayers([...edgeViewList]);\n        setEdgeLayerGroups(eLayers);\n        // Watch keyup event for selection\n        addEventListener('keydown', _handleKeyDown);\n        addEventListener('keyup', _handleKeyUp);\n    }, []);\n    const _handleViewStateChange = (state) => {\n        const { viewState, interactionState } = state;\n        const { zoom } = viewState;\n        const { isZooming, isPanning } = interactionState;\n        if (zoom > 1) {\n            setShowLabels(true);\n        }\n        else {\n            setTimeout(() => {\n                if (showLabels) {\n                    setShowLabels(false);\n                }\n            }, 100);\n        }\n        if (zoom > 1.5 || zoom < -2) {\n            setEdgeLayerDepth(2);\n            // setPickableLocal(false)\n        }\n        else {\n            setEdgeLayerDepth(1);\n            // setPickableLocal(true)\n        }\n        if (isZooming || isPanning) {\n            setShowEdges(false);\n            setTimeout(() => {\n                if (showEdges !== false) {\n                    setShowEdges(true);\n                }\n            }, 300);\n        }\n    };\n    const eventHandlers = {\n        onNodeClick: onNodeClick === undefined ? DEF_EVENT_HANDLER.onNodeClick : onNodeClick,\n        onEdgeClick: onEdgeClick === undefined ? DEF_EVENT_HANDLER.onEdgeClick : onEdgeClick,\n        onBackgroundClick: onBackgroundClick === undefined ? DEF_EVENT_HANDLER.onBackgroundClick : onBackgroundClick,\n        onNodeMouseover: onNodeMouseover === undefined ? DEF_EVENT_HANDLER.onNodeMouseover : onNodeMouseover,\n        onEdgeMouseover: onEdgeMouseover === undefined ? DEF_EVENT_HANDLER.onEdgeMouseover : onEdgeMouseover,\n        onSelect: onSelect === undefined ? DEF_EVENT_HANDLER.onSelect : onSelect\n    };\n    const { nodeViews } = graphView;\n    const nodeViewList = [...nodeViews.values()];\n    const layerProps = {\n        nodeViews: nodeViewList,\n        nodeViewMap: nodeViews,\n        edgeViews: edgeLayerGroups,\n        showEdges,\n        showLabels,\n        edgeLayerDepth,\n        render3d: render3d === undefined ? false : render3d,\n        eventHandlers,\n        nodePickable: pickable,\n        edgePickable: pickable,\n        bounds: selectionBounds,\n        multipleSelection: isShiftDown,\n        selectedNodes: selectedNodes,\n        selectedEdges: selectedEdges,\n        updated: dataUpdated,\n        disableClick\n    };\n    const layers = [new GraphLayer(layerProps)];\n    let view = new OrthographicView();\n    if (render3d) {\n        view = new OrbitView();\n    }\n    const _handleClick = (layer, object) => {\n        const bgHandler = eventHandlers.onBackgroundClick;\n        if (bgHandler !== undefined) {\n            bgHandler(layer, object);\n        }\n    };\n    const _handleKeyDown = (event) => {\n        console.log('Key DOWN 3', event);\n        if (event.shiftKey || event.metaKey) {\n            setIsShiftDown(true);\n        }\n    };\n    const _handleKeyUp = (event) => {\n        console.log('Key UP 2', event);\n        if (event.shiftKey || event.metaKey) {\n            setIsShiftDown(false);\n        }\n    };\n    return (React.createElement(DeckGL, { ref: deck, width: \"100%\", height: \"100%\", style: baseStyle, initialViewState: initialViewState2, controller: true, views: view, layers: layers, onDragStart: (info) => {\n            setDisableClick(true);\n            if (!isShiftDown) {\n                return;\n            }\n            const startPoint = info.coordinate;\n            setSelectionStart(startPoint);\n            setSelectionPoint([info.x, info.y]);\n        }, onDrag: (info, event) => {\n            if (!isShiftDown) {\n                return;\n            }\n            const endPoint = info.coordinate;\n            if (selectionStart === undefined ||\n                selectionStart === null ||\n                endPoint === undefined ||\n                endPoint === undefined) {\n                return;\n            }\n            const selectedBound = [\n                selectionStart[0],\n                selectionStart[1],\n                endPoint[0],\n                endPoint[1]\n            ];\n            setSelectionBounds(selectedBound);\n        }, onDragEnd: (info) => {\n            setDisableClick(false);\n            if (!isShiftDown) {\n                return;\n            }\n            const x1 = selectionPoint[0];\n            const y1 = selectionPoint[1];\n            const x2 = info.x;\n            const y2 = info.y;\n            const area = getArea(x1, y1, x2, y2);\n            const { x, y, width, height } = area;\n            const { viewport } = info;\n            const { nodeViews, edgeViews } = graphView;\n            const nvList = [...nodeViews.values()];\n            const evList = [...edgeViews.values()];\n            const p1 = viewport.unproject([x, y]);\n            const p2 = viewport.unproject([x + width, y + height]);\n            let result = spatialIndex.search(p1[0], p1[1], p2[0], p2[1]).map((i) => nvList[i]);\n            const edgeS = edgeSourceIndex.search(p1[0], p1[1], p2[0], p2[1]).map((i) => evList[i]);\n            const edgeT = edgeTargetIndex.search(p1[0], p1[1], p2[0], p2[1]).map((i) => evList[i]);\n            const nodeIds = new Set(result.map((node) => node.id));\n            const allEdges = [...edgeS, ...edgeT];\n            const selectedEdges = new Set();\n            allEdges.forEach((e) => {\n                if (nodeIds.has(e.s) && nodeIds.has(e.t)) {\n                    selectedEdges.add(e);\n                }\n            });\n            result = [...result, ...selectedEdges];\n            console.log('nodesIN5===', nodeIds, allEdges, result, info);\n            // const newSelection = deckRef.pickObjects({x, y, width, height})\n            // let selectedLen = newSelection.length\n            let selectedLen = result.length;\n            // console.log('---------->>>>End Selection: end len', selectedLen, x2, y2, area)\n            const selectedN = new Set();\n            const selectedE = new Set();\n            const nId = new Set();\n            const eId = new Set();\n            while (selectedLen--) {\n                const item = result[selectedLen];\n                if (item.position !== undefined) {\n                    selectedN.add(item);\n                    nId.add(item.id);\n                }\n                else {\n                    selectedE.add(item);\n                    eId.add(item.id);\n                }\n            }\n            const nvArray = [...selectedN];\n            const evArray = [...selectedE];\n            eventHandlers.onSelect(nvArray, evArray);\n            setSelectedNodes(nId);\n            setSelectedEdges(eId);\n            setSelectionBounds(null);\n            setIsShiftDown(false);\n            // Set dirty flag\n            setDataUpdated(!dataUpdated);\n        }, onViewStateChange: (state) => {\n            _handleViewStateChange(state);\n        }, onClick: (layer, object) => {\n            _handleClick(layer, object);\n            setShowLabels(false);\n            setSelectionBounds(null);\n            setSelectedNodes(new Set());\n            setSelectedEdges(new Set());\n            // Toggle flag to clear selection in the view\n            setDataUpdated(!dataUpdated);\n        }, onDblClick: (layer, object) => {\n            setSelectionBounds(null);\n        }, onResize: (size) => {\n            handleResize();\n        }, onLoad: () => {\n            console.info('LGR ready:', graphView);\n            const indices = initSpatialIndex(graphView, nodeViews);\n            setSpatialIndex(indices.nodeIndex);\n            setEdgeSourceIndex(indices.edgeSourceIndex);\n            setEdgeTargetIndex(indices.edgeTargetIndex);\n            handleLoad(deckRef, graphView);\n        }, onAfterRender: () => { } }, ({ x, y, width, height, viewState, viewport }) => { }));\n};\nexport default LargeGraphRenderer;\n","const createViewMap = (views) => {\n    const viewMap = new Map();\n    let idx = views.length;\n    while (idx--) {\n        const v = views[idx];\n        if (v !== null) {\n            viewMap.set(v.id, v);\n        }\n    }\n    return viewMap;\n};\n/**\n * View model factory for the entire graph\n */\nclass GraphViewFactory {\n}\nGraphViewFactory.createGraphView = (nodeViews, edgeViews) => {\n    const nvMap = createViewMap(nodeViews);\n    const evMap = createViewMap(edgeViews);\n    const gv = {\n        nodeViews: nvMap,\n        edgeViews: evMap\n    };\n    return gv;\n};\nexport default GraphViewFactory;\n","import React, { FC } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'grid',\n      width: '100%',\n      height: '100%',\n      placeItems: 'center',\n      zIndex: 400,\n      background: '#FAFAFA',\n    },\n    item: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    message: {\n      padding: '2em',\n      color: '#999999',\n    },\n  }),\n)\n\ntype LoadingProps = {\n  message: string\n  showLoading?: boolean\n}\n\nconst Loading: FC<LoadingProps> = ({ message, showLoading = true }: LoadingProps) => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <div className={classes.item}>\n        <Typography className={classes.message} variant=\"h5\">\n          {message}\n        </Typography>\n        {showLoading ? <CircularProgress disableShrink size={'10em'} color=\"secondary\" /> : null}\n      </div>\n    </div>\n  )\n}\n\nexport default Loading\n","const OBJ_TYPE = {\n  NODES: 'nodes',\n  EDGES: 'edges',\n}\n\nconst getEntry = (tag: string, cx: any[]) => {\n  if (tag === undefined || tag === null) {\n    return {}\n  }\n\n  if (cx === undefined || cx === null) {\n    return {}\n  }\n\n  let len = cx.length\n\n  for (let entry of cx) {\n    const value = entry[tag]\n    if (value !== undefined) {\n      return value\n    }\n  }\n  return {}\n}\n\nconst getNodeCount = (cx): number => {\n  return _getObjectCount('nodes', cx)\n}\nconst getEdgeCount = (cx): number => {\n  return _getObjectCount('edges', cx)\n}\n\nconst _getObjectCount = (tag: string, cx: object[]) => {\n  //Find metadata\n  for (const cxObj of cx) {\n    if (cxObj['metaData'] !== undefined) {\n      const metaData = cxObj['metaData']\n      for (const metaObj of metaData) {\n        if (metaObj['name'] === tag) {\n          if (metaObj['elementCount'] !== undefined) {\n            return metaObj['elementCount']\n          }\n        }\n      }\n    }\n  }\n}\n\nconst _isLayoutAvailable = (cx: object[]): boolean => {\n  const layoutTag = 'cartesianLayout'\n  const layout = getEntry(layoutTag, cx)\n  if (layout === undefined || layout.length === 0 || Object.keys(layout).length === 0) {\n    return false\n  }\n\n  return true\n}\n\n/**\n *\n * Apply layout if there is no layout information\n *\n */\nconst CYJS_LAYOUTS = {\n  COSE: 'cose',\n  CIRCLE: 'circle',\n  GRID: 'grid',\n  PRESET: 'preset',\n}\n\nconst getCyjsLayout = (cx: object[], layoutTh: number = 1000): string => {\n  const isLayout: boolean = _isLayoutAvailable(cx)\n\n  if (isLayout) {\n    return CYJS_LAYOUTS.PRESET\n  }\n\n  const numObj = getNodeCount(cx) + getEdgeCount(cx)\n\n  if (numObj < layoutTh) {\n    return CYJS_LAYOUTS.COSE\n  } else {\n    return CYJS_LAYOUTS.CIRCLE\n  }\n}\n\nconst LGR_LAYOUT = {\n  PRESET: 'preset',\n  RANDOM: 'random',\n}\nconst getLgrLayout = (cx: object[]): string => {\n  const nodes = getEntry('nodes', cx)\n  if (nodes === undefined || nodes.length === 0) {\n    return LGR_LAYOUT.PRESET\n  }\n\n  const node = nodes[0]\n  if (node === undefined) {\n    return LGR_LAYOUT.RANDOM\n  }\n\n  if (node.x === undefined || node.y === undefined || (node.x === 0 && node.y === 0)) {\n    return LGR_LAYOUT.RANDOM\n  }\n\n  return 'preset'\n}\n\nconst DEF_BG_COLOR = '#FFFFFF'\nconst getNetworkBackgroundColor = (cx: object[]): string => {\n  if (cx === undefined || cx === null || !Array.isArray(cx)) {\n    return DEF_BG_COLOR\n  }\n\n  const vp = getEntry('cyVisualProperties', cx)\n  const cxVersion = getEntry('CXVersion', cx)\n  if (vp === undefined || vp.length === 0 || Object.keys(vp).length === 0) {\n    if (cxVersion === '2.0') {\n      return _extractBackgroundColorCx2(cx)\n    }\n    return DEF_BG_COLOR\n  }\n\n  let bgColor = DEF_BG_COLOR\n  let idx = vp.length\n  while (idx--) {\n    const entry = vp[idx]\n    const target = entry['properties_of']\n    if (target !== 'network') {\n      continue\n    }\n\n    const visualPoperties = entry['properties']\n    const bgPaint = visualPoperties['NETWORK_BACKGROUND_PAINT']\n    if (bgPaint !== undefined) {\n      return bgPaint\n    }\n  }\n\n  return bgColor\n}\n\nconst _extractBackgroundColorCx2 = (cx) => {\n  const vp = getEntry('visualProperties', cx)\n  if (vp === undefined || vp.length === 0 || Object.keys(vp).length === 0) {\n    return DEF_BG_COLOR\n  }\n\n  let bgColor = DEF_BG_COLOR\n  let idx = vp.length\n  while (idx--) {\n    const entry = vp[idx]\n    const target = entry['default']\n    if (target !== undefined) {\n      const networkDefaults = target['network']\n      const bgPaint = networkDefaults['NETWORK_BACKGROUND_COLOR']\n      if (bgPaint !== undefined) {\n        return bgPaint\n      }\n    }\n  }\n\n  return bgColor\n}\n\nexport { getEntry, getNodeCount, getEdgeCount, getCyjsLayout, getLgrLayout, CYJS_LAYOUTS, getNetworkBackgroundColor }\n","import React from 'react'\nimport AppState from '../model/AppState'\n\nconst AppContext = React.createContext<Partial<AppState>>({})\n\nexport default AppContext\n","import React, { useState, useEffect, useContext } from 'react'\nimport {\n  NodeView,\n  EdgeView,\n  GraphView,\n  GraphViewFactory,\n  LargeGraphRenderer,\n} from 'large-graph-renderer'\n\nimport * as cxVizConverter from 'cx-viz-converter'\nimport Loading from './Loading'\nimport { getEntry } from '../../utils/cxUtil'\nimport AppContext from '../../context/AppState'\n\ntype LGRPanelProps = {\n  eventHandlers: EventHandlers\n  selectedNodes: string[]\n  selectedEdges: string[]\n  // highlight: object\n  cx: object[]\n  backgroundColor: string\n  layoutName?: string\n  pickable?: boolean\n}\n\nexport type EventHandlers = {\n  setSelectedNodeOrEdge: Function,\n  setSelectedObjects: (nodes: NodeView[], edges: EdgeView[]) => (void),\n  clearAll: Function\n}\n\nconst LGRPanel = ({\n  eventHandlers,\n  selectedNodes,\n  selectedEdges,\n  cx,\n  backgroundColor = '#FFFFFF',\n  layoutName = 'preset',\n  pickable,\n}: LGRPanelProps) => {\n  const { setLgrReference } = useContext(AppContext)\n  const [render3d, setRender3d] = useState(false)\n  const [data, setData] = useState<GraphView | null>(null)\n\n  // TODO: support multiple selection\n  const _handleNodeClick = (\n    selectedNodeEvent: NodeView,\n    x: number,\n    y: number,\n  ): void => {\n    console.log('* Node click event:', selectedNodeEvent)\n    if (selectedNodes.length !== 0) {\n      selectedNodes.forEach((nodeId) => {\n        const lastSelectedNode = data.nodeViews.get(nodeId)\n        lastSelectedNode.selected = false\n        console.log('Clear selection:', lastSelectedNode)\n      })\n    }\n    const nodeId: string = selectedNodeEvent.id\n\n    eventHandlers.setSelectedNodeOrEdge(nodeId, 'node', { x: x, y: y })\n  }\n\n  const _handleEdgeClick = (\n    selectedEdgeEvent: EdgeView,\n    x: number,\n    y: number,\n  ): void => {\n    console.log('* Edge click event:', selectedEdgeEvent)\n    if (selectedEdges.length !== 0) {\n      selectedEdges.forEach((edgeId) => {\n        const lastSelectedEdge = data.edgeViews.get(edgeId)\n        if (lastSelectedEdge !== undefined) {\n          lastSelectedEdge.selected = false\n          console.log('Clear edge selection:', lastSelectedEdge)\n        }\n      })\n    }\n    const edgeId: string = selectedEdgeEvent.id\n    eventHandlers.setSelectedNodeOrEdge(edgeId, 'edge', { x: x, y: y })\n  }\n\n  const _handleBackgroundClick = (event: object): void => {\n    eventHandlers.clearAll()\n    console.log('Reset selection:', selectedNodes, selectedEdges)\n  }\n\n  const _handleSelected = (selectedNodes: NodeView[], selectedEdges: EdgeView[]): void => {\n\n    eventHandlers.setSelectedObjects(selectedNodes, selectedEdges)\n    console.log('Selection Set--------------',selectedNodes, selectedEdges)\n  }\n\n  useEffect(() => {\n    if (cx !== undefined && data === null) {\n      const t0 = performance.now()\n      const result = cxVizConverter.convert(cx, 'lnv')\n\n      // TODO: add better layout\n      let { nodeViews, edgeViews } = result\n      if (layoutName !== 'preset') {\n        nodeViews = randomCircularLayout(nodeViews)\n      }\n      // nodeViews = gridLayout(nodeViews)\n\n      if (edgeViews !== undefined) {\n        const edges = getEntry('edges', cx)\n        edgeViews = createLayers(edgeViews, edges)\n      }\n      const gv = GraphViewFactory.createGraphView(nodeViews, result.edgeViews)\n      setData(gv)\n    }\n  }, [cx])\n\n  if (data === null || data === undefined) {\n    const loadingMessage = 'Loading large network data.  Please wait......'\n    return <Loading message={loadingMessage} />\n  }\n\n  return (\n    <LargeGraphRenderer\n      graphView={data}\n      onNodeClick={_handleNodeClick}\n      onEdgeClick={_handleEdgeClick}\n      onSelect={_handleSelected}\n      onBackgroundClick={_handleBackgroundClick}\n      render3d={render3d}\n      backgroundColor={backgroundColor}\n      pickable={pickable}\n      commandProxy={setLgrReference}\n    />\n  )\n}\n\nconst applyHighlight = (highlight, data) => {\n  const { nodeIds, edgeIds, queryNodes } = highlight\n\n  const qSet = new Set(queryNodes)\n  const nSet = new Set(nodeIds)\n  const nodeViews = data.nodeViews\n  let len = nodeViews.size\n  for (let entry of nodeViews) {\n    const nv: NodeView = entry[1]\n    const id = entry[0]\n\n    if (nSet.has(Number.parseInt(id))) {\n      nv.color = [255, 255, 0]\n      nv.size = nv.size * 1.5\n      if (qSet.has(Number.parseInt(id))) {\n        nv.color = [255, 0, 0, 255]\n        nv.size = nv.size * 2.2\n      }\n    } else {\n      nv.color = [155, 155, 155, 8]\n    }\n  }\n\n  const eSet = new Set(edgeIds)\n  const edgeViews = data.edgeViews\n  len = edgeViews.size\n  for (let entry of edgeViews) {\n    const ev: EdgeView = entry[1]\n    const id = entry[0]\n\n    if (eSet.has(Number.parseInt(id))) {\n      ev.color = [255, 255, 0]\n    } else {\n      ev.color = [155, 155, 155, 8]\n    }\n  }\n}\n\nconst clearHighlight = (data) => {\n  const nodeViews = data.nodeViews\n  for (let entry of nodeViews) {\n    const nv: NodeView = entry[1]\n    nv.color = [255, 255, 255, 255]\n  }\n\n  const edgeViews = data.edgeViews\n  for (let entry of edgeViews) {\n    const ev: EdgeView = entry[1]\n    ev.color = [155, 155, 155, 200]\n  }\n}\n\nconst randomCircularLayout = (nodeViews: NodeView[]): NodeView[] => {\n  let idx = nodeViews.length\n  const scalingFactor = 4000 // TODO: compute from viewport\n\n  while (idx--) {\n    const nv: NodeView = nodeViews[idx]\n\n    const t = 2 * Math.PI * Math.random()\n    const u = Math.random() + Math.random()\n    let r = 0\n    if (u > 1) {\n      r = 2 - u\n    } else {\n      r = u\n    }\n    const x = r * Math.cos(t) * scalingFactor\n    const y = r * Math.sin(t) * scalingFactor\n    nv.position = [x, y]\n  }\n  return nodeViews\n}\n\nconst gridLayout = (nodeViews: NodeView[]): NodeView[] => {\n  let idx = nodeViews.length\n  const scalingFactor = 940 // TODO: compute from viewport\n\n  while (idx--) {\n    const nv: NodeView = nodeViews[idx]\n\n    const t = 2 * Math.PI * Math.random()\n    const u = Math.random() + Math.random()\n    let r = 0\n    if (u > 1) {\n      r = 2 - u\n    } else {\n      r = u\n    }\n    const x = r * Math.cos(t) * scalingFactor\n    const y = r * Math.sin(t) * scalingFactor\n    nv.position = [x, y]\n  }\n  return nodeViews\n}\n\nconst createLayers = (edgeViews: EdgeView[], edges: object[]): EdgeView[] => {\n  let edgeIdx = edges.length\n\n  const id2weight = []\n  while (edgeIdx--) {\n    const e = edges[edgeIdx]\n    const v = e['v']\n    if (v !== undefined && v.weight !== undefined) {\n      id2weight.push([e['id'], v.weight])\n    }\n  }\n\n  id2weight.sort((a, b) => b[1] - a[1])\n\n  let idx = edgeViews.length\n  const id2ev: Map<string, EdgeView> = new Map()\n  while (idx--) {\n    const ev = edgeViews[idx]\n    id2ev.set(ev.id, ev)\n  }\n  let size = id2weight.length\n  const topEdges = 100000\n  for (let i = 0; i < size; i++) {\n    const id = id2weight[i][0].toString()\n    const ev = id2ev.get(id)\n\n    if (i < topEdges) {\n      ev['layer'] = 1\n    } else {\n      ev['layer'] = 2\n    }\n  }\n\n  return edgeViews\n}\n\nexport default LGRPanel\n","import Cytoscape from 'cytoscape'\n\nimport CyCanvas from 'cytoscape-canvas';\nCytoscape.use(CyCanvas);\n\n\nconst DEFS = {\n  padding: 20,\n  minZoom: 1.2,\n  maxZoom: 2.75,\n}\n\nconst createCytoscape = (container: Element, elements: any[] = []): object => {  \n\n  const baseParams = {\n    container: container,\n    elements: elements,\n    layout: {\n      name: 'preset',\n      fit: true,\n    },\n    locked: true,\n  }\n\n  return new Cytoscape(baseParams)\n}\n\nexport { createCytoscape }\n","import { CxToJs, CyNetworkUtils } from 'cytoscape-cx2js'\nimport { CxToCyCanvas } from 'cyannotation-cx2js';\n\nconst utils = new CyNetworkUtils()\nconst cx2js = new CxToJs(utils)\n\nconst annotationRenderer = new CxToCyCanvas(cx2js);\n\nconst getAnnotationRenderer = () => {\n  return annotationRenderer\n}\n\nconst cx2cyjs = (uuid: string, cx: any) => {\n  const niceCX = utils.rawCXtoNiceCX(cx)\n  const attributeNameMap = {}\n  const elementsObj = cx2js.cyElementsFromNiceCX(niceCX, attributeNameMap)\n\n  // This contains original style.\n  const style = cx2js.cyStyleFromNiceCX(niceCX, attributeNameMap)\n  const elements = [...elementsObj.nodes, ...elementsObj.edges]\n\n  const annotationNiceCX = {\n      \"networkAttributes\" : niceCX[\"networkAttributes\"] \n        ? niceCX[\"networkAttributes\"]: { \"elements\" : [] }\n    }\n\n  return {\n    network: {\n      data: {\n        uuid,\n      },\n      elements,\n    },\n    visualStyle: style,\n    annotationNiceCX: annotationNiceCX\n  }\n}\n\nexport { cx2cyjs, getAnnotationRenderer }\n","class NDExError extends Error {\n  details: object\n\n  constructor(message: string, details: any) {\n    super(message)\n\n    this.details = details\n    this.name = new.target.name;\n\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n\nexport default NDExError\n","import { cx2cyjs } from '../utils/cx2cyjs'\nimport { useState } from 'react'\nimport NDExError from '../utils/error/NDExError'\n\nexport default function useCyjs(uuid: string, cx: object[]) {\n  const [cyjs, setCyjs] = useState(null)\n  const [id, setUuid] = useState(null)\n\n\n  if(cx === undefined || cx === null) {\n    return {}\n  }\n\n  if (id === null && cx.length >= 6) {\n    setUuid(uuid)\n\n    try {\n      setCyjs(cx2cyjs(uuid, cx))\n      return cyjs\n    } catch(e: unknown) {\n      throw new NDExError('Data conversion from CX to Cytoscape.js failed', e)\n    }\n  }\n\n  if (id === uuid) {\n    return cyjs\n  }\n\n  return {}\n}\n","import React, { useRef, useEffect, useState, useContext } from 'react'\nimport { createCytoscape } from './create-cytoscape'\nimport useCyjs from '../../hooks/useCyjs'\nimport { getAnnotationRenderer } from '../../utils/cx2cyjs'\nimport AppContext from '../../context/AppState'\n\n// Style for the network canvas area\n\ntype CytoscapeRendererProps = {\n  uuid: string\n  cx: object[]\n  eventHandlers: object\n  layoutName?: string\n  setCyReference: Function\n  setBusy?: Function\n  backgroundColor?: string\n}\n\nconst baseStyle = {\n  width: '100%',\n  height: '100%',\n  backgroundColor: 'rgba(0,0,0,0)',\n}\n\nconst CytoscapeRenderer = ({\n  uuid,\n  cx,\n  eventHandlers,\n  layoutName,\n  setCyReference,\n  setBusy,\n  backgroundColor,\n}: CytoscapeRendererProps) => {\n  const cyEl = useRef(null)\n  const [cyInstance, setCyInstance] = useState(null)\n  const { uiState, cyReference } = useContext(AppContext)\n\n  const cyjsNetwork = useCyjs(uuid, cx)\n  const annotationRenderer = getAnnotationRenderer()\n\n  useEffect(() => {\n    if (cyjsNetwork !== undefined && Object.keys(cyjsNetwork).length === 0) {\n      return\n    }\n\n    updateNetwork(cyjsNetwork, cyInstance, annotationRenderer, backgroundColor)\n\n    if (cyjsNetwork !== {} && cyInstance !== null) {\n      if (layoutName !== undefined && cyInstance !== null) {\n        const layout = cyInstance.layout({\n          name: layoutName,\n          animate: false,\n          stop: function () {\n            setBusy(false)\n          },\n        })\n\n        setBusy(true)\n        layout.run()\n      }\n    }\n  }, [cyjsNetwork])\n\n  useEffect(() => {\n    if (cyjsNetwork !== undefined && Object.keys(cyjsNetwork).length === 0) {\n      return\n    }\n\n    updateNetwork(cyjsNetwork, cyInstance, annotationRenderer, backgroundColor)\n\n    if (layoutName !== undefined && cyInstance !== null) {\n      const layout = cyInstance.layout({\n        name: layoutName,\n        animate: false,\n        stop: function () {\n          console.log('Initial layout finished')\n        },\n      })\n      layout.run()\n      setTimeout(() => {\n        cyInstance.fit()\n      }, 500)\n    }\n  }, [cyInstance])\n\n  useEffect(() => {\n    // Create new instance of Cytoscape when element is available\n    if (cyInstance === null && cyEl !== null && cyEl.current !== null) {\n      const newCyInstance = createCytoscape(cyEl.current)\n\n      // Expose Cyjs instance to other component\n      if (setCyReference !== undefined) {\n        setCyReference(newCyInstance)\n        setCyInstance(newCyInstance)\n      }\n      initializeCy(newCyInstance, eventHandlers)\n    }\n  }, [])\n\n  if (cyInstance !== null && cyReference.main === cyInstance) {\n    lockMain(cyInstance, uiState.showSearchResult)\n  }\n  return <div style={baseStyle} ref={cyEl} />\n}\n\nconst lockMain = (cy, lock: boolean): void => {\n  if (lock) {\n    cy.boxSelectionEnabled(false)\n    cy.autounselectify(true)\n    cy.nodes().lock()\n  } else {\n    cy.boxSelectionEnabled(true)\n    cy.autounselectify(false)\n    cy.nodes().unlock()\n  }\n}\n\n\nconst initializeCy = (cy, eventHandlers) => {\n  cy.on('tap, click', (event) => tapHandler(cy, eventHandlers, event))\n  cy.on('boxend', (event) => boxSelectHandler(cy, eventHandlers, event))\n}\n\nconst boxSelectHandler = (cy, eventHandlers, event) => {\n  const t0 = performance.now()\n  setTimeout(() => {\n    const selectedNodes = cy.$('node:selected')\n    const selectedEdges = cy.$('edge:selected')\n    const nodeIds = selectedNodes.map((node) => node.data().id)\n    const edgeIds = selectedEdges.map((edge) => edge.data().id.slice(1))\n    eventHandlers.setSelectedNodesAndEdges(nodeIds, edgeIds, null, null, null)\n  }, 5)\n}\nconst tapHandler = (cy, eventHandlers, event) => {\n  const evtTarget = event.target\n  const t0 = performance.now()\n\n  if (evtTarget === cy) {\n    console.log('* tap on background2')\n\n    setTimeout(() => {\n      eventHandlers.clearAll()\n    }, 10)\n  } else {\n    const data = evtTarget.data()\n\n    if (evtTarget.isNode()) {\n      console.log('* tap on Node', evtTarget.data())\n      setTimeout(() => {\n        const selectedNodes = cy.$('node:selected')\n        const selectedEdges = cy.$('edge:selected')\n        const nodeIds = selectedNodes.map((node) => node.data().id)\n        const edgeIds = selectedEdges.map((edge) => edge.data().id.slice(1))\n        eventHandlers.setSelectedNodesAndEdges(\n          nodeIds,\n          edgeIds,\n          'node',\n          [data.id],\n          event.renderedPosition,\n        )\n      }, 5)\n    } else {\n      console.log('* tap on Edge', evtTarget.data())\n      setTimeout(() => {\n        const selectedNodes = cy.$('node:selected')\n        const selectedEdges = cy.$('edge:selected')\n        const nodeIds = selectedNodes.map((node) => node.data().id)\n        const edgeIds = selectedEdges.map((edge) => edge.data().id.slice(1))\n        eventHandlers.setSelectedNodesAndEdges(\n          nodeIds,\n          edgeIds,\n          'edge',\n          [data.id.slice(1)],\n          event.renderedPosition,\n        )\n      }, 5)\n    }\n  }\n  console.log('tap clear', performance.now() - t0)\n}\n\nconst addExtraStyle = (visualStyle) => {\n  const faded = {\n    selector: '.faded',\n    css: {\n      'background-opacity': 0.1,\n      'text-opacity': 0.1,\n      'border-opacity': 0.1,\n    },\n  }\n\n  const highlight = {\n    selector: '.highlight',\n    css: {\n      'background-opacity': 1,\n      'text-opacity': 1,\n      'border-opacity': 1,\n    },\n  }\n\n  visualStyle.push(faded)\n  visualStyle.push(highlight)\n\n  return visualStyle\n}\n\nconst updateNetwork = (cyjs, cy, annotationRenderer, backgroundColor) => {\n  const { network } = cyjs\n  if (network !== undefined && network !== null && cy !== null) {\n    const elements = cyjs.network.elements\n    cy.add(elements)\n\n    const newVS = addExtraStyle(cyjs.visualStyle)\n    cy.style().fromJson(newVS).update()\n\n    console.log('handling annotations: ', cyjs.annotationNiceCX)\n    annotationRenderer.drawAnnotationsFromNiceCX(cy, cyjs.annotationNiceCX)\n    annotationRenderer.drawBackground(cy, backgroundColor)\n  }\n}\n\nexport default CytoscapeRenderer\n","import NdexCredential from '../model/NdexCredential'\nimport * as ndex from 'ndex-client'\n\nconst getGoogleHeader = (userInfo) => {\n  const token = userInfo.tokenObj.token_type + ' ' + userInfo.tokenObj.id_token\n  return {\n    authorization: token,\n  }\n}\n\nconst getAuthorization = (ndexCredential: NdexCredential) => {\n  if (ndexCredential.isGoogle) {\n    const idToken =  ndexCredential.oauth['loginDetails'].tokenId;\n    return  'Bearer ' + idToken;\n  } else if (ndexCredential.basic) {\n    const basicAuth = ndexCredential.basic\n    return 'Basic ' + window.btoa(basicAuth.userId + ':' + basicAuth.password);\n  }\n  return undefined;\n}\n\nconst getNdexClient = (baseUrl: string, ndexCredential: NdexCredential) => {\n  const ndexClient = new ndex.NDEx(baseUrl)\n  \n  if (!ndexCredential.isLogin) {\n    // Client without credential.\n    console.warn('Not logged-in. Public networks only.')\n    return ndexClient\n  }\n  \n  if (ndexCredential.isGoogle) {\n    ndexClient.setAuthToken(ndexCredential.oauth['loginDetails'].tokenId);\n    //console.log('Auth Token ID: ' + ndexCredential.oauth['loginDetails'].tokenId);\n    //console.log('NDEx client with OAuth ::', ndexClient)\n  } else if (ndexCredential.basic) {\n    const basicAuth = ndexCredential.basic\n    ndexClient.setBasicAuth(basicAuth.userId, basicAuth.password)\n    //console.log('NDEx client with Basic Auth ::', ndexClient)\n  }\n\n  ndexClient.getStatus().then((response) => {\n    console.log('* NDEx Status checked:', response.message)\n  })\n  \n\n  return ndexClient\n}\n\nconst getAccessKey = (searchString: string):string=> {\n  const trimed = searchString.replaceAll('?', '')\n  const params = trimed.split('&')\n  let key = null\n  params.forEach(pair => {\n    const keyValue = pair.split('=')\n    if(keyValue[0] === 'accesskey') {\n      key = keyValue[1]\n    }\n  })\n  return key\n}\n\n\nexport { getGoogleHeader, getAuthorization,  getNdexClient, getAccessKey }\n","import { useQuery } from 'react-query'\nimport HttpResponse from '../api/HttpResponse'\nimport NdexCredential from '../model/NdexCredential'\nimport { getAuthorization } from '../utils/credentialUtil'\nimport { useState, useEffect } from 'react'\n\nconst DEF_MAX_EDGE = 10000\n\nconst edgeLimitParams = {\n  edgeLimit: DEF_MAX_EDGE,\n  errorWhenLimitIsOver: true,\n}\n\nconst queryModeParams = {\n  direct: {\n    searchDepth: 1,\n  },\n  firstStepNeighborhood: {\n    directOnly: false,\n    searchDepth: 1,\n  },\n  firstStepAdjacent: {\n    directOnly: true,\n    searchDepth: 1,\n  },\n  interconnect: {\n    searchDepth: 2,\n  },\n  twoStepNeighborhood: {\n    directOnly: false,\n    searchDepth: 2,\n  },\n  twoStepAdjacent: {\n    directOnly: true,\n    searchDepth: 2,\n  },\n}\n\nconst selectNodes = (cxResult: object[]): string[] => {\n  let len = cxResult.length\n  let nodes = undefined\n  while (len--) {\n    nodes = cxResult[len]['nodes']\n    if (nodes !== undefined) {\n      break\n    }\n  }\n\n  if (nodes === undefined) {\n    return []\n  }\n\n  const nodeIds = nodes.map((node) => {\n    return node['@id']\n  })\n\n  return nodeIds\n}\n\nconst isEdgeLimitExceeded = (cx) => {\n  for (let tag in cx) {\n    const value = cx[tag]\n    const status = value['status']\n    if (status && status.length > 0) {\n      if (status[0].success) {\n        return false\n      } else {\n        return status[0].error === 'EdgeLimitExceeded'\n      }\n    }\n  }\n}\n\nexport const saveQuery = async (\n  uuid: string,\n  query: string,\n  serverUrl: string,\n  credential: NdexCredential,\n  mode: string,\n) => {\n  if (uuid === undefined || uuid === null || uuid.length === 0) {\n    return {}\n  }\n\n  if (query === undefined || query === null || query.length === 0) {\n    return {}\n  }\n\n  let url = `${serverUrl}/v2/search/network/${uuid}/query?save=true`\n  if (mode === 'interconnect' || mode === 'direct') {\n    url = `${serverUrl}/v2/search/network/${uuid}/interconnectquery?save=true`\n  }\n\n  const queryParam = queryModeParams[mode]\n  queryParam['searchString'] = query\n\n  const authorization = getAuthorization(credential)\n\n  const settings = {\n    method: 'POST',\n    // mode: 'cors',\n    headers: authorization\n      ? {\n          'Content-Type': 'application/json',\n          Authorization: authorization,\n        }\n      : {\n          'Content-Type': 'application/json',\n        },\n    body: JSON.stringify(queryParam),\n  }\n\n  return fetch(url, settings)\n}\n\nconst queryNetwork = async <T>(\n  uuid: string,\n  query: string,\n  serverUrl: string,\n  credential: NdexCredential,\n  mode: string,\n  maxEdge: number,\n) => {\n  if (uuid === undefined || uuid === null || uuid.length === 0) {\n    return {}\n  }\n\n  if (query === undefined || query === null || query.length === 0) {\n    return {}\n  }\n\n  let url = `${serverUrl}/v2/search/network/${uuid}/query`\n  if (mode === 'interconnect' || mode === 'direct') {\n    url = `${serverUrl}/v2/search/network/${uuid}/interconnectquery`\n  }\n\n  edgeLimitParams['edgeLimit'] = maxEdge\n  const queryParam = Object.assign(\n    Object.assign({}, queryModeParams[mode], edgeLimitParams),\n  )\n  queryParam['searchString'] = query\n\n  const authorization = getAuthorization(credential)\n\n  const settings = {\n    method: 'POST',\n    // mode: 'cors',\n    headers: authorization\n      ? {\n          'Content-Type': 'application/json',\n          Authorization: authorization,\n        }\n      : {\n          'Content-Type': 'application/json',\n        },\n    body: JSON.stringify(queryParam),\n  }\n\n  let response: HttpResponse<object>\n  try {\n    response = await fetch(url, settings)\n    const cx = await response.json()\n    const edgeLimitExceeded = isEdgeLimitExceeded(cx)\n    response.parsedBody = {\n      nodeIds: selectNodes(cx),\n      kvMap: transformCx(cx),\n      cx,\n      edgeLimitExceeded,\n    }\n  } catch (ex) {\n    console.error('Query API Call error:', ex)\n  }\n  if (!response.ok) {\n    throw new Error(response.statusText)\n  }\n\n  return response.parsedBody\n}\n\nconst transformCx = (cx: object[]) => {\n  const resultObject = {}\n\n  let len = cx.length\n  while (len--) {\n    const entry = cx[len]\n    const key = Object.keys(entry)[0]\n    const value = entry[key]\n\n    resultObject[key] = value\n  }\n  return getAttrs(resultObject)\n}\n\nconst getAttrs = (kvMap: object) => {\n  const nodeAttr = kvMap['nodeAttributes']\n  const nodes = kvMap['nodes']\n\n  const id2attr = {}\n\n  if (nodeAttr === undefined) {\n    return id2attr\n  }\n\n  let len = nodeAttr.length\n  while (len--) {\n    const entry = nodeAttr[len]\n    const pointer = entry['po']\n\n    let current = id2attr[pointer]\n    if (current === undefined) {\n      current = new Map()\n    }\n    current.set(entry['n'], entry['v'])\n    id2attr[pointer] = current\n  }\n\n  len = nodes.length\n  while (len--) {\n    const n = nodes[len]\n    const id = n['@id']\n    const val = n['n']\n    let current = id2attr[id]\n    if (current === undefined) {\n      current = new Map()\n    }\n    current.set('name', val)\n    id2attr[id] = current\n  }\n\n  return id2attr\n}\n\nconst useSearch = (\n  uuid: string,\n  query: string,\n  serverUrl: string,\n  credential: NdexCredential,\n  mode: string,\n  maxEdge: number,\n) => {\n  // Make this hook stateful to avoid multiple calls\n  const [enabled, setEnabled] = useState(false)\n  const [last, setLast] = useState(null)\n\n  useEffect(() => {\n    const nextQuery = {\n      uuid,\n      query,\n      mode,\n    }\n\n    if (nextQuery === last) {\n      setEnabled(false)\n    } else {\n      if (nextQuery === null || query === '') {\n        setEnabled(false)\n      } else {\n        setEnabled(true)\n      }\n      setLast(nextQuery)\n    }\n\n    return () => {}\n  }, [uuid, query, mode])\n\n  return useQuery(\n    ['queryNetwork', uuid, query, serverUrl, credential, mode, maxEdge],\n    () => queryNetwork(uuid, query, serverUrl, credential, mode, maxEdge),\n    {\n      enabled: enabled,\n      cacheTime: 1000,\n      retry: false,\n    },\n  )\n}\n\nexport default useSearch\n","/**\n * Each list contains selected object IDs (string)\n */\nexport type Selected = {\n  nodes: string[]\n  edges: string[]\n}\n\nexport type Coordinates = {\n  x: number\n  y: number\n}\n\nexport type LastSelected = {\n  isNode: boolean\n  fromMain: boolean\n  id: number\n  coordinates: Coordinates\n  showPropPanel: boolean\n}\n\nexport type SelectionState = {\n  main: Selected\n  sub: Selected\n  lastSelected: LastSelected\n}\n\nexport const EMPTY_SELECTION: SelectionState = {\n  main: {\n    nodes: [],\n    edges: [],\n  },\n  sub: {\n    nodes: [],\n    edges: [],\n  },\n  lastSelected: {\n    isNode: null,\n    fromMain: null,\n    id: null,\n    coordinates: {\n      x: 0,\n      y: 0,\n    },\n    showPropPanel: false,\n  },\n}\n\nexport type SelectionAction = {\n  type: string\n  selectionState: SelectionState\n}\n\nexport const SelectionActions = {\n  CLEAR_ALL_MAIN: 'clearAllMain',\n  CLEAR_ALL_SUB: 'clearAllSub',\n  SET_MAIN_NODES_AND_EDGES: 'setMain',\n  SET_SUB_NODES_AND_EDGES: 'setSub',\n  CLOSE_PROP_PANEL: 'closePropPanel',\n}\n\nconst selectionStateReducer = (\n  state: SelectionState,\n  action: SelectionAction,\n): SelectionState => {\n  switch (action.type) {\n    case SelectionActions.SET_MAIN_NODES_AND_EDGES:\n      return {\n        ...state,\n        main: action.selectionState.main,\n        lastSelected: action.selectionState.lastSelected,\n      }\n    case SelectionActions.SET_SUB_NODES_AND_EDGES:\n      return {\n        ...state,\n        sub: action.selectionState.sub,\n        lastSelected: action.selectionState.lastSelected,\n      }\n    case SelectionActions.CLEAR_ALL_MAIN:\n      return {\n        ...state,\n        main: { nodes: [], edges: [] },\n        lastSelected: { ...state.lastSelected, showPropPanel: false },\n      }\n    case SelectionActions.CLEAR_ALL_SUB:\n      return {\n        ...state,\n        sub: { nodes: [], edges: [] },\n        lastSelected: { ...state.lastSelected, showPropPanel: false },\n      }\n    case SelectionActions.CLOSE_PROP_PANEL:\n      return {\n        ...state,\n        lastSelected: { ...state.lastSelected, showPropPanel: false },\n      }\n    default:\n      throw new Error('Invalid action')\n  }\n}\n\nexport default selectionStateReducer\n","import CyReference from '../model/CyReference'\n\nexport type CyAction = {\n  type: string\n  cyReference: any\n}\n\nexport const CyActions = {\n  SET_MAIN: 'setMain',\n  SET_SUB: 'setSub',\n}\n\nexport const INITIAL_CY_REFERENCE: CyReference = {\n  main: null,\n  sub: null\n}\n\nconst cyReducer = (state: CyReference, action: CyAction): CyReference => {\n  switch (action.type) {\n    case CyActions.SET_MAIN:\n      return { ...state, main: action.cyReference }\n    case CyActions.SET_SUB:\n      return { ...state, sub: action.cyReference }\n    default:\n      throw new Error('Invalid action')\n  }\n}\n\nexport default cyReducer\n","import React, { FC } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport InfoIcon from '@material-ui/icons/Info'\n\nimport DownArrowIcon from '@material-ui/icons/ArrowDownward'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      boxSizing: 'border-box',\n      display: 'grid',\n      width: '100%',\n      height: '100%',\n      placeItems: 'center',\n      background: '#FFFFFF',\n      zIndex: 0\n    },\n    item: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: '1em',\n      width: '55%',\n    },\n    message: {\n      padding: '0.5em',\n      color: '#999999',\n      textAlign: 'center',\n    },\n    title: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    arrow1: {\n      position: 'fixed',\n      color: '#999999',\n      bottom: '2vh',\n      left: '1vw',\n      fontSize: '7em',\n    },\n    infoIcon: {\n      color: theme.palette.info.main,\n      fontSize: '7em',\n    },\n  }),\n)\n\ntype EmptyViewProps = {\n  title: string\n  message?: string\n  showIcons?: boolean\n}\n\nconst EmptyView: FC<EmptyViewProps> = ({ title = '-', message = '-', showIcons = false }: EmptyViewProps) => {\n  const classes = useStyles()\n  return (\n    <div className={classes.root}>\n      <div className={classes.item}>\n        <InfoIcon fontSize=\"inherit\" className={classes.infoIcon} />\n        <div className={classes.title}>\n          <Typography className={classes.message} variant=\"h5\">\n            {title}\n          </Typography>\n        </div>\n        <Typography className={classes.message} variant=\"subtitle1\">\n          {message}\n        </Typography>\n      </div>\n      {showIcons ? (\n        <div className={classes.arrow1}>\n          <Typography variant=\"h6\">Query this network from here.</Typography>\n          <DownArrowIcon fontSize=\"inherit\" />\n        </div>\n      ) : null}\n    </div>\n  )\n}\n\nexport default EmptyView\n","const CX2_TAG = 'CXVersion'\n\nconst isCxV2 = (cx: object[]) => {\n  let len = cx.length\n  while (len--) {\n    const entry = cx[len]\n    const version = entry[CX2_TAG]\n    if (version !== undefined && version === '2.0') {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport const getAttributeMap = (cx: object[]) => {\n  const isV2 = isCxV2(cx)\n  const resultObject = {}\n  let len = cx.length\n  while (len--) {\n    const entry = cx[len]\n    const key = Object.keys(entry)[0]\n    const value = entry[key]\n\n    if (resultObject[key] === undefined) {\n      if (key in resultObject) {\n        resultObject[key].push(...value)\n      } else {\n        resultObject[key] = value\n      }\n    }\n  }\n  if (isV2) {\n    const nodeAttr = getNodeAttrsV2(resultObject)\n    return {\n      nodeAttr: nodeAttr,\n      edgeAttr: getEdgeAttrsV2(nodeAttr, resultObject),\n    }\n  } else {\n    const nodeAttr = getNodeAttrs(resultObject)\n    return {\n      nodeAttr,\n      edgeAttr: getEdgeAttrs(nodeAttr, resultObject),\n    }\n  }\n}\n\nconst getDefaultValues = (\n  definition: object,\n  tag: string,\n): Map<string, any> => {\n  const defValues = new Map<string, any>()\n\n  const defMap = definition[tag]\n  const keys = Object.keys(defMap)\n  keys.forEach((key) => {\n    const entry = defMap[key]\n    const val = entry['v']\n    if (val !== undefined) {\n      defValues.set(key, val)\n    }\n  })\n  return defValues\n}\n\nconst getAttributeKeys = (definition: object, tag: string): Set<string> => {\n  const defMap = definition[tag]\n  const keys: string[] = Object.keys(defMap)\n  return new Set(keys)\n}\n\nconst getNodeAttrsV2 = (kvMap: object) => {\n  const SPECIAL_TAGS = {\n    name: {\n      tag: 'n',\n      label: 'name',\n    },\n    represents: {\n      tag: 'r',\n      label: 'represents',\n    },\n  }\n\n  const attributeDeclarationsTag = 'attributeDeclarations'\n  const attrDefinition = kvMap[attributeDeclarationsTag]\n\n  const defValues = getDefaultValues(attrDefinition[0], 'nodes')\n  const attrKeys = getAttributeKeys(attrDefinition[0], 'nodes')\n  const nodes = kvMap['nodes']\n  const id2attr = {}\n\n  let len = nodes.length\n  while (len--) {\n    const entry = nodes[len]\n    const attrs = entry['v']\n    const current = new Map()\n    // const keys = Object.keys(attrs)\n    attrKeys.forEach((key) => {\n      if (\n        key === SPECIAL_TAGS.name.label ||\n        key === SPECIAL_TAGS.represents.label\n      ) {\n        const tag = SPECIAL_TAGS[key]['tag']\n        const label = SPECIAL_TAGS[key]['label']\n        const val = attrs[tag]\n        current.set(label, val)\n      } else {\n        let value = attrs ? attrs[key] : undefined\n        if (value === undefined) {\n          // Try default value\n          value = defValues.get(key)\n        }\n        if (value !== undefined) {\n          current.set(key, value)\n        }\n      }\n    })\n    id2attr[entry.id] = current\n  }\n  return id2attr\n}\n\nconst getEdgeAttrsV2 = (nodeAttr, kvMap: object) => {\n  const edges = kvMap['edges']\n  const id2attr = {}\n\n  if (edges === undefined || edges.length === 0) {\n    addSourceTargetInteractionV2(nodeAttr, edges, id2attr)\n    return id2attr\n  }\n\n  let len = edges.length\n  while (len--) {\n    const e = edges[len]\n    const id = e['id']\n    const current = new Map()\n\n    const attrs = e['v']\n    if (attrs !== undefined && attrs !== null) {\n      const keys = Object.keys(attrs)\n      keys.forEach((key) => {\n        if (key !== 'i') {\n          current.set(key, attrs[key])\n        }\n      })\n    }\n    id2attr[id] = current\n  }\n\n  addSourceTargetInteractionV2(nodeAttr, edges, id2attr)\n  return id2attr\n}\n\nconst getEdgeAttrs = (nodeAttr, kvMap: object) => {\n  const edgeAttr = kvMap['edgeAttributes']\n  const edges = kvMap['edges']\n  const id2attr = {}\n\n  if (edgeAttr === undefined) {\n    addSourceTargetInteraction(nodeAttr, edges, id2attr)\n    return id2attr\n  }\n\n  let len = edgeAttr.length\n  while (len--) {\n    const entry = edgeAttr[len]\n    const pointer = entry['po']\n\n    let current = id2attr[pointer]\n    if (current === undefined) {\n      current = new Map()\n    }\n    current.set(entry['n'], entry['v'])\n    id2attr[pointer] = current\n  }\n\n  addSourceTargetInteraction(nodeAttr, edges, id2attr)\n  return id2attr\n}\n\nconst addSourceTargetInteraction = (nodeAttr, edges, id2attr) => {\n  if (edges === undefined) {\n    return\n  }\n  let len = edges.length\n  while (len--) {\n    const e = edges[len]\n    const id = e['@id']\n    let current = id2attr[id]\n    if (current === undefined) {\n      current = new Map()\n      id2attr[id] = current\n    }\n    const source = e['s']\n    const target = e['t']\n    const interaction = e['i']\n    const s = nodeAttr[source]\n    const t = nodeAttr[target]\n\n    if (s !== undefined) {\n      id2attr[id].set('source', s.get('name'))\n    }\n    if (t !== undefined) {\n      id2attr[id].set('target', t.get('name'))\n    }\n    if (interaction !== undefined) {\n      id2attr[id].set('interaction', interaction)\n    }\n  }\n}\n\nconst addSourceTargetInteractionV2 = (nodeAttr, edges, id2attr) => {\n  if (edges == undefined) {\n    return\n  }\n  let len = edges.length\n  while (len--) {\n    const e = edges[len]\n    const id = e['id']\n    let current = id2attr[id]\n    if (current === undefined) {\n      current = new Map()\n      id2attr[id] = current\n    }\n    const source = e['s']\n    const s = nodeAttr[source]\n    const target = e['t']\n    const t = nodeAttr[target]\n    const interaction = e['v']\n\n    if (s !== undefined) {\n      id2attr[id].set('source', s.get('name'))\n    }\n    if (t !== undefined) {\n      id2attr[id].set('target', t.get('name'))\n    }\n    if (interaction !== undefined) {\n      const i = interaction['i']\n      id2attr[id].set('interaction', i)\n    }\n  }\n}\n\nconst getNodeAttrs = (kvMap: object) => {\n  const nodeAttr = kvMap['nodeAttributes']\n  const nodes = kvMap['nodes']\n\n  const id2attr = {}\n\n  if (nodes === undefined) {\n    return id2attr\n  }\n\n  let len = nodes.length\n  while (len--) {\n    const n = nodes[len]\n    const id = n['@id']\n    id2attr[id] = new Map()\n    id2attr[id].set('name', n['n'])\n    id2attr[id].set('Represents', n['r'])\n  }\n\n  if (nodeAttr === undefined) {\n    return id2attr\n  }\n\n  len = nodeAttr.length\n  while (len--) {\n    const entry = nodeAttr[len]\n    const pointer = entry['po']\n    let current = id2attr[pointer]\n    current.set(entry['n'], entry['v'])\n    id2attr[pointer] = current\n  }\n\n  return id2attr\n}\n","import { useState } from 'react'\nimport { getAttributeMap } from '../utils/cx2attr'\n\nexport default function useAttributes(uuid: string, cx: object[], subnetworkOnly: boolean) {\n  const [attr, setAttr] = useState(null)\n  const [id, setUuid] = useState(null)\n\n  if (uuid === undefined || uuid === null || cx === undefined || cx === null || cx.length === 0) {\n    return {}\n  }\n\n  if (subnetworkOnly) {\n    return getAttributeMap(cx)\n  }\n\n  if (id === null) {\n    setUuid(uuid)\n    const attr = getAttributeMap(cx)\n    setAttr(attr)\n    return attr\n  }\n\n  if (id === uuid) {\n    return attr\n  }\n\n  return {}\n}\n","import React from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Typography from '@material-ui/core/Typography'\nimport Linkify from 'linkify-react'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      backgroundColor: 'inherit',\n    },\n    text: {\n      display: 'inline-block',\n      paddingTop: 0,\n      paddingBottom: '6px',\n    },\n    smallText: {\n      lineHeight: '16px',\n    },\n    bigText: {\n      lineHeight: '18px',\n    },\n  }),\n)\n\nconst PropList = ({ attrMap }) => {\n  const classes = useStyles()\n\n  attrMap.delete('name')\n\n  let represents\n  if (attrMap.has('Represents')) {\n    represents = attrMap.get('Represents')\n    attrMap.delete('Represents')\n  }\n\n  const keys = [...attrMap.keys()].sort((a, b) => a.localeCompare(b))\n\n  if (represents != undefined) {\n    keys.unshift('Represents')\n    attrMap.set('Represents', represents)\n  }\n\n  return (\n    <List className={classes.root}>\n      {keys.map((key) => {\n        return (\n          <ListItem key={key} className={classes.text} disableGutters>\n            <Typography\n              color=\"textSecondary\"\n              variant=\"caption\"\n              variantMapping={{ caption: 'div' }}\n              className={classes.smallText}\n            >\n              {key}\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              component=\"div\"\n              className={classes.bigText}\n            >\n              <Linkify key={key}>{attrMap.get(key)}</Linkify>\n            </Typography>\n          </ListItem>\n        )\n      })}\n    </List>\n  )\n}\n\nexport default PropList\n","import React from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography, IconButton } from '@material-ui/core'\nimport PropList from './PropList'\nimport CloseIcon from '@material-ui/icons/Close'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      width: '100%',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    title: {\n      display: 'flex',\n      width: '100%',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n    },\n    name: {\n      fontWeight: 500,\n      fontSize: '1.5em',\n      flexGrow: 3,\n      paddingTop: '12.5px',\n      paddingBottom: '12.5px',\n    },\n    propList: {\n      height: '100%',\n      width: '100%',\n      padding: 0,\n      margin: 0,\n      borderTop: '1px solid #777777',\n      overflowX: 'auto',\n    },\n  }),\n)\n\nconst PropertyPanel = ({ attrMap, onClose }) => {\n  const classes = useStyles()\n\n  const handleClose = () => {\n    onClose()\n  }\n  return (\n    <div className={classes.root}>\n      <div className={classes.title}>\n        <Typography className={classes.name} variant=\"body1\">\n          {attrMap.get('name')}\n        </Typography>\n        <IconButton onClick={handleClose}>\n          <CloseIcon />\n        </IconButton>\n      </div>\n      <div className={classes.propList}>\n        <div>\n          <PropList attrMap={attrMap} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PropertyPanel\n","import parse from 'html-react-parser'\n\nconst getContextFromCx = (cx: any[]) => {\n  if (cx === null || cx === undefined) {\n    return {}\n  }\n  //Check version\n  let version2 = false\n  for (let obj of cx) {\n    if (obj['CXVersion'] === '2.0') {\n      version2 = true\n      break\n    }\n  }\n  for (let obj of cx) {\n    if (obj['networkAttributes']) {\n      for (let item of obj['networkAttributes']) {\n        if (version2) {\n          if (item['@context']) {\n            return parseContext(item['@context'])\n          }\n        } else {\n          if (item['n'] === '@context') {\n            return parseContext(item['v'])\n          }\n        }\n      }\n    }\n  }\n  return null\n}\n\nconst parseContext = (context: string) => {\n  try {\n    const oldContext = JSON.parse(context)\n    return Object.keys(oldContext).reduce(\n      (c, k) => ((c[k.toUpperCase()] = oldContext[k]), c),\n      {},\n    )\n  } catch (error) {\n    console.warn('Could not parse @context network attribute as JSON: ', error)\n    return {}\n  }\n}\n\nconst processList = (list: string[], context) => {\n  let listString = ''\n  for (let item of list) {\n    listString += processItem(item, context, false) + ', '\n  }\n  return parse(listString.slice(0, -2))\n}\n\nconst processListAsText = (list: string[]) => {\n  let listString = ''\n  for (let item of list) {\n    listString += item + ', '\n  }\n  return listString.slice(0, -2)\n}\n\nconst processItem = (item: string, context: object, parseItem: boolean) => {\n  if (item === undefined || item === null) {\n    return item\n  }\n\n  let itemString = item.toString()\n\n  if (context === undefined || context === null) {\n    if (parseItem) {\n      return parse(itemString)\n    }\n    return itemString\n  }\n\n  const [prefix, id] = String(item).split(':')\n  if (prefix && id) {\n    if (prefix.toUpperCase() in context) {\n      itemString =\n        '<a href=' +\n        context[prefix.toUpperCase()] +\n        id +\n        ' target=\"_blank\" rel=\"noopener noreferrer\">' +\n        item +\n        '</a>'\n    }\n  }\n\n  if (parseItem) {\n    return parse(itemString)\n  }\n\n  return itemString\n}\n\nconst processInternalLink = (item: string, url: string) => {\n  return parse(\n    '<a href=https://' +\n      url +\n      '/viewer/networks/' +\n      item +\n      ' target=\"_blank\" rel=\"noopener noreferrer\">' +\n      item +\n      '</a>',\n  )\n}\n\nexport {\n  getContextFromCx,\n  processList,\n  processItem,\n  processInternalLink,\n  processListAsText,\n}\n","import React, { useContext, useState, useEffect, FC, useMemo } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { useParams } from 'react-router-dom'\nimport AppContext from '../../context/AppState'\nimport useAttributes from '../../hooks/useAttributes'\nimport PropertyPanel from '../PropertyPanel'\nimport {\n  getContextFromCx,\n  processList,\n  processItem,\n  processInternalLink,\n} from '../../utils/contextUtil'\nimport { SelectionActions } from '../../reducer/selectionStateReducer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'absolute',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      maxWidth: '40vh',\n      maxHeight: '50vh',\n      backgroundColor: '#FFFFFF',\n      borderRadius: 8,\n      border: '1px solid #999999',\n      zIndex: 200,\n      padding: '1em',\n      paddingTop: 0,\n      overflowY: 'auto',\n      background:\n        'linear-gradient(#ffffff 33%, rgba(255,255,255, 0)),linear-gradient(rgba(255,255,255, 0), #ffffff 66%) 0 100%,radial-gradient(farthest-side at 50% 0, rgba(89,89,89, 0.5), rgba(0,0,0,0)),radial-gradient(farthest-side at 50% 100%, rgba(89,89,89, 0.5), rgba(0,0,0,0)) 0 100%',\n      backgroundRepeat: 'no-repeat',\n      backgroundAttachment: 'local, local, scroll, scroll',\n      backgroundSize: '100% 60px, 100% 60px, 100% 20px, 100% 20px',\n    },\n  }),\n)\n\nconst EdgeAttributes = {\n  SOURCE: 'source',\n  TARGET: 'target',\n  INTERACTION: 'interaction',\n}\n\nconst Attributes = {\n  NAME: 'name',\n  NDEX_INTERNAL_LINK: 'ndex:internalLink',\n}\n\ntype PopupProps = {\n  cx: object[]\n  subHeight: number\n}\n\nconst Popup: FC<PopupProps> = ({ cx, subHeight }: PopupProps) => {\n  const classes = useStyles()\n  const { uuid } = useParams()\n  const {\n    uiState,\n    selectionState,\n    selectionStateDispatch,\n    config,\n  } = useContext(AppContext)\n  const { windowHeight, windowWidth } = useWindowDimensions()\n  const FOOTER_HEIGHT = 60\n\n  const attr = useAttributes(uuid, cx, uiState.mainNetworkNotDisplayed)\n  const context = useMemo(() => getContextFromCx(cx), [cx])\n\n  const { lastSelected } = selectionState\n\n  const setShowPropPanelFalse = () =>\n    selectionStateDispatch({ type: SelectionActions.CLOSE_PROP_PANEL })\n\n  const onClose = () => {\n    setShowPropPanelFalse()\n  }\n\n  useEffect(() => {\n    setShowPropPanelFalse()\n  }, [uiState.showSearchResult])\n\n  if (\n    cx == undefined ||\n    !lastSelected.showPropPanel ||\n    selectionState.lastSelected.id == null\n  ) {\n    return <div />\n  }\n\n  const id = selectionState.lastSelected.id\n  let attrMap = null\n  if (selectionState.lastSelected.isNode) {\n    attrMap = attr.nodeAttr[id]\n  } else {\n    attrMap = attr.edgeAttr[id]\n  }\n\n  //Process attrMap to only display non-empty fields\n  //and properly display links and lists\n  const nonEmptyMap = new Map()\n  let source, target, interaction\n  let noNameEdge = true\n  const include = []\n\n  for (let item of attrMap) {\n    if (!selectionState.lastSelected.isNode) {\n      if (\n        [\n          EdgeAttributes.SOURCE,\n          EdgeAttributes.TARGET,\n          EdgeAttributes.INTERACTION,\n        ].includes(item[0])\n      ) {\n        if (item[0] === EdgeAttributes.SOURCE) {\n          source = item[1]\n        } else if (item[0] === EdgeAttributes.TARGET) {\n          target = item[1]\n        } else {\n          interaction = item[1]\n        }\n        continue\n      } else if (item[0] === Attributes.NAME) {\n        noNameEdge = false\n      }\n    } else {\n      noNameEdge = false\n    }\n\n    if (Array.isArray(item[1])) {\n      for (let arrayItem of item[1]) {\n        if (arrayItem !== undefined && arrayItem !== '') {\n          include.push(item)\n          break\n        }\n      }\n    } else {\n      if (item[1] !== undefined && item[1] !== '') {\n        include.push(item)\n      }\n    }\n  }\n\n  include.sort((a, b) => {\n    return a[0].localeCompare(b[0])\n  })\n\n  for (let item of include) {\n    let value\n    if (Array.isArray(item[1])) {\n      value = processList(item[1], context)\n    } else {\n      if (item[0] == Attributes.NDEX_INTERNAL_LINK) {\n        value = processInternalLink(item[1], config.ndexUrl)\n      } else {\n        value = processItem(item[1], context, true)\n      }\n    }\n    nonEmptyMap.set(item[0], value)\n  }\n\n  if (noNameEdge) {\n    if (source && target) {\n      if (interaction) {\n        nonEmptyMap.set(\n          Attributes.NAME,\n          source + ' (' + interaction + ') ' + target,\n        )\n      } else {\n        nonEmptyMap.set(Attributes.NAME, source + ' (-) ' + target)\n      }\n    }\n  }\n\n  //Calculate position based on pointer position in window\n  const x = lastSelected.coordinates.x\n  const y = lastSelected.coordinates.y\n\n  //Left or right?\n  let right = true\n  if (x > (windowWidth - uiState.rightPanelWidth) / 2) {\n    right = false\n  }\n\n  //Bottom or top?\n  let bottom = true\n  if (selectionState.lastSelected.fromMain) {\n    if (y > (windowHeight - FOOTER_HEIGHT) / 2) {\n      bottom = false\n    }\n  } else {\n    if (windowHeight - subHeight + y > windowHeight / 2) {\n      bottom = false\n    }\n  }\n\n  const style = {\n    maxHeight: windowHeight * 0.4,\n  }\n  if (right) {\n    style['left'] = x\n  } else {\n    style['right'] = windowWidth - uiState.rightPanelWidth - x\n  }\n  if (bottom) {\n    if (selectionState.lastSelected.fromMain) {\n      style['top'] = y\n    } else {\n      style['top'] = y + (windowHeight - subHeight - FOOTER_HEIGHT)\n    }\n  } else {\n    if (selectionState.lastSelected.fromMain) {\n      style['bottom'] = windowHeight - y - FOOTER_HEIGHT\n    } else {\n      style['bottom'] = subHeight - y\n    }\n  }\n\n  return (\n    <div className={classes.root} style={style}>\n      <PropertyPanel attrMap={nonEmptyMap} onClose={onClose} />\n    </div>\n  )\n}\n\nfunction getWindowDimensions() {\n  const { innerWidth: windowWidth, innerHeight: windowHeight } = window\n  return {\n    windowWidth,\n    windowHeight,\n  }\n}\n\nfunction useWindowDimensions() {\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions(),\n  )\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowDimensions(getWindowDimensions())\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowDimensions\n}\n\nexport default Popup\n","import CyReference from '../model/CyReference'\n\nconst fitContent = (cyReference: CyReference): void => {\n  const { main, sub } = cyReference\n\n  if (main !== undefined && main !== null) {\n    main.fit()\n  }\n\n  if (sub !== undefined && sub !== null) {\n    sub.fit()\n  }\n}\n\n\nconst lockMainWindow = (cyReference: CyReference, lock: boolean): void => {\n\n  const main = cyReference.main\n  if(main === undefined || main === null) {\n    return\n  }\n\n  if(lock) {\n    main.boxSelectionEnabled( !lock )\n    main.nodes().ungrabify()\n    main.nodes().lock()\n    main.elements().unselectify()\n  } else {\n    main.boxSelectionEnabled( !lock )\n    main.nodes().grabify()\n    main.nodes().unlock()\n    main.elements().selectify()\n  }\n\n}\n\nexport { fitContent, lockMainWindow }\n","import UIState from '../model/UIState'\n\nexport type UIStateAction = {\n  type: string\n  uiState: any\n}\n\nexport const UIStateActions = {\n  SET_DATA_PANEL_OPEN: 'setDataPanelOpen',\n  SET_SHOW_SEARCH_RESULT: 'setShowSearchResult',\n  SET_RIGHT_PANEL_WIDTH: 'setRightPanelWidth',\n  SET_SHOW_PROP_PANEL_TRUE: 'setShowPropPanelTrue',\n  SET_SHOW_PROP_PANEL_FALSE: 'setShowPropPanelFalse',\n  SET_MAIN_NETWORK_NOT_DISPLAYED: 'setMainNetworkNotDisplayed',\n  SET_ACTIVE_TAB: 'setActiveTab',\n}\n\nexport const INITIAL_UI_STATE: UIState = {\n  dataPanelOpen: true,\n  showSearchResult: false,\n  rightPanelWidth: 0,\n  mainNetworkNotDisplayed: false,\n  activeTab: 0,\n}\n\nconst uiStateReducer = (state: UIState, action: UIStateAction): UIState => {\n  switch (action.type) {\n    case UIStateActions.SET_DATA_PANEL_OPEN:\n      return { ...state, dataPanelOpen: action.uiState.dataPanelOpen }\n    case UIStateActions.SET_SHOW_SEARCH_RESULT:\n      return { ...state, showSearchResult: action.uiState.showSearchResult }\n    case UIStateActions.SET_RIGHT_PANEL_WIDTH:\n      return { ...state, rightPanelWidth: action.uiState.rightPanelWidth }\n    case UIStateActions.SET_MAIN_NETWORK_NOT_DISPLAYED:\n      return {\n        ...state,\n        mainNetworkNotDisplayed: action.uiState.mainNetworkNotDisplayed,\n      }\n    case UIStateActions.SET_ACTIVE_TAB:\n      return { ...state, activeTab: action.uiState.activeTab }\n    default:\n      throw new Error('Invalid action')\n  }\n}\n\nexport default uiStateReducer\n","import React, { useContext, useState, useEffect } from 'react'\nimport { IconButton } from '@material-ui/core'\nimport AppContext from '../../context/AppState'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport FullScreenIcon from '@material-ui/icons/Fullscreen'\nimport ExitFullScreenIcon from '@material-ui/icons/FullscreenExit'\nimport { fitContent, lockMainWindow } from '../../utils/cyjsUtil'\nimport { UIStateActions } from '../../reducer/uiStateReducer'\nimport UIState from '../../model/UIState'\n\nconst ExpandButton = () => {\n  const { uiState, uiStateDispatch, cyReference, query } = useContext(\n    AppContext,\n  )\n  const { showSearchResult } = uiState\n\n  const [hide, setHide] = useState<boolean>(true)\n\n  useEffect(() => {\n    if (query === '' && !showSearchResult) {\n      setHide(true)\n    } else {\n      setHide(false)\n    }\n  }, [showSearchResult, query])\n\n  const setShowSearchResult = (state: UIState) =>\n    uiStateDispatch({\n      type: UIStateActions.SET_SHOW_SEARCH_RESULT,\n      uiState: state,\n    })\n\n  const handleClick = () => {\n    setShowSearchResult({ ...uiState, showSearchResult: !showSearchResult })\n    setTimeout(() => {\n      fitContent(cyReference)\n      lockMainWindow(cyReference, !showSearchResult)\n    }, 100)\n  }\n\n  const tooltip = showSearchResult\n    ? 'Maximize the main network view'\n    : 'Back to split view'\n\n  if (hide) {\n    return <div />\n  }\n\n  return (\n    <Tooltip title={tooltip} placement=\"right\" arrow>\n      <div>\n        <IconButton\n          color={'secondary'}\n          style={{ backgroundColor: 'transparent' }}\n          disableFocusRipple={true}\n          disableRipple={true}\n          onClick={handleClick}\n        >\n          {showSearchResult ? <FullScreenIcon /> : <ExitFullScreenIcon />}\n        </IconButton>\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default ExpandButton\n","import React, { useContext, useState } from 'react'\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\nimport IconButton from '@material-ui/core/IconButton'\n\nimport FitIcon from '@material-ui/icons/ZoomOutMap'\nimport ZoomInIcon from '@material-ui/icons/ZoomIn'\nimport ZoomOutIcon from '@material-ui/icons/ZoomOut'\n\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport AppContext from '../../context/AppState'\n\nimport ExpandButton from './ExpandButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      zIndex: 300,\n      borderRadius: 5,\n      border: '1px solid #DDDDDD',\n      backgroundColor: '#FFFFFF',\n      position: 'absolute',\n      right: '1em',\n      bottom: '1em',\n    },\n    subnet: {\n      width: '100%',\n      height: '100%',\n      backgroundColor: '#AAAAAA',\n    },\n  }),\n)\n\nconst NavigationPanel = ({ target = 'main' }) => {\n  const classes = useStyles()\n  const { cyReference, lgrReference } = useContext(AppContext)\n\n  let cy = cyReference.main\n  if (target === 'sub') {\n    cy = cyReference.sub\n  }\n\n  const handleFit = (evt) => {\n    if (cy !== null && cy !== undefined) {\n      cy.fit()\n    } else if (lgrReference !== undefined && lgrReference !== null) {\n      // @ts-ignore\n      lgrReference.fit()\n    }\n  }\n  const handleZoomIn = (evt) => {\n    if (cy !== null && cy !== undefined) {\n      const currentZoom = cy.zoom()\n      const newLevel = currentZoom * 1.2\n      cy.zoom(newLevel)\n    } else if (lgrReference !== undefined && lgrReference !== null) {\n      // @ts-ignore\n      lgrReference.zoomIn()\n    }\n  }\n  const handleZoomOut = (evt) => {\n    if (cy !== null && cy !== undefined) {\n      const currentZoom = cy.zoom()\n      const newLevel = currentZoom * 0.8\n      cy.zoom(newLevel)\n    } else if (lgrReference !== undefined && lgrReference !== null) {\n      // @ts-ignore\n      lgrReference.zoomOut()\n    }\n  }\n\n  return (\n    <ButtonGroup\n      className={classes.root}\n      orientation=\"vertical\"\n      color=\"secondary\"\n      variant=\"outlined\"\n      disableFocusRipple={true}\n      disableRipple={true}\n    >\n      {target === 'main' ? <ExpandButton /> : <div />}\n      <IconButton\n        key={'fitButton'}\n        color={'secondary'}\n        style={{ backgroundColor: 'transparent' }}\n        onClick={handleFit}\n      >\n        <FitIcon />\n      </IconButton>\n      {cy === null || cy === undefined ? (\n        <div />\n      ) : (\n        [\n          <IconButton\n            key={'zoomInButton'}\n            color={'secondary'}\n            style={{ backgroundColor: 'transparent' }}\n            onClick={handleZoomIn}\n          >\n            <ZoomInIcon />\n          </IconButton>,\n          <IconButton\n            key={'zoomOutButton'}\n            color={'secondary'}\n            style={{ backgroundColor: 'transparent' }}\n            onClick={handleZoomOut}\n          >\n            <ZoomOutIcon />\n          </IconButton>,\n        ]\n      )}\n    </ButtonGroup>\n  )\n}\n\nexport default NavigationPanel\n","import React, { useContext, useState } from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport AppContext from '../../context/AppState'\nimport WarningIcon from '@material-ui/icons/Warning'\nimport { saveQuery } from '../../hooks/useSearch'\nimport { Button } from '@material-ui/core'\nimport { useParams } from 'react-router-dom'\nimport Snackbar from '@material-ui/core/Snackbar'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      boxSizing: 'border-box',\n      display: 'grid',\n      width: '100%',\n      height: '100%',\n      placeItems: 'center',\n      background: '#FFFFFF',\n      zIndex: 0\n    },\n    item: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      padding: '1em',\n      width: '60%',\n    },\n    message: {\n      padding: '0.5em',\n      color: '#999999',\n      textAlign: 'center',\n    },\n    title: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    arrow1: {\n      position: 'fixed',\n      color: '#999999',\n      bottom: '2vh',\n      left: '1vw',\n      fontSize: '7em',\n    },\n    warningIcon: {\n      color: 'red',\n      fontSize: '7em',\n    },\n  }),\n)\n\n\n\nconst EdgeLimitExceededPanel = () => {\n  const classes = useStyles()\n  \n  const { uuid } = useParams()\n\n  const [snackMessage, setSnackMessage] = useState(undefined)\n\n  const { query, queryMode, ndexCredential, config } = useContext(AppContext)\n  \n  const handleSave = () => {\n    saveQuery(uuid, query, config.ndexHttps, ndexCredential, queryMode).then(() => {\n      setSnackMessage('Query is being saved to NDEx')}\n    )\n  }\n  \n  const handleClose = () => {\n    setSnackMessage(undefined)\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.item}>\n        <div className={classes.title}>\n          <Typography className={classes.message} variant=\"h3\">\n           \n          </Typography>\n        </div>\n        <Typography className={classes.message} variant=\"subtitle1\">\n          Your query returned more than {config.maxEdgeQuery} and cannot be displayed in the browser.<br/> \n          { ndexCredential.isLogin ? 'You can save this sub-network to NDEx to continue working with it.' : 'Please log in so that the result can be saved to your NDEx account' }\n        </Typography>\n        { ndexCredential.isLogin && <Button onClick={handleSave} variant='contained'>Save Result to NDEx</Button> }\n        <Snackbar\n          open={snackMessage != undefined}\n          anchorOrigin={ {vertical: 'top', horizontal: 'center' }}\n          autoHideDuration={6000}\n          onClose={handleClose}\n          message={snackMessage}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default EdgeLimitExceededPanel\n","import React, { FC, useContext, useEffect, useState, useRef } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport LGRPanel from './LGRPanel'\nimport CytoscapeRenderer from '../CytoscapeRenderer'\nimport AppContext from '../../context/AppState'\nimport { useParams } from 'react-router-dom'\nimport { Typography } from '@material-ui/core'\nimport useSearch from '../../hooks/useSearch'\nimport { AutoSizer } from 'react-virtualized'\nimport Loading from './Loading'\nimport { SelectionActions } from '../../reducer/selectionStateReducer'\nimport CyReference from '../../model/CyReference'\nimport { CyActions } from '../../reducer/cyReducer'\nimport {\n  getCyjsLayout,\n  getEdgeCount,\n  getLgrLayout,\n  getNetworkBackgroundColor,\n  getNodeCount,\n} from '../../utils/cxUtil'\nimport EmptyView from './EmptyView'\nimport Popup from '../Popup'\nimport NavigationPanel from '../NavigationPanel'\nimport EdgeLimitExceededPanel from '../FooterPanel/EdgeLimitExceededPanel'\nimport SplitPane from 'react-split-pane'\nimport UIState from '../../model/UIState'\nimport { UIStateActions } from '../../reducer/uiStateReducer'\nimport { NodeView, EdgeView } from 'large-graph-renderer'\n\nconst splitBorder = '1px solid #BBBBBB'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    rootA: {\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n    },\n    subnet: {\n      width: '100%',\n      zIndex: 10,\n    },\n    lowerPanel: {\n      flexGrow: 1,\n      width: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      position: 'relative',\n      height: '100%',\n      zIndex: 100,\n    },\n    title: {\n      position: 'fixed',\n      paddingTop: '1em',\n      left: '1em',\n      color: 'rgba(100,100,100,0.7)',\n      zIndex: 100,\n      width: '8em',\n    },\n    expandButton: {\n      position: 'fixed',\n      bottom: '5em',\n      left: '1em',\n      color: 'rgba(100,100,100,1)',\n      zIndex: 100,\n    },\n  }),\n)\n\nconst LAYOUT_TH = 1000\n\ntype ViewProps = {\n  renderer: string\n  objectCount: number\n  cxDataSize: number\n  isWebGL2: boolean\n  cx: object[]\n  setSubCx: Function\n  noView: boolean\n}\n\nconst NetworkPanel: FC<ViewProps> = ({\n  cx,\n  renderer,\n  objectCount,\n  cxDataSize,\n  isWebGL2,\n  setSubCx,\n  noView,\n}: ViewProps) => {\n  const classes = useStyles()\n  const { uuid } = useParams()\n  const [busy, setBusy] = useState(false)\n  const defSize = window.innerHeight * 0.3\n  const minSize = window.innerHeight * 0.1\n  const [size, setSize] = useState(defSize)\n  const [subHeight, setSubHeight] = useState(0)\n\n  const {\n    query,\n    queryMode,\n    uiStateDispatch,\n    uiState,\n    cyDispatch,\n    cyReference,\n    selectionState,\n    selectionStateDispatch,\n    config,\n    ndexCredential,\n    summary,\n    setSummary,\n  } = useContext(AppContext)\n\n  const searchResult = useSearch(\n    uuid,\n    query,\n    config.ndexHttps,\n    ndexCredential,\n    queryMode,\n    config.maxEdgeQuery,\n  )\n\n  const handleDrag = (newSize) => {\n    setSize(newSize)\n  }\n\n  const { maxNumObjects } = config\n  const { showSearchResult } = uiState\n\n  const usePrevious = (val) => {\n    const ref = useRef()\n    useEffect(() => {\n      ref.current = val\n    })\n    return ref.current\n  }\n\n  const subnet = searchResult.data\n  let subCx\n  if (subnet !== undefined) {\n    subCx = subnet['cx']\n    setSubCx(subCx)\n  }\n\n  const last = usePrevious(subCx)\n\n  const getObjectCount = (countFunction, subCx) => {\n    const count = countFunction(subCx)\n    return count ? count : 0\n  }\n\n  const edgeLimitExceeded =\n    subnet !== undefined ? subnet['edgeLimitExceeded'] : false\n\n  useEffect(() => {\n    if (subCx === undefined) {\n      return\n    }\n\n    if (last !== subCx) {\n      const subnetworkNodeCount = getObjectCount(getNodeCount, subCx)\n      const subnetworkEdgeCount = getObjectCount(getEdgeCount, subCx)\n\n      setSummary({\n        ...summary,\n        subnetworkNodeCount: subnetworkNodeCount,\n        subnetworkEdgeCount: subnetworkEdgeCount,\n      })\n    }\n  }, [searchResult])\n\n  const mainEventHandlers = {\n    setSelectedNodesAndEdges: (\n      nodes,\n      edges,\n      lastSelectedType,\n      lastSelectedId,\n      lastSelectedCoordinates,\n    ) => {\n      if (lastSelectedType) {\n        selectionStateDispatch({\n          type: SelectionActions.SET_MAIN_NODES_AND_EDGES,\n          selectionState: {\n            ...selectionState,\n            main: { nodes: nodes, edges: edges },\n            lastSelected: {\n              isNode: lastSelectedType === 'node',\n              fromMain: true,\n              id: lastSelectedId,\n              showPropPanel: true,\n              coordinates: lastSelectedCoordinates,\n            },\n          },\n        })\n      } else {\n        selectionStateDispatch({\n          type: SelectionActions.SET_MAIN_NODES_AND_EDGES,\n          selectionState: {\n            ...selectionState,\n            main: { nodes: nodes, edges: edges },\n            lastSelected: {\n              isNode: null,\n              fromMain: true,\n              id: null,\n              showPropPanel: false,\n              coordinates: null,\n            },\n          },\n        })\n      }\n      //Set active tab if multiple select\n      if (nodes.length > 1 || edges.length > 1) {\n        if (lastSelectedType === 'node' && nodes.length > 1) {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: 1,\n            },\n          })\n        } else if (lastSelectedType === 'edge' && edges.length > 1) {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: 2,\n            },\n          })\n        } else if (nodes.length > 1) {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: 1,\n            },\n          })\n        } else {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: 2,\n            },\n          })\n        }\n      }\n      //Handle deselects\n      if (uiState.activeTab === 1 && nodes.length <= 1) {\n        uiStateDispatch({\n          type: UIStateActions.SET_ACTIVE_TAB,\n          uiState: {\n            ...uiState,\n            activeTab: 0,\n          },\n        })\n      } else if (uiState.activeTab === 2 && edges.length <= 1) {\n        uiStateDispatch({\n          type: UIStateActions.SET_ACTIVE_TAB,\n          uiState: {\n            ...uiState,\n            activeTab: 0,\n          },\n        })\n      }\n    },\n    clearAll: () => {\n      selectionStateDispatch({\n        type: SelectionActions.CLEAR_ALL_MAIN,\n      })\n      uiStateDispatch({\n        type: UIStateActions.SET_ACTIVE_TAB,\n        uiState: {\n          ...uiState,\n          activeTab: 0,\n        },\n      })\n    },\n  }\n\n  const subEventHandlers = {\n    setSelectedNodesAndEdges: (\n      nodes,\n      edges,\n      lastSelectedType,\n      lastSelectedId,\n      lastSelectedCoordinates,\n    ) => {\n      if (lastSelectedType) {\n        selectionStateDispatch({\n          type: SelectionActions.SET_SUB_NODES_AND_EDGES,\n          selectionState: {\n            ...selectionState,\n            sub: { nodes: nodes, edges: edges },\n            lastSelected: {\n              isNode: lastSelectedType === 'node',\n              fromMain: false,\n              id: lastSelectedId,\n              showPropPanel: true,\n              coordinates: lastSelectedCoordinates,\n            },\n          },\n        })\n      } else {\n        selectionStateDispatch({\n          type: SelectionActions.SET_SUB_NODES_AND_EDGES,\n          selectionState: {\n            ...selectionState,\n            sub: { nodes: nodes, edges: edges },\n            lastSelected: { showPropPanel: false },\n          },\n        })\n      }\n      //Set active tab if multiple select\n      if (nodes.length > 1 || edges.length > 1) {\n        if (lastSelectedType !== null) {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: lastSelectedType === 'node' ? 1 : 2,\n            },\n          })\n        } else if (nodes.length > 1) {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: 1,\n            },\n          })\n        } else {\n          uiStateDispatch({\n            type: UIStateActions.SET_ACTIVE_TAB,\n            uiState: {\n              ...uiState,\n              activeTab: 2,\n            },\n          })\n        }\n      }\n    },\n    clearAll: () => {\n      selectionStateDispatch({\n        type: SelectionActions.CLEAR_ALL_SUB,\n      })\n      uiStateDispatch({\n        type: UIStateActions.SET_ACTIVE_TAB,\n        uiState: {\n          ...uiState,\n          activeTab: 0,\n        },\n      })\n    },\n  }\n\n  const lgrEventHandlers = {\n    setSelectedNodeOrEdge: (id, lastSelectedType, lastSelectedCoordinates) => {\n      if (lastSelectedType === 'node') {\n        selectionStateDispatch({\n          type: SelectionActions.SET_MAIN_NODES_AND_EDGES,\n          selectionState: {\n            ...selectionState,\n            main: {\n              nodes: [id],\n              edges: [],\n            },\n            lastSelected: {\n              isNode: true,\n              fromMain: true,\n              id: id,\n              showPropPanel: true,\n              coordinates: lastSelectedCoordinates,\n            },\n          },\n        })\n      } else {\n        selectionStateDispatch({\n          type: SelectionActions.SET_MAIN_NODES_AND_EDGES,\n          selectionState: {\n            ...selectionState,\n            main: {\n              nodes: [],\n              edges: [id],\n            },\n            lastSelected: {\n              isNode: false,\n              fromMain: true,\n              id: id,\n              showPropPanel: true,\n              coordinates: lastSelectedCoordinates,\n            },\n          },\n        })\n      }\n    },\n    setSelectedObjects: (nodes: NodeView[], edges: EdgeView[]): void => {\n      const nodeIds = nodes.map((nv) => nv.id)\n      const edgeIds = edges.map((ev) => ev.id)\n      selectionStateDispatch({\n        type: SelectionActions.SET_MAIN_NODES_AND_EDGES,\n        selectionState: {\n          ...selectionState,\n          main: {\n            nodes: nodeIds,\n            edges: edgeIds,\n          },\n        },\n      })\n    },\n    clearAll: () => {\n      selectionStateDispatch({ type: SelectionActions.CLEAR_ALL_MAIN })\n      uiStateDispatch({\n        type: UIStateActions.SET_ACTIVE_TAB,\n        uiState: {\n          ...uiState,\n          activeTab: 0,\n        },\n      })\n    },\n  }\n\n  const setMain = (cy: CyReference) =>\n    cyDispatch({ type: CyActions.SET_MAIN, cyReference: cy })\n  const setSub = (cy: CyReference) =>\n    cyDispatch({ type: CyActions.SET_SUB, cyReference: cy })\n  const setMainNetworkNotDisplayed = (state: UIState) =>\n    uiStateDispatch({\n      type: UIStateActions.SET_MAIN_NETWORK_NOT_DISPLAYED,\n      uiState: state,\n    })\n\n  const getMainRenderer = (renderer: string) => {\n    // Make sure renderer can display network\n    if (!isWebGL2 && objectCount > config.viewerThreshold) {\n      if (!uiState.mainNetworkNotDisplayed) {\n        setMainNetworkNotDisplayed({\n          ...uiState,\n          mainNetworkNotDisplayed: true,\n        })\n      }\n      return (\n        <EmptyView\n          showIcons={!uiState.showSearchResult}\n          title=\"Browser not supported\"\n          message={`Your browser cannot display large network data. \n            Please use supported browsers, such as Chrome or Firefox, \n            to view large networks. (Still, you can query the network \n              using the query function below.)`}\n        />\n      )\n    } else if (\n      objectCount > maxNumObjects ||\n      cxDataSize > config.maxDataSize ||\n      noView\n    ) {\n      if (!uiState.mainNetworkNotDisplayed) {\n        setMainNetworkNotDisplayed({\n          ...uiState,\n          mainNetworkNotDisplayed: true,\n        })\n      }\n      let title = 'Large Network Entry Selected'\n      let message = `There are ${objectCount} objects in this network and it is too large to display at once. \n          You can use the query functions below to extract sub-networks.`\n      if (noView) {\n        title = 'No Network View Mode'\n        message =\n          'To explore this network, you can use the query functions below to extract sub-networks.'\n      }\n      return (\n        <EmptyView\n          showIcons={!uiState.showSearchResult}\n          title={title}\n          message={message}\n        />\n      )\n    }\n\n    const bgColor = getNetworkBackgroundColor(cx)\n    if (renderer !== 'lgr') {\n      const layout = getCyjsLayout(cx, LAYOUT_TH)\n      return (\n        <CytoscapeRenderer\n          uuid={uuid}\n          cx={cx}\n          layoutName={layout}\n          setCyReference={setMain}\n          eventHandlers={mainEventHandlers}\n          backgroundColor={bgColor}\n        />\n      )\n    } else {\n      const layout = getLgrLayout(cx)\n      return (\n        <LGRPanel\n          cx={cx}\n          eventHandlers={lgrEventHandlers}\n          selectedNodes={selectionState.main.nodes}\n          selectedEdges={selectionState.main.edges}\n          backgroundColor={bgColor}\n          layoutName={layout}\n          pickable={!showSearchResult}\n        />\n      )\n    }\n  }\n\n  let border = 'none'\n  const getSubRenderer = () => {\n    // Case 1:\n    if (!searchResult.isLoading && subCx === undefined && showSearchResult) {\n      const message = 'No search result yet.'\n      return <Loading message={message} showLoading={false} />\n    }\n\n    if (searchResult.isLoading && subCx === undefined && showSearchResult) {\n      // let showLoading = busy\n      let message = 'Loading subnetwork...'\n      return <Loading message={message} showLoading={true} />\n    }\n\n    if (edgeLimitExceeded) {\n      return <EdgeLimitExceededPanel />\n    }\n\n    const count = summary.subnetworkNodeCount + summary.subnetworkEdgeCount\n\n    if (count === 0 && showSearchResult) {\n      return (\n        <Loading\n          message={'No nodes matching your query were found in this network.'}\n          showLoading={false}\n        />\n      )\n    }\n\n    if (\n      searchResult.status === 'success' &&\n      !searchResult.isLoading &&\n      subCx !== undefined &&\n      showSearchResult\n    ) {\n      const layout = getCyjsLayout(subCx, LAYOUT_TH)\n      // For showing border between top and bottom panels\n      border = splitBorder\n      const bgColor = getNetworkBackgroundColor(subCx)\n      return (\n        <div style={{ width: '100%', height: '100%', borderTop: border }}>\n          <CytoscapeRenderer\n            uuid={uuid}\n            cx={subCx}\n            eventHandlers={subEventHandlers}\n            layoutName={layout}\n            setBusy={setBusy}\n            setCyReference={setSub}\n            backgroundColor={bgColor}\n          />\n        </div>\n      )\n    } else {\n      const message = 'Could not get the query result.  Please try again.'\n      return <Loading message={message} showLoading={true} />\n    }\n  }\n\n  const topStyle = { background: '#FFFFFF', zIndex: 0 }\n  const bottomStyle = { background: '#FFFFFF', zIndex: 10 }\n  return (\n    <div className={classes.rootA}>\n      <Popup\n        cx={uiState.mainNetworkNotDisplayed ? subCx : cx}\n        subHeight={subHeight}\n      />\n      {showSearchResult ? (\n        <SplitPane\n          split=\"horizontal\"\n          pane2Style={bottomStyle}\n          pane1Style={topStyle}\n          size={size}\n          minSize={minSize}\n          maxSize={0}\n          onDragFinished={handleDrag}\n        >\n          <div className={classes.lowerPanel}>\n            <NavigationPanel target={'main'} />\n            {!showSearchResult ? (\n              <div />\n            ) : (\n              <Typography className={classes.title}>Overview</Typography>\n            )}\n            {getMainRenderer(renderer)}\n          </div>\n          <AutoSizer disableWidth>\n            {({ height, width }) => {\n              if (height !== subHeight) {\n                setSubHeight(height)\n              }\n              return (\n                <div className={classes.subnet} style={{ height: height }}>\n                  {showSearchResult ? (\n                    <NavigationPanel target={'sub'} />\n                  ) : (\n                    <div />\n                  )}\n                  {getSubRenderer()}\n                </div>\n              )\n            }}\n          </AutoSizer>\n        </SplitPane>\n      ) : (\n        <div className={classes.lowerPanel}>\n          <NavigationPanel target={'main'} />\n          {!showSearchResult ? (\n            <div />\n          ) : (\n            <Typography className={classes.title}>Overview</Typography>\n          )}\n          {getMainRenderer(renderer)}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default NetworkPanel\n","import React, { FC, ReactNode, useState, useEffect } from 'react'\nimport { Collapse, makeStyles, Theme, Typography } from '@material-ui/core'\nimport { ExpandLess, ExpandMore } from '@material-ui/icons'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  collapsiblePanelTitle: {\n    padding: theme.spacing(1),\n    borderTop: `1px solid ${theme.palette.divider}`,\n    borderBottom: `1px solid ${theme.palette.divider}`,\n    '&:hover': {\n      backgroundColor: 'rgba(0, 0, 0, 0.04) !important',\n      cursor: 'pointer',\n    },\n    height: '2.8em',\n  },\n  collapsiblePanel: {\n    paddingBottom: theme.spacing(2)\n  },\n  expandIcon: {\n    float: 'right',\n  },\n}))\n\ntype CollapsiblePanelProps = {\n  openByDefault?: boolean\n  title: string\n  children: ReactNode\n  backgroundColor?: string,\n  className?: string,\n  open: boolean,\n  setOpen: (boolean) => void\n}\n\nconst CollapsiblePanel: FC<CollapsiblePanelProps> = ({\n  openByDefault = true,\n  title = '?',\n  children,\n  backgroundColor,\n  open,\n  setOpen\n\n}) => {\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    console.log(open)\n  }, [])\n\n  const _handleClick = () => {\n    setOpen(!open)\n  }\n\n  return (\n    <>\n      <div\n        onClick={_handleClick}\n        className={classes.collapsiblePanelTitle}\n        style={{ backgroundColor }}\n      >\n        <Typography variant=\"subtitle2\" color=\"textSecondary\">\n          {title}\n          {open ? (\n            <ExpandLess className={classes.expandIcon} />\n          ) : (\n            <ExpandMore className={classes.expandIcon} />\n          )}\n        </Typography>\n      </div>\n      <div style={{ minHeight: 'auto' }}>\n        <Collapse\n          in={open}\n          timeout=\"auto\"\n          unmountOnExit\n          className={classes.collapsiblePanel}\n          style={{ backgroundColor, marginBottom: '-16px' }}\n        >\n          {children}\n        </Collapse>\n      </div>\n    </>\n  )\n}\n\nexport default CollapsiblePanel\n","import React from 'react'\nimport { Typography, makeStyles, Theme } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(1),\n  },\n  segmentTitle: {\n    marginTop: theme.spacing(1),\n  },\n}))\n\nconst NetworkPropertySegment = (props) => {\n  const { summary, details } = props\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      {summary ? (\n        <Typography\n          variant=\"caption\"\n          color=\"textSecondary\"\n          display=\"block\"\n          className={classes.segmentTitle}\n        >\n          {summary}\n        </Typography>\n      ) : null}\n      <Typography variant=\"body2\" display=\"block\" component=\"div\">\n        {details}\n      </Typography>\n    </div>\n  )\n}\n\nexport default NetworkPropertySegment\n","import React, { FC } from 'react'\nimport { makeStyles } from '@material-ui/styles'\nimport Linkify from 'linkify-react'\nimport parse from 'html-react-parser'\nimport CollapsiblePanel from './CollapsiblePanel'\nimport NetworkPropertySegment from './NetworkPropertySegment'\nimport { NetworkPanelState } from '..'\nimport { Theme } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  wrapper: {\n    height: '100%',\n    maxHeight: '100%',\n    minHeight: '100%',\n    overflowY: 'hidden',\n    paddingBottom: '3.1em',\n    background: 'inherit',\n  },\n\n  innerWrapper: {\n    height: '100%',\n    background: 'white',\n    overflowY: 'auto',\n    // maxHeight: '80%',\n  },\n  table: {\n    cellSpacing: 0,\n    borderSpacing: 0,\n    borderCollapse: 'collapse',\n  },\n  tdTitle: {\n    whiteSpace: 'nowrap',\n    paddingRight: '1em',\n    paddingLeft: 0,\n    verticalAlign: 'top',\n  },\n  tdContent: {\n    wordWrap: 'break-word',\n    wordBreak: 'break-all',\n    verticalAlign: 'top',\n  },\n\n  icon: {\n    verticalAlign: 'middle',\n    height: '0.9em',\n    marginLeft: theme.spacing(1),\n  },\n}))\n\nconst NetworkProperties: FC<{\n  summary: any\n  panelState: NetworkPanelState\n  setPanelState: (state: NetworkPanelState) => void\n}> = ({ summary, panelState, setPanelState }) => {\n  const properties = summary.properties\n  const description = summary.description\n  const classes = useStyles()\n\n  const _handleInfoOpen = (val: boolean) => {\n    setPanelState({ ...panelState, netInfoOpen: val })\n  }\n\n  const _handleDescriptionOpen = (val: boolean) => {\n    setPanelState({ ...panelState, descriptionOpen: val })\n  }\n\n  const _handlePropsOpen = (val: boolean) => {\n    setPanelState({ ...panelState, propsOpen: val })\n  }\n  let informationDisplay\n  let descriptionDisplay\n  let propertiesDisplay\n\n  //Information display\n  const informationTableContents = []\n  if (summary.owner) {\n    informationTableContents.push(\n      <tr key=\"owner\">\n        <td className={classes.tdTitle}>Owner</td>\n        <td className={classes.tdContent}>{summary.owner}</td>\n      </tr>,\n    )\n  }\n  if (summary.creationTime) {\n    const creationDate = new Date(summary.creationTime)\n    informationTableContents.push(\n      <tr key=\"created\">\n        <td className={classes.tdTitle}>Created</td>\n        <td className={classes.tdContent}>\n          {creationDate.toLocaleDateString() +\n            ' ' +\n            creationDate.toLocaleTimeString()}\n        </td>\n      </tr>,\n    )\n  }\n  if (summary.modificationTime) {\n    const modificationDate = new Date(summary.modificationTime)\n    informationTableContents.push(\n      <tr key=\"lastModified\">\n        <td className={classes.tdTitle}>Last modified</td>\n        <td className={classes.tdContent}>\n          {modificationDate.toLocaleDateString() +\n            ' ' +\n            modificationDate.toLocaleTimeString()}\n        </td>\n      </tr>,\n    )\n  }\n  if (summary.externalId) {\n    informationTableContents.push(\n      <tr key=\"uuid\">\n        <td className={classes.tdTitle}>UUID</td>\n        <td className={classes.tdContent}>{summary.externalId}</td>\n      </tr>,\n    )\n  }\n  if (summary.version) {\n    informationTableContents.push(\n      <tr key=\"version\">\n        <td className={classes.tdTitle}>Version</td>\n        <td className={classes.tdContent}>{summary.version}</td>\n      </tr>,\n    )\n  }\n  if (summary.visibility) {\n    if (\n      summary.indexLevel &&\n      (summary.indexLevel === 'ALL' || summary.indexLevel === 'META')\n    ) {\n      informationTableContents.push(\n        <tr key=\"visibility\">\n          <td className={classes.tdTitle}>Visibility</td>\n          <td className={classes.tdContent} valign=\"middle\">\n            P{summary.visibility.toLowerCase().slice(1)} (searchable)\n          </td>\n        </tr>,\n      )\n    } else {\n      informationTableContents.push(\n        <tr key=\"visibility\">\n          <td className={classes.tdTitle}>Visibility</td>\n          <td className={classes.tdContent}>\n            P{summary.visibility.toLowerCase().slice(1)} (not searchable)\n          </td>\n        </tr>,\n      )\n    }\n  }\n  if (informationTableContents.length > 0) {\n    const informationList = [\n      [\n        null,\n        <table className={classes.table}>\n          <tbody>{informationTableContents}</tbody>\n        </table>,\n      ],\n    ]\n    informationDisplay = formatDisplay(informationList)\n  }\n\n  //Properties display\n  const propertiesTableContent = []\n  let rights\n  let rightsHolder\n  let reference\n  for (let property of properties) {\n    const value = property.value.trim()\n    const predicate = property.predicateString.trim()\n    if (value !== '' && !predicate.startsWith('__')) {\n      if (predicate === '@context') {\n        continue\n      } else if (predicate === 'rights') {\n        if (value.includes('|')) {\n          const [url, text] = value.split('|')\n          rights = '<a target=\"_blank\" href=\"' + url + '\">' + text + '</a>'\n        } else {\n          rights = value\n        }\n      } else if (predicate === 'rightsHolder') {\n        rightsHolder = value\n      } else if (predicate === 'reference') {\n        reference = value\n      } else {\n        propertiesTableContent.push(\n          <tr key={predicate}>\n            <td className={classes.tdTitle}>{formatTitle(predicate)}</td>\n            <td className={classes.tdContent}>{formatContent(value)}</td>\n          </tr>,\n        )\n      }\n    }\n  }\n  if (propertiesTableContent.length > 0) {\n    propertiesDisplay = formatDisplay([\n      [\n        null,\n        <table className={classes.table}>\n          <tbody>{propertiesTableContent}</tbody>\n        </table>,\n      ],\n    ])\n  }\n\n  //Description display\n  const descriptionList = []\n  if (description !== undefined && description.length > 0) {\n    descriptionList.push([null, formatDescription(description)])\n  }\n  if (rights || rightsHolder) {\n    const rightsTable = (\n      <table className={classes.table}>\n        <tbody>\n          {rights ? (\n            <tr>\n              <td className={classes.tdTitle}>Rights</td>\n              <td className={classes.tdContent}>{formatContent(rights)}</td>\n            </tr>\n          ) : null}\n          {rightsHolder ? (\n            <tr>\n              <td className={classes.tdTitle}>Rights holder</td>\n              <td className={classes.tdContent}>\n                {formatContent(rightsHolder)}\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </table>\n    )\n    descriptionList.push(['Rights', rightsTable])\n  }\n  if (reference) {\n    descriptionList.push(['Reference', formatContent(reference)])\n  }\n  if (descriptionList.length > 0) {\n    descriptionDisplay = formatDisplay(descriptionList)\n  }\n\n  let darkBackground = 0\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.innerWrapper}>\n        {informationDisplay ? (\n          <CollapsiblePanel\n            title=\"Network information\"\n            children={informationDisplay}\n            backgroundColor={darkBackground++ % 2 === 0 ? 'inherit' : 'white'}\n            open={panelState.netInfoOpen}\n            setOpen={_handleInfoOpen}\n          />\n        ) : null}\n        {descriptionDisplay ? (\n          <CollapsiblePanel\n            title=\"Description\"\n            children={descriptionDisplay}\n            backgroundColor={darkBackground++ % 2 === 0 ? 'inherit' : 'white'}\n            open={panelState.descriptionOpen}\n            setOpen={_handleDescriptionOpen}\n          />\n        ) : null}\n        {propertiesDisplay ? (\n          <CollapsiblePanel\n            title=\"Properties\"\n            children={propertiesDisplay}\n            backgroundColor={darkBackground++ % 2 === 0 ? 'inherit' : 'white'}\n            open={panelState.propsOpen}\n            setOpen={_handlePropsOpen}\n          />\n        ) : null}\n      </div>\n    </div>\n  )\n}\n\nconst formatTitle = (string) => {\n  if (string === undefined) {\n    return\n  }\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nconst formatContent = (string) => {\n  if (string === undefined) {\n    return\n  }\n  string = string\n    .toString()\n    .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script\\ *>/gi, '')\n  string = parse(string)\n  return string\n  // return <Linkify key={`key-${Math.random()}`}>{string}</Linkify>\n}\n\nconst formatDescription = (string) => {\n  if (string === undefined) {\n    return\n  }\n  string = string\n    .toString()\n    .replace(/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script\\ *>/gi, '')\n  string = parse(string)\n  return string\n}\n\nconst formatDisplay = (propertiesList) => {\n  const display = []\n  let index = 0\n  for (let property of propertiesList) {\n    display.push(\n      <NetworkPropertySegment\n        summary={property[0]}\n        details={property[1]}\n        key={index++}\n      />,\n    )\n  }\n  return display\n}\n\nexport default NetworkProperties\n","import { useQuery } from 'react-query'\nimport NdexCredential from '../model/NdexCredential'\nimport { getAccessKey, getNdexClient } from '../utils/credentialUtil'\nimport NDExError from '../utils/error/NDExError'\n\nimport { useLocation } from \"react-router-dom\"\n\nconst summaryMap = {}\n\nasync function getNetworkSummary(\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string,\n  credential: NdexCredential,\n) {\n  const cache = summaryMap[uuid]\n\n  if (cache !== undefined) {\n    return cache\n  }\n\n  if (!credential.loaded) {\n    return undefined\n  }\n\n  const ndexUrl = `${serverUrl}/${apiVersion}`\n  try {\n    const ndexClient = getNdexClient(ndexUrl, credential)\n    let summary = null\n    if(credential.accesskey !== undefined && credential.accesskey !== '') {\n      summary = await ndexClient.getNetworkSummary(uuid, credential.accesskey)\n    } else {\n      summary = await ndexClient.getNetworkSummary(uuid)\n    }\n    summaryMap[uuid] = summary\n\n    if (!isValidSummary(summary)) {\n      throw new NDExError(summary.errorMessage, {\n        subMessage: 'The entry contains invalid data in summary',\n      })\n    }\n\n    return summary\n  } catch (e: unknown) {\n    throw new NDExError(e['message'], e)\n  }\n}\n\nconst isValidSummary = (summary: object): boolean => {\n  console.log('Summary:', summary)\n  if (summary === undefined || summary === null) {\n    return false\n  } else if (\n    summary['errorMessage'] !== '' &&\n    summary['errorMessage'] !== undefined\n  ) {\n    return false\n  }\n\n  return true\n}\n\nexport default function useNetworkSummary(\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string = 'v2',\n  credential: NdexCredential,\n) {\n\n  const location = useLocation()\n  const accessKey: string = getAccessKey(location.search)\n  if(accessKey !== null) {\n    credential.accesskey = accessKey\n  }\n\n  return useQuery(\n    ['networkSummary', uuid, serverUrl, apiVersion, credential],\n    () => getNetworkSummary(uuid, serverUrl, apiVersion, credential),\n    {\n      retry: false,\n    },\n  )\n}\n","enum TargetNodes {\n  All = 'All nodes',\n  Selected = 'Selected nodes',\n  AllResult = 'All nodes in query result',\n  SelectedResult = 'Selected nodes in query result',\n}\n\nexport default TargetNodes","import TargetNodes from './TargetNodes'\n\nexport enum DB {\n  IQUERY = 'IQuery',\n  MSIGDB = 'MSigDB',\n}\n\nexport const DB_URL = {\n  [DB.IQUERY]: 'http://iquery.ndexbio.org/?genes=',\n  [DB.MSIGDB]:\n    'https://www.gsea-msigdb.org/gsea/analysisApi?speciesName=Human&username=ndex_user&op=annotate&geneIdList=',\n}\ntype QueryState = {\n  db: DB\n  column: string\n  target: TargetNodes\n}\n\nexport default QueryState\n","import React, { FC, ReactElement, useEffect, useState } from 'react'\n\nimport {\n  FormControl,\n  InputLabel,\n  makeStyles,\n  Select,\n  Theme,\n} from '@material-ui/core'\n\nimport TargetNodes from './TargetNodes'\nimport SelectionState from '../../../../model/SelectionState'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  formControl: {\n    width: '100%',\n    '& .MuiInputBase-root': {\n      fontSize: 'inherit',\n    },\n  },\n}))\n\nconst MAIN: TargetNodes[] = [TargetNodes.All, TargetNodes.Selected]\nconst SUB: TargetNodes[] = [TargetNodes.AllResult, TargetNodes.SelectedResult]\n\nconst TargetSelector: FC<{\n  selectionState: SelectionState\n  showSearchResult: boolean\n  target: TargetNodes\n  setTarget: (TargetNodes) => void\n}> = ({\n  selectionState,\n  showSearchResult,\n  target = TargetNodes.All,\n  setTarget,\n}): ReactElement => {\n  const classes = useStyles()\n\n  useEffect(() => {\n\n    if(showSearchResult) {\n      setTarget(TargetNodes.AllResult)\n\n    }\n  }, [showSearchResult])\n\n  useEffect(() => {\n    if (showSearchResult) {\n      return\n    }\n    const mainSelection = selectionState.main\n    const mainSelectedNodes = mainSelection['nodes']\n\n    if (mainSelectedNodes.length !== 0) {\n      setTarget(TargetNodes.Selected)\n    } else {\n      setTarget(TargetNodes.All)\n    }\n  }, [selectionState.main])\n\n  useEffect(() => {\n    if (!showSearchResult) {\n      return\n    }\n\n    const subSelection = selectionState.sub\n    const subSelectedNodes = subSelection['nodes']\n\n    if (subSelectedNodes.length !== 0) {\n      setTarget(TargetNodes.SelectedResult)\n    } else {\n      setTarget(TargetNodes.AllResult)\n    }\n  }, [selectionState.sub])\n\n  const _handleChange = (event) => {\n    const { target } = event\n    const selectedValue: TargetNodes = target.value as TargetNodes\n    console.log('Event', selectedValue)\n    setTarget(selectedValue)\n  }\n\n  const entries: TargetNodes[] = showSearchResult ? SUB : MAIN\n\n  return (\n    <FormControl variant=\"standard\" className={classes.formControl}>\n      <InputLabel htmlFor=\"attr-selector\">attribute of</InputLabel>\n      <Select native value={target} onChange={_handleChange}>\n        {entries.map((val: TargetNodes) => (\n          <option key={val} value={val}>\n            {val}\n          </option>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n\nexport default TargetSelector\n","import React, { FC, useContext, useState, useEffect } from 'react'\nimport { Grid, makeStyles, Theme, Tooltip } from '@material-ui/core'\nimport AppContext from '../../../../context/AppState'\nimport useAttributes from '../../../../hooks/useAttributes'\nimport { useParams } from 'react-router-dom'\nimport TargetSelector from './TargetSelector'\nimport TargetNodes from './TargetNodes'\nimport QueryState, { DB } from './QueryState'\nimport ColumnSelector from './ColumnSelector'\nimport DBSelector from './DBSelector'\nimport StartQueryButton from './StartQueryButton'\nimport { buildUrl, getColumnNames } from './query-util'\nimport useSearch from '../../../../hooks/useSearch'\nimport { getEntry } from '../../../../utils/cxUtil'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  container: {\n    width: '100%',\n    padding: theme.spacing(2),\n    paddingBottom: 0,\n    margin: 0,\n  },\n  item: {\n    paddingLeft: theme.spacing(1),\n  },\n  flexContainer: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    padding: 0,\n    margin: 0,\n  },\n}))\n\nenum ButtonState {\n  ENABLED, // enabled\n  NO_NODES_SELECTED, // disabled, no nodes selected\n  TOO_MANY_NODES, // disabled, network contains too many nodes to query all\n  TOO_MANY_NODES_SELECTED, // disabled, too many nodes selected\n}\n\n// Maximum length of the URL\nconst MAX_URL_LENGTH = 8200\n\n// TODO: tweak this number\nconst MAX_NODE_COUNT = 500\n\nconst QueryPanel: FC<{\n  cx: any\n  queryState: QueryState\n  setQueryState: (QueryState) => void\n}> = ({ cx, queryState, setQueryState }) => {\n  //Parameters\n  const classes = useStyles()\n  const {\n    selectionState,\n    uiState,\n    query,\n    config,\n    ndexCredential,\n    queryMode,\n  } = useContext(AppContext)\n  const { showSearchResult } = uiState\n  const { uuid } = useParams()\n\n  // This custom hook always return all node attributes\n  const allNodeAttributes = useAttributes(\n    uuid,\n    cx,\n    uiState.mainNetworkNotDisplayed,\n  )['nodeAttr']\n\n  // For querying all nodes in query network\n  const searchResult = useSearch(\n    uuid,\n    query,\n    config.ndexHttps,\n    ndexCredential,\n    queryMode,\n    config.maxEdgeQuery,\n  )\n\n  const [columnNames, setColumnNames] = useState<string[]>([])\n\n  // Enable/disable button based on network and selection state\n  const [buttonState, setButtonState] = useState<ButtonState>(\n    ButtonState.ENABLED,\n  )\n\n  const [percentToReduceQuery, setPercentToReduceQuery] = useState('')\n  \n  const tooltipMessages = {\n    [ButtonState.NO_NODES_SELECTED]: 'Select nodes to run a query.',\n    [ButtonState.TOO_MANY_NODES]:\n      `This network contains too many nodes to query the ${queryState.column}` +\n      ` attribute of all nodes. Try selecting a subset or changing the attribute queried.`,\n    [ButtonState.TOO_MANY_NODES_SELECTED]:\n      `Too many nodes are selected to run this query.` +\n      ` Try selecting less than ${MAX_NODE_COUNT} nodes.`,\n  }\n\n  // Extract column names\n  useEffect(() => {\n    const sortedNames: string[] = getColumnNames(cx)\n    setColumnNames(sortedNames)\n    // Select \"name\" if available\n    _handleColumnChange('name')\n  }, [cx])\n  \n  // Initialized: Check selection state \n  useEffect(() => {\n    // const {target} = queryState\n    if(!showSearchResult && selectionState.main['nodes'].length !== 0) {\n      _handleTargetChange(TargetNodes.Selected)\n    }\n    // updateButtonState()\n  }, [])\n\n  // Watch change in targets\n  useEffect(() => {\n    const {target} = queryState\n    if(target === TargetNodes.All && showSearchResult) {\n      _handleTargetChange(TargetNodes.AllResult)\n    }\n    updateButtonState()\n    console.log('TGT:', target)\n  }, [queryState])\n  \n\n  const updateButtonState = (): void => {\n\n    const {target} = queryState\n\n    if(showSearchResult) {\n      // Sub network query mode\n      if(target === TargetNodes.SelectedResult && selectionState.sub['nodes'].length === 0) {\n        // No nodes are selected\n        setButtonState(ButtonState.NO_NODES_SELECTED)\n      } else {\n        setButtonState(ButtonState.ENABLED)\n      }\n\n    } else {\n      // Query on main network\n\n      // too big\n      const nodeCount = getEntry('nodes', cx).length\n      if(nodeCount > MAX_NODE_COUNT && target === TargetNodes.All) {\n        setButtonState(ButtonState.TOO_MANY_NODES)\n        return\n      } else if(target === TargetNodes.Selected && selectionState.main['nodes'].length > MAX_NODE_COUNT) {\n        setButtonState(ButtonState.TOO_MANY_NODES_SELECTED)\n        return\n      } \n\n      if(queryState.target === TargetNodes.Selected && selectionState.main['nodes'].length === 0) {\n        // No nodes are selected\n        setButtonState(ButtonState.NO_NODES_SELECTED)\n      } else {\n        setButtonState(ButtonState.ENABLED)\n      }\n    }\n  }\n\n  useEffect(() => {\n    updateButtonState()\n  }, [selectionState])\n\n  const _handleDBChange = (db: DB): void => {\n    setQueryState({ ...queryState, db: db })\n  }\n  const _handleColumnChange = (selectedColumnName: string): void => {\n    setQueryState({ ...queryState, column: selectedColumnName })\n  }\n  const _handleTargetChange = (val: TargetNodes): void => {\n    setQueryState({ ...queryState, target: val })\n  }\n\n  const _handleClick = () => {\n    const subnet = searchResult.data\n    let subCx\n    if (subnet !== undefined) {\n      subCx = subnet['cx']\n    }\n    // Build query string\n    const queryUrl: string = buildUrl(\n      queryState,\n      allNodeAttributes,\n      selectionState,\n      subCx,\n    )\n\n    // Open in a new page TODO: popup blocker silences this\n    window.open(queryUrl, '_blank')\n  }\n\n  return (\n    <Grid\n      className={classes.container}\n      container\n      spacing={1}\n      justify=\"flex-start\"\n      alignItems=\"center\"\n    >\n      <Grid item xs={3}>\n        <DBSelector selected={queryState.db} setSelected={_handleDBChange} />\n      </Grid>\n\n      <Grid item xs={9} className={classes.item}>\n        <ColumnSelector\n          columns={columnNames}\n          selected={queryState.column}\n          setSelected={_handleColumnChange}\n        />\n      </Grid>\n\n      <Grid item xs={8}>\n        <TargetSelector\n          selectionState={selectionState}\n          showSearchResult={showSearchResult}\n          target={queryState.target}\n          setTarget={_handleTargetChange}\n        />\n      </Grid>\n\n      <Grid item xs={4}>\n        <StartQueryButton\n          enabled={buttonState === ButtonState.ENABLED}\n          message={tooltipMessages[buttonState]}\n          onClick={_handleClick}\n        />\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default QueryPanel\n","import React, { FC, ReactElement } from 'react'\n\nimport {\n  FormControl,\n  InputLabel,\n  makeStyles,\n  Select,\n  Theme,\n} from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  formControl: {\n    width: '100%',\n    '& .MuiInputBase-root': {\n      fontSize: 'inherit',\n    },\n  },\n}))\n\nconst ColumnSelector: FC<{\n  selected: string\n  columns: string[]\n  setSelected: (string) => void\n}> = ({ selected = '', columns = [], setSelected }): ReactElement => {\n  const classes = useStyles()\n\n  const _handleChange = (event) => {\n    const { target } = event\n    const selectedValue: string = target.value\n    setSelected(selectedValue)\n  }\n\n  return (\n    <FormControl variant=\"standard\" className={classes.formControl}>\n      <InputLabel shrink htmlFor=\"attr-selector\">\n        using the data column\n      </InputLabel>\n      <Select\n        native\n        value={selected}\n        onChange={_handleChange}\n        inputProps={{\n          name: 'attr-selector',\n          id: 'attr-selector',\n        }}\n      >\n        {columns.map((name: string) => (\n          <option key={name} value={name}>\n            {name}\n          </option>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n\nexport default ColumnSelector\n","import React, { FC, ReactElement } from 'react'\n\nimport {\n  FormControl,\n  InputLabel,\n  makeStyles,\n  Select,\n  Theme,\n} from '@material-ui/core'\nimport { DB } from './QueryState'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  formControl: {\n    width: '100%',\n    '& .MuiInputBase-root': {\n      fontSize: 'inherit',\n    },\n  },\n}))\n\nconst DBSelector: FC<{\n  selected: DB\n  setSelected: (DB) => void\n}> = ({ selected = DB.IQUERY, setSelected }): ReactElement => {\n  const classes = useStyles()\n\n  const _handleChange = (event) => {\n    const { target } = event\n    const selectedValue: string = target.value\n    setSelected(selectedValue)\n  }\n\n  return (\n    <FormControl variant=\"standard\" className={classes.formControl}>\n      <InputLabel shrink htmlFor=\"service-name\">\n        Database:\n      </InputLabel>\n      <Select\n        native\n        value={selected}\n        onChange={_handleChange}\n        inputProps={{\n          name: 'service-name',\n          id: 'service-name',\n        }}\n      >\n        {Object.entries(DB).map((val: [string, string]) => (\n          <option key={val[1]} value={val[1]}>\n            {val[1]}\n          </option>\n        ))}\n      </Select>\n    </FormControl>\n  )\n}\n\nexport default DBSelector\n","import React, { FC, ReactElement } from 'react'\nimport { makeStyles, Theme, Button, Tooltip } from '@material-ui/core'\nimport SearchIcon from '@material-ui/icons/Search'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  formControl: {\n    width: '100%',\n    '& .MuiInputBase-root': {\n      fontSize: 'inherit',\n    },\n  },\n  button: {\n    width: '100%',\n    '&.MuiButton-contained': {},\n  },\n  tooltipText: {\n    fontSize: '0.875rem',\n    textAlign: 'center',\n    padding: theme.spacing(0.5),\n    lineHeight: 1.15,\n  },\n}))\n\nconst StartQueryButton: FC<{\n  enabled: boolean\n  message: string\n  onClick: () => void\n}> = ({ enabled, message, onClick }): ReactElement => {\n  const classes = useStyles()\n\n  const getButton = (disabled: boolean, variant, color) => (\n    <Button\n      variant={variant}\n      color={color}\n      disabled={disabled}\n      size=\"small\"\n      className={classes.button}\n      onClick={onClick}\n      startIcon={<SearchIcon />}\n    >\n      Query\n    </Button>\n  )\n\n  if (enabled) {\n    return getButton(false, 'outlined', 'secondary')\n  } else {\n    return (\n      <Tooltip\n        arrow\n        title={<div className={classes.tooltipText}>{message}</div>}\n      >\n        <span>{getButton(true, 'contained', 'primary')}</span>\n      </Tooltip>\n    )\n  }\n}\n\nexport default StartQueryButton\n","import SelectionState from '../../../../model/SelectionState'\nimport { getEntry } from '../../../../utils/cxUtil'\nimport QueryState, { DB_URL } from './QueryState'\nimport TargetNodes from './TargetNodes'\n\n\nconst getColumnNames = (cx: any[]): string[] => {\n  const nodeAttr = getEntry('nodeAttributes', cx)\n\n  const columnNames = new Set<string>()\n\n  let len = nodeAttr.length\n  while (len--) {\n    columnNames.add(nodeAttr[len]['n'])\n  }\n  // Insert name to the front\n  return ['name', ...Array.from(columnNames).sort()]\n}\n\nconst buildUrl = (\n  queryState: QueryState,\n  attributes: any[],\n  selectionState: SelectionState,\n  cx: any[] // Contains sub network if available\n): string => {\n  const selectedColumn = queryState.column\n  const {db, target} = queryState\n  let attrValues = new Set()\n\n  \n  if(target === TargetNodes.All) {\n    // All nodes in main network\n    const attrVals = Object.values(attributes)\n    attrVals.forEach(entry => {\n      attrValues.add(entry.get(selectedColumn))\n    })   \n  } else if(target === TargetNodes.Selected) {\n    // Selected nodes in main network\n    const selectedNodes = selectionState.main['nodes']\n    selectedNodes.forEach(node => {\n      attrValues.add(attributes[node].get(selectedColumn))\n    });\n  } else if(target === TargetNodes.AllResult) {\n    // All nodes in the query result\n    const nodes = getEntry('nodes', cx)\n    const nodeIds = nodes.map(node=>node['@id'])\n    nodeIds.forEach(node => {\n      attrValues.add(attributes[node].get(selectedColumn))\n    });\n\n    console.log(nodes, nodeIds)\n\n  } else {\n    // Selected nodes in the query result\n    const selectedNodes = selectionState.sub['nodes']\n    selectedNodes.forEach(node => {\n      attrValues.add(attributes[node].get(selectedColumn))\n    });\n\n    console.log(selectedNodes)\n  }\n  const queryString = Array.from(attrValues).sort().join(',')\n  const baseUrl = DB_URL[db.toString()]\n  return `${baseUrl}${queryString}`\n}\n\n\nexport { buildUrl, getColumnNames }\n","import { useQuery } from 'react-query'\nimport NdexCredential from '../model/NdexCredential'\n\nimport { getNdexClient } from '../utils/credentialUtil'\nimport NDExError from '../utils/error/NDExError'\n\nconst permissionsMap = {}\n\nconst getNetworkPermissions = async (\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string,\n  credential: NdexCredential,\n) => {\n  const cache = permissionsMap[uuid]\n\n  if (cache !== undefined) {\n    return cache\n  }\n\n  if (credential === undefined || !credential.loaded || !credential.isLogin) {\n    return undefined\n  }\n\n  const url = `${serverUrl}/${apiVersion}`\n  let networkPermission = null\n\n  try {\n    const ndexClient = getNdexClient(url, credential)\n    const permissions = await ndexClient.getNetworkPermissionsByUUIDs([uuid])\n    networkPermission = permissions[uuid]\n    permissionsMap[uuid] = networkPermission\n  } catch (e: unknown) {\n    throw new NDExError(e['message'], e)\n  }\n\n  return networkPermission\n}\n\nexport default function useNetworkPermissions(\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string = 'v2',\n  credential: NdexCredential,\n) {\n  return useQuery(\n    ['networkPermissions', uuid, serverUrl, apiVersion, credential],\n    () => getNetworkPermissions(uuid, serverUrl, apiVersion, credential),\n    {\n      retry: false,\n    },\n  )\n}\n","import React, { useContext, useState, VFC } from 'react'\nimport { IconButton, Button } from '@material-ui/core'\nimport ClearIcon from '@material-ui/icons/Delete'\nimport { Tooltip } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport Dialog from '@material-ui/core/Dialog'\n\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\n\nimport { getNdexClient } from '../../utils/credentialUtil'\nimport useNetworkPermissions from '../../hooks/useNetworkPermissions'\n\nimport AppContext from '../../context/AppState'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      'text-transform': 'none',\n    },\n  }),\n)\n\nconst DeleteDOIButton: VFC<{ uuid: string }> = ({ uuid }) => {\n  const classes = useStyles()\n\n  const { ndexCredential, config, summary, setSummary } = useContext(AppContext)\n  const permissions = useNetworkPermissions(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n\n  const [dialogOpen, setDialogOpen] = useState(false)\n\n  const handleDialog = (): void => {\n    setDialogOpen(true)\n  }\n\n  const handleDialogCancel = () => {\n    setDialogOpen(false)\n  }\n\n  const handleDialogOK = () => {\n    handleDeleteRequest(() =>\n      setSummary({\n        ...summary,\n        doi: undefined,\n      }),\n    )\n\n    setDialogOpen(false)\n  }\n\n  const handleDeleteRequest = (onSuccess) => {\n    const ndexClient = getNdexClient(`${config.ndexHttps}/v2`, ndexCredential)\n    ndexClient\n      .cancelDOIRequest(uuid)\n      .then(onSuccess)\n      .catch((err) => {\n        console.log(err)\n        throw new Error(err)\n      })\n  }\n\n  if (\n    ndexCredential.isLogin &&\n    summary !== undefined &&\n    permissions &&\n    permissions.data === 'ADMIN'\n  ) {\n    return (\n      <React.Fragment>\n        <Tooltip title=\"Cancel DOI request\" arrow placement={'left'}>\n          <IconButton\n            size={'small'}\n            onClick={handleDialog}\n            className={classes.button}\n          >\n            <ClearIcon />\n          </IconButton>\n        </Tooltip>\n        <Dialog\n          disableBackdropClick\n          disableEscapeKeyDown\n          maxWidth=\"sm\"\n          aria-labelledby=\"confirmation-dialog-title\"\n          open={dialogOpen}\n        >\n          <DialogTitle id=\"confirmation-dialog-title\">\n            Delete DOI Request\n          </DialogTitle>\n          <DialogContent dividers>\n            <Typography>\n              This will delete your DOI request, please verify that your\n              network's visibility is correct. If you still want a DOI for your\n              network, please submit a new request.\n            </Typography>\n            <br />\n            <Typography>Would you like to delete this request?</Typography>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleDialogCancel}>Cancel</Button>\n            <Button onClick={handleDialogOK}>Confirm</Button>\n          </DialogActions>\n        </Dialog>\n      </React.Fragment>\n    )\n  }\n  return null\n}\n\nexport default DeleteDOIButton\n","import React, { useContext, useState, FC } from 'react'\nimport {\n  Chip,\n  createStyles,\n  Grid,\n  makeStyles,\n  Theme,\n  Tooltip,\n} from '@material-ui/core'\nimport { Typography } from '@material-ui/core'\nimport WarningIcon from '@material-ui/icons/AnnouncementOutlined'\nimport ErrorIcon from '@material-ui/icons/ErrorOutline'\nimport { useParams } from 'react-router-dom'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\nimport AppContext from '../../../context/AppState'\nimport QueryPanel from './QueryPanel'\nimport DeleteDOIButton from '../../DeleteDOIButton'\nimport CollapsiblePanel from './CollapsiblePanel'\nimport { NetworkPanelState } from '..'\nimport QueryState from './QueryPanel/QueryState'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      margin: 0,\n      paddingTop: theme.spacing(1),\n    },\n    item: {\n      marginRight: theme.spacing(1),\n    },\n    label: {\n      marginRight: theme.spacing(1),\n      padding: 0,\n      paddingLeft: theme.spacing(1),\n    },\n    row: {\n      display: 'flex',\n      alignItems: 'center',\n      boxSizing: 'border-box',\n    },\n    grid: {\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      paddingTop: theme.spacing(1),\n      paddingBottom: theme.spacing(1),\n    },\n    chip: {\n      paddingLeft: theme.spacing(1),\n    },\n    warning: {\n      color: theme.palette.warning.main,\n    },\n    error: {\n      color: theme.palette.error.main,\n    },\n    copySpan: {\n      display: 'none',\n    },\n    queryPanel: {},\n  }),\n)\n\nconst NetworkDetails: FC<{\n  cx: any\n  panelState: NetworkPanelState\n  setPanelState: (NetworkPanelState) => void\n  queryState: QueryState\n  setQueryState: (QueryState) => void\n  renderer: string\n}> = ({\n  cx,\n  panelState,\n  setPanelState,\n  queryState,\n  setQueryState,\n  renderer,\n}) => {\n  const classes = useStyles()\n  const { uuid } = useParams()\n  const { summary, uiState, config } = useContext(AppContext)\n  const { viewerThreshold, warningThreshold } = config\n  const [doiCopiedHoverText, setDoiCopiedHoverText] = useState(false)\n\n  const _handleQueryOpen = (val: boolean) => {\n    setPanelState({ ...panelState, queryOpen: val })\n  }\n\n  if (summary === undefined || summary === null) {\n    return null\n  }\n\n  const getInformationIcon = (objectCount: number) => {\n    if (objectCount >= viewerThreshold && objectCount < warningThreshold) {\n      return (\n        <Tooltip\n          arrow\n          title=\"Large network loaded: showing network in simplified mode\"\n        >\n          <WarningIcon fontSize=\"large\" className={classes.warning} />\n        </Tooltip>\n      )\n    } else if (objectCount >= warningThreshold) {\n      return (\n        <Tooltip arrow title=\"Network is too large to display\">\n          <ErrorIcon fontSize=\"large\" className={classes.error} />\n        </Tooltip>\n      )\n    }\n  }\n\n  const copyDoi = () => {\n    setDoiCopiedHoverText(true)\n  }\n\n  const mouseEnter = () => {\n    setDoiCopiedHoverText(false)\n  }\n\n  return (\n    <div className={classes.root}>\n      {summary.doi ? (\n        <>\n          {summary.doi === 'Pending' ? (\n            <Grid className={classes.grid} container alignItems={'center'}>\n              <Grid item>\n                <DeleteDOIButton uuid={uuid} />{' '}\n              </Grid>\n              <Grid item>\n                <Chip\n                  variant={'outlined'}\n                  label={'DOI Status: Pending'}\n                  size={'small'}\n                  color={'default'}\n                />\n              </Grid>\n            </Grid>\n          ) : (\n            <div className={classes.chip}>\n              <Tooltip\n                title={\n                  doiCopiedHoverText\n                    ? 'Copied!'\n                    : 'Copy network DOI to clipboard'\n                }\n                className={classes.item}\n              >\n                <CopyToClipboard\n                  text={'https://doi.org/' + summary.doi}\n                  onCopy={copyDoi}\n                >\n                  <Chip\n                    clickable\n                    label={`DOI: ${summary.doi}`}\n                    size={'small'}\n                    color={'default'}\n                    variant=\"outlined\"\n                    onMouseEnter={mouseEnter}\n                  />\n                </CopyToClipboard>\n              </Tooltip>\n            </div>\n          )}\n        </>\n      ) : null}\n\n      <Grid container className={classes.grid}>\n        <Typography className={classes.label} variant=\"body1\">\n          Network Size:\n        </Typography>\n        <Chip\n          size=\"small\"\n          color=\"secondary\"\n          label={`Nodes: ${summary.nodeCount}`}\n          variant=\"outlined\"\n          className={classes.item}\n        />\n        <Chip\n          size=\"small\"\n          color=\"secondary\"\n          label={`Edges: ${summary.edgeCount}`}\n          variant=\"outlined\"\n          className={classes.item}\n        />\n        {getInformationIcon(summary.edgeCount + summary.nodeCount)}\n      </Grid>\n\n      {uiState.showSearchResult && summary.subnetworkNodeCount !== undefined ? (\n        <Grid container className={classes.grid}>\n          <Typography className={classes.label} variant=\"subtitle2\">\n            Query Result:\n          </Typography>\n          <Chip\n            size=\"small\"\n            label={`Nodes: ${summary.subnetworkNodeCount}`}\n            variant=\"outlined\"\n            className={classes.item}\n          />\n          <Chip\n            size=\"small\"\n            label={`Edges: ${summary.subnetworkEdgeCount}`}\n            variant=\"outlined\"\n            className={classes.item}\n          />\n        </Grid>\n      ) : null}\n\n      {renderer === 'lgr' && !uiState.showSearchResult ? (\n        <div />\n      ) : (\n        <CollapsiblePanel\n          openByDefault={false}\n          title={\n            !uiState.showSearchResult\n              ? 'Query External Database'\n              : 'Query External Database (for sub network)'\n          }\n          children={\n            <QueryPanel\n              cx={cx}\n              queryState={queryState}\n              setQueryState={setQueryState}\n            />\n          }\n          open={panelState.queryOpen}\n          setOpen={_handleQueryOpen}\n          backgroundColor={'#f5f5f5'}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default NetworkDetails\n","import React, { useContext, FC, useState } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\nimport NetworkProperties from './NetworkProperties'\nimport useNetworkSummary from '../../../hooks/useNetworkSummary'\nimport { useParams } from 'react-router-dom'\nimport AppContext from '../../../context/AppState'\nimport NetworkDetails from './NetworkDetails'\nimport { NetworkPanelState } from '../index'\nimport QueryState, { DB } from './QueryPanel/QueryState'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '100%',\n      height: '100%',\n      overflowY: 'hidden',\n      margin: 0,\n      padding: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      boxSizing: 'border-box',\n      backgroundColor: theme.palette.background.paper,\n    },\n    description: {\n      padding: 0,\n      margin: 0,\n      backgroundColor: 'inherit',\n      height: '100%',\n      overflowY: 'hidden',\n    },\n  }),\n)\n\nconst NetworkPropertyPanel: FC<{\n  cx: object\n  panelState: NetworkPanelState\n  setPanelState: (NetworkPanelState) => void\n  queryState: QueryState\n  setQueryState: (QueryState) => void\n  renderer: string\n}> = ({\n  cx,\n  panelState,\n  setPanelState,\n  queryState,\n  setQueryState,\n  renderer,\n}) => {\n  const classes = useStyles()\n  const { ndexCredential, config, setSummary, summary } = useContext(AppContext)\n  const { uuid } = useParams()\n\n  const summaryResponse = useNetworkSummary(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n  const summaryResponseData = summaryResponse.data\n\n  if (\n    summaryResponseData === undefined ||\n    Object.entries(summaryResponseData).length === 0\n  ) {\n    return (\n      <div className={classes.root}>\n        <Grid container>\n          <Grid item md={12}></Grid>\n        </Grid>\n      </div>\n    )\n  } else {\n    if (\n      summary === undefined ||\n      summary.owner !== summaryResponseData['owner']\n    ) {\n      setSummary({\n        ...summary,\n        name: summaryResponseData['name'],\n        owner: summaryResponseData['owner'],\n        externalId: summaryResponseData['externalId'],\n        visibility: summaryResponseData['visibility'],\n        nodeCount: summaryResponseData['nodeCount'],\n        edgeCount: summaryResponseData['edgeCount'],\n        doi: summaryResponseData['doi'],\n      })\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <NetworkDetails\n        cx={cx}\n        panelState={panelState}\n        setPanelState={setPanelState}\n        queryState={queryState}\n        setQueryState={setQueryState}\n        renderer={renderer}\n      />\n      <div className={classes.description}>\n        <NetworkProperties\n          summary={summaryResponseData}\n          panelState={panelState}\n          setPanelState={setPanelState}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default NetworkPropertyPanel\n","import React, { useContext } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport { IconButton } from '@material-ui/core'\nimport CloseIcon from '@material-ui/icons/ArrowRight'\nimport OpenIcon from '@material-ui/icons/ArrowLeft'\nimport AppContext from '../../../context/AppState'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport UIState from '../../../model/UIState'\nimport { UIStateActions } from '../../../reducer/uiStateReducer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      height: '1em',\n      width: '1em',\n      margin: 0,\n      borderRadius: 2,\n      border: '1px solid #AAAAAA',\n    },\n    closeIcon: {\n      width: '1em',\n    },\n  }),\n)\n\nconst MinimizeButton = () => {\n  const classes = useStyles()\n  const { uiState, uiStateDispatch } = useContext(AppContext)\n\n  const setDataPanelOpen = (state: UIState) =>\n    uiStateDispatch({ type: UIStateActions.SET_DATA_PANEL_OPEN, uiState: state })\n\n  const handleClick = () => {\n    setDataPanelOpen({ ...uiState, dataPanelOpen: !uiState.dataPanelOpen })\n  }\n\n  if (uiState.dataPanelOpen) {\n    return (\n      <Tooltip title=\"Hide Data Panel\" placement=\"left\" arrow>\n        <IconButton className={classes.button} size=\"small\" onClick={handleClick}>\n          <CloseIcon className={classes.closeIcon} aria-label=\"Collapse the panel\" color=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n    )\n  } else {\n    return (\n      <Tooltip title=\"Show Data Panel\" placement=\"left\" arrow>\n        <IconButton className={classes.button} size=\"small\" onClick={handleClick}>\n          <OpenIcon className={classes.closeIcon} aria-label=\"Collapse the panel\" color=\"inherit\" />\n        </IconButton>\n      </Tooltip>\n    )\n  }\n}\n\nexport default MinimizeButton\n","import React, { VFC } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: '15em',\n    width: '20em',\n    height: '20em',\n    zIndex: 1000,\n    position: 'fixed',\n    border: '1px solid #666666',\n    cursor: 'pointer',\n  },\n  content: {\n    margin: 0,\n    padding: '0.3em',\n    overflowY: 'scroll',\n    width: '100%',\n    height: '100%',\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n})\n\nconst Popup: VFC<{\n  x: number\n  y: number\n  open: boolean\n  setOpen: (boolean) => void\n  key?: string\n  value: string\n}> = ({ x, y, open, setOpen, key, value }) => {\n  const classes = useStyles()\n\n  const _handleClick = (evt): void => {\n    evt.preventDefault()\n    setOpen(false)\n  }\n\n  if (open === false) {\n    return null\n  }\n\n  return (\n    <Card\n      className={classes.root}\n      style={{ left: x, top: y }}\n      variant=\"outlined\"\n      onClick={_handleClick}\n    >\n      <CardContent className={classes.content}>\n        <Typography\n          className={classes.title}\n          color=\"textSecondary\"\n          gutterBottom\n        >\n          Cell contents (click to close)\n        </Typography>\n        <Typography variant=\"body2\" component=\"p\">\n          {value}\n        </Typography>\n      </CardContent>\n    </Card>\n  )\n}\n\nexport default Popup\n","import React, { FC, useRef, useState, useEffect } from 'react'\nimport { useTable, usePagination, useSortBy, useFlexLayout } from 'react-table'\n\nimport {\n  Grid,\n  ScrollSync,\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache,\n} from 'react-virtualized'\n\nimport SortIcon from '@material-ui/icons/Sort'\nimport DownIcon from '@material-ui/icons/ArrowDropDown'\nimport UpIcon from '@material-ui/icons/ArrowDropUp'\n\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport Popup from './Popup'\n\nconst scrollbarWidth = () => {\n  const scrollDiv = document.createElement('div')\n  scrollDiv.setAttribute(\n    'style',\n    'width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;',\n  )\n  document.body.appendChild(scrollDiv)\n  const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n  document.body.removeChild(scrollDiv)\n  return scrollbarWidth\n}\n\n// Base styles for the entire panel\nconst useStyles = makeStyles((theme: Theme) => {\n  return createStyles({\n    // Base area covers the entire panel\n    root: {\n      width: '100%',\n      height: '100%',\n      margin: 0,\n      padding: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      background: theme.palette.background.paper,\n      boxSizing: 'border-box',\n      color: '#333333',\n      // border: '5px solid red',\n      overflow: 'hidden',\n    },\n\n    // Area for virtualized table\n    tablePanel: {\n      flexGrow: 1,\n      width: '100%',\n      height: '100%',\n      // border: '6px solid darkorange',\n      boxSizing: 'border-box',\n      overflowY: 'hidden',\n    },\n\n    tableBody: {\n      flexGrow: 1,\n    },\n\n    gridRow: {\n      position: 'relative',\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    gridColumn: {\n      display: 'flex',\n      flexDirection: 'column',\n      flex: '1 1 auto',\n    },\n    pagination: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      background: theme.palette.background.paper,\n      height: '3em',\n      padding: theme.spacing(1),\n      borderTop: `1px solid ${theme.palette.divider}`,\n      boxSizing: 'border-box',\n      zIndex: 100,\n    },\n    buttons: {\n      // marginRight: theme.spacing(1)\n    },\n    pageLabel: {\n      width: '7em',\n    },\n    pageSelector: {\n      width: '5em',\n      marginRight: theme.spacing(1),\n    },\n    pageSelectorPanel: {\n      width: '10em',\n    },\n    button: {\n      marginRight: theme.spacing(1),\n    },\n    topBar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      paddingRight: theme.spacing(1),\n    },\n    title: {\n      paddingTop: theme.spacing(1),\n      paddingLeft: theme.spacing(3),\n    },\n    tabs: {\n      boxSizing: 'border-box',\n      backgroundColor: theme.palette.background.paper,\n      margin: 0,\n      padding: 0,\n      height: '100%',\n      width: '100%',\n    },\n    tab: {\n      // minHeight: '2.6em',\n      // minWidth: '7em',\n      '&:disabled': {\n        color: '#AAAAAA',\n      },\n    },\n    tabPanel: {\n      width: '100%',\n      height: '100%',\n    },\n    collapsiblePanel: {\n      minHeight: 'auto',\n    },\n\n    leftSideGridContainer: {\n      flex: '0 0 75px',\n      zIndex: 10,\n      backgroundColor: theme.palette.background.default,\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n    },\n    leftSideGrid: {\n      overflow: 'hidden !important',\n      paddingLeft: '0.5em',\n    },\n    headerGrid: {\n      width: '100%',\n      overflow: 'hidden !important',\n      borderBottom: '1px solid #999999',\n      paddingLeft: '0.5em',\n    },\n    bodyGrid: {\n      width: '100%',\n    },\n\n    evenRow: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      paddingLeft: '0.5em',\n    },\n    oddRow: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n      backgroundColor: 'rgba(150, 150, 150, .1)',\n      paddingLeft: '0.5em',\n    },\n\n    cell: {\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'flex-start',\n    },\n    headerCell: {\n      fontWeight: 'bold',\n      color: 'blue',\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n      textAlign: 'center',\n    },\n    sortableHeader: {\n      display: 'flex',\n      justifyContent: 'flex-start',\n      alignItems: 'center',\n    },\n    sortButton: {\n      marginLeft: '0.3em',\n      border: '1px solid #BBBBBB',\n      borderRadius: '10%',\n      cursor: 'pointer',\n      background: '#FFFFFF',\n    },\n    cellOverflow: {\n      cursor: 'pointer',\n      wordWrap: 'break-word',\n      width: '100%',\n      overflowWrap: 'break-word'\n    },\n  })\n})\n\nconst VirtualizedTable2: FC<{\n  columns: any[]\n  data: any\n  parentSize: [number, number]\n  selected: boolean\n}> = ({ columns, data, parentSize, selected }) => {\n  const classes = useStyles()\n\n  // Popup control\n  const [openPopup, setOpenPopup] = useState(false)\n  const [position, setPosition] = useState({ x: 0, y: 0 })\n  const [selectedValue, setSelectedValue] = useState(null)\n\n  const gridRef = useRef(null)\n  const pageRef = useRef(null)\n  const rootRef = useRef(null)\n\n  const [pagePanelHeight, setPagePanelHeight] = useState(1)\n  const [rootPanelHeight, setRootPanelHeight] = useState(1)\n\n  const defaultColumn = React.useMemo(\n    () => ({\n      width: 150,\n    }),\n    [],\n  )\n\n  const _handleResize = (evt) => {\n    if (rootRef.current === undefined || rootRef.current === null) {\n      return\n    }\n    const height = rootRef.current.offsetHeight\n    if (height !== 0) {\n      setRootPanelHeight(height)\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', _handleResize)\n  }, [])\n\n  useEffect(() => {\n    if (rootRef.current === undefined || rootRef.current === null) {\n      return\n    }\n    const height = rootRef.current.offsetHeight\n    setRootPanelHeight(height)\n  }, [rootRef])\n\n  useEffect(() => {\n    const height = pageRef.current.offsetHeight\n    const rootHeight = rootRef.current.offsetHeight\n\n    if (height !== 0) {\n      setPagePanelHeight(height)\n    }\n\n    if (rootHeight !== 0) {\n      setRootPanelHeight(rootHeight)\n    }\n    // updateHeight()\n  }, [selected])\n\n  const {\n    getTableProps,\n    getTableBodyProps,\n    headerGroups,\n    prepareRow,\n    page,\n    canPreviousPage,\n    canNextPage,\n    pageOptions,\n    pageCount,\n    gotoPage,\n    nextPage,\n    previousPage,\n    setPageSize,\n    state: { pageIndex, pageSize },\n  } = useTable(\n    {\n      columns,\n      data,\n      defaultColumn,\n      initialState: {\n        pageIndex: 0,\n        pageSize: 100,\n      },\n    },\n    useSortBy,\n    usePagination,\n    // useBlockLayout,\n    useFlexLayout,\n  )\n\n  const _handleGoToPage = (index: number): void => {\n    gotoPage(index)\n    gridRef.current.scrollToCell({\n      columnIndex: 0,\n      rowIndex: 0,\n    })\n  }\n  const _handleNextPage = (): void => {\n    nextPage()\n    gridRef.current.scrollToCell({\n      columnIndex: 0,\n      rowIndex: 0,\n    })\n  }\n\n  const _handlePreviousPage = (): void => {\n    previousPage()\n    gridRef.current.scrollToCell({\n      columnIndex: 0,\n      rowIndex: 0,\n    })\n  }\n\n  const _renderBodyCell = ({ columnIndex, key, parent, rowIndex, style }) => {\n    if (columnIndex < 1) {\n      return\n    }\n\n    return _renderLeftSideCell({ columnIndex, key, parent, rowIndex, style })\n  }\n\n  const _renderHeaderCell = ({ columnIndex, key, rowIndex, style }) => {\n    if (columnIndex < 1) {\n      return\n    }\n\n    return _renderLeftHeaderCell({ columnIndex, key, style })\n  }\n\n  // Render a cell in the column header.\n  const _renderLeftHeaderCell = ({ columnIndex, key, style }) => {\n    const headerGroup = headerGroups[0]\n    const column = headerGroup.headers[columnIndex]\n\n    const _handleSort = (targetColumn) => {\n      if (columnIndex !== 0) {\n        targetColumn.canSort = false\n        return\n      }\n      targetColumn.toggleSortBy(!targetColumn.isSortedDesc)\n    }\n\n    const getSortButton = () => {\n      if (columnIndex !== 0) {\n        column.canSort = false\n        return null\n      }\n\n      if (column.isSorted) {\n        if (column.isSortedDesc) {\n          return <DownIcon className={classes.sortButton} />\n        } else {\n          return <UpIcon className={classes.sortButton} />\n        }\n      } else {\n        return <SortIcon className={classes.sortButton} />\n      }\n    }\n\n    return (\n      <div\n        key={key}\n        style={{\n          ...style,\n          display: 'grid',\n          alignContent: 'center',\n        }}\n        onClick={() => _handleSort(column)}\n      >\n        <div className={classes.sortableHeader}>\n          {column.Header}\n          {getSortButton()}\n        </div>\n      </div>\n    )\n  }\n\n  const valueLengthTH: number = 40\n  const _renderLeftSideCell = ({\n    columnIndex,\n    key,\n    parent,\n    rowIndex,\n    style,\n  }) => {\n    const row = page[rowIndex]\n    prepareRow(row)\n\n    const cells = row.cells.map((cell) => cell)\n    const cell = [cells[columnIndex]]\n\n    const cellClass = rowIndex % 2 === 0 ? classes.evenRow : classes.oddRow\n\n    let originalValue = cell[0].value.props.children\n    let value = originalValue\n\n    let isLongValue = false\n    if (originalValue !== undefined && originalValue.length > valueLengthTH) {\n      value = originalValue.substring(0, valueLengthTH)\n      isLongValue = true\n    }\n\n    return (\n      <div\n        {...cell[0].getCellProps()}\n        className={cellClass}\n        key={key}\n        style={style}\n        onClick={(event) => _onCellClick(event, originalValue)}\n      >\n        {isLongValue ? (\n          <p className={classes.cellOverflow}>{`${value}...`}</p>\n        ) : (\n          value\n        )}\n      </div>\n    )\n  }\n\n  const _onCellClick = (evt, value) => {\n    if (value !== null && value !== undefined && value.length > valueLengthTH) {\n      setOpenPopup(true)\n      setPosition({ x: evt.pageX, y: evt.pageY })\n      setSelectedValue(value)\n    }\n  }\n\n  const columnWidth = 200\n  const columnCount = columns.length\n  const overscanColumnCount = 0\n  const overscanRowCount = 5\n  const rowHeight = 57\n  const rowCount = page.length\n  const height: number = rootPanelHeight - (pagePanelHeight + rowHeight)\n\n  return (\n    <>\n      <div ref={rootRef} className={classes.root}>\n        <div className={classes.tablePanel}>\n          <ScrollSync>\n            {({\n              clientHeight,\n              clientWidth,\n              onScroll,\n              scrollHeight,\n              scrollLeft,\n              scrollTop,\n              scrollWidth,\n            }) => {\n              const leftColor = '#222222'\n              const topColor = '#222222'\n              const middleColor = '#222222'\n\n              return (\n                <div className={classes.gridRow}>\n                  <div\n                    className={classes.leftSideGridContainer}\n                    style={{\n                      position: 'absolute',\n                      left: 0,\n                      top: 0,\n                      color: leftColor,\n                    }}\n                  >\n                    <Grid\n                      cellRenderer={_renderLeftHeaderCell}\n                      className={classes.headerGrid}\n                      width={columnWidth}\n                      height={rowHeight}\n                      rowHeight={rowHeight}\n                      columnWidth={columnWidth}\n                      rowCount={1}\n                      columnCount={1}\n                    />\n                  </div>\n                  <div\n                    className={classes.leftSideGridContainer}\n                    style={{\n                      position: 'absolute',\n                      left: 0,\n                      top: rowHeight,\n                      color: leftColor,\n                    }}\n                  >\n                    <Grid\n                      overscanColumnCount={overscanColumnCount}\n                      overscanRowCount={overscanRowCount}\n                      cellRenderer={_renderLeftSideCell}\n                      columnWidth={columnWidth}\n                      columnCount={1}\n                      className={classes.leftSideGrid}\n                      height={height - scrollbarWidth()}\n                      rowHeight={rowHeight}\n                      rowCount={rowCount}\n                      scrollTop={scrollTop}\n                      width={columnWidth}\n                    />\n                  </div>\n                  <div className={classes.gridColumn}>\n                    <AutoSizer>\n                      {({ width }) => (\n                        <div>\n                          <div\n                            style={{\n                              color: topColor,\n                              height: rowHeight,\n                              width: width - scrollbarWidth(),\n                            }}\n                          >\n                            <Grid\n                              className={classes.headerGrid}\n                              columnWidth={columnWidth}\n                              columnCount={columnCount}\n                              height={rowHeight}\n                              overscanColumnCount={overscanColumnCount}\n                              cellRenderer={_renderHeaderCell}\n                              rowHeight={rowHeight}\n                              rowCount={1}\n                              scrollLeft={scrollLeft}\n                              width={width - scrollbarWidth()}\n                            />\n                          </div>\n                          <div\n                            style={{\n                              color: middleColor,\n                              height,\n                              width,\n                            }}\n                          >\n                            <Grid\n                              ref={gridRef}\n                              className={classes.bodyGrid}\n                              columnWidth={columnWidth}\n                              columnCount={columnCount}\n                              onScroll={onScroll}\n                              overscanColumnCount={overscanColumnCount}\n                              overscanRowCount={overscanRowCount}\n                              cellRenderer={_renderBodyCell}\n                              rowHeight={rowHeight}\n                              rowCount={rowCount}\n                              height={height}\n                              width={width}\n                            />\n                          </div>\n                        </div>\n                      )}\n                    </AutoSizer>\n                  </div>\n                </div>\n              )\n            }}\n          </ScrollSync>\n        </div>\n\n        <div ref={pageRef} className={classes.pagination}>\n          <div className={classes.buttons}>\n            <button\n              className={classes.button}\n              onClick={() => _handleGoToPage(0)}\n              disabled={!canPreviousPage}\n            >\n              {'<<'}\n            </button>\n            <button\n              className={classes.button}\n              onClick={() => _handlePreviousPage()}\n              disabled={!canPreviousPage}\n            >\n              {'<'}\n            </button>\n            <button\n              className={classes.button}\n              onClick={() => _handleNextPage()}\n              disabled={!canNextPage}\n            >\n              {'>'}\n            </button>\n            <button\n              className={classes.button}\n              onClick={() => _handleGoToPage(pageCount - 1)}\n              disabled={!canNextPage}\n            >\n              {'>>'}\n            </button>\n          </div>\n\n          <div className={classes.pageLabel}>\n            {`Page ${pageIndex + 1} of ${pageOptions.length}`}\n          </div>\n\n          <div className={classes.pageSelectorPanel}>\n            <select\n              className={classes.pageSelector}\n              value={pageSize}\n              onChange={(e) => {\n                setPageSize(Number(e.target.value))\n              }}\n            >\n              {[100, 500, 1000, 5000, 10000].map((pageSize) => (\n                <option key={pageSize} value={pageSize}>\n                  {pageSize}\n                </option>\n              ))}\n            </select>\n            per page\n          </div>\n        </div>\n      </div>\n\n      <Popup\n        x={position.x}\n        y={position.y}\n        open={openPopup}\n        setOpen={setOpenPopup}\n        value={selectedValue}\n      />\n    </>\n  )\n}\n\nexport default VirtualizedTable2\n","import React, { VFC, useMemo, useContext } from 'react'\nimport Linkify from 'linkify-react'\nimport {\n  processList,\n  processItem,\n  processInternalLink,\n  processListAsText,\n} from '../../../utils/contextUtil'\nimport AppContext from '../../../context/AppState'\nimport VirtualizedTable2 from './VirtualizedTable2'\n\nconst EdgeAttributes = {\n  SOURCE: 'source',\n  TARGET: 'target',\n  INTERACTION: 'interaction',\n}\n\nconst NodeAttributes = {\n  REPRESENTS: 'Represents',\n}\n\nconst Attributes = {\n  NAME: 'name',\n  NDEX_INTERNAL_LINK: 'ndex:internalLink',\n}\n\nconst regex = /\\./gi\nconst replacePeriods = (text: string): string => {\n  return text.replace(regex, '(_)')\n}\n\nconst isEmptyString = (text: string): boolean => {\n  return text === undefined || text === ''\n}\nconst startsWithNumber = (entry) => {\n  if (\n    entry === undefined ||\n    entry === null ||\n    entry === '' ||\n    entry.length === 0\n  ) {\n    return false\n  }\n  return '0123456789'.includes(entry.charAt(0))\n}\n\nconst EntryTable: VFC<{\n  selectedObjects: any[]\n  attributes: any\n  type?: string\n  context\n  letterWidths\n  label\n  parentSize: [number, number]\n  selected: boolean\n}> = ({\n  selectedObjects,\n  attributes,\n  type,\n  context,\n  letterWidths,\n  label,\n  parentSize,\n  selected,\n}) => {\n  const { config } = useContext(AppContext)\n\n  const getWidth = (phrase: string | undefined): number => {\n    if (phrase === undefined) {\n      phrase = ''\n    }\n    let width: number = 0\n    for (let i = 0; i < phrase.length; i++) {\n      let letter = phrase[i]\n      if (letter === ' ') {\n        letter = '&nbsp'\n      }\n      if (letterWidths[letter] === undefined) {\n        width += letterWidths['default']\n      } else {\n        width += letterWidths[letter]\n      }\n    }\n    return width\n  }\n\n  const getColumnWidth = (rows, accessor, header) => {\n    const PADDING = 18\n    const MAX_WIDTH = 300 + PADDING\n    const width =\n      Math.max(\n        ...rows.map((row) => getWidth(`${row[accessor]}` || '')),\n        getWidth(header),\n      ) + PADDING\n    return Math.min(MAX_WIDTH, width)\n  }\n\n  const columns = useMemo(() => {\n    const columnsList = []\n    for (let id of selectedObjects) {\n      const attrs = attributes[id]\n      if (attrs === undefined || attrs === null) {\n        continue\n      }\n      for (let attr of attrs) {\n        if (\n          attr[0] === Attributes.NAME ||\n          (type === 'edge' &&\n            (attr[0] === EdgeAttributes.SOURCE ||\n              attr[0] === EdgeAttributes.TARGET ||\n              attr[0] === EdgeAttributes.INTERACTION))\n        ) {\n          continue\n        } else {\n          if (Array.isArray(attr[1])) {\n            for (let item of attr[1]) {\n              if (item !== undefined && item !== '') {\n                if (!columnsList.includes(attr[0])) {\n                  columnsList.push(attr[0])\n                }\n                break\n              }\n            }\n          } else {\n            if (attr[1] !== undefined && attr[1] !== '') {\n              if (!columnsList.includes(attr[0])) {\n                columnsList.push(attr[0])\n              }\n            }\n          }\n        }\n        if (columnsList.length + 1 === attrs.length) {\n          break\n        }\n      }\n    }\n    columnsList.unshift(Attributes.NAME)\n    if (type === 'edge') {\n      //Add name for edges that don't have one\n      for (let id of selectedObjects) {\n        const attrs = attributes[id]\n        if (!attrs.has(Attributes.NAME)) {\n          if (\n            attrs.has(EdgeAttributes.SOURCE) &&\n            attrs.has(EdgeAttributes.TARGET)\n          ) {\n            if (attrs.has(EdgeAttributes.INTERACTION)) {\n              attrs.set(\n                Attributes.NAME,\n                attrs.get(EdgeAttributes.SOURCE) +\n                  ' (' +\n                  attrs.get(EdgeAttributes.INTERACTION) +\n                  ') ' +\n                  attrs.get(EdgeAttributes.TARGET),\n              )\n            } else {\n              attrs.set(\n                Attributes.NAME,\n                attrs.get(EdgeAttributes.SOURCE) +\n                  ' (-) ' +\n                  attrs.get(EdgeAttributes.TARGET),\n              )\n            }\n          }\n        }\n      }\n    }\n    return columnsList\n  }, [selectedObjects])\n\n  const data = useMemo(() => {\n    const dataList = []\n    const textDataList = []\n    let idx = 0\n    for (let id of selectedObjects) {\n      const attrs = attributes[id]\n      if (attrs === undefined) {\n        continue\n      }\n      const row = {}\n      const textRow = {}\n      for (let column of columns) {\n        const value = attrs.get(column)\n        if (Array.isArray(value)) {\n          row[replacePeriods(column)] = processList(value, context)\n          textRow[replacePeriods(column)] = processListAsText(value)\n        } else {\n          if (column == Attributes.NDEX_INTERNAL_LINK) {\n            row[column] = processInternalLink(attrs.get(column), config.ndexUrl)\n          } else {\n            row[replacePeriods(column)] = processItem(\n              attrs.get(column),\n              context,\n              true,\n            )\n          }\n          textRow[replacePeriods(column)] = attrs.get(column)\n        }\n      }\n      dataList.push(row)\n      textDataList.push(textRow)\n      idx++\n    }\n\n    const empty = dataList.filter((entry) => isEmptyString(entry.name))\n    const nonEmpty = dataList.filter((entry) => !isEmptyString(entry.name))\n\n    let nonNumbers = nonEmpty.filter((entry) => !startsWithNumber(entry.name))\n    let numbers = nonEmpty.filter((entry) => startsWithNumber(entry.name))\n\n    nonNumbers.sort((a, b) => (a.name > b.name ? 1 : -1))\n    numbers.sort((a, b) => (a.name > b.name ? 1 : -1))\n\n    const sortedDataList = nonNumbers.concat(numbers).concat(empty)\n    for (let i = 0; i < sortedDataList.length; i++) {\n      const row = sortedDataList[i]\n      for (const [key, value] of Object.entries(row)) {\n        row[key] = <Linkify>{value}</Linkify>\n      }\n    }\n\n    return [sortedDataList, textDataList]\n  }, [selectedObjects])\n\n  const finalColumns = useMemo(() => {\n    //Put columns in correct order\n    let hasName = false\n    let hasRepresents = false\n    if (columns.includes(Attributes.NAME)) {\n      hasName = true\n      columns.splice(columns.indexOf(Attributes.NAME), 1)\n    }\n    if (columns.includes(NodeAttributes.REPRESENTS)) {\n      hasRepresents = true\n      columns.splice(columns.indexOf(NodeAttributes.REPRESENTS), 1)\n    }\n    columns.sort((a, b) => a.localeCompare(b))\n    if (hasRepresents) {\n      columns.unshift(NodeAttributes.REPRESENTS)\n    }\n    if (hasName) {\n      columns.unshift(Attributes.NAME)\n    }\n\n    return columns.map((column) => {\n      if (column === Attributes.NAME) {\n        return {\n          Header: label,\n          accessor: Attributes.NAME,\n          // sticky: 'left',\n          width: getColumnWidth(data[1], Attributes.NAME, label),\n        }\n      } else {\n        return {\n          Header: column,\n          accessor: replacePeriods(column),\n          width: getColumnWidth(data[1], column, column),\n        }\n      }\n    })\n  }, [selectedObjects])\n\n  return (\n    <VirtualizedTable2\n      columns={finalColumns}\n      data={data[0]}\n      parentSize={parentSize}\n      selected={selected}\n    />\n  )\n}\n\nexport default EntryTable\n","import React, { FC } from 'react'\nimport MessageIcon from '@material-ui/icons/InfoOutlined'\n\ntype InformationPanelProps = {\n  type: string\n  count: number\n  threshold: number\n}\n\nconst InformationPanel: FC<InformationPanelProps> = ({\n  type,\n  count,\n  threshold,\n}: InformationPanelProps): React.ReactElement => {\n  const message =\n    `This network has large number of ${type}s (${count}). ` +\n    `To display ${type} attributes, you can select up to ${threshold} ${type}s at a time.`\n\n  return (\n    <div\n      style={{\n        height: '100%',\n        width: '100%',\n        display: 'grid',\n        justifyContent: 'center',\n        alignContent: 'center',\n      }}\n    >\n      <div style={{ padding: '2em' }}>\n        <MessageIcon style={{ fontSize: '6em' }} />\n        <h3>{message}</h3>\n      </div>\n    </div>\n  )\n}\n\nexport default InformationPanel\n","import { useQuery } from 'react-query'\nimport NdexCredential from '../model/NdexCredential'\n\nimport { getNdexClient } from '../utils/credentialUtil'\nimport NDExError from '../utils/error/NDExError'\n\nconst metaDataMap = {}\n\nconst getNetworkMetaData = async (\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string,\n  credential: NdexCredential,\n) => {\n  const cache = metaDataMap[uuid]\n\n  if (cache !== undefined) {\n    return cache\n  }\n\n  if (credential === undefined || !credential.loaded) {\n    return undefined\n  }\n\n  try {\n    const ndexClient = getNdexClient(`${serverUrl}/${apiVersion}`, credential)\n    let metaData = null\n    if(credential.accesskey !== undefined && credential.accesskey !== '') {\n      metaData = await ndexClient.getMetaData(uuid, credential.accesskey)\n    } else {\n      metaData = await ndexClient.getMetaData(uuid)\n    }\n    metaDataMap[uuid] = metaData\n    return metaData\n  } catch (e: unknown) {\n    throw new NDExError(e['message'], e)\n  }\n}\n\nexport default function useNetworkMetaData(\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string = 'v2',\n  credential: NdexCredential,\n) {\n  const res = useQuery(\n    ['networkMetaData', uuid, serverUrl, apiVersion, credential],\n    () => getNetworkMetaData(uuid, serverUrl, apiVersion, credential),\n    {\n      retry: false,\n    },\n  )\n\n  return res\n}\n","import React, { FC, useContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Snackbar from '@material-ui/core/Snackbar'\n\nimport {\n  CyNDExProvider,\n  OpenInCytoscapeButton,\n} from 'cytoscape-explore-components'\n\nimport useSearch from '../../hooks/useSearch'\nimport useNetworkMetaData from '../../hooks/useNetworkMetaData'\n\nimport AppContext from '../../context/AppState'\n\nconst OpenInCytoscape: FC = () => {\n  const { uuid } = useParams()\n\n  const { query, queryMode, ndexCredential, config, summary } = useContext(\n    AppContext,\n  )\n\n  const { data } = useSearch(\n    uuid,\n    query,\n    config.ndexHttps,\n    ndexCredential,\n    queryMode,\n    config.maxEdgeQuery,\n  )\n\n  const useQueryResult = data !== undefined && data['cx']\n\n  const subCx =\n    data !== undefined && !data['edgeLimitExceeded'] ? data['cx'] : undefined\n\n  const fetchCX = () =>\n    new Promise((resolve, reject) => {\n      if (subCx) {\n        resolve(subCx)\n      } else {\n        reject('No search result is available')\n      }\n    })\n\n  const [snackMessage, setSnackMessage] = React.useState(undefined)\n\n  const onSuccess = () => {\n    setSnackMessage('Network opened.')\n  }\n\n  const onFailure = (err) => {\n    setSnackMessage('Failed to load network: ' + err)\n  }\n\n  const handleClose = () => {\n    setSnackMessage(undefined)\n  }\n\n  const metaDataResponse = useNetworkMetaData(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n  // @ts-ignore\n  const metaData = metaDataResponse.data\n    ? metaDataResponse.data.metaData\n    : undefined\n\n  const ndexNetworkProperties = {\n    uuid: uuid,\n    summary: summary,\n    metaData: metaData,\n  }\n\n  return (\n    <CyNDExProvider port={1234}>\n      {useQueryResult ? (\n        subCx ? (\n          <OpenInCytoscapeButton\n            size=\"small\"\n            fetchCX={fetchCX}\n            onSuccess={onSuccess}\n            onFailure={onFailure}\n          />\n        ) : null\n      ) : (\n        <OpenInCytoscapeButton\n          size=\"small\"\n          ndexNetworkProperties={ndexNetworkProperties}\n          onSuccess={onSuccess}\n          onFailure={onFailure}\n        />\n      )}\n      <Snackbar\n        open={snackMessage !== undefined}\n        autoHideDuration={6000}\n        onClose={handleClose}\n        message={snackMessage}\n      />\n    </CyNDExProvider>\n  )\n}\n\nexport default OpenInCytoscape\n","import React, {\n  useRef,\n  useEffect,\n  useState,\n  useMemo,\n  useContext,\n  FC,\n  ReactElement,\n} from 'react'\n\nimport { Typography, Tooltip } from '@material-ui/core'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport NetworkPropertyPanel from './NetworkPropertyPanel'\nimport { useParams } from 'react-router-dom'\nimport AppContext from '../../context/AppState'\nimport useAttributes from '../../hooks/useAttributes'\nimport { getContextFromCx } from '../../utils/contextUtil'\nimport useNetworkSummary from '../../hooks/useNetworkSummary'\nimport MinimizeButton from './NetworkPropertyPanel/MinimizeButton'\nimport EntryTable from './EntryTable'\nimport QueryState, { DB } from './NetworkPropertyPanel/QueryPanel/QueryState'\nimport TargetNodes from './NetworkPropertyPanel/QueryPanel/TargetNodes'\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs'\nimport InformationPanel from './EntryTable/InformationPanel'\nimport WarningPanel from './EntryTable/WarningPanel'\nimport { getEntry, getNodeCount, getEdgeCount } from '../../utils/cxUtil'\n\nlet baseFontSize = null\n\nconst useStyles = makeStyles((theme: Theme) => {\n  baseFontSize = theme.typography.fontSize\n\n  return createStyles({\n    root: {\n      width: '100%',\n      height: '100%',\n\n      maxHeight: '100%',\n      margin: 0,\n      padding: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      boxSizing: 'border-box',\n      backgroundColor: theme.palette.background.paper,\n      overflowY: 'hidden',\n      borderLeft: `1px solid ${theme.palette.divider}`,\n    },\n    topBar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      paddingRight: theme.spacing(1),\n      border: `1px solid ${theme.palette.divider}`,\n    },\n    title: {\n      paddingTop: theme.spacing(1.5),\n      paddingBottom: theme.spacing(1.5),\n      paddingLeft: theme.spacing(3),\n    },\n    tabWrapper: {\n      boxSizing: 'border-box',\n      backgroundColor: theme.palette.background.paper,\n      margin: 0,\n      padding: 0,\n      width: '100%',\n      height: '100%',\n      overflowY: 'hidden',\n    },\n    tabList: {\n      boxSizing: 'border-box',\n      padding: 0,\n      margin: 0,\n      minHeight: '3.1em',\n      // borderBottom: `1px solid ${theme.palette.divider}`,\n    },\n    tab: {\n      '&:disabled': {\n        color: '#AAAAAA',\n      },\n    },\n    collapsiblePanel: {\n      minHeight: 'auto',\n    },\n  })\n})\n\nenum TabType {\n  Network,\n  Node,\n  Edge,\n}\n\nexport type NetworkPanelState = {\n  netInfoOpen: boolean\n  descriptionOpen: boolean\n  propsOpen: boolean\n  queryOpen: boolean\n}\n\nconst DEF_QUERY_STATE: QueryState = {\n  db: DB.IQUERY,\n  column: 'name',\n  target: TargetNodes.All,\n}\n\ntype GraphObjectCount = {\n  nodeCount: number\n  edgeCount: number\n}\n\n// Default threshold of selected nodes to be displayed in the table\nconst SELECTION_TH = 10000\n\nconst DataPanel: FC<{\n  width: number\n  cx: any[]\n  renderer: string\n  objectCount: number\n  cxDataSize: number\n}> = ({ width, cx, renderer, objectCount, cxDataSize }): ReactElement => {\n  const baseRef = useRef(null)\n  const titleRef = useRef(null)\n  const tabsRef = useRef(null)\n  const classes = useStyles()\n\n  const [objCount, setObjCount] = useState<GraphObjectCount>({\n    nodeCount: 0,\n    edgeCount: 0,\n  })\n\n  const [size, setSize] = useState<[number, number]>([0, 0])\n  const [changed, setChanged] = useState<boolean>(false)\n\n  const { ndexCredential, config, selectionState, uiState } = useContext(\n    AppContext,\n  )\n\n  const { maxNumObjects, maxDataSize } = config\n\n  useEffect(() => {\n    if (baseRef.current && titleRef.current) {\n      let baseHeight =\n        baseRef.current.offsetHeight - titleRef.current.offsetHeight\n      let baseWidth = baseRef.current.offsetWidth\n      setSize([baseWidth, baseHeight])\n    }\n  }, [baseRef, titleRef, tabsRef, selectionState])\n\n  const { showSearchResult } = uiState\n\n  const { uuid } = useParams()\n\n  const attributes = useAttributes(uuid, cx, uiState.mainNetworkNotDisplayed)\n  const context = useMemo(() => getContextFromCx(cx), [cx])\n\n  // Selected tab\n  const [selected, setSelected] = useState<TabType>(TabType.Network)\n\n  //\n  const [tabsDisabled, setTabsDisabled] = useState<boolean>(true)\n  const [allNodeIds, setAllNodeIds] = useState<any[]>([])\n  const [allEdgeIds, setAllEdgeIds] = useState<any[]>([])\n\n  useEffect(() => {\n    if (cx !== undefined && cx !== null && Array.isArray(cx) && cx.length > 0) {\n\n\n      if( objectCount > maxNumObjects || cxDataSize > config.maxDataSize ) {\n        setTabsDisabled(true)\n        return\n      } else {\n        setTabsDisabled(false)\n      }\n\n      const allNodeCount = getNodeCount(cx)\n      const allEdgeCount = getEdgeCount(cx)\n      setObjCount({ nodeCount: allNodeCount, edgeCount: allEdgeCount })\n\n      const allNodes = getEntry('nodes', cx)\n      const allEdges = getEntry('edges', cx)\n\n      if (\n        allNodes !== undefined &&\n        Array.isArray(allNodes) &&\n        allNodes.length !== 0\n      ) {\n        const testNodeId = allNodes[0]['@id']\n        const idTag = testNodeId === undefined ? 'id' : '@id'\n        const allNodeIDs = allNodes.map((node) => node[idTag])\n        setAllNodeIds(allNodeIDs)\n      }\n      if (\n        allEdges !== undefined &&\n        Array.isArray(allEdges) &&\n        allEdges.length !== 0\n      ) {\n        const testEdgeId = allEdges[0]['@id']\n        const idTag = testEdgeId === undefined ? 'id' : '@id'\n        const allEdgeIds = allEdges.map((edge) => edge[idTag])\n        setAllEdgeIds(allEdgeIds)\n      }\n    }\n  }, [cx])\n\n  useEffect(() => {\n    const { main, sub } = selectionState\n    if (\n      main.nodes.length <= 1 &&\n      main.edges.length <= 1 &&\n      sub.nodes.length <= 1 &&\n      sub.edges.length <= 1\n    ) {\n      setSelected(TabType.Network)\n      // setTabsDisabled(true)\n    } else {\n      // setTabsDisabled(false)\n      setSelected(TabType.Node)\n      setChanged(!changed)\n    }\n\n    // For populating the table with all the nodes\n    if (main.nodes.length === 0 && objCount.nodeCount < SELECTION_TH) {\n    }\n  }, [selectionState])\n\n  // Unified child panel states\n  const [panelState, setPanelState] = useState<NetworkPanelState>({\n    netInfoOpen: true,\n    descriptionOpen: true,\n    propsOpen: true,\n    queryOpen: false,\n  })\n\n  // Store state of the query settings\n  const [queryState, setQueryState] = useState<QueryState>(DEF_QUERY_STATE)\n\n  const letterWidths = useMemo(() => {\n    const widths = {}\n    let widthSum = 0\n    const sandbox = document.getElementById('sandbox')\n    sandbox.style.display = 'block'\n    for (let i = 32; i < 127; i++) {\n      let letter = String.fromCharCode(i)\n      if (letter === ' ') {\n        letter = '&nbsp'\n      }\n      widths[letter] = baseFontSize\n      widthSum += widths[letter]\n    }\n    sandbox.style.display = 'none'\n    widths['default'] = widthSum / (127 - 32)\n    return widths\n  }, [])\n\n  let nodes = []\n  let edges = []\n\n  if (!showSearchResult) {\n    // Main view only\n\n    nodes = selectionState.main['nodes']\n    edges = selectionState.main['edges']\n\n    //   // Show all nodes if number of nodes are smaller than threshold\n    if (nodes.length === 0 && objCount.nodeCount < SELECTION_TH) {\n      nodes = allNodeIds\n    }\n    if (edges.length === 0 && objCount.edgeCount < SELECTION_TH) {\n      edges = allEdgeIds\n    }\n  } else {\n    nodes = selectionState.sub['nodes']\n    edges = selectionState.sub['edges']\n  }\n\n  const summaryResponse = useNetworkSummary(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n  const summaryResponseData = summaryResponse.data\n\n  const _handleSelect = (index, lastIndex, event) => {\n    setChanged(!changed)\n    setSelected(index)\n  }\n\n  const getTable = (selectedObjects: any[], type: string) => {\n    if (selectedObjects.length === 0) {\n      return (\n        <InformationPanel\n          type={type}\n          count={type === 'node' ? objCount.nodeCount : objCount.edgeCount}\n          threshold={SELECTION_TH}\n        />\n      )\n    } else if (selectedObjects.length > SELECTION_TH) {\n      return <WarningPanel type={type} selectedCount={selectedObjects.length} />\n    }\n\n    if (type === 'node') {\n      return (\n        <EntryTable\n          key={'selected-nodes'}\n          selectedObjects={selectedObjects}\n          attributes={attributes.nodeAttr}\n          context={context}\n          letterWidths={letterWidths}\n          label={'Name'}\n          parentSize={size}\n          selected={changed}\n        />\n      )\n    } else {\n      return (\n        <EntryTable\n          key={'selected-edges'}\n          selectedObjects={edges}\n          attributes={attributes.edgeAttr}\n          type={'edge'}\n          context={context}\n          letterWidths={letterWidths}\n          label={'Name'}\n          parentSize={size}\n          selected={changed}\n        />\n      )\n    }\n  }\n\n  let nodeTabTitle =\n    nodes.length === 0 || nodes.length === objCount.nodeCount\n      ? ''\n      : `(${nodes.length} selected)`\n  let edgeTabTitle =\n    edges.length === 0 || edges.length === objCount.edgeCount\n      ? ''\n      : `(${edges.length} selected)`\n\n  return (\n    <div className={classes.root} style={{ width: width }} ref={baseRef}>\n      <div className={classes.topBar} ref={titleRef}>\n        <MinimizeButton />\n        <Typography variant=\"h5\" className={classes.title}>\n          {summaryResponseData['name']}\n        </Typography>\n      </div>\n\n      <div className={classes.tabWrapper}>\n        <Tabs\n          selectedIndex={selected}\n          forceRenderTabPanel={true}\n          onSelect={_handleSelect}\n        >\n          <TabList className={classes.tabList} ref={tabsRef}>\n            <Tab key={'network-tab'}>Network</Tab>\n            <Tab disabled={tabsDisabled} key={'nodes-tab'}>\n              <div>Nodes {nodeTabTitle}</div>\n            </Tab>\n            <Tab disabled={tabsDisabled} key={'edges-tab'}>\n              <div>Edges {edgeTabTitle}</div>\n            </Tab>\n          </TabList>\n\n          <TabPanel value={selected} index={0}>\n            <NetworkPropertyPanel\n              cx={cx}\n              panelState={panelState}\n              setPanelState={setPanelState}\n              queryState={queryState}\n              setQueryState={setQueryState}\n              renderer={renderer}\n            />\n          </TabPanel>\n\n          <TabPanel value={selected} index={1}>\n            {getTable(nodes, 'node')}\n          </TabPanel>\n          <TabPanel value={selected} index={2}>\n            {getTable(edges, 'edge')}\n          </TabPanel>\n        </Tabs>\n      </div>\n    </div>\n  )\n}\n\nexport default DataPanel\n","import { makeStyles, Theme, Typography } from '@material-ui/core'\nimport React, { VFC } from 'react'\nimport OpenInCytoscape from '../../FooterPanel/OpenInCytoscape'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    height: '100%',\n    width: '100%',\n    display: 'grid',\n    justifyContent: 'center',\n    alignContent: 'center',\n  },\n  openButton: {\n    marginTop: theme.spacing(4),\n    borderRadius: '5px',\n    display: 'flex',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n  },\n}))\n\nconst WarningPanel: VFC<{ type: string; selectedCount: number }> = ({\n  type,\n  selectedCount,\n}) => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Typography\n        variant={'h6'}\n      >{` Too many objects (${selectedCount}) are selected.`}</Typography>\n      <Typography variant={'caption'}>\n        {`For large networks like this one, you can use the Cytoscape Desktop to explore/edit`}\n      </Typography>\n\n      <div className={classes.openButton}>\n        <OpenInCytoscape />\n      </div>\n    </div>\n  )\n}\n\nexport default WarningPanel\n","import { useQuery } from 'react-query'\nimport NdexCredential from '../model/NdexCredential'\nimport { getAccessKey, getNdexClient } from '../utils/credentialUtil'\nimport NDExError from '../utils/error/NDExError'\nimport { useLocation } from \"react-router-dom\"\n\nconst EMPTY_CX = []\n\nconst getCx = async (\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string,\n  credential: NdexCredential,\n  threshold: number,\n  objectCount: number,\n  cxVersion: string,\n) => {\n  if (\n    uuid === null ||\n    !credential.loaded ||\n    apiVersion === null ||\n    serverUrl === null ||\n    uuid === null ||\n    objectCount == null\n  ) {\n    // If invalid parameters, just return empty result.\n    return EMPTY_CX\n  }\n\n  if (objectCount > threshold) {\n    console.warn(`Network is too big (>${threshold})`)\n    return EMPTY_CX\n  }\n\n  try {\n    const ndexClient = getNdexClient(`${serverUrl}/${apiVersion}`, credential)\n    const accesskey = credential.accesskey\n\n    if(cxVersion === '2') {\n      if(accesskey !== undefined) {\n        return await ndexClient.getCX2Network(uuid, accesskey)\n      }\n      return await ndexClient.getCX2Network(uuid)\n    } else {\n      if(accesskey !== undefined) {\n        return await ndexClient.getRawNetwork(uuid, accesskey)\n      }\n      return await ndexClient.getRawNetwork(uuid)\n    }\n  } catch (e: unknown) {\n    throw new NDExError(e['message'], e)\n  }\n}\n\nexport default function useCx(\n  uuid: string,\n  serverUrl: string,\n  apiVersion: string = 'v2',\n  credential: NdexCredential,\n  threshold: number = 2000000,\n  objectCount: number = 0,\n  cxVersion: string = '1',\n) {\n  const location = useLocation()\n  const accessKey: string = getAccessKey(location.search)\n  if(accessKey !== null) {\n    credential.accesskey = accessKey\n  }\n  return useQuery(\n    [\n      'cx',\n      uuid,\n      serverUrl,\n      apiVersion,\n      credential,\n      threshold,\n      objectCount,\n      cxVersion,\n    ],\n    () =>\n      getCx(\n        uuid,\n        serverUrl,\n        apiVersion,\n        credential,\n        threshold,\n        objectCount,\n        cxVersion,\n      ),\n    {\n      retry: false,\n    },\n  )\n}\n","import React from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport MinimizeButton from './NetworkPropertyPanel/MinimizeButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'fixed',\n      right: 0,\n      top: 0,\n      paddingTop: '1vh',\n      display: 'flex',\n      flexDirection: 'column',\n      zIndex: 300,\n    },\n  }),\n)\nconst ClosedPanel = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <MinimizeButton />\n    </div>\n  )\n}\n\nexport default ClosedPanel\n","enum ResponseCode {\n  BadRequest = 400,\n  Unauthorized = 401,\n  Forbidden = 403,\n  NotFound = 404,\n  InternalServerError = 500,\n}\n\nexport default ResponseCode\n","import React from 'react'\nimport Helmet from 'react-helmet'\n\nconst defaultTitle = 'NDEx Network Viewer 2.5'\n\nconst Title = ({ title }) => {\n  return (\n    <Helmet>\n      <title>{title ? title : defaultTitle}</title>\n    </Helmet>\n  )\n}\n\nexport default Title\n","import ErrorMessage from './ErrorMessage'\nimport NDExError from './NDExError'\nimport ResponseCode from './ResponseCode'\n\n// Response code is associated with main and sub message\nconst MESSAGE_MAP = new Map<ResponseCode, [string, string]>()\n\nMESSAGE_MAP.set(ResponseCode.BadRequest, [\n  'The server could not handle your request',\n  'The NDEx server could not handle your request. Please try different query or try Classic Mode.',\n])\nMESSAGE_MAP.set(ResponseCode.Unauthorized, [\n  \"You don't have permission to access this data\",\n  'Please sing in to your account and check the permission of this entry',\n])\nMESSAGE_MAP.set(ResponseCode.InternalServerError, [\n  'Unknown server-side error.',\n  'Please try again later or report this issue to us.',\n])\nMESSAGE_MAP.set(ResponseCode.NotFound, [\n  'The entry does not exist in the server',\n  'Please double-check the Network ID in the URL',\n])\n\nconst convertError = (error: NDExError): ErrorMessage => {\n  const { details } = error\n  const unknownError: ErrorMessage = {\n    message: `Unknown error: ${error.name}`,\n    originalMessage: error.message,\n  }\n\n  if (details === undefined) {\n    return unknownError\n  }\n\n  const response = details['response']\n  if (response === undefined) {\n    const dataValidationError: ErrorMessage = {\n      message: 'Invalid Entry Found',\n      optionalMessage: error.details['details'].subMessage,\n      originalMessage: error.message\n    }\n    return dataValidationError\n  }\n  const { status, statusText } = response as Response\n  const data = response['data']\n  const message: [string, string] = MESSAGE_MAP.get(status)\n\n  if (message !== undefined) {\n    const errorMessage: ErrorMessage = {\n      message: message[0],\n      optionalMessage: message[1],\n      originalMessage: `${statusText}: ${data.message}`,\n      code: status,\n    }\n\n    return errorMessage\n  }\n\n  return unknownError\n}\n\nexport { convertError }\n","import React, { useState, FC } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\n\nimport { useHistory } from 'react-router-dom'\n\n\n\nexport type MessageDialogProps = {\n  open: boolean\n  setOpen: Function\n  title?: string\n  message?: string\n  setProceed?: Function\n  setNoView?: Function\n}\n\nconst MessageDialog: FC<MessageDialogProps> = ({ title = '', message = '', open, setOpen, setProceed, setNoView }) => {\n  let history = useHistory()\n\n  const handleProceed = () => {\n\n    setNoView(false)\n    if(setProceed !== undefined) {\n      setProceed(true)\n    }\n    setOpen(false)\n  }\n\n  const handleCancel = () => {\n    setNoView(true)\n    setOpen(false)\n    setProceed(true)\n    // history.goBack()\n  }\n\n  return (\n    <Dialog open={open} onClose={handleCancel}>\n      <DialogTitle>{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>{message}</DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleCancel} color=\"default\">\n          Cancel\n        </Button>\n\n        <Button onClick={handleProceed} color=\"secondary\">\n          OK\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default MessageDialog\n","const appendWindowProtocol = (url :string): string => {\n  return window.location.protocol + '//' + url;\n}\n\nconst getCurrentServer = (): string => {\n  // console.log('host: '+ window.location.host);\n  return `${window.location.protocol}//${window.location.host}`; \n}\n\nexport { appendWindowProtocol, getCurrentServer }\n","import React, { FC } from 'react'\n\nimport Error from '@material-ui/icons/ErrorOutline'\nimport Warning from '@material-ui/icons/WarningOutlined'\nimport Lock from '@material-ui/icons/LockOutlined'\nimport NotFound from '@material-ui/icons/HelpOutlined'\nimport ResponseCode from '../../utils/error/ResponseCode'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\n\n/**\n *\n * Simple error icon factory component\n *\n * @returns\n */\nconst ErrorIcon: FC<{ code: ResponseCode; size?: string }> = ({\n  code,\n  size = '10em',\n}) => {\n  const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n      errorIcon: {\n        fontSize: size,\n        color: getColor(code, theme),\n      },\n    }),\n  )\n  const classes = useStyles()\n\n  if (code === ResponseCode.NotFound) {\n    return <NotFound className={classes.errorIcon} />\n  } else if (\n    code === ResponseCode.Unauthorized ||\n    code === ResponseCode.Forbidden\n  ) {\n    return <Lock className={classes.errorIcon} />\n  } else if (code === ResponseCode.BadRequest) {\n    return <Warning className={classes.errorIcon} />\n  } else {\n    return <Error className={classes.errorIcon} />\n  }\n}\n\nconst getColor = (code: ResponseCode, theme: Theme): string => {\n  const { palette } = theme\n  if (code === ResponseCode.NotFound || code === ResponseCode.Unauthorized) {\n    return palette.info.main\n  } else if (\n    code === ResponseCode.BadRequest ||\n    code === ResponseCode.Forbidden\n  ) {\n    return palette.warning.main\n  } else {\n    return palette.error.main\n  }\n}\n\nexport default ErrorIcon\n","import React, { useState, FC, useEffect, useContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport MessageDialog from './MessageDialog'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\n// import WarningIcon from '@material-ui/icons/WarningOutlined'\n// import LockIcon from '@material-ui/icons/LockOutlined'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nimport AppContext from '../../context/AppState'\nimport ResponseCode from '../../utils/error/ResponseCode'\nimport ErrorIcon from '../ErrorIcon'\n\n/**\n *\n * An empty placeholder panel to check network size\n */\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    initPanel: {\n      width: '100%',\n      height: '100%',\n      boxSizing: 'border-box',\n      color: '#AAAAAA',\n      display: 'grid',\n      placeItems: 'center',\n    },\n    message: {\n      display: 'grid',\n      placeItems: 'center',\n      maxWidth: '40em'\n    },\n    errorMessage: {\n      paddingTop: '1em',\n      color: theme.palette.text.primary,\n    },\n    errorIcon: {\n      fontSize: '15em',\n    },\n    progressIcon: {\n      marginTop: '5em',\n    },\n    bottomMessage: {\n      display: 'grid',\n      placeItems: 'center',\n      marginTop: theme.spacing(4),\n    },\n    caption: {\n      marginTop: theme.spacing(1),\n    },\n    subMessage: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(2),\n      color: theme.palette.text.primary,\n    },\n    link: {\n      color: theme.palette.info.main,\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(2),\n      '&:hover': {\n        fontWeight: 600,\n        cursor: 'pointer',\n      },\n    },\n  }),\n)\n\ntype InitPanelProps = {\n  message: string\n  subMessage?: string\n  optionalMessage?: string\n  code?: ResponseCode\n  setProceed: Function\n  setNoView?: Function\n  showProgress?: boolean\n  summary?: object\n  error?: boolean\n  // isDataTooLarge: boolean\n  // setIsDataTooLarge: Function\n}\n\nconst InitPanel: FC<InitPanelProps> = ({\n  message,\n  subMessage,\n  optionalMessage,\n  code,\n  showProgress = false,\n  summary,\n  setProceed,\n  error = false,\n  setNoView,\n}) => {\n  const classes = useStyles()\n  const { uuid } = useParams()\n  const { config, ndexLoginWrapper } = useContext(AppContext)\n\n  const [open, setOpen] = useState(false)\n\n  const [dialogTitle, setDialogTitle] = useState('')\n  const [dialogMessage, setDialogMessage] = useState('')\n\n  useEffect(() => {\n    if (summary !== undefined) {\n      const total = summary['nodeCount'] + summary['edgeCount']\n      const cxDataSize = summary['cx2FileSize']\n\n      // Check data size.  If too big, proceed without view\n      if (cxDataSize > config.maxDataSize || total > config.maxNumObjects) {\n        setOpen(false)\n        setProceed(true)\n        return\n      }\n\n      if (total <= config.warningThreshold) {\n        const hasLayout = summary['hasLayout']\n\n        if (!hasLayout && total > config.viewerThreshold) {\n          setDialogTitle(`No layout available for this network`)\n          setDialogMessage(\n            'Do you want to visualize the network with random layout? Or click cancel to explore it without view',\n          )\n          setOpen(true)\n        } else {\n          // Small network.  Just load it.\n          setProceed(true)\n        }\n      } else {\n        // Network is huge.  Simply pass the empty CX and show warning panel\n        setOpen(false)\n        setProceed(true)\n      }\n    }\n  }, [summary])\n\n  const handleClose = () => {\n    // setIsDataTooLarge(false)\n    setOpen(false)\n  }\n\n  const _handleLoginOpen = () => {\n    // @ts-ignore\n    ndexLoginWrapper.click()\n  }\n\n  if (error) {\n    return (\n      <div className={classes.initPanel}>\n        <div className={classes.message}>\n          <ErrorIcon code={code} size={'12em'} />\n          <Typography className={classes.errorMessage} variant=\"h4\">\n            {message}\n          </Typography>\n          <Typography variant=\"h5\" className={classes.subMessage}>\n            {optionalMessage}\n          </Typography>\n\n          {code === ResponseCode.Unauthorized ||\n          code === ResponseCode.Forbidden ? (\n            <Typography\n              variant=\"h5\"\n              onClick={_handleLoginOpen}\n              className={classes.link}\n            >\n              Sign In\n            </Typography>\n          ) : (\n            <div />\n          )}\n\n          <Typography variant=\"body1\">({subMessage})</Typography>\n          <div className={classes.bottomMessage}>\n            <Typography\n              variant=\"caption\"\n              onClick={() => handleClick(`${getCurrentServer()}`)}\n              className={classes.link}\n            >\n              Return to top page\n            </Typography>\n          </div>\n        </div>\n      </div>\n    )\n  }\n  return (\n    <React.Fragment>\n      <MessageDialog\n        setProceed={setProceed}\n        setNoView={setNoView}\n        open={open}\n        setOpen={handleClose}\n        title={dialogTitle}\n        message={dialogMessage}\n      />\n      <div className={classes.initPanel}>\n        <div className={classes.message}>\n          <Typography variant=\"h5\">{message}</Typography>\n          {showProgress ? (\n            <CircularProgress\n              color={'secondary'}\n              disableShrink\n              className={classes.progressIcon}\n            />\n          ) : (\n            <div />\n          )}\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n\nconst handleClick = (url: string): void => {\n  window.open(url, '_self')\n}\n\nexport default InitPanel\n","import React, {\n  useState,\n  useContext,\n  useEffect,\n  useRef,\n  useLayoutEffect,\n} from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport NetworkPanel from '../NetworkPanel'\nimport DataPanel from '../DataPanel'\nimport SplitPane from 'react-split-pane'\nimport { useParams } from 'react-router-dom'\nimport useNetworkSummary from '../../hooks/useNetworkSummary'\nimport useCx from '../../hooks/useCx'\nimport AppContext from '../../context/AppState'\nimport ClosedPanel from '../DataPanel/ClosedPanel'\nimport UIState from '../../model/UIState'\nimport { UIStateActions } from '../../reducer/uiStateReducer'\nimport { isWebGL2supported } from '../../utils/browserTest'\nimport Title from '../Title'\n\nimport { convertError } from '../../utils/error/errorHandler'\n\nimport InitializationPanel from './InitializationPanel'\nimport NDExError from '../../utils/error/NDExError'\nimport ErrorMessage from '../../utils/error/ErrorMessage'\n\nconst V2 = 'v2'\n\nconst RENDERER = {\n  lgr: 'lgr',\n  cyjs: 'cyjs',\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    mainSplitRoot: {\n      flexGrow: 1,\n      boxSizing: 'border-box',\n      zIndex: 100,\n      display: 'flex',\n      height: '100%',\n      flexDirection: 'column',\n      position: 'relative',\n    },\n    leftPanel: {\n      display: 'flex',\n      flexDirection: 'column',\n    },\n  }),\n)\n\nconst getDefaultPanelWidth = (): number => {\n  return Math.floor(window.innerWidth * 0.35)\n}\n\ntype FetchParams = {\n  cxVersion: string\n  count: number\n  renderer: string\n  name: string\n}\n\nconst DFE_FETCH_PARAMS: FetchParams = {\n  cxVersion: '1',\n  count: Number.POSITIVE_INFINITY,\n  renderer: RENDERER.cyjs,\n  name: 'N/A',\n}\n\nconst getFetchParams = (summary: object, th: number): FetchParams => {\n  if (summary === undefined) {\n    return DFE_FETCH_PARAMS\n  }\n  const count = summary['edgeCount'] + summary['nodeCount']\n  let cxVersion = '1'\n  let renderer = RENDERER.cyjs\n\n  if (count > th) {\n    cxVersion = '2'\n    renderer = RENDERER.lgr\n  }\n\n  const fetchParams: FetchParams = {\n    cxVersion,\n    count,\n    renderer,\n    name: summary['name'],\n  }\n  return fetchParams\n}\n\nconst MainSplitPane = () => {\n  const classes = useStyles()\n  const containerRef = useRef()\n  const { uuid } = useParams()\n  const { uiState, ndexCredential, config, uiStateDispatch } = useContext(\n    AppContext,\n  )\n  const maxObj = config.maxNumObjects\n  const th = config.viewerThreshold\n\n  const summaryResponse = useNetworkSummary(\n    uuid,\n    config.ndexHttps,\n    V2,\n    ndexCredential,\n  )\n\n  const { isLoading, isError, isLoadingError } = summaryResponse\n  const summary: object = summaryResponse.data\n  const fetchParams = getFetchParams(summary, th)\n\n  // First, give null as UUID to hold immediate loading.\n  const [curUuid, setCurUuid] = useState(null)\n  const cxResponse = useCx(\n    curUuid,\n    config.ndexHttps,\n    V2,\n    ndexCredential,\n    maxObj,\n    fetchParams.count,\n    fetchParams.cxVersion,\n  )\n\n  const originalCx: object[] = cxResponse.data\n\n  // Local states\n  const [rightWidth, setRightWidth] = useState(getDefaultPanelWidth())\n  const [containerHeight, setContainerHeight] = useState(0)\n  const [isWebGL2, setIsWebGL2] = useState(false)\n  const [count, setCount] = useState(0)\n  const [cxDataSize, setCxDataSize] = useState(0)\n  const [proceed, setProceed] = useState(false)\n  const [noView, setNoView] = useState(false)\n\n  const windowWidth = useWindowWidth()\n  const [subCx, setSubCx] = useState(null)\n\n  const assignNewHeight = () => {\n    const curRef = containerRef?.current ?? { offsetHeight: 0 }\n    if (curRef) {\n      setTimeout(() => {\n        if (curRef.offsetHeight !== containerHeight) {\n          setContainerHeight(curRef.offsetHeight)\n        }\n      }, 100)\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', assignNewHeight)\n    const isSupported: boolean = isWebGL2supported()\n    setIsWebGL2(isSupported)\n  }, [])\n\n  useLayoutEffect(() => {\n    assignNewHeight()\n  })\n\n  useEffect(() => {\n    if (summary !== undefined && Object.keys(summary).length !== 0) {\n      const count = summary['edgeCount'] + summary['nodeCount']\n      const cxSize = summary['cx2FileSize']\n      setCount(count)\n      setCxDataSize(cxSize)\n\n      if (count < config.maxNumObjects && cxDataSize < config.maxDataSize) {\n        if (isWebGL2 && !noView) {\n          setCurUuid(uuid)\n        } else if (!isWebGL2 && count < config.viewerThreshold) {\n          setCurUuid(uuid)\n        }\n      }\n    }\n  }, [summary])\n\n  useEffect(() => {\n    if (!uiState.dataPanelOpen && rightWidth > 0) {\n      setRightWidth(0)\n    } else if (uiState.dataPanelOpen) {\n      setRightWidth(getDefaultPanelWidth())\n    }\n  }, [uiState.dataPanelOpen])\n\n  const setRightPanelWidth = (state: UIState) =>\n    uiStateDispatch({\n      type: UIStateActions.SET_RIGHT_PANEL_WIDTH,\n      uiState: state,\n    })\n\n  const setDataPanelOpen = (state: UIState) =>\n    uiStateDispatch({\n      type: UIStateActions.SET_DATA_PANEL_OPEN,\n      uiState: state,\n    })\n\n  useEffect(() => {\n    setRightPanelWidth({ ...uiState, rightPanelWidth: rightWidth })\n  }, [rightWidth])\n\n  const handleChange = (newWidth) => {\n    const newRightWidth = windowWidth - newWidth\n    if (newRightWidth <= 0) {\n      setDataPanelOpen({ ...uiState, dataPanelOpen: false })\n    } else if (!uiState.dataPanelOpen) {\n      setDataPanelOpen({ ...uiState, dataPanelOpen: true })\n    }\n    setRightWidth(newRightWidth)\n  }\n\n  const splitPaneStyle = {\n    height: containerHeight,\n  }\n\n  const getNetworkPanel = () => {\n    // If data is huge, just return Network panel\n    if (config.maxDataSize < cxDataSize || config.maxNumObjects < count) {\n      return (\n        <NetworkPanel\n          noView={noView}\n          cx={originalCx}\n          renderer={fetchParams.renderer}\n          objectCount={count}\n          cxDataSize={cxDataSize}\n          isWebGL2={isWebGL2}\n          setSubCx={setSubCx}\n        />\n      )\n    } else if (originalCx === undefined || cxResponse.isLoading) {\n      return (\n        <InitializationPanel\n          message={'Loading network data from NDEx server...'}\n          showProgress={true}\n          setProceed={setProceed}\n        />\n      )\n    }\n    return (\n      <NetworkPanel\n        noView={noView}\n        cx={originalCx}\n        renderer={fetchParams.renderer}\n        objectCount={count}\n        cxDataSize={cxDataSize}\n        isWebGL2={isWebGL2}\n        setSubCx={setSubCx}\n      />\n    )\n  }\n\n  const getBase = () => {\n    return (\n      <React.Fragment>\n        <Title title={`${fetchParams.name} (${uuid})`} />\n        <div ref={containerRef} className={classes.mainSplitRoot}>\n          <SplitPane\n            split=\"vertical\"\n            minSize={windowWidth * 0.2}\n            size={windowWidth - rightWidth}\n            onDragFinished={handleChange}\n            style={splitPaneStyle}\n            maxSize={0}\n          >\n            {getNetworkPanel()}\n            {uiState.dataPanelOpen ? (\n              <DataPanel\n                width={rightWidth}\n                cx={uiState.mainNetworkNotDisplayed ? subCx : originalCx}\n                renderer={fetchParams.renderer}\n                objectCount={count}\n                cxDataSize={cxDataSize}\n              />\n            ) : (\n              <ClosedPanel />\n            )}\n          </SplitPane>\n        </div>\n      </React.Fragment>\n    )\n  }\n\n  // Check Summary error\n  if (summaryResponse.isError) {\n    const { error } = summaryResponse\n    const ndexError = error as NDExError\n    const errorMessage: ErrorMessage = convertError(ndexError)\n    return (\n      <InitializationPanel\n        message={errorMessage.message}\n        subMessage={errorMessage.originalMessage}\n        optionalMessage={errorMessage.optionalMessage}\n        code={errorMessage.code}\n        error={true}\n        setProceed={setProceed}\n      />\n    )\n  }\n\n  // Step 1: Summary is not available yet\n  if (summary === undefined || isLoading) {\n    return (\n      <InitializationPanel\n        message={'Loading summary of the network...'}\n        showProgress={true}\n        setProceed={setProceed}\n      />\n    )\n  }\n\n  if (cxResponse.isError) {\n    if (\n      cxResponse.error['response'] &&\n      cxResponse.error['response'].data &&\n      cxResponse.error['response'].data.message !==\n        'CX2 network is not available for this network.'\n    ) {\n      return (\n        <InitializationPanel\n          summary={summary}\n          message={`Missing visualization data. Unable to visualize this network.`}\n          error={true}\n          setProceed={setProceed}\n        />\n      )\n    } else {\n      console.log('CXResponse error data:', cxResponse.error['response'].data)\n      return (\n        <InitializationPanel\n          summary={summary}\n          message={`${cxResponse.error}`}\n          error={true}\n          setProceed={setProceed}\n        />\n      )\n    }\n  }\n  // Step 2: Summary is ready, but CX is not\n  if (summary !== undefined && !proceed) {\n    // Too big to display\n    if (config.maxNumObjects < count || config.maxDataSize < cxDataSize) {\n      return getBase()\n    }\n\n    return (\n      <InitializationPanel\n        summary={summary}\n        message={'Checking status of network data...'}\n        setProceed={setProceed}\n        setNoView={setNoView}\n      />\n    )\n  }\n\n  // Initiate loading if browser is compatible.\n  // Step 4: Data is ready.  Need to draw the network\n  return getBase()\n}\n\nconst getWindowWidth = () => {\n  const { innerWidth: windowWidth } = window\n  return windowWidth\n}\n\nconst useWindowWidth = () => {\n  const [windowWidth, setWindowWidth] = useState(getWindowWidth())\n\n  useEffect(() => {\n    function handleResize() {\n      setWindowWidth(getWindowWidth())\n    }\n\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  return windowWidth\n}\n\nexport default MainSplitPane\n","const isWebGL2supported = (): boolean => {\n  let canvas\n  let ctx\n\n  try {\n    canvas = document.createElement('canvas')\n    ctx = canvas.getContext('webgl2')\n  } catch (e) {\n    console.warn('WebGL2 is not supported in your browser.', e)\n    return false\n  }\n\n  console.log(ctx)\n  if (ctx !== undefined && typeof WebGL2RenderingContext !== 'undefined') {\n    return true\n  }\n\n  console.warn('WebGL2 is not supported in your browser. Please turn on the feature or use different web browser.')\n  return false\n}\n\nexport { isWebGL2supported }\n","import React, { FC, useContext } from 'react'\nimport { Button, Tooltip } from '@material-ui/core'\nimport ReturnIcon from '@material-ui/icons/OpenInBrowser'\nimport AppContext from '../../context/AppState'\nimport { useParams } from 'react-router-dom'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nconst ClassicModeButton: FC = () => {\n  const { config } = useContext(AppContext)\n  const { uuid } = useParams()\n\n  const baseUrl: string = getCurrentServer();\n  const classicUrl = `${baseUrl}/#/network/${uuid}`\n\n  const handleClick = (): void => {\n    window.open(classicUrl, '_self')\n  }\n\n  return (\n    <Tooltip title=\"View this network in Classic Mode\">\n      <Button variant=\"outlined\" color=\"default\" size=\"small\" endIcon={<ReturnIcon />} onClick={handleClick}>\n        Switch to Classic Mode\n      </Button>\n    </Tooltip>\n  )\n}\n\nexport default ClassicModeButton\n","export default __webpack_public_path__ + \"static/media/ndex-logo.f952f474.svg\";","import React, { FC } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport { IconButton, Tooltip } from '@material-ui/core'\nimport logo from '../../assets/images/ndex-logo.svg'\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    ndexLogo: {\n      height: theme.spacing(4.5),\n      marginRight: theme.spacing(1),\n      padding: 0,\n      backgroundColor: 'transparent',\n      '&:hover': {\n        backgroundColor: 'transparent',\n      },\n    },\n  }),\n)\n\nconst NdexHomeButton: FC = () => {\n  const classes = useStyles()\n  const baseUrl: string = getCurrentServer()\n\n  const handleClick = (): void => {\n    window.open(baseUrl, '_self')\n  }\n\n  return (\n    <Tooltip title=\"NDEx home\" placement=\"bottom\">\n      <IconButton\n        aria-label=\"NDEx Home\"\n        onClick={handleClick}\n        className={classes.ndexLogo}\n      >\n        <img alt=\"NDEx Logo\" src={logo} className={classes.ndexLogo} />\n      </IconButton>\n    </Tooltip>\n  )\n}\n\nexport default NdexHomeButton\n","import React from 'react'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\nimport IconButton from '@material-ui/core/IconButton'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport { Tooltip } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      height: theme.spacing(5),\n      padding: 0,\n      margin: 0,\n      marginRight: theme.spacing(2),\n      backgroundColor: 'transparent',\n      '&:hover': {\n        backgroundColor: 'transparent',\n      },\n    },\n  }),\n)\n\nconst AdvancedMenu = () => {\n  const classes = useStyles()\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null)\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const open = Boolean(anchorEl)\n  const id = open ? 'advanced-popover' : undefined\n\n  return (\n    <>\n      <Tooltip title=\"Advanced menu\">\n        <IconButton\n          className={classes.button}\n          aria-describedby={id}\n          onClick={handleClick}\n          color=\"inherit\"\n          disableRipple={true}\n          disableFocusRipple={true}\n          disableTouchRipple={true}\n        >\n          <MoreIcon />\n        </IconButton>\n      </Tooltip>\n      <Menu open={open} anchorEl={anchorEl} onClose={handleClose}>\n        <MenuItem\n          onClick={() => {\n            window.open('https://home.ndexbio.org/about-ndex/')\n            setAnchorEl(null)\n          }}\n        >\n          About\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            window.open('https://home.ndexbio.org/quick-start/')\n            setAnchorEl(null)\n          }}\n        >\n          Docs\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            window.open('https://home.ndexbio.org/report-a-bug/')\n            setAnchorEl(null)\n          }}\n        >\n          Report bug\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            window.open('https://home.ndexbio.org/contact-us/')\n            setAnchorEl(null)\n          }}\n        >\n          Contact Us\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            window.open('https://home.ndexbio.org/faq/')\n            setAnchorEl(null)\n          }}\n        >\n          FAQ\n        </MenuItem>\n      </Menu>\n    </>\n  )\n}\n\nexport default AdvancedMenu\n","import React, { FC, useContext, useRef, useEffect } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport Grid from '@material-ui/core/Grid'\n\nimport { NDExSignInButton } from 'cytoscape-explore-components'\n\nimport AppContext from '../../context/AppState'\nimport ClassicModeButton from './ClassicModeButton'\nimport NdexHomeButton from './NdexHomeButton'\nimport AdvancedMenu from './AdvancedMenu'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'fixed',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      top: theme.spacing(1),\n      left: theme.spacing(1),\n      height: theme.spacing(6.5),\n      padding: theme.spacing(1),\n      backgroundColor: 'rgba(255,255,255, 0.9)',\n      zIndex: 300,\n      borderRadius: 5,\n    },\n  }),\n)\n\nconst ToolBar: FC = (props) => {\n  const classes = useStyles()\n  const ndexButton = useRef(null)\n\n  const {\n    config,\n    summary,\n    ndexCredential,\n    setNdexCredential,\n    setNdexLoginWrapper,\n  } = useContext(AppContext)\n\n  useEffect(() => {\n    setNdexLoginWrapper(ndexButton.current.lastChild)\n  }, [])\n\n  const ndexServerUrl = getCurrentServer()\n\n  const loginStateUpdated = (loginState) => {\n    if (loginState) {\n      if (loginState.isGoogle) {\n        setNdexCredential({\n          loaded: true,\n          isLogin: true,\n          isGoogle: true,\n          oauth: loginState,\n        })\n      } else {\n        const details = loginState.loginDetails\n        setNdexCredential({\n          loaded: true,\n          isLogin: true,\n          isGoogle: false,\n          basic: { userId: details.id, password: details.password },\n        })\n      }\n    } else {\n      if (ndexCredential.loaded && ndexCredential.isLogin) {\n        console.log('going from logged in to logged out: ', summary)\n        if (!summary || summary.visibility == 'PRIVATE') {\n          window.location.href = ndexServerUrl\n        }\n      }\n      setNdexCredential({\n        loaded: true,\n        isLogin: false,\n        isGoogle: false,\n      })\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <Grid\n        container\n        direction=\"row\"\n        justify=\"flex-start\"\n        alignItems=\"center\"\n        spacing={0}\n      >\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-start\"\n          alignItems=\"center\"\n        >\n          <NdexHomeButton />\n          <div ref={ndexButton}>\n            <NDExSignInButton\n              size={\"medium\"}\n              myAccountURL={ndexServerUrl + '/#/myAccount'}\n              onLoginStateUpdated={loginStateUpdated}\n            />\n          </div>\n          <AdvancedMenu />\n          <ClassicModeButton />\n        </Grid>\n        <Grid\n          container\n          direction=\"row\"\n          justify=\"flex-end\"\n          alignItems=\"center\"\n        ></Grid>\n      </Grid>\n    </div>\n  )\n}\n\nexport default ToolBar\n","export default __webpack_public_path__ + \"static/media/base_network.d8a7fc02.png\";","export default __webpack_public_path__ + \"static/media/neighborhood_network.1fbd73ae.png\";","export default __webpack_public_path__ + \"static/media/adjacent_network.f4e37580.png\";","export default __webpack_public_path__ + \"static/media/direct_network.5bad2ad8.png\";","export default __webpack_public_path__ + \"static/media/interconnect_network.21703162.png\";","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Dialog from '@material-ui/core/Dialog'\nimport Typography from '@material-ui/core/Typography'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport Paper from '@material-ui/core/Paper'\nimport Draggable from 'react-draggable'\nimport Button from '@material-ui/core/Button'\nimport IconButton from '@material-ui/core/IconButton'\nimport CloseIcon from '@material-ui/icons/Close'\n\nimport base from '../../assets/images/base_network.png'\nimport neighborhood from '../../assets/images/neighborhood_network.png'\nimport adjacent from '../../assets/images/adjacent_network.png'\nimport direct from '../../assets/images/direct_network.png'\nimport interconnect from '../../assets/images/interconnect_network.png'\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '2em',\n  },\n  message: {\n    padding: '2em',\n    display: 'grid',\n    placeItems: 'center center',\n  },\n  dialogTitle: {\n    '& h2': {\n      display: 'flex',\n      flexDirection: 'row',\n    },\n    cursor: 'move',\n  },\n  iconButton: {\n    padding: '0 !important',\n    width: '2rem',\n    height: '2rem',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  flexRowContainerOuter: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    columnGap: '2em',\n    justifyContent: 'center',\n  },\n  flexRowContainerInner: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    maxWidth: '40em',\n    minHeight: '10em',\n  },\n  flexColumnContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    rowGap: '1em',\n  },\n  flexRowItemOuter: {\n    minWidth: '25em',\n    flexGrow: 1,\n    flexBasis: 'calc(50% - 1em)',\n    maxWidth: '40em',\n  },\n  flexRowItemInner: {},\n  flexColumnItem: {},\n  image: {\n    height: '10em',\n    marginLeft: '1em',\n  },\n})\n\nconst PaperComponent = (props) => {\n  const classes = useStyles()\n  return (\n    <Draggable cancel={'[class*=\"MuiDialogContent-root\"]'}>\n      <Paper {...props} />\n    </Draggable>\n  )\n}\n\nexport interface SearchHelpProps {\n  open: boolean\n  onClose: () => void\n}\n\nconst SearchHelpDialog = (props: SearchHelpProps) => {\n  const classes = useStyles()\n  const { onClose, open } = props\n\n  const handleClose = () => {\n    onClose()\n  }\n\n  return (\n    <>\n      <Dialog\n        className={classes.root}\n        onClose={handleClose}\n        aria-labelledby=\"search-help-dialog-title\"\n        open={open}\n        PaperComponent={PaperComponent}\n        maxWidth=\"md\"\n      >\n        <DialogTitle id=\"search-help\" className={classes.dialogTitle}>\n          <Typography variant=\"h6\" className={classes.title}>\n            Network Query Modes\n          </Typography>\n          <IconButton aria-haspopup=\"true\" onClick={handleClose} className={classes.iconButton}>\n            <CloseIcon />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent dividers={true}>\n          <DialogContentText color=\"textPrimary\">\n            <div className={classes.flexRowContainerOuter}>\n              <div className={[classes.flexColumnContainer, classes.flexRowItemOuter].join(' ')}>\n                <div className={[classes.flexRowContainerInner, classes.flexColumnItem].join(' ')}>\n                  <div className={classes.flexRowItemInner}>\n                    <Typography variant=\"body2\">\n                      <br />\n                      This section explains briefly all the available types of query using the simple example network\n                      pictured to the right. In the examples below, the orange node(s) indicate the query terms while\n                      blue nodes and edges identify the retrieved subnetwork.\n                    </Typography>\n                  </div>\n                  <div className={classes.flexRowItemInner}>\n                    <img src={base} className={classes.image} />\n                  </div>\n                </div>\n                <div className={[classes.flexRowContainerInner, classes.flexColumnItem].join(' ')}>\n                  <div className={classes.flexRowItemInner}>\n                    <Typography variant=\"body2\">\n                      <strong>Neighborhood:</strong>\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      Returns all the nodes connected to the query term(s) and all edges between these nodes. For\n                      example, querying the network for \"B\" (orange node), will return the subnetwork highlighted in\n                      blue.\n                    </Typography>\n                  </div>\n                  <div className={classes.flexRowItemInner}>\n                    <img src={neighborhood} className={classes.image} />\n                  </div>\n                </div>\n                <div className={[classes.flexRowContainerInner, classes.flexColumnItem].join(' ')}>\n                  <div className={classes.flexRowItemInner}>\n                    <Typography variant=\"body2\">\n                      <Typography variant=\"body2\">\n                        <strong>Adjacent:</strong>\n                      </Typography>\n                      Returns all nodes connected to the query term(s) and only the edges between these nodes and the\n                      query term(s). In this case querying the network for \"B\" will return a smaller subnetwork.{' '}\n                    </Typography>\n                  </div>\n                  <div className={classes.flexRowItemInner}>\n                    <img src={adjacent} className={classes.image} />\n                  </div>\n                </div>\n              </div>\n              <div className={[classes.flexColumnContainer, classes.flexRowItemOuter].join(' ')}>\n                <div className={[classes.flexRowContainerInner, classes.flexColumnItem].join(' ')}>\n                  <div className={classes.flexRowItemInner}>\n                    <Typography variant=\"body2\">\n                      <Typography variant=\"body2\">\n                        <strong>Direct: </strong>\n                      </Typography>\n                      Returns all edges between the query terms. This type of query requires at least 2 terms (or use of\n                      wildcards). Querying for \"A\" and \"B\" returns only the connection between them.\n                    </Typography>\n                  </div>\n                  <div className={classes.flexRowItemInner}>\n                    <img src={direct} className={classes.image} />\n                  </div>\n                </div>\n                <div className={[classes.flexRowContainerInner, classes.flexColumnItem].join(' ')}>\n                  <div className={classes.flexRowItemInner}>\n                    <Typography variant=\"body2\">\n                      <Typography variant=\"body2\">\n                        <strong>Interconnect:</strong>\n                      </Typography>\n                      Returns all edges connecting the query terms and including up to one intermediate node. Also for\n                      this type of query at least 2 terms (or use of wildcards) are required. In this case, querying for\n                      \"A\" and \"B\" returns the subnetwork highlighted in blue.{' '}\n                    </Typography>\n                  </div>\n                  <div className={classes.flexRowItemInner}>\n                    <img src={interconnect} className={classes.image} />\n                  </div>\n                </div>\n                <div className={[classes.flexRowContainerInner, classes.flexColumnItem].join(' ')}>\n                  <div className={classes.flexRowItemInner}>\n                    <Typography variant=\"body2\">\n                      <strong>1-step</strong> and <strong>2-step</strong> indicate the depth of the traversal query and\n                      only apply to Neighborhood and Adjacent queries.\n                    </Typography>\n                    <Typography variant=\"body2\">\n                      <br />\n                      For more info, please review the manual on{' '}\n                      <a href=\"https://home.ndexbio.org/finding-and-querying-networks/\" target=\"_blank\">\n                        Finding and Querying Networks in NDEx\n                      </a>\n                      .\n                    </Typography>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Close</Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  )\n}\n\nexport default SearchHelpDialog\n","import React, { useContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport useSearch from '../../hooks/useSearch'\nimport AppContext from '../../context/AppState'\nimport Snackbar from '@material-ui/core/Snackbar'\n\nimport { SaveToNDExButton } from 'cytoscape-explore-components'\n\nconst SaveQueryButton = () => {\n  const { uuid } = useParams()\n  const { query, queryMode, uiState, ndexCredential, config, summary } =\n    useContext(AppContext)\n  const searchResult = useSearch(\n    uuid,\n    query,\n    config.ndexHttps,\n    ndexCredential,\n    queryMode,\n    config.maxEdgeQuery,\n  )\n\n  const { isLogin } = ndexCredential\n\n  const subnet = searchResult.data\n  const edgeLimitExceeded: boolean =\n    subnet !== undefined ? subnet['edgeLimitExceeded'] : false\n  const summaryObjectCount = summary\n    ? summary.subnetworkNodeCount + summary.subnetworkEdgeCount\n    : 0\n\n  const subCx =\n    subnet !== undefined && summaryObjectCount > 0 ? subnet['cx'] : undefined\n\n  const fetchCX = () => {\n    return new Promise<Object>(function (resolve, reject) {\n      resolve(subCx)\n    })\n  }\n\n  const [snackMessage, setSnackMessage] = React.useState(undefined)\n\n  const onSuccess = (data) => {\n    console.log(data)\n    setSnackMessage('Network saved to NDEx.')\n  }\n\n  const onFailure = (err) => {\n    setSnackMessage('Failed to Save network: ' + err)\n  }\n\n  const handleClose = () => {\n    setSnackMessage(undefined)\n  }\n\n  if (uiState.showSearchResult) {\n    let disabled = false\n    if (subCx === undefined || edgeLimitExceeded || !isLogin) {\n      disabled = true\n    }\n    return (\n      <>\n        <SaveToNDExButton\n          disabled={disabled}\n          fetchCX={fetchCX}\n          onSuccess={onSuccess}\n          onFailure={onFailure}\n          tooltip=\"Save to NDEx\"\n        />\n        <Snackbar\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n          open={snackMessage !== undefined}\n          autoHideDuration={1500}\n          onClose={handleClose}\n          message={snackMessage}\n        />\n      </>\n    )\n  } else {\n    return <SaveToNDExButton disabled={true} />\n  }\n}\n\nexport default SaveQueryButton\n","import { CyNetworkUtils } from 'cytoscape-cx2js'\n\nconst cyNetworkUtils = new CyNetworkUtils()\n\nconst removeTabsAndPipesFromString = (strToNormalize: String) => {\n    const strWithoutTabsOrPipes = strToNormalize.replace(/\\t/g, ' ').replace(/\\|/g, ' ');\n    return strWithoutTabsOrPipes;\n};\n\nconst getNodeNameFromNodeObj = (nodeObj) => {\n\n    var nodeName = 'No Name';\n\n    if (nodeObj) {\n\n        if (nodeObj.n) {\n            nodeName = nodeObj.n;\n\n        } else if (nodeObj.id) {\n            nodeName = nodeObj.id;\n        }\n    }\n    return nodeName;\n};\n\nconst getEdgeInfo = (niceCX, edgeId) => {\n    if (!niceCX) return null;\n\n    var edge = niceCX.edges[edgeId];\n    var edgeInfo = {\n        'id': edgeId,\n        s: edge.s,\n        t: edge.t,\n        i: edge.i\n    };\n    var counter;\n    if (niceCX.edgeAttributes && niceCX.edgeAttributes[edgeId]) {\n        var edgeAttrs = niceCX.edgeAttributes[edgeId];\n        Object.keys(edgeAttrs).forEach((pname) => {\n            const value = edgeAttrs[pname];\n            if (pname != 'selected') {\n                if (!edgeInfo[pname]) {\n                    edgeInfo[pname] = value;\n                } else {\n                    while (edgeInfo[pname + '_' + counter]) {\n                        counter++;\n                    };\n                    edgeInfo[pname + '_' + counter] = value;\n                    counter++;\n                }\n            }\n        });\n    }\n\n    if (niceCX.edgeCitations && niceCX.edgeCitations[edgeId]) {\n        var citationList = [];\n        niceCX.edgeCitations[edgeId].forEach((citationId) => {\n            citationList.push(niceCX.citations[citationId]);\n        });\n        if (citationList.length > 0)\n            edgeInfo['citations'] = citationList;\n    }\n\n    return edgeInfo;\n};\n\nconst getNodeInfo = (niceCX, nodeId) => {\n    if (!niceCX) return null;\n\n    var node = niceCX.nodes[nodeId];\n\n    var nodeInfo = {\n        'id': nodeId,\n        '_cydefaultLabel': cyNetworkUtils.getDefaultNodeLabel(niceCX, node),\n        'n': node.n,\n        'r': node.r\n    };\n    var counter = 1;\n    if (niceCX.nodeAttributes && niceCX.nodeAttributes[nodeId]) {\n        var nodeAttrs = niceCX.nodeAttributes[nodeId];\n        Object.keys(nodeAttrs).forEach((pname) => {\n            const value = nodeAttrs[pname];\n            if (pname != \"selected\") {\n                if (!nodeInfo[pname]) {\n                    nodeInfo[pname] = value;\n                } else {\n                    while (nodeInfo[pname + '_' + counter]) {\n                        counter++;\n                    };\n                    nodeInfo[pname + '_' + counter] = value;\n                    counter++;\n                }\n            }\n\n        });\n    }\n\n    return nodeInfo;\n};\n\nconst getAttributeValue = (attribute) => {\n    var returnStr = '';\n\n    if (typeof (attribute) === 'undefined' || attribute === '' || attribute == null) {\n        return returnStr;\n    }\n    if (typeof (attribute) === 'string') {\n        return attribute;\n    }\n\n\n    if (typeof (attribute) === 'object') {\n\n        if (attribute.v) {\n\n            if (Array.isArray(attribute.v)) {\n\n                for (var i = 0; i < attribute.v.length; i++) {\n                    attribute.v[i] = removeTabsAndPipesFromString(attribute.v[i]);\n                }\n\n                returnStr = attribute.v.join('|');\n\n            } else if (typeof (attribute.v) === 'string') {\n\n                returnStr = attribute.v;\n            }\n        }\n    }\n\n    return returnStr;\n};\n\nconst getTSVOfCurrentNiceCX = (niceCX) => {\n\n    /*\n     Source\t\tNode name (if Node Name missing, then represents, node Id)\n     Interaction\n     Target\t\tNode name (if Node Name missing, then represents, node Id)\n     Source Id\n     Source Alias\n     Source Properties 1,2,3\n     Target Id\n     Target Alias\n     Target Properties 1,2,3\n     Citation\n     Edge Properties 1,2,3\n     cx edge id\n     cx source node id\n     cx target node id\n     */\n\n    var network = niceCX;\n\n    var edges = network.edges;\n    var edgeKeys = Object.keys(edges);\n\n\n    let data = [];\n    var row = {};\n\n    var edgeAttributes = network.edgeAttributes;\n\n    var headers = { 'Source Node': 0, Interaction: 1, 'Target Node': 2, 'Source ID': 3, 'Source Alias': 4 };\n    var sourceAliasOrder = headers['Source Alias'];\n    var headersSize = 0;\n\n\n    var nodes = network.nodes;\n\n    var nodeKeys = Object.keys(nodes);\n    var nodeAttributes = network.nodeAttributes;\n    var aliasColumnHeader = null;\n\n    for (var key in nodeKeys) {\n        var nodeId = nodeKeys[key];\n\n        if (nodeAttributes) {\n\n            var nodeAttrs = nodeAttributes[nodeId];\n\n            for (var key1 in nodeAttrs) {\n                var attributeObj = (nodeAttrs[key1]) ? (nodeAttrs[key1]) : \"\";\n\n                var attributeObjName = removeTabsAndPipesFromString(attributeObj['n']);\n\n                var attributeObjNameSource = 'Source ' + attributeObjName;\n\n                if (attributeObjName && (attributeObjName.toLowerCase() == 'alias')) {\n                    aliasColumnHeader = attributeObjName;\n                    if (!(attributeObjNameSource in headers)) {\n                        delete headers['Source Alias'];\n                        headers[attributeObjNameSource] = sourceAliasOrder;\n                    }\n                }\n                //var attributeObjNameTarget = 'Target ' + attributeObjName;\n\n                if (!(attributeObjNameSource in headers)) {\n                    headers[attributeObjNameSource] = Object.keys(headers).length;\n                }\n\n                //if (!(attributeObjNameTarget in headers)) {\n                //    headers[attributeObjNameTarget] = Object.keys(headers).length;\n                //}\n            }\n        }\n    }\n\n    headers['Target ID'] = Object.keys(headers).length;\n    headers['Target Alias'] = Object.keys(headers).length;\n    var targetAliasOrder = headers['Target Alias'];\n\n    for (var key in nodeKeys) {\n        var nodeId = nodeKeys[key];\n\n        if (nodeAttributes) {\n\n            var nodeAttrs = nodeAttributes[nodeId];\n\n            for (var key1 in nodeAttrs) {\n                var attributeObj = (nodeAttrs[key1]) ? (nodeAttrs[key1]) : \"\";\n\n                var attributeObjName = removeTabsAndPipesFromString(attributeObj['n']);\n\n                var attributeObjNameTarget = 'Target ' + attributeObjName;\n\n                if (attributeObjName && (attributeObjName.toLowerCase() == 'alias')) {\n                    if (!(attributeObjNameTarget in headers)) {\n                        delete headers['Target Alias'];\n                        headers[attributeObjNameTarget] = targetAliasOrder;\n                    }\n                }\n\n                if (!(attributeObjNameTarget in headers)) {\n                    headers[attributeObjNameTarget] = Object.keys(headers).length;\n                }\n            }\n        }\n    }\n\n    headers['Citation'] = Object.keys(headers).length;\n    var citationOrder = headers['Citation'];\n\n    for (let i = 0; i < edgeKeys.length; i++) {\n        var edgeKey = edgeKeys[i];\n\n        if (edgeAttributes) {\n            for (var key in edgeAttributes[edgeKey]) {\n\n                var keySanitized = removeTabsAndPipesFromString(key);\n\n                if (keySanitized && (keySanitized.toLowerCase() == 'citation')) {\n                    if (!(keySanitized in headers)) {\n                        delete headers['Citation'];\n                        headers[keySanitized] = citationOrder;\n                    }\n                }\n\n                if (!(keySanitized in headers)) {\n                    headers[keySanitized] = Object.keys(headers).length;\n                }\n            }\n        }\n    }\n\n    headers['cx edge id'] = Object.keys(headers).length;\n    headers['cx source node id'] = Object.keys(headers).length;\n    headers['cx target node id'] = Object.keys(headers).length;\n\n\n    var headersKeysSorted = Object.keys(headers);\n    headersKeysSorted.sort(function (a, b) {\n        return headers[a] - headers[b];\n    });\n    var headerKeysJoined = headersKeysSorted.join('\\t') + '\\n';\n\n    var fileString = headerKeysJoined;\n\n    var row = {};\n\n    var nodeAttributesAlreadyProcessed = { 'n': 0, 'r': 0, 'id': 0, '_cydefaultLabel': 0 };\n    var edgeAttributesAlreadyProcessed = { 'id': 0, 's': 0, 't': 0, 'i': 0 };\n\n    // Generate Source Node, Source Node Represents, Target Node, Target Node Represents,\n    // if present\n    for (let i = 0; i < edgeKeys.length; i++) {\n        for (key in headers) {\n            row[key] = '';\n        };\n\n        var rowStringTemp = '';\n        var edgeKey = edgeKeys[i];\n        var edgeObj = getEdgeInfo(network, edgeKey);\n\n\n        row['cx edge id'] = (edgeObj && edgeObj.id) ? edgeObj.id : '';\n        row['cx source node id'] = (edgeObj && (edgeObj.s || edgeObj.s == 0)) ? edgeObj.s : '';\n        row['Interaction'] = (edgeObj && edgeObj.i) ? edgeObj.i : '';\n        row['cx target node id'] = (edgeObj && (edgeObj.t || edgeObj.t == 0)) ? edgeObj.t : '';\n\n\n        var sourceNodeObj = getNodeInfo(network, edgeObj['s']);\n        var targetNodeObj = getNodeInfo(network, edgeObj['t']);\n\n        row['Source Node'] = getNodeNameFromNodeObj(sourceNodeObj);\n        row['Source ID'] = (sourceNodeObj && sourceNodeObj.r) ? sourceNodeObj.r : '';\n        row['Target Node'] = getNodeNameFromNodeObj(targetNodeObj);\n        row['Target ID'] = (targetNodeObj && targetNodeObj.r) ? targetNodeObj.r : '';\n\n        // get Source Node attributes\n        for (var nodeAttr in sourceNodeObj) {\n            var nodeAttrNormalized = removeTabsAndPipesFromString(nodeAttr);\n            if (nodeAttrNormalized in nodeAttributesAlreadyProcessed) {\n                continue;\n            }\n            row['Source ' + nodeAttrNormalized] = getAttributeValue(sourceNodeObj[nodeAttr]);\n        }\n        // get Target Node attributes\n        for (nodeAttr in targetNodeObj) {\n            var nodeAttrNormalized1 = removeTabsAndPipesFromString(nodeAttr);\n            if (nodeAttrNormalized1 in nodeAttributesAlreadyProcessed) {\n                continue;\n            }\n            row['Target ' + nodeAttrNormalized1] = getAttributeValue(targetNodeObj[nodeAttr]);\n        }\n\n        // get edge attributes\n        for (var edgeAttr in edgeObj) {\n            var edgeAttrNormalized = removeTabsAndPipesFromString(edgeAttr);\n            if (edgeAttrNormalized in edgeAttributesAlreadyProcessed) {\n                continue;\n            }\n            row[edgeAttrNormalized] = getAttributeValue(edgeObj[edgeAttr]);\n        }\n\n        var tabSeparatedRow = '';\n        for (key in headersKeysSorted) {\n            var rowElement = row[headersKeysSorted[key]];\n            tabSeparatedRow = tabSeparatedRow + rowElement + '\\t';\n        }\n        // replace last \\t (tab) in tabSeparatedRow with \\n (new line)\n        tabSeparatedRow = tabSeparatedRow.slice(0, -1) + '\\n';\n\n        fileString = fileString + tabSeparatedRow;\n\n    }\n\n    return fileString;\n};\n\nconst cx2tsv = (cx:any) => {\n    const niceCX = cyNetworkUtils.rawCXtoNiceCX(cx);\n    return getTSVOfCurrentNiceCX(niceCX);\n}\n\nexport { cx2tsv }","import React, { FC, ReactElement } from 'react'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport Typography from '@material-ui/core/Typography'\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\n\nimport { cx2tsv } from '../../utils/cx2tsv'\n\nconst ExportTsvButton: FC<{\n  cx: any[]\n  fileName: string\n  setOpen: (open: boolean) => void\n}> = ({ cx, fileName, setOpen }): ReactElement => {\n  let disabled = true\n  if (cx !== undefined) {\n    disabled = false\n  }\n\n  const exportTsv = (content, fileName, contentType) => {\n    const a = document.createElement('a')\n    const file = new Blob([content], { type: contentType })\n    a.href = URL.createObjectURL(file)\n    a.download = fileName\n    a.click()\n  }\n\n  const _handleClick = () => {\n    setOpen(false)\n    const tsvString = cx2tsv(cx)\n    exportTsv(tsvString, fileName, 'application/json')\n  }\n\n  return (\n    <MenuItem onClick={_handleClick} disabled={disabled}>\n      <ListItemIcon>\n        <DownloadIcon fontSize=\"small\" />\n      </ListItemIcon>\n      <Typography variant=\"inherit\">Export TSV</Typography>\n    </MenuItem>\n  )\n}\n\nexport default ExportTsvButton\n","import React, { FC, ReactElement, useContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport useSearch from '../../hooks/useSearch'\nimport AppContext from '../../context/AppState'\nimport ExportTsvMenuItem from '../ExportTsvMenuItem'\n\nconst SaveQueryTSVMenuItem: FC<{ setOpen: (open: boolean) => void }> = ({\n  setOpen,\n}): ReactElement => {\n  const { uuid } = useParams()\n  const { query, queryMode, ndexCredential, config, summary } =\n    useContext(AppContext)\n\n  const { status, data } = useSearch(\n    uuid,\n    query,\n    config.ndexHttps,\n    ndexCredential,\n    queryMode,\n    config.maxEdgeQuery,\n  )\n\n  const edgeLimitExceeded: boolean =\n    data !== undefined ? data['edgeLimitExceeded'] : false\n  const summaryObjectCount = summary\n    ? summary.subnetworkNodeCount + summary.subnetworkEdgeCount\n    : 0\n\n  const subCx = data !== undefined ? data['cx'] : undefined\n  const fileName = uuid ? uuid + ' subnet.tsv' : 'subnet.tsv'\n\n  return (\n    <ExportTsvMenuItem\n      cx={\n        status &&\n        status === 'success' &&\n        !edgeLimitExceeded &&\n        summaryObjectCount > 0\n          ? subCx\n          : undefined\n      }\n      fileName={fileName}\n      setOpen={setOpen}\n    />\n  )\n}\n\nexport default SaveQueryTSVMenuItem\n","import React, {useState} from 'react'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\n\nimport Menu from '@material-ui/core/Menu'\nimport IconButton from '@material-ui/core/IconButton'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport SaveQueryTSVMenuItem from './SaveQueryTSVMenuItem'\nimport { Tooltip } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    typography: {\n      //padding: theme.spacing(2),\n    },\n  }),\n)\n\nconst AdvancedQueryMenu = () => {\n  const classes = useStyles()\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null)\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n    setOpen(false)\n  }\n\n  const [open, setOpen] = useState<boolean>(Boolean(anchorEl))\n  const id = open ? 'advanced-menu' : undefined\n\n  return (\n    <>\n      <Tooltip title=\"Search query advanced menu\">\n        <IconButton aria-describedby={id} onClick={handleClick} color=\"inherit\">\n          <MoreIcon />\n        </IconButton>\n      </Tooltip>\n      <Menu\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n      >\n        <SaveQueryTSVMenuItem setOpen={setOpen}/>\n      </Menu>\n    </>\n  )\n}\n\nexport default AdvancedQueryMenu\n","import React, { FC, useState, useContext, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport InputBase from '@material-ui/core/InputBase'\nimport SearchIcon from '@material-ui/icons/Search'\nimport CloseIcon from '@material-ui/icons/Close'\nimport InfoIcon from '@material-ui/icons/InfoOutlined'\n\nimport FormControl from '@material-ui/core/FormControl'\nimport Select from '@material-ui/core/Select'\nimport { IconButton, Tooltip } from '@material-ui/core'\nimport AppContext from '../../context/AppState'\nimport SearchHelpDialog from './SearchHelpDialog'\nimport { DownloadButton, DownloadProps } from 'cytoscape-explore-components'\nimport { fitContent, lockMainWindow } from '../../utils/cyjsUtil'\n\nimport useSearch from '../../hooks/useSearch'\nimport SaveQueryButton from './SaveQueryButton'\nimport AdvancedQueryMenu from './AdvancedQueryMenu'\nimport UIState from '../../model/UIState'\nimport { UIStateActions } from '../../reducer/uiStateReducer'\nimport SelectionState from '../../model/SelectionState'\nimport { SelectionActions } from '../../reducer/selectionStateReducer'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[100],\n      marginRight: theme.spacing(1),\n      marginLeft: theme.spacing(1),\n      padding: 0,\n      paddingRight: theme.spacing(1) \n    },\n    search: {\n      maxWidth: '60vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n    },\n    inputRoot: {\n      width: '100%',\n      color: 'inherit',\n    },\n    inputInput: {\n      paddingLeft: theme.spacing(1),\n      paddingRight: theme.spacing(1),\n      transition: theme.transitions.create('width'),\n      width: '100%',\n    },\n    formControl: {\n      minWidth: '15em',\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(0),\n    },\n    searchType: {\n      maxWidth: '12ch',\n      padding: 0,\n    },\n    button: {\n      padding: 0,\n    },\n  }),\n)\n\nconst queryModes = {\n  direct: 'Direct',\n  firstStepNeighborhood: '1-Step Neighborhood',\n  firstStepAdjacent: '1-step adjacent',\n  interconnect: 'Interconnect',\n  twoStepNeighborhood: '2-step neighborhood',\n  twoStepAdjacent: '2-step adjacent',\n}\n\nconst SearchBox: FC = () => {\n  const classes = useStyles()\n  const [open, setOpen] = useState(false)\n  const [disableQuery, setDisableQuery] = useState(true)\n  const [rawQuery, setRawQuery] = useState('')\n\n  const { uuid } = useParams()\n\n  const {\n    cyReference,\n    query,\n    setQuery,\n    queryMode,\n    setQueryMode,\n    uiStateDispatch,\n    uiState,\n    selectionState,\n    selectionStateDispatch,\n    ndexCredential,\n    config,\n    summary,\n  } = useContext(AppContext)\n\n  const [searchType, setSearchType] = useState(queryMode)\n\n  const searchResult = useSearch(\n    uuid,\n    query,\n    config.ndexHttps,\n    ndexCredential,\n    queryMode,\n    config.maxEdgeQuery,\n  )\n\n  const subnet = searchResult.data\n  let subCx\n  if (subnet !== undefined) {\n    subCx = subnet['cx']\n  }\n\n  const edgeLimitExceeded: boolean =\n    subnet !== undefined ? subnet['edgeLimitExceeded'] : false\n  const summaryObjectCount = summary\n    ? summary.subnetworkNodeCount + summary.subnetworkEdgeCount\n    : 0\n\n  const data = summaryObjectCount > 0 ? subCx : undefined \n  const downloadProps: DownloadProps = {\n    data,\n    tooltip: 'Download query result as CX',\n    fileName: `${uuid} subnet.cx`,\n  }\n\n  const handleSearchTypeChange = (evt) => {\n    const val = evt.target.value\n    setSearchType(val)\n    setQueryMode(val)\n  }\n  const handleQueryChange = (evt) => {\n    const q: string = evt.target.value\n    if (q !== undefined && q.length !== 0) {\n      setDisableQuery(false)\n    } else {\n      setDisableQuery(true)\n    }\n    setRawQuery(q)\n  }\n\n  const setShowSearchResult = (state: UIState) =>\n    uiStateDispatch({\n      type: UIStateActions.SET_SHOW_SEARCH_RESULT,\n      uiState: state,\n    })\n  const setClearSelection = (state: SelectionState) => {\n    selectionStateDispatch({\n      type: SelectionActions.CLEAR_ALL_SUB,\n      selectionState: state,\n    })\n    selectionStateDispatch({\n      type: SelectionActions.CLEAR_ALL_MAIN,\n      selectionState: state,\n    })\n  }\n\n  const handleClick = () => {\n    setQuery(rawQuery)\n    setShowSearchResult({ ...uiState, showSearchResult: true })\n    setClearSelection({ ...selectionState })\n    setTimeout(() => {\n      fitContent(cyReference)\n      // lockMainWindow(cyReference, true)\n    }, 300)\n  }\n\n  const handleClear = () => {\n    setRawQuery('')\n    setQuery('')\n    setDisableQuery(true)\n    setShowSearchResult({ ...uiState, showSearchResult: false })\n    setClearSelection({ ...selectionState })\n    setTimeout(() => {\n      fitContent(cyReference)\n      // lockMainWindow(cyReference, false)\n    }, 300)\n  }\n\n  const handleHelpClose = () => {\n    setOpen(false)\n  }\n  const handleHelpOpen = () => {\n    setOpen(true)\n  }\n\n  const handleKeyPress = (e): void => {\n    if (rawQuery.length === 0) {\n      return\n    }\n\n    const key = e.key\n    if (key === 'Enter') {\n      handleClick()\n    }\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.search}>\n        <InputBase\n          autoFocus={true}\n          placeholder=\"Enter query terms\"\n          value={rawQuery}\n          classes={{\n            root: classes.inputRoot,\n            input: classes.inputInput,\n          }}\n          inputProps={{ 'aria-label': 'search' }}\n          onChange={handleQueryChange}\n          onKeyPress={handleKeyPress}\n        />\n      </div>\n      <Tooltip title=\"Learn more\">\n        <IconButton\n          color=\"inherit\"\n          disableFocusRipple\n          disableRipple\n          onClick={handleHelpOpen}\n        >\n          <InfoIcon />\n        </IconButton>\n      </Tooltip>\n      <FormControl variant=\"standard\" className={classes.formControl}>\n        <Select\n          native\n          value={searchType}\n          onChange={handleSearchTypeChange}\n          label=\"Search Type\"\n          inputProps={{\n            name: 'search type',\n            id: 'search-type',\n          }}\n        >\n          {Object.keys(queryModes).map((key) => (\n            <option key={key} value={key}>\n              {queryModes[key]}\n            </option>\n          ))}\n        </Select>\n      </FormControl>\n      <IconButton\n        color=\"inherit\"\n        disableFocusRipple\n        disableRipple\n        disabled={disableQuery}\n        onClick={handleClick}\n      >\n        <SearchIcon />\n      </IconButton>\n      {!edgeLimitExceeded && <DownloadButton {...downloadProps} />}\n      {!edgeLimitExceeded && <SaveQueryButton />}\n      <AdvancedQueryMenu />\n      <IconButton\n        color=\"inherit\"\n        disableFocusRipple\n        disableRipple\n        className={classes.button}\n        disabled={disableQuery}\n        onClick={handleClear}\n      >\n        <CloseIcon />\n      </IconButton>\n      <SearchHelpDialog onClose={handleHelpClose} open={open} />\n    </div>\n  )\n}\n\nexport default SearchBox\n","import React, { FC, ReactElement, useContext } from 'react'\nimport { useParams } from 'react-router-dom'\nimport IconButton from '@material-ui/core/IconButton'\nimport EditIcon from '@material-ui/icons/Edit'\nimport LockIcon from '@material-ui/icons/Lock'\nimport AppContext from '../../context/AppState'\nimport useNetworkPermissions from '../../hooks/useNetworkPermissions'\nimport { Tooltip } from '@material-ui/core'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\nimport useNetworkSummary from '../../hooks/useNetworkSummary'\n\nconst EditMetadataButton: FC = (): ReactElement => {\n  const { summary, ndexCredential, config } = useContext(AppContext)\n  const { uuid } = useParams()\n  const { isLogin } = ndexCredential\n\n  const summaryResponse = useNetworkSummary(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n  const networkSummary = summaryResponse.data\n  let isDoiAvailable = false\n  let readOnly = false\n\n  if (networkSummary !== undefined && networkSummary !== null) {\n    const { doi } = summary\n    if (doi !== undefined) {\n      // DOI status available.\n      isDoiAvailable = true\n    }\n\n    readOnly = networkSummary.isReadOnly\n  }\n\n  const permissions = useNetworkPermissions(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n\n  let hasPermission = false\n  if (\n    permissions !== undefined &&\n    permissions !== null &&\n    permissions.data === 'ADMIN'\n  ) {\n    hasPermission = true\n  }\n\n  let login: boolean = false\n  if (isLogin && summary !== undefined) {\n    login = true\n  }\n\n  let message = 'This feature is only available to signed-in users'\n\n  let disabled = true\n  if (hasPermission && login) {\n    if (isDoiAvailable) {\n      message =\n        'Network properties cannot be modified once a DOI has been requested or assigned'\n    } else {\n      if (readOnly) {\n        message = 'This network is read-only'\n        disabled = true\n      } else {\n        message = 'Edit network properties'\n        disabled = false\n      }\n    }\n  } else if (!hasPermission && login) {\n    message = \"You don't have permission to edit this network\"\n  }\n\n  return (\n    <Tooltip title={message} arrow placement={'top-start'}>\n      <div>\n        <IconButton\n          disabled={disabled}\n          color=\"inherit\"\n          href={\n            getCurrentServer() +\n            '/#/properties/network/' +\n            summary.externalId +\n            '/null?returnto=nnv'\n          }\n        >\n          {readOnly || disabled ? <LockIcon /> : <EditIcon />}\n        </IconButton>\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default EditMetadataButton\n","import React, { FC } from 'react'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport Typography from '@material-ui/core/Typography'\nimport LinkIcon from '@material-ui/icons/Link'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nconst ShareLinkMenuItem: FC<{ uuid: string, disabled: boolean }> = ({\n  uuid = '',\n  disabled = false,\n}) => {\n  return (\n    <MenuItem\n    disabled={disabled}\n      component=\"a\"\n      href={getCurrentServer() + '/#/access/network/' + uuid + '?returnto=nnv'}\n    >\n      <ListItemIcon>\n        <LinkIcon fontSize=\"small\" />\n      </ListItemIcon>\n      <Typography variant=\"inherit\">Share</Typography>\n    </MenuItem>\n  )\n}\n\nexport default ShareLinkMenuItem\n","import React, { FC } from 'react'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport Typography from '@material-ui/core/Typography'\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\n//http://dev.ndexbio.org/#/properties/network/9a17d903-85b9-11eb-8e98-525400c25d22/null?doi=true\n\nconst CreateDOIMenuItem: FC<{ uuid: string; disabled: boolean }> = ({\n  uuid = '',\n  disabled = false,\n}): React.ReactElement => (\n  <MenuItem\n    disabled={disabled}\n    component=\"a\"\n    href={\n      getCurrentServer() +\n      '/#/properties/network/' +\n      uuid +\n      '/null?doi=true&returnto=nnv'\n    }\n  >\n    <ListItemIcon>\n      <LibraryBooksIcon fontSize=\"small\" />\n    </ListItemIcon>\n    <Typography variant=\"inherit\">Request DOI</Typography>\n  </MenuItem>\n)\n\nexport default CreateDOIMenuItem\n","import React, { VFC, ReactElement, useContext } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport Menu from '@material-ui/core/Menu'\nimport IconButton from '@material-ui/core/IconButton'\nimport ShareIcon from '@material-ui/icons/Share'\nimport ShareLinkMenuItem from '../ShareLinkMenuItem'\nimport CreateDOIMenuItem from '../CreateDOIMenuItem'\nimport { Tooltip } from '@material-ui/core'\nimport AppContext from '../../context/AppState'\nimport useNetworkPermissions from '../../hooks/useNetworkPermissions'\n\nconst DISABLED_MENU_TOOLTIP =\n  'This feature is only available to signed-in users'\n\nconst ShareMenu: VFC = (): ReactElement => {\n  const { uuid } = useParams()\n  const { summary, config, ndexCredential } = useContext(AppContext)\n\n  const permissions = useNetworkPermissions(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n\n  let hasPermission = false\n  if (\n    permissions !== undefined &&\n    permissions !== null &&\n    permissions.data === 'ADMIN'\n  ) {\n    hasPermission = true\n  }\n\n  // Disable menu items if not logged-in\n  const disabled = !ndexCredential.isLogin\n\n  const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(null)\n\n  const handleClick = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const getDisabledMessage = (\n    isLogin: boolean,\n    isDoiAvailable: boolean,\n    hasPermission: boolean,\n  ): string => {\n    if(isLogin && !hasPermission) {\n      return \"You don't have permission to request DOI.\"\n    } else if(isLogin && hasPermission && isDoiAvailable) {\n      return \"A DOI has already been requested for this network\"\n    } else {\n      return DISABLED_MENU_TOOLTIP\n    }\n  }\n\n  const open = Boolean(anchorEl)\n  const id = open ? 'advanced-menu' : undefined\n  let isDoiAvailable = false\n  if (summary !== undefined && summary !== null) {\n    const { doi } = summary\n    if (doi !== undefined) {\n      // DOI status available.  Check its current state\n      isDoiAvailable = true\n    }\n  }\n\n  return (\n    <>\n      <Tooltip title=\"Share...\">\n        <IconButton\n          aria-label=\"share\"\n          aria-describedby={id}\n          onClick={handleClick}\n          color=\"inherit\"\n        >\n          <ShareIcon />\n        </IconButton>\n      </Tooltip>\n      <Menu\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n      >\n        <Tooltip\n          title={\n            disabled\n              ? DISABLED_MENU_TOOLTIP\n              : 'Share this network internally or externally'\n          }\n          arrow\n          placement={'left-end'}\n        >\n          <div>\n            <ShareLinkMenuItem uuid={uuid} disabled={disabled} />\n          </div>\n        </Tooltip>\n\n        <Tooltip\n          title={\n            disabled || isDoiAvailable || !hasPermission\n              ? getDisabledMessage(ndexCredential.isLogin, isDoiAvailable, hasPermission)\n              : 'Request a Digital Object Identifier for this network'\n          }\n          arrow\n          placement={'left-end'}\n        >\n          <div>\n            <CreateDOIMenuItem\n              uuid={uuid}\n              disabled={disabled || isDoiAvailable || !hasPermission}\n            />\n          </div>\n        </Tooltip>\n      </Menu>\n    </>\n  )\n}\n\nexport default ShareMenu\n","import React, { useContext } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport AppContext from '../../context/AppState'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport DownloadIcon from '@material-ui/icons/CloudDownload'\n\nimport { appendWindowProtocol } from '../../utils/locationUtil'\n\nconst SaveNetworkCXButton = () => {\n  const { uuid } = useParams()\n\n  const { ndexCredential, config, summary } = useContext(AppContext)\n\n  const exportCx = () => {\n    const a = document.createElement('a')\n    let credentialProp = ''\n    if (ndexCredential.isLogin) {\n      if (ndexCredential.isGoogle) {\n        credentialProp =\n          '&id_token=' + ndexCredential.oauth['loginDetails'].tokenId\n      } else {\n        credentialProp =\n          '&auth_token=' +\n          btoa(\n            ndexCredential.basic.userId + ':' + ndexCredential.basic.password,\n          )\n      }\n    }\n\n    a.href = `${appendWindowProtocol(\n      config.ndexUrl,\n    )}/v2/network/${uuid}?download=true${credentialProp}`\n    a.click()\n  }\n\n  const handleClick = () => {\n    exportCx()\n  }\n\n  return (\n    <Tooltip title=\"Download this network in CX format\">\n      <IconButton disabled={!summary} onClick={handleClick} color=\"inherit\">\n        <DownloadIcon />\n      </IconButton>\n    </Tooltip>\n  )\n}\n\nexport default SaveNetworkCXButton\n","import React, { VFC, useContext, useState } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport { getNdexClient } from '../../utils/credentialUtil'\nimport AppContext from '../../context/AppState'\nimport { useParams } from 'react-router-dom'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nconst DeleteDialog: VFC<{ open: boolean; setOpen: (boolean) => void }> = ({\n  open,\n  setOpen,\n}) => {\n  const baseUrl: string = getCurrentServer()\n  const usersAccountUrl = `${baseUrl}/#/myAccount`\n\n  const { ndexCredential, config } = useContext(AppContext)\n  const { uuid } = useParams()\n  const [openFeedback, setOpenFeedback] = useState<boolean>(false)\n\n  const _handleDelete = () => {\n    const ndexClient = getNdexClient(`${config.ndexHttps}/v2`, ndexCredential)\n    ndexClient\n      .deleteNetwork(uuid)\n      .then((response) => {\n        console.log(response)\n        setOpenFeedback(true)\n      })\n      .catch((err) => {\n        console.log(err)\n        throw new Error(err)\n      })\n    setOpen(false)\n  }\n\n  const _handleClose = () => {\n    setOpen(false)\n  }\n\n  const _handleCloseFeedback = () => {\n    setOpenFeedback(false)\n    setTimeout(() => {\n      window.open(usersAccountUrl, '_self')\n    }, 1100)\n  }\n\n\n  return (\n    <>\n      <Dialog\n        open={open}\n        onClose={_handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {'Delete this network'}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            This network will be permanently deleted from NDEx. Are you sure you\n            want to proceed?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={_handleClose} color=\"default\" autoFocus>\n            Cancel\n          </Button>\n          <Button onClick={_handleDelete} color=\"secondary\">\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={openFeedback}\n        autoHideDuration={1000}\n        message=\"The network successfully deleted. Redirecting to your account page...\"\n        onClose={_handleCloseFeedback}\n      />\n    </>\n  )\n}\n\nexport default DeleteDialog\n","import React, { VFC, ReactElement, useContext, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport AppContext from '../../context/AppState'\nimport useNetworkPermissions from '../../hooks/useNetworkPermissions'\nimport { Tooltip } from '@material-ui/core'\nimport red from '@material-ui/core/colors/red'\nimport DeleteDialog from './DeleteDialog'\n\nconst DeleteButton: VFC = (): ReactElement => {\n  const { summary, ndexCredential, config } = useContext(AppContext)\n  const { uuid } = useParams()\n  const { isLogin } = ndexCredential\n\n  const [open, setOpen] = useState<boolean>(false)\n\n  const permissions = useNetworkPermissions(\n    uuid,\n    config.ndexHttps,\n    'v2',\n    ndexCredential,\n  )\n\n  let hasPermission = false\n  if (\n    permissions !== undefined &&\n    permissions !== null &&\n    permissions.data === 'ADMIN'\n  ) {\n    hasPermission = true\n  }\n\n  let login: boolean = false\n  if (isLogin && summary !== undefined) {\n    login = true\n  }\n\n  let message = 'Delete function is only available to signed-in users'\n\n  let disabled = true\n  if (hasPermission && login) {\n    message = 'Delete this network'\n    disabled = false\n  } else if (!hasPermission && login) {\n    message = \"You don't have permission to delete this network\"\n  }\n\n  const _handleClick = (event: any): void => {\n    setOpen(true)\n  }\n\n  return (\n    <Tooltip title={message} arrow placement={'top-start'}>\n      <div>\n        <IconButton color=\"inherit\" disabled={disabled} onClick={_handleClick}>\n          <DeleteIcon />\n        </IconButton>\n        <DeleteDialog open={open} setOpen={setOpen} />\n      </div>\n    </Tooltip>\n  )\n}\n\nexport default DeleteButton\n","import React, { FC } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport SearchBox from './SearchBox'\nimport OpenInCytoscape from './OpenInCytoscape'\nimport EditMetadataButton from './EditMetadataButton'\nimport ShareMenu from './ShareMenu'\nimport SaveNetworkCXButton from './SaveNetworkCXButton'\nimport DeleteButton from './DeleteButton'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    toolBar: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-start',\n      width: '100%',\n      height: '100%',\n      backgroundColor: '#FFFFFF',\n      boxSizing: 'border-box',\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n    },\n    grow: {\n      flexGrow: 1,\n    },\n  }),\n)\n\nconst FooterPanel: FC = () => {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.toolBar}>\n      <SearchBox />\n      <div className={classes.grow} />\n      <OpenInCytoscape />\n      <SaveNetworkCXButton />\n      <EditMetadataButton />\n      <ShareMenu />\n      <DeleteButton />\n    </div>\n  )\n}\n\nexport default FooterPanel\n","import React, { FC } from 'react'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport { NDExAccountProvider } from 'cytoscape-explore-components'\nimport MainSplitPane from '../MainSplitPane'\nimport ToolBar from '../ToolBar'\nimport AppContext from '../../context/AppState'\nimport { useContext } from 'react'\nimport FooterPanel from '../FooterPanel'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    appShell: {\n      width: '100%',\n      height: '100%',\n      padding: 0,\n      margin: 0,\n      boxSizing: 'border-box',\n    },\n    wrapper: {\n      width: '100%',\n      height: '100%',\n      padding: 0,\n      margin: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      boxSizing: 'border-box',\n\n    },\n    header: {\n      // border: '3px solid teal',\n    },\n    main: {\n      flexGrow: 1,\n      background: '#EEEEEE',\n      display: 'flex',\n      flexDirection: 'column',\n      // alignItems: 'stretch',\n      boxSizing: 'border-box',\n      width: '100%',\n      height: '100%',\n    },\n    footer: {\n      boxSizing: 'border-box',\n      zIndex: 500,\n      padding: 0,\n      margin: 0,\n      borderTop: '1px solid rgba(230,230,230,0.7)',\n      width: '100%',\n      height: '4em', //If this changes, also update footer size in Popup/index.tsx\n    },\n    sandbox: {\n      position: 'absolute',\n      left: '-999em',\n    },\n  }),\n)\n\nconst AppShell: FC = () => {\n  const classes = useStyles()\n  const { config } = useContext(AppContext)\n\n  return (\n    <div className={classes.appShell}>\n      <NDExAccountProvider\n        ndexServerURL={config.ndexHttps}\n        googleClientId={config.googleClientId}\n      >\n        <div className={classes.wrapper}>\n          <header className={classes.header}>\n            <ToolBar />\n          </header>\n          <main className={classes.main}>\n            <MainSplitPane />\n          </main>\n          <footer className={classes.footer}>\n            <FooterPanel />\n          </footer>\n        </div>\n      </NDExAccountProvider>\n      <div id=\"sandbox\"></div>\n    </div>\n  )\n}\n\nexport default AppShell\n","import { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\nimport { NDExAccountProvider } from 'cytoscape-explore-components'\n\nimport AppContext from '../../context/AppState'\nimport { useContext, FC } from 'react'\nimport PropTypes from 'prop-types'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    accountShell: {\n      width: '100%',\n      height: '100vh',\n      padding: 0,\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      flexDirection: 'column',\n      boxSizing: 'border-box',\n    },\n  }),\n)\n\nconst AccountShell: FC = (props) => {\n  const classes = useStyles()\n  const { config } = useContext(AppContext)\n\n  return (\n    <div className={classes.accountShell}>\n      <NDExAccountProvider\n        ndexServerURL={config.ndexHttps}\n        googleClientId={config.googleClientId}\n      >\n        {props.children}\n      </NDExAccountProvider>\n    </div>\n  )\n}\n\nAccountShell.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default AccountShell\n","import { NdexSignUpPanel } from 'cytoscape-explore-components'\nimport { handleNDExSignOn } from 'cytoscape-explore-components'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nimport { FC, useState } from 'react'\nimport { Grid } from '@material-ui/core'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\n\nimport { useEffect } from 'react'\nimport { Button, Typography } from '@material-ui/core'\n\nimport logo from '../../assets/images/ndex-logo.svg'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: '40em',\n      padding: 0,\n      margin: 0,\n      display: 'flex',\n      flexDirection: 'column',\n      boxSizing: 'border-box',\n    },\n    ndexLogo: {\n      height: '3em',\n      'vertical-align': 'middle',\n    },\n    titleText: {\n      'vertical-align': 'middle',\n      'padding-left': '1em',\n      'line-height': '2em',\n    },\n    homeButton: {\n      color: 'white',\n      'background-color': '#337ab7',\n      textTransform: 'none',\n    },\n    footer: {\n      'text-align': 'center',\n    },\n  }),\n)\n\nconst AccountSignUpPane: FC = () => {\n  const classes = useStyles()\n\n  useEffect(() => {\n    document.title = 'Sign Up for NDEx'\n  }, [])\n\n  const baseUrl: string = getCurrentServer()\n\n  const [showHomeLink, setShowHomeLink] = useState(false)\n\n  const onSuccessLogin = () => {\n    window.open(baseUrl + '/#/myAccount', '_self')\n  }\n\n  const handleHomeClick = () => {\n    window.open(baseUrl, '_self')\n  }\n\n  const onWaitForEmailValidation = (userInfo, onSuccessLogin) => {\n    setShowHomeLink(true)\n  }\n\n  return (\n    <Grid container className={classes.root}>\n      <Grid container alignItems={'center'} justify={'center'}>\n        <Grid item>\n          <img alt=\"NDEx Logo\" src={logo} className={classes.ndexLogo} />\n        </Grid>\n        <Grid item>\n          <Typography\n            variant=\"h6\"\n            display=\"inline\"\n            className={classes.titleText}\n          >\n            Sign Up for NDEx\n          </Typography>\n        </Grid>\n      </Grid>\n      <NdexSignUpPanel\n        handleNDExSignOn={handleNDExSignOn}\n        onSuccessLogin={onSuccessLogin}\n        onWaitForEmailValidation={onWaitForEmailValidation}\n      />\n      {showHomeLink && (\n        <div className={classes.footer}>\n          <Button onClick={handleHomeClick} className={classes.homeButton}>\n            Go to NDEx Home Page\n          </Button>\n        </div>\n      )}\n    </Grid>\n  )\n}\n\nexport default AccountSignUpPane\n","import { ForgotPasswordPanel } from 'cytoscape-explore-components'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nimport { FC, useState } from 'react'\nimport { Grid } from '@material-ui/core'\nimport { createStyles, Theme, makeStyles } from '@material-ui/core/styles'\n\nimport { useEffect } from 'react'\nimport { Typography, Button } from '@material-ui/core'\n\nimport logo from '../../assets/images/ndex-logo.svg'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: '32em',\n      margin: 0,\n      padding: 0,\n    },\n    ndexLogo: {\n      height: '3em',\n      'vertical-align': 'middle',\n    },\n    titleText: {\n      'vertical-align': 'middle',\n    },\n    homeButton: {\n      color: 'white',\n      'background-color': '#337ab7',\n      textTransform: 'none',\n    },\n    footer: {\n      marginTop: '5em'\n    },\n    row: {\n      marginBottom: '1em',\n    },\n  }),\n)\n\nconst AccountForgotPasswordPane: FC = () => {\n  const classes = useStyles()\n\n  const [showHomeLink, setShowHomeLink] = useState(false)\n\n  const baseUrl: string = getCurrentServer()\n\n  useEffect(() => {\n    document.title = 'Recover NDEx Password'\n  }, [])\n\n  const handleHomeClick = () => {\n    window.open(baseUrl, '_self')\n  }\n\n  const onSuccessReset = (email: String): void => {\n    setShowHomeLink(true)\n  }\n\n  return (\n    <Grid container className={classes.root} spacing={5}>\n      <Grid\n        className={classes.row}\n        container\n        justify={'center'}\n        alignItems={'center'}\n        xs={12}\n        spacing={2}\n      >\n        <Grid item>\n          <img alt=\"NDEx Logo\" src={logo} className={classes.ndexLogo} />\n        </Grid>\n        <Grid item>\n          <Typography\n            variant=\"h6\"\n            display=\"inline\"\n            className={classes.titleText}\n          >\n            Recover NDEx Password\n          </Typography>\n        </Grid>\n      </Grid>\n      <Grid\n        className={classes.row}\n        container\n        justify={'center'}\n        alignItems={'center'}\n        xs={12}\n      >\n        <ForgotPasswordPanel onSuccessReset={onSuccessReset} />\n        {showHomeLink && (\n          <div className={classes.footer}>\n            <Button fullWidth onClick={handleHomeClick} className={classes.homeButton}>\n              Go to NDEx Home Page to Sing In\n            </Button>\n          </div>\n        )}\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default AccountForgotPasswordPane\n","import React from 'react'\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { Typography } from '@material-ui/core'\nimport logo from '../../assets/images/ndex-logo.svg'\n\nimport { getCurrentServer } from '../../utils/locationUtil'\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: 'grid',\n      width: '100%',\n      height: '100%',\n      placeItems: 'center',\n    },\n    item: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    message: {\n      padding: '1em',\n    },\n    ndexLogo: {\n      height: '20vh',\n      padding: '1em',\n      '&:hover': {\n        cursor: 'pointer',\n        color: theme.palette.secondary.main,\n      },\n    },\n    link: {\n      '&:hover': {\n        fontWeight: 700,\n        cursor: 'pointer',\n        color: theme.palette.secondary.main,\n      },\n    },\n  }),\n)\n\nconst TopPage = ({ config }) => {\n  const classes = useStyles()\n\n  const url = getCurrentServer();\n\n  const handleClick = () => {\n    window.open(url, '_self')\n  }\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.item}>\n        <img alt=\"NDEx Logo\" src={logo} className={classes.ndexLogo} onClick={handleClick} />\n        <Typography className={classes.message} variant=\"h4\">\n          Please specify UUID of the network\n        </Typography>\n\n        <Typography className={classes.link} onClick={handleClick} variant=\"body1\">\n          Back to NDEx Home\n        </Typography>\n      </div>\n    </div>\n  )\n}\n\nexport default TopPage\n","import React, { useState, useReducer, FC } from 'react'\nimport { Helmet } from 'react-helmet'\n\nimport './App.css'\nimport { useHistory } from 'react-router-dom'\nimport { Switch, Route, BrowserRouter } from 'react-router-dom'\n\nimport AppShell from './components/AppShell'\nimport AccountShell from './components/AccountShell'\nimport AccountSignUpPane from './components/AccountSignUpPane' \nimport AccountForgotPasswordPane from './components/AccountForgotPasswordPane'\n\nimport AppContext from './context/AppState'\nimport AppState from './model/AppState'\nimport TopPanel from './components/TopPanel'\n\nimport selectionStateReducer, {\n  EMPTY_SELECTION,\n} from './reducer/selectionStateReducer'\nimport cyReducer, { INITIAL_CY_REFERENCE } from './reducer/cyReducer'\nimport uiStateReducer, { INITIAL_UI_STATE } from './reducer/uiStateReducer'\nimport NdexCredential from './model/NdexCredential'\nimport Summary from './model/Summary'\nimport AppConfig from './model/AppConfig'\n\nconst defNdexCredential: NdexCredential = {\n  loaded: false,\n  isLogin: false,\n  isGoogle: false,\n}\n\nconst defSummary: Summary = {\n  name: 'N/A',\n}\n\nconst App = ({ config }) => {\n  const history = useHistory(INITIAL_UI_STATE)\n\n  const [query, setQuery] = useState('')\n  const [queryMode, setQueryMode] = useState('firstStepNeighborhood')\n  const [summary, setSummary] = useState(defSummary)\n  \n  const [lgrReference, setLgrReference] = useState(null)\n\n  const [ndexCredential, setNdexCredential] = useState(defNdexCredential)\n\n  const [selectionState, selectionStateDispatch] = useReducer(\n    selectionStateReducer,\n    EMPTY_SELECTION,\n  )\n  const [cyReference, cyDispatch] = useReducer(cyReducer, INITIAL_CY_REFERENCE)\n  const [uiState, uiStateDispatch] = useReducer(\n    uiStateReducer,\n    INITIAL_UI_STATE,\n  )\n\n  const [ndexLoginWrapper, setNdexLoginWrapper] = useState(null) \n\n  // TODO: use reducer?\n  const defState: AppState = {\n    config,\n\n    cyReference,\n    cyDispatch,\n\n    lgrReference,\n    setLgrReference,\n\n    uiState,\n    uiStateDispatch,\n\n    query,\n    setQuery,\n    queryMode,\n    setQueryMode,\n\n    ndexCredential,\n    setNdexCredential,\n\n    summary,\n    setSummary,\n\n    selectionState,\n    selectionStateDispatch,\n\n    ndexLoginWrapper,\n    setNdexLoginWrapper\n  }\n\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL} history={history}>\n      <Switch>\n        <Route path=\"/networks/:uuid\">\n          <AppContext.Provider value={defState}>\n            <AppShell />\n          </AppContext.Provider>\n        </Route>\n        <Route path=\"/signup\">\n          <AppContext.Provider value={defState}>\n            <AccountShell>\n              <AccountSignUpPane/>\n            </AccountShell>\n          </AppContext.Provider>\n        </Route>\n        <Route path=\"/recoverPassword\">\n          <AppContext.Provider value={defState}>\n            <AccountShell>\n              <AccountForgotPasswordPane/>\n            </AccountShell>\n          </AppContext.Provider>\n        </Route>\n        <Route path=\"/\">\n          <TopPanel config={config} />\n        </Route>\n       \n      </Switch>\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import red from '@material-ui/core/colors/red'\nimport blue from '@material-ui/core/colors/blue'\nimport { createMuiTheme } from '@material-ui/core/styles'\n\n// TODO: need to be customized in the final version\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#FFFFFF',\n      // main: '#556cd6',\n    },\n    secondary: {\n      main: blue[800]\n    },\n    error: {\n      main: red.A200,\n    },\n    background: {\n      default: '#EFEFEF',\n    },\n  },\n})\n\nexport default theme\n","import React, { Component } from 'react'\nimport { Typography } from '@material-ui/core'\nimport NDExError from '../../utils/error/NDExError'\n\nexport default class ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n    error: null\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // eslint-disable-next-line no-console\n    console.log({ error, errorInfo })\n    this.setState({ hasError: true, error })\n  }\n\n  render() {\n    const { hasError, error } = this.state\n\n    let message = ''\n    if(error !== null && error.message !== undefined) {\n      message = error.message\n    }\n\n    if (hasError) {\n      return (\n        <div style={{ height: '100%', width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n          <div style={{ textAlign: 'center' }}>\n            <Typography variant=\"h4\" style={{ margin: '1rem' }}>\n              Sorry, there was an error loading this page.{' '}\n            </Typography>\n            <Typography variant=\"h6\">\n              ({message})\n            </Typography>\n            <Typography\n              onClick={() => {\n                window.location.reload()\n              }}\n              color=\"secondary\"\n              variant=\"h5\"\n              style={{ cursor: 'pointer', margin: '1rem' }}\n            >\n              Click here to reload the page.\n            </Typography>\n            <Typography\n              color=\"secondary\"\n              onClick={() => {\n                window.open('https://home.ndexbio.org/report-a-bug/', '_blank')\n              }}\n              variant=\"h5\"\n              style={{ cursor: 'pointer', margin: '1rem' }}\n            >\n              Click here to report a bug.\n            </Typography>\n          </div>\n        </div>\n      )\n    } else {\n      return this.props.children\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { ThemeProvider } from '@material-ui/core/styles'\nimport theme from './theme'\nimport ErrorBoundary from './components/ErrorBoundary'\n\nimport { QueryClientProvider, QueryCache, QueryClient } from 'react-query'\nimport AppConfig from './model/AppConfig'\n\nconst ROOT_TAG = 'root'\n\n// Avoid HTTP\nconst location = window.location\nif (location.hostname !== 'localhost' && location.protocol !== 'https:') {\n  location.replace(`https:${location.href.substring(location.protocol.length)}`)\n}\n\n// Remove duplicate slashes if necessary\nconst baseUrl = location.href\nconst protocol = baseUrl.split('//')[0]\nconst urlBody = baseUrl.replace(`${protocol}//`, '')\nconst updatedUrl = urlBody.replace(/\\/\\/+/g, '/')\nif(updatedUrl !== urlBody) {\n  location.replace(`${protocol}//${updatedUrl}`)\n}\n\n// This avoids too many fetch calls from remote API\nconst queryConfig = { queries: { refetchOnWindowFocus: false } }\nconst queryCache = new QueryCache()\nconst queryClient = new QueryClient({ queryCache, defaultOptions: queryConfig })\n\nasync function loadResource() {\n  const response = await fetch(`${process.env.PUBLIC_URL}/resource.json`)\n\n  if (response.status !== 200) {\n    throw new Error('Failed to load resource file.  Could not find NDEx server location')\n  }\n  const resource = await response.json()\n  console.log('* Resource file loaded:', resource)\n  const ndexUrl = resource['ndexUrl']\n  const googleClientId = resource['googleClientId']\n  const viewerTh = resource['viewerThreshold']\n  const maxNumObjects = resource['maxNumObjects']\n  const maxEdgeQuery = resource['maxEdgeQuery']\n  const maxDataSize = resource['maxDataSize']\n  const warningThreshold = resource['warningThreshold']\n\n  const config: AppConfig = {\n    ndexUrl,\n    ndexHttps: `https://${ndexUrl}`,\n    googleClientId,\n    viewerThreshold: viewerTh,\n    maxNumObjects,\n    maxDataSize,\n    maxEdgeQuery,\n    warningThreshold,\n  }\n\n  ReactDOM.render(\n    <React.StrictMode>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <QueryClientProvider client={queryClient}>\n          <ErrorBoundary>\n            <App config={config} />\n          </ErrorBoundary>\n        </QueryClientProvider>\n      </ThemeProvider>\n    </React.StrictMode>,\n    document.getElementById(ROOT_TAG),\n  )\n}\n\n// Load resource and start the app.\nloadResource()\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}