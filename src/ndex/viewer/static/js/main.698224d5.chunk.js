(this["webpackJsonpnetwork-viewer"]=this["webpackJsonpnetwork-viewer"]||[]).push([[0],{131:function(e,t){},177:function(e,t){},208:function(e,t){},316:function(e,t,n){},317:function(e,t,n){},340:function(e,t){},383:function(e,t,n){"use strict";n.r(t);var r=n(22),a=n(18),i=n.n(a),o=n(0),c=n.n(o),s=n(30),l=n.n(s),d=(n(316),n(7)),u=(n(317),n(47)),b=n(44),j=n(437),h=n(453),f=n(48),g=c.a.createContext({}),O=n(3),x=n(8),p=n(180),m=n(233),v=n(275),y=n(432),w=n(1),S=Object(j.a)((function(e){return Object(h.a)({root:{display:"grid",width:"100%",height:"100%",placeItems:"center",zIndex:400,background:"#FAFAFA"},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},message:{padding:"2em",color:"#999999"}})})),C=function(e){var t=e.message,n=e.showLoading,r=void 0===n||n,a=S();return Object(w.jsx)("div",{className:a.root,children:Object(w.jsxs)("div",{className:a.item,children:[Object(w.jsx)(v.a,{className:a.message,variant:"h5",children:t}),r?Object(w.jsx)(y.a,{disableShrink:!0,size:"10em",color:"secondary"}):null]})})},N=function(e,t){if(void 0===e||null===e)return{};if(void 0===t||null===t)return{};var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value[e];if(void 0!==a)return a}}catch(i){r.e(i)}finally{r.f()}return{}},k=function(e){return I("nodes",e)},E=function(e){return I("edges",e)},I=function(e,t){var n,r=Object(x.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(void 0!==a.metaData){var i,o=a.metaData,c=Object(x.a)(o);try{for(c.s();!(i=c.n()).done;){var s=i.value;if(s.name===e&&void 0!==s.elementCount)return s.elementCount}}catch(l){c.e(l)}finally{c.f()}}}}catch(l){r.e(l)}finally{r.f()}},D=function(e){var t=N("cartesianLayout",e);return void 0!==t&&0!==t.length&&0!==Object.keys(t).length},R="cose",T="circle",A="preset",L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=D(e);if(n)return A;var r=k(e)+E(e);return r<t?R:T},P="preset",z="random",F="#FFFFFF",M=function(e){if(void 0===e||null===e||!Array.isArray(e))return F;var t=N("cyVisualProperties",e),n=N("CXVersion",e);if(void 0===t||0===t.length||0===Object.keys(t).length)return"2.0"===n?B(e):F;for(var r=t.length;r--;){var a=t[r];if("network"===a.properties_of){var i=a.properties.NETWORK_BACKGROUND_PAINT;if(void 0!==i)return i}}return"#FFFFFF"},B=function(e){var t=N("visualProperties",e);if(void 0===t||0===t.length||0===Object.keys(t).length)return F;for(var n=t.length;n--;){var r=t[n].default;if(void 0!==r){var a=r.network.NETWORK_BACKGROUND_COLOR;if(void 0!==a)return a}}return"#FFFFFF"},q=function(e){for(var t=e.length;t--;){var n=e[t],r=2*Math.PI*Math.random(),a=Math.random()+Math.random(),i=0,o=(i=a>1?2-a:a)*Math.cos(r)*4e3,c=i*Math.sin(r)*4e3;n.position=[o,c]}return e},H=function(e,t){for(var n=t.length,r=[];n--;){var a=t[n],i=a.v;void 0!==i&&void 0!==i.weight&&r.push([a.id,i.weight])}r.sort((function(e,t){return t[1]-e[1]}));for(var o=e.length,c=new Map;o--;){var s=e[o];c.set(s.id,s)}for(var l=r.length,d=0;d<l;d++){var u=r[d][0].toString(),b=c.get(u);b.layer=d<1e5?1:2}return e},W=function(e){var t=e.eventHandlers,n=e.selectedNodes,r=e.selectedEdges,a=e.cx,i=e.backgroundColor,c=void 0===i?"#FFFFFF":i,s=e.layoutName,l=void 0===s?"preset":s,u=e.pickable,b=Object(o.useContext)(g).setLgrReference,j=Object(o.useState)(!1),h=Object(d.a)(j,2),f=h[0],O=(h[1],Object(o.useState)(null)),x=Object(d.a)(O,2),v=x[0],y=x[1];if(Object(o.useEffect)((function(){if(void 0!==a&&null===v){performance.now();var e=m.convert(a,"lnv"),t=e.nodeViews,n=e.edgeViews;if("preset"!==l&&(t=q(t)),void 0!==n){var r=N("edges",a);n=H(n,r)}var i=p.a.createGraphView(t,e.edgeViews);y(i)}}),[a]),null===v||void 0===v){return Object(w.jsx)(C,{message:"Loading large network data.  Please wait......"})}return Object(w.jsx)(p.b,{graphView:v,onNodeClick:function(e,r,a){console.log("* Node click event:",e),0!==n.length&&n.forEach((function(e){var t=v.nodeViews.get(e);t.selected=!1,console.log("Clear selection:",t)}));var i=e.id;t.setSelectedNodeOrEdge(i,"node",{x:r,y:a})},onEdgeClick:function(e,n,a){console.log("* Edge click event:",e),0!==r.length&&r.forEach((function(e){var t=v.edgeViews.get(e);void 0!==t&&(t.selected=!1,console.log("Clear edge selection:",t))}));var i=e.id;t.setSelectedNodeOrEdge(i,"edge",{x:n,y:a})},onSelect:function(e,n){t.setSelectedObjects(e,n),console.log("Selection Set--------------",e,n)},onBackgroundClick:function(e){t.clearAll(),console.log("Reset selection:",n,r)},render3d:f,backgroundColor:c,pickable:u,commandProxy:b})},_=n(178),G=n.n(_),U=n(234),Q=n.n(U);G.a.use(Q.a);var Y=n(17),V=n(122),X=n(235),J=new V.CyNetworkUtils,K=new V.CxToJs(J),$=new X.CxToCyCanvas(K),Z=n(5),ee=n(6),te=n(24),ne=n(14),re=n(15),ae=n(272),ie=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(e,r){var a;return Object(ee.a)(this,n),(a=t.call(this,e)).details=void 0,a.details=r,a.name=(this instanceof n?this.constructor:void 0).name,Object.setPrototypeOf(Object(te.a)(a),(this instanceof n?this.constructor:void 0).prototype),a}return Object(Z.a)(n)}(Object(ae.a)(Error));function oe(e,t){var n=Object(o.useState)(null),r=Object(d.a)(n,2),a=r[0],i=r[1],c=Object(o.useState)(null),s=Object(d.a)(c,2),l=s[0],u=s[1];if(void 0===t||null===t)return{};if(null===l&&t.length>=6){u(e);try{return i(function(e,t){var n=J.rawCXtoNiceCX(t),r={},a=K.cyElementsFromNiceCX(n,r),i=K.cyStyleFromNiceCX(n,r);return{network:{data:{uuid:e},elements:[].concat(Object(Y.a)(a.nodes),Object(Y.a)(a.edges))},visualStyle:i,annotationNiceCX:{networkAttributes:n.networkAttributes?n.networkAttributes:{elements:[]}}}}(e,t)),a}catch(b){throw new ie("Data conversion from CX to Cytoscape.js failed",b)}}return l===e?a:{}}var ce={width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0)"},se=function(e,t){t?(e.boxSelectionEnabled(!1),e.autounselectify(!0),e.nodes().lock()):(e.boxSelectionEnabled(!0),e.autounselectify(!1),e.nodes().unlock())},le=function(e,t){e.on("tap, click",(function(n){return ue(e,t,n)})),e.on("boxend",(function(n){return de(e,t,n)}))},de=function(e,t,n){setTimeout((function(){var n=e.$("node:selected"),r=e.$("edge:selected"),a=n.map((function(e){return e.data().id})),i=r.map((function(e){return e.data().id.slice(1)}));t.setSelectedNodesAndEdges(a,i,null,null,null)}),5)},ue=function(e,t,n){var r=n.target;if(r===e)setTimeout((function(){t.clearAll()}),10);else{var a=r.data();r.isNode()?setTimeout((function(){var r=e.$("node:selected"),i=e.$("edge:selected"),o=r.map((function(e){return e.data().id})),c=i.map((function(e){return e.data().id.slice(1)}));t.setSelectedNodesAndEdges(o,c,"node",[a.id],n.renderedPosition)}),5):setTimeout((function(){var r=e.$("node:selected"),i=e.$("edge:selected"),o=r.map((function(e){return e.data().id})),c=i.map((function(e){return e.data().id.slice(1)}));t.setSelectedNodesAndEdges(o,c,"edge",[a.id.slice(1)],n.renderedPosition)}),5)}},be=function(e,t,n,r){var a,i=e.network;if(void 0!==i&&null!==i&&null!==t){var o=e.network.elements;t.add(o);var c=e.visualStyle,s=((a=c).push({selector:".faded",css:{"background-opacity":.1,"text-opacity":.1,"border-opacity":.1}}),a.push({selector:".highlight",css:{"background-opacity":1,"text-opacity":1,"border-opacity":1}}),a);try{t.style().fromJson(s).update()}catch(l){console.warn("The visual style object contains invalid value:",l)}n.drawAnnotationsFromNiceCX(t,e.annotationNiceCX),n.drawBackground(t,r)}},je=function(e){var t=e.uuid,n=e.cx,r=e.eventHandlers,a=e.layoutName,i=e.setCyReference,c=e.setBusy,s=e.backgroundColor,l=Object(o.useRef)(null),u=Object(o.useState)(null),b=Object(d.a)(u,2),j=b[0],h=b[1],f=Object(o.useContext)(g),O=f.uiState,x=f.cyReference,p=oe(t,n),m=$;return Object(o.useEffect)((function(){if((void 0===p||0!==Object.keys(p).length)&&(be(p,j,m,s),p!=={}&&null!==j&&void 0!==a&&null!==j)){var e=j.layout({name:a,animate:!1,stop:function(){c(!1)}});c(!0),e.run()}}),[p]),Object(o.useEffect)((function(){void 0!==p&&0===Object.keys(p).length||(be(p,j,m,s),void 0!==a&&null!==j&&(j.layout({name:a,animate:!1}).run(),setTimeout((function(){j.fit()}),400)))}),[j]),Object(o.useEffect)((function(){if(null===j&&null!==l&&null!==l.current){var e=function(e){var t={container:e,elements:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],layout:{name:"preset",fit:!0},locked:!0};return new G.a(t)}(l.current);void 0!==i&&(i(e),h(e)),le(e,r)}}),[]),null!==j&&x.main===j&&se(j,O.showSearchResult),Object(w.jsx)("div",{style:ce,ref:l})},he=n(54),fe=n(99),ge=function(e){if(e.isGoogle)return"Bearer "+e.oauth.loginDetails.tokenId;if(e.basic){var t=e.basic;return"Basic "+window.btoa(t.userId+":"+t.password)}},Oe=function(e,t){var n=new fe.NDEx(e);if(!t.isLogin)return console.warn("Not logged-in. Public networks only."),n;if(t.isGoogle)n.setAuthToken(t.oauth.loginDetails.tokenId);else if(t.basic){var r=t.basic;n.setBasicAuth(r.userId,r.password)}return n},xe=function(e){var t=e.replaceAll("?","").split("&"),n=null;return t.forEach((function(e){var t=e.split("=");"accesskey"===t[0]&&(n=t[1])})),n},pe={edgeLimit:1e4,errorWhenLimitIsOver:!0},me={direct:{searchDepth:1},firstStepNeighborhood:{directOnly:!1,searchDepth:1},firstStepAdjacent:{directOnly:!0,searchDepth:1},interconnect:{searchDepth:2},twoStepNeighborhood:{directOnly:!1,searchDepth:2},twoStepAdjacent:{directOnly:!0,searchDepth:2}},ve=function(e){for(var t=e.length,n=void 0;t--&&void 0===(n=e[t].nodes););return void 0===n?[]:n.map((function(e){return e["@id"]}))},ye=function(e){for(var t in e){var n=e[t].status;if(n&&n.length>0)return!n[0].success&&"EdgeLimitExceeded"===n[0].error}},we=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,a,o){var c,s,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&null!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",{});case 2:if(void 0!==n&&null!==n&&0!==n.length){e.next=4;break}return e.abrupt("return",{});case 4:return c="".concat(r,"/v2/search/network/").concat(t,"/query?save=true"),"interconnect"!==o&&"direct"!==o||(c="".concat(r,"/v2/search/network/").concat(t,"/interconnectquery?save=true")),(s=me[o]).searchString=n,l=ge(a),d={method:"POST",headers:l?{"Content-Type":"application/json",Authorization:l}:{"Content-Type":"application/json"},body:JSON.stringify(s)},e.abrupt("return",fetch(c,d));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),Se=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,a,o,c){var s,l,d,u,b,j,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&null!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",{});case 2:if(void 0!==n&&null!==n&&0!==n.length){e.next=4;break}return e.abrupt("return",{});case 4:return s="".concat(r,"/v2/search/network/").concat(t,"/query"),"interconnect"!==o&&"direct"!==o||(s="".concat(r,"/v2/search/network/").concat(t,"/interconnectquery")),pe.edgeLimit=c,(l=Object.assign(Object.assign({},me[o],pe))).searchString=n,d=ge(a),u={method:"POST",headers:d?{"Content-Type":"application/json",Authorization:d}:{"Content-Type":"application/json"},body:JSON.stringify(l)},e.prev=11,e.next=14,fetch(s,u);case 14:return b=e.sent,e.next=17,b.json();case 17:j=e.sent,h=ye(j),b.parsedBody={nodeIds:ve(j),kvMap:Ce(j),cx:j,edgeLimitExceeded:h},e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.error("Query API Call error:",e.t0);case 25:if(b.ok){e.next=27;break}throw new Error(b.statusText);case 27:return e.abrupt("return",b.parsedBody);case 28:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}(),Ce=function(e){for(var t={},n=e.length;n--;){var r=e[n],a=Object.keys(r)[0],i=r[a];t[a]=i}return Ne(t)},Ne=function(e){var t=e.nodeAttributes,n=e.nodes,r={};if(void 0===t)return r;for(var a=t.length;a--;){var i=t[a],o=i.po,c=r[o];void 0===c&&(c=new Map),c.set(i.n,i.v),r[o]=c}for(a=n.length;a--;){var s=n[a],l=s["@id"],d=s.n,u=r[l];void 0===u&&(u=new Map),u.set("name",d),r[l]=u}return r},ke=function(e,t,n,r,a,i){var c=Object(o.useState)(!1),s=Object(d.a)(c,2),l=s[0],u=s[1],b=Object(o.useState)(null),j=Object(d.a)(b,2),h=j[0],f=j[1];return Object(o.useEffect)((function(){var n={uuid:e,query:t,mode:a};return n===h?u(!1):(u(null!==n&&""!==t),f(n)),function(){}}),[e,t,a]),Object(he.useQuery)(["queryNetwork",e,t,n,r,a,i],(function(){return Se(e,t,n,r,a,i)}),{enabled:l,cacheTime:1e3,retry:!1})},Ee=n(82),Ie={main:{nodes:[],edges:[]},sub:{nodes:[],edges:[]},lastSelected:{isNode:null,fromMain:null,id:null,coordinates:{x:0,y:0},showPropPanel:!1}},De="clearAllMain",Re="clearAllSub",Te="setMain",Ae="setSub",Le="closePropPanel",Pe=function(e,t){switch(t.type){case Te:return Object(O.a)(Object(O.a)({},e),{},{main:t.selectionState.main,lastSelected:t.selectionState.lastSelected});case Ae:return Object(O.a)(Object(O.a)({},e),{},{sub:t.selectionState.sub,lastSelected:t.selectionState.lastSelected});case De:return Object(O.a)(Object(O.a)({},e),{},{main:{nodes:[],edges:[]},lastSelected:Object(O.a)(Object(O.a)({},e.lastSelected),{},{showPropPanel:!1})});case Re:return Object(O.a)(Object(O.a)({},e),{},{sub:{nodes:[],edges:[]},lastSelected:Object(O.a)(Object(O.a)({},e.lastSelected),{},{showPropPanel:!1})});case Le:return Object(O.a)(Object(O.a)({},e),{},{lastSelected:Object(O.a)(Object(O.a)({},e.lastSelected),{},{showPropPanel:!1})});default:throw new Error("Invalid action")}},ze="setMain",Fe="setSub",Me={main:null,sub:null},Be=function(e,t){switch(t.type){case ze:return Object(O.a)(Object(O.a)({},e),{},{main:t.cyReference});case Fe:return Object(O.a)(Object(O.a)({},e),{},{sub:t.cyReference});default:throw new Error("Invalid action")}},qe=n(238),He=n.n(qe),We=n(239),_e=n.n(We),Ge=Object(j.a)((function(e){return Object(h.a)({root:{boxSizing:"border-box",display:"grid",width:"100%",height:"100%",placeItems:"center",background:"#FFFFFF",zIndex:0},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",width:"55%"},message:{padding:"0.5em",color:"#999999",textAlign:"center"},title:{display:"flex",justifyContent:"center",alignItems:"center"},arrow1:{position:"fixed",color:"#999999",bottom:"2vh",left:"1vw",fontSize:"7em"},infoIcon:{color:e.palette.info.main,fontSize:"7em"}})})),Ue=function(e){var t=e.title,n=void 0===t?"-":t,r=e.message,a=void 0===r?"-":r,i=e.showIcons,o=void 0!==i&&i,c=Ge();return Object(w.jsxs)("div",{className:c.root,children:[Object(w.jsxs)("div",{className:c.item,children:[Object(w.jsx)(He.a,{fontSize:"inherit",className:c.infoIcon}),Object(w.jsx)("div",{className:c.title,children:Object(w.jsx)(v.a,{className:c.message,variant:"h5",children:n})}),Object(w.jsx)(v.a,{className:c.message,variant:"subtitle1",children:a})]}),o?Object(w.jsxs)("div",{className:c.arrow1,children:[Object(w.jsx)(v.a,{variant:"h6",children:"Query this network from here."}),Object(w.jsx)(_e.a,{fontSize:"inherit"})]}):null]})},Qe=function(e){for(var t=function(e){for(var t=e.length;t--;){var n=e[t].CXVersion;if(void 0!==n&&"2.0"===n)return!0}return!1}(e),n={},r=e.length;r--;){var a,i=e[r],o=Object.keys(i)[0],c=i[o];if(void 0===n[o])if(o in n)(a=n[o]).push.apply(a,Object(Y.a)(c));else n[o]=c}if(t){var s=Ye(n);return{nodeAttr:s,edgeAttr:Ve(s,n)}}var l=$e(n);return{nodeAttr:l,edgeAttr:Xe(l,n)}},Ye=function(e){for(var t={name:{tag:"n",label:"name"},represents:{tag:"r",label:"represents"}},n=e.attributeDeclarations,r=function(e,t){var n=new Map,r=e[t];return Object.keys(r).forEach((function(e){var t=r[e].v;void 0!==t&&n.set(e,t)})),n}(n[0],"nodes"),a=function(e,t){var n=e[t],r=Object.keys(n);return new Set(r)}(n[0],"nodes"),i=e.nodes,o={},c=i.length,s=function(){var e=i[c],n=e.v,s=new Map;a.forEach((function(e){if(e===t.name.label||e===t.represents.label){var a=t[e].tag,i=t[e].label,o=n[a];s.set(i,o)}else{var c=n?n[e]:void 0;void 0===c&&(c=r.get(e)),void 0!==c&&s.set(e,c)}})),o[e.id]=s};c--;)s();return o},Ve=function(e,t){var n=t.edges,r={};if(void 0===n||0===n.length)return Ke(e,n,r),r;for(var a=n.length,i=function(){var e=n[a],t=e.id,i=new Map,o=e.v;void 0!==o&&null!==o&&Object.keys(o).forEach((function(e){"i"!==e&&i.set(e,o[e])}));r[t]=i};a--;)i();return Ke(e,n,r),r},Xe=function(e,t){var n=t.edgeAttributes,r=t.edges,a={};if(void 0===n)return Je(e,r,a),a;for(var i=n.length;i--;){var o=n[i],c=o.po,s=a[c];void 0===s&&(s=new Map),s.set(o.n,o.v),a[c]=s}return Je(e,r,a),a},Je=function(e,t,n){if(void 0!==t)for(var r=t.length;r--;){var a=t[r],i=a["@id"],o=n[i];void 0===o&&(o=new Map,n[i]=o);var c=a.s,s=a.t,l=a.i;e[c],e[s];void 0!==l&&n[i].set("interaction",l)}},Ke=function(e,t,n){if(void 0!==t)for(var r=t.length;r--;){var a=t[r],i=a.id,o=n[i];void 0===o&&(o=new Map,n[i]=o);var c=e[a.s],s=e[a.t],l=a.v;if(void 0!==c&&n[i].set("source",c.get("name")),void 0!==s&&n[i].set("target",s.get("name")),void 0!==l){var d=l.i;n[i].set("interaction",d)}}},$e=function(e){var t=e.nodeAttributes,n=e.nodes,r={};if(void 0===n)return r;for(var a=n.length;a--;){var i=n[a],o=i["@id"];r[o]=new Map,r[o].set("name",i.n),r[o].set("Represents",i.r)}if(void 0===t)return r;for(a=t.length;a--;){var c=t[a],s=c.po,l=r[s];l.set(c.n,c.v),r[s]=l}return r};function Ze(e,t,n){var r=Object(o.useState)(null),a=Object(d.a)(r,2),i=a[0],c=a[1],s=Object(o.useState)(null),l=Object(d.a)(s,2),u=l[0],b=l[1];if(void 0===e||null===e||void 0===t||null===t||0===t.length)return{};if(n)return Qe(t);if(null===u){b(e);var j=Qe(t);return c(j),j}return u===e?i:{}}var et=n(430),tt=n(436),nt=n(388),rt=n(91),at=n(93),it=function(e){if(null===e||void 0===e)return{};var t,n=!1,r=Object(x.a)(e);try{for(r.s();!(t=r.n()).done;){if("2.0"===t.value.CXVersion){n=!0;break}}}catch(d){r.e(d)}finally{r.f()}var a,i=Object(x.a)(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.networkAttributes){var c,s=Object(x.a)(o.networkAttributes);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(n){if(l["@context"])return ot(l["@context"])}else if("@context"===l.n)return ot(l.v)}}catch(d){s.e(d)}finally{s.f()}}}}catch(d){i.e(d)}finally{i.f()}return null},ot=function(e){try{var t=JSON.parse(e);return Object.keys(t).reduce((function(e,n){return e[n.toUpperCase()]=t[n],e}),{})}catch(n){return console.warn("Could not parse @context network attribute as JSON: ",n),{}}},ct=function(e,t){var n,r="",a=Object(x.a)(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;r+=lt(i,t,!1)+", "}}catch(o){a.e(o)}finally{a.f()}return Object(at.a)(r.slice(0,-2))},st=function(e){var t,n="",r=Object(x.a)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value+", "}}catch(a){r.e(a)}finally{r.f()}return n.slice(0,-2)},lt=function(e,t,n){if(void 0===e||null===e)return e;var r=e.toString();if(void 0===t||null===t)return n?Object(at.a)(r):r;var a=String(e).split(":"),i=Object(d.a)(a,2),o=i[0],c=i[1];return o&&c&&o.toUpperCase()in t&&(r="<a href="+t[o.toUpperCase()]+c+' target="_blank" rel="noopener noreferrer">'+e+"</a>"),n?Object(at.a)(r):r},dt=function(e,t){return Object(at.a)("<a href=https://"+t+"/viewer/networks/"+e+' target="_blank" rel="noopener noreferrer">'+e+"</a>")},ut=n(124),bt=n(244),jt=n.n(bt),ht=n(242),ft=n.n(ht),gt=n(243),Ot=n.n(gt),xt=n(439),pt=n(440),mt=n(90),vt=n.n(mt),yt=Object(j.a)({root:{minWidth:"15em",width:"20em",height:"20em",zIndex:1e3,position:"fixed",border:"1px solid #666666",cursor:"pointer"},content:{margin:0,padding:"0.3em",overflowY:"scroll",width:"100%",height:"100%"},titleBar:{display:"flex",height:"2em",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.5em"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),wt=function(e){var t=e.x,n=e.y,r=e.open,a=e.setOpen,i=(e.key,e.value),o=yt();if(!1===r)return null;return Object(w.jsx)(xt.a,{className:o.root,style:{left:t,top:n},variant:"outlined",children:Object(w.jsxs)(pt.a,{className:o.content,children:[Object(w.jsxs)("div",{className:o.titleBar,children:[Object(w.jsx)(vt.a,{onClick:function(e){e.preventDefault(),a(!1)}}),Object(w.jsx)(v.a,{className:o.title,color:"textSecondary",children:"Cell Contents"})]}),Array.isArray(i)?function(e){return e.map((function(e,t){return Object(w.jsx)(rt.a,{properties:{target:"_blank"},children:e})}))}(i):Object(w.jsx)(v.a,{variant:"body2",children:i})]})})},St=n(241),Ct=n.n(St),Nt=function(){var e=document.createElement("div");e.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},kt=Object(j.a)((function(e){return Object(h.a)({root:{width:"100%",height:"100%",margin:0,padding:0,display:"flex",flexDirection:"column",justifyContent:"flex-start",background:e.palette.background.paper,boxSizing:"border-box",color:"#333333",overflow:"hidden"},tablePanel:{flexGrow:1,width:"100%",height:"100%",boxSizing:"border-box",overflowY:"hidden"},tableBody:{flexGrow:1},gridRow:{position:"relative",display:"flex",flexDirection:"row"},gridColumn:{display:"flex",flexDirection:"column",flex:"1 1 auto"},pagination:{display:"flex",alignItems:"center",justifyContent:"flex-start",background:e.palette.background.paper,height:"3em",padding:e.spacing(1),borderTop:"1px solid ".concat(e.palette.divider),boxSizing:"border-box",zIndex:100},pageLabel:{width:"7em"},pageSelector:{width:"5em",marginRight:e.spacing(1)},pageSelectorPanel:{width:"10em"},button:{marginRight:e.spacing(1)},topBar:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingRight:e.spacing(1)},title:{paddingTop:e.spacing(1),paddingLeft:e.spacing(3)},tabs:{boxSizing:"border-box",backgroundColor:e.palette.background.paper,margin:0,padding:0,height:"100%",width:"100%"},tab:{"&:disabled":{color:"#AAAAAA"}},tabPanel:{width:"100%",height:"100%"},collapsiblePanel:{minHeight:"auto"},leftSideGridContainer:{flex:"0 0 75px",zIndex:10,backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},leftSideGrid:{overflow:"hidden !important",paddingLeft:"0.5em"},headerGrid:{width:"100%",overflow:"hidden !important",borderBottom:"1px solid #999999",paddingLeft:"0.5em"},bodyGrid:{width:"100%"},evenRow:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",paddingLeft:"0.5em"},oddRow:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",backgroundColor:"rgba(150, 150, 150, .1)",paddingLeft:"0.5em"},cell:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},headerCell:{fontWeight:"bold",color:"blue",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},sortableHeader:{display:"flex",justifyContent:"flex-start",alignItems:"center"},sortButton:{marginLeft:"0.3em",border:"1px solid #BBBBBB",borderRadius:"10%",cursor:"pointer",background:"#FFFFFF"},cellOverflow:{cursor:"pointer",wordWrap:"break-word",width:"100%",overflowWrap:"break-word"}})})),Et=function(e){var t=e.columns,n=e.data,r=(e.parentSize,e.selected),a=kt(),i=Object(o.useState)(!1),s=Object(d.a)(i,2),l=s[0],u=s[1],b=Object(o.useState)({x:0,y:0}),j=Object(d.a)(b,2),h=j[0],f=j[1],g=Object(o.useState)(null),x=Object(d.a)(g,2),p=x[0],m=x[1],v=Object(o.useRef)(null),y=Object(o.useRef)(null),S=Object(o.useRef)(null),C=Object(o.useState)(1),N=Object(d.a)(C,2),k=N[0],E=N[1],I=Object(o.useState)(1),D=Object(d.a)(I,2),R=D[0],T=D[1],A=c.a.useMemo((function(){return{width:150}}),[]),L=function(e){if(void 0!==S.current&&null!==S.current){var t=S.current.offsetHeight;0!==t&&T(t)}};Object(o.useEffect)((function(){window.addEventListener("resize",L)}),[]),Object(o.useEffect)((function(){if(void 0!==S.current&&null!==S.current){var e=S.current.offsetHeight;T(e)}}),[S]),Object(o.useEffect)((function(){var e=y.current.offsetHeight,t=S.current.offsetHeight;0!==e&&E(e),0!==t&&T(t)}),[r]);var P=Object(ut.useTable)({columns:t,data:n,defaultColumn:A,initialState:{pageIndex:0,pageSize:100}},ut.useSortBy,ut.usePagination,ut.useFlexLayout),z=P.headerGroups,F=P.prepareRow,M=P.page,B=P.canPreviousPage,q=P.canNextPage,H=P.pageOptions,W=P.pageCount,_=P.gotoPage,G=P.nextPage,U=P.previousPage,Q=P.setPageSize,Y=P.state,V=Y.pageIndex,X=Y.pageSize,J=function(e){_(e),v.current.scrollToCell({columnIndex:0,rowIndex:0})},K=function(e){var t=e.columnIndex,n=e.key,r=e.parent,a=e.rowIndex,i=e.style;if(!(t<1))return ee({columnIndex:t,key:n,parent:r,rowIndex:a,style:i})},$=function(e){var t=e.columnIndex,n=e.key,r=(e.rowIndex,e.style);if(!(t<1))return Z({columnIndex:t,key:n,style:r})},Z=function(e){var t=e.columnIndex,n=e.key,r=e.style,i=z[0].headers[t];return Object(w.jsx)("div",{style:Object(O.a)(Object(O.a)({},r),{},{display:"grid",alignContent:"center"}),onClick:function(){return e=i,void(0===t?e.toggleSortBy(!e.isSortedDesc):e.canSort=!1);var e},children:Object(w.jsxs)("div",{className:a.sortableHeader,children:[i.Header,0!==t?(i.canSort=!1,null):i.isSorted?i.isSortedDesc?Object(w.jsx)(ft.a,{className:a.sortButton}):Object(w.jsx)(Ot.a,{className:a.sortButton}):Object(w.jsx)(jt.a,{className:a.sortButton})]})},n)},ee=function(e){var t=e.columnIndex,n=e.key,r=(e.parent,e.rowIndex),i=e.style,c=M[r];F(c);var s=c.cells.map((function(e){return e})),l=[s[t]],d=r%2===0?a.evenRow:a.oddRow,u=l[0].value.props.children,b=u,j=!1;if(void 0!==u&&null!==u)if("string"!==typeof u)Array.isArray(u)&&(b=u.slice(0,5),j=!0);else if("string"===typeof u&&u.length>40){b=u.toString().substring(0,40),j=!0}return Object(o.createElement)("div",Object(O.a)(Object(O.a)({},l[0].getCellProps()),{},{className:d,key:n,style:i,onClick:function(e){return ne(e,u)}}),j?te(b):b)},te=function(e){if(void 0!==e){if("string"===typeof e)return Object(w.jsxs)("p",{className:a.cellOverflow,children:[e," ..."]});if(!1===Array.isArray(e)||0===e.length)return Object(w.jsx)("p",{children:"[]"});var t=0;return e.forEach((function(e){if("string"!==typeof e&&"boolean"!==typeof e&&"number"!==typeof e){if(void 0!==e.type){var n=Ct.a.renderToString(e);t+=n.length}}else t+=e.toString().length})),e.length<=3&&t<350?Object(w.jsxs)("p",{className:a.cellOverflow,children:["[",e,"]"]}):t>350?Object(w.jsxs)("p",{className:a.cellOverflow,children:["[",e.slice(0,2)," ...]"]}):Object(w.jsxs)("p",{className:a.cellOverflow,children:["[",e," ...]"]})}},ne=function(e,t){(function(e){return(null!==e||void 0!==e)&&("string"===typeof e&&e.length>40||!!Array.isArray(e)&&0!==e.length)})(t)&&(u(!l),f({x:e.pageX,y:e.pageY}),m(t))},re=200,ae=t.length,ie=57,oe=M.length,ce=R-(k+ie);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{ref:S,className:a.root,children:[Object(w.jsx)("div",{className:a.tablePanel,children:Object(w.jsx)(Ee.c,{children:function(e){e.clientHeight,e.clientWidth;var t=e.onScroll,n=(e.scrollHeight,e.scrollLeft),r=e.scrollTop,i=(e.scrollWidth,"#222222");return Object(w.jsxs)("div",{className:a.gridRow,children:[Object(w.jsx)("div",{className:a.leftSideGridContainer,style:{position:"absolute",left:0,top:0,color:i},children:Object(w.jsx)(Ee.b,{cellRenderer:Z,className:a.headerGrid,width:re,height:ie,rowHeight:ie,columnWidth:re,rowCount:1,columnCount:1})}),Object(w.jsx)("div",{className:a.leftSideGridContainer,style:{position:"absolute",left:0,top:ie,color:i},children:Object(w.jsx)(Ee.b,{overscanColumnCount:0,overscanRowCount:5,cellRenderer:ee,columnWidth:re,columnCount:1,className:a.leftSideGrid,height:ce-Nt(),rowHeight:ie,rowCount:oe,scrollTop:r,width:re})}),Object(w.jsx)("div",{className:a.gridColumn,children:Object(w.jsx)(Ee.a,{children:function(e){var r=e.width;return Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{style:{color:"#222222",height:ie,width:r-Nt()},children:Object(w.jsx)(Ee.b,{className:a.headerGrid,columnWidth:re,columnCount:ae,height:ie,overscanColumnCount:0,cellRenderer:$,rowHeight:ie,rowCount:1,scrollLeft:n,width:r-Nt()})}),Object(w.jsx)("div",{style:{color:"#222222",height:ce,width:r},children:Object(w.jsx)(Ee.b,{ref:v,className:a.bodyGrid,columnWidth:re,columnCount:ae,onScroll:t,overscanColumnCount:0,overscanRowCount:5,cellRenderer:K,rowHeight:ie,rowCount:oe,height:ce,width:r})})]})}})})]})}})}),Object(w.jsxs)("div",{ref:y,className:a.pagination,children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{className:a.button,onClick:function(){return J(0)},disabled:!B,children:"<<"}),Object(w.jsx)("button",{className:a.button,onClick:function(){return U(),void v.current.scrollToCell({columnIndex:0,rowIndex:0})},disabled:!B,children:"<"}),Object(w.jsx)("button",{className:a.button,onClick:function(){return G(),void v.current.scrollToCell({columnIndex:0,rowIndex:0})},disabled:!q,children:">"}),Object(w.jsx)("button",{className:a.button,onClick:function(){return J(W-1)},disabled:!q,children:">>"})]}),Object(w.jsx)("div",{className:a.pageLabel,children:"Page ".concat(V+1," of ").concat(H.length)}),Object(w.jsxs)("div",{className:a.pageSelectorPanel,children:[Object(w.jsx)("select",{className:a.pageSelector,value:X,onChange:function(e){Q(Number(e.target.value))},children:[100,500,1e3,5e3,1e4].map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))}),"per page"]})]})]}),Object(w.jsx)(wt,{x:h.x,y:h.y,open:l,setOpen:u,value:p})]})},It="__",Dt="source",Rt="target",Tt="interaction",At="Represents",Lt="name",Pt="ndex:internalLink",zt=/\./gi,Ft=function(e){return e.replace(zt,"(_)")},Mt=function(e){return void 0===e||""===e},Bt=function(e){return void 0!==e&&null!==e&&"string"===typeof e&&0!==e.length&&"0123456789".includes(e.charAt(0))},qt=function(e){var t=e.selectedObjects,n=e.attributes,r=e.type,a=e.context,i=e.letterWidths,c=e.label,s=e.parentSize,l=e.selected,u=Object(o.useContext)(g).config,b=function(e){void 0===e&&(e="");for(var t=0,n=0;n<e.length;n++){var r=e[n];" "===r&&(r="&nbsp"),void 0===i[r]?t+=i.default:t+=i[r]}return t},j=function(e,t,n){var r=Math.max.apply(Math,Object(Y.a)(e.map((function(e){return b("".concat(e[t])||"")}))).concat([b(n)]))+18;return Math.min(318,r)},h=Object(o.useMemo)((function(){var e,a=[],i=Object(x.a)(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,c=n[o];if(void 0!==c&&null!==c){var s,l=Object(x.a)(c);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(d[0]!==Lt&&("edge"!==r||d[0]!==Tt)){if(Array.isArray(d[1])){var u,b=Object(x.a)(d[1]);try{for(b.s();!(u=b.n()).done;){var j=u.value;if(void 0!==j&&""!==j){a.includes(d[0])||a.push(d[0]);break}}}catch(p){b.e(p)}finally{b.f()}}else void 0!==d[1]&&""!==d[1]&&(a.includes(d[0])||a.push(d[0]));if(a.length+1===c.length)break}}}catch(p){l.e(p)}finally{l.f()}}}}catch(p){i.e(p)}finally{i.f()}if(a.unshift(Lt),"edge"===r){var h,f=Object(x.a)(t);try{for(f.s();!(h=f.n()).done;){var g=h.value,O=n[g];O.has(Lt)||O.has(Dt)&&O.has(Rt)&&(O.has(Tt)?O.set(Lt,O.get(Dt)+" ("+O.get(Tt)+") "+O.get(Rt)):O.set(Lt,O.get(Dt)+" (-) "+O.get(Rt)))}}catch(p){f.e(p)}finally{f.f()}}return a.filter((function(e){return!e.startsWith(It)}))}),[t]),f=Object(o.useMemo)((function(){var e,r=[],i=[],o=Object(x.a)(t);try{for(o.s();!(e=o.n()).done;){var c=e.value,s=n[c];if(void 0!==s){var l,b={},j={},f=Object(x.a)(h);try{for(f.s();!(l=f.n()).done;){var g=l.value,O=s.get(g);Array.isArray(O)?(b[Ft(g)]=ct(O,a),j[Ft(g)]=st(O)):(g===Pt?b[g]=dt(s.get(g),u.ndexUrl):b[Ft(g)]=lt(s.get(g),a,!0),j[Ft(g)]=s.get(g))}}catch(T){f.e(T)}finally{f.f()}r.push(b),i.push(j)}}}catch(T){o.e(T)}finally{o.f()}var p=r.filter((function(e){return Mt(e.name)})),m=r.filter((function(e){return!Mt(e.name)})),v=m.filter((function(e){return!Bt(e.name)})),y=m.filter((function(e){return Bt(e.name)}));v.sort((function(e,t){return e.name>t.name?1:-1})),y.sort((function(e,t){return e.name>t.name?1:-1}));for(var S=v.concat(y).concat(p),C=0;C<S.length;C++)for(var N=S[C],k=0,E=Object.entries(N);k<E.length;k++){var I=Object(d.a)(E[k],2),D=I[0],R=I[1];N[D]=Object(w.jsx)(rt.a,{children:R})}return[S,i]}),[t]),O=Object(o.useMemo)((function(){var e=!1,t=!1;return h.includes(Lt)&&(e=!0,h.splice(h.indexOf(Lt),1)),h.includes(At)&&(t=!0,h.splice(h.indexOf(At),1)),h.sort((function(e,t){return e.localeCompare(t)})),t&&h.unshift(At),e&&h.unshift(Lt),h.map((function(e){return e===Lt?{Header:c,accessor:Lt,width:j(f[1],Lt,c)}:{Header:e,accessor:Ft(e),width:j(f[1],e,e)}}))}),[t]);return Object(w.jsx)(Et,{columns:O,data:f[0],parentSize:s,selected:l})},Ht=Object(j.a)((function(e){return Object(h.a)({root:{width:"100%",backgroundColor:"inherit"},text:{display:"inline-block",paddingTop:0,paddingBottom:"6px"},smallText:{lineHeight:"16px"},bigText:{lineHeight:"18px"}})})),Wt=function(e){var t,n=e.attrMap,r=Ht();n.delete("name"),n.has("Represents")&&(t=n.get("Represents"),n.delete("Represents"));var a=Object(Y.a)(n.keys()).sort((function(e,t){return e.localeCompare(t)}));return void 0!==t&&(a.unshift("Represents"),n.set("Represents",t)),Object(w.jsx)(tt.a,{className:r.root,children:a.filter((function(e){return!e.startsWith(It)})).map((function(e){return Object(w.jsxs)(nt.a,{className:r.text,disableGutters:!0,children:[Object(w.jsx)(v.a,{color:"textSecondary",variant:"caption",variantMapping:{caption:"div"},className:r.smallText,children:e}),Object(w.jsx)(v.a,{variant:"body2",component:"div",className:r.bigText,children:Object(w.jsx)(rt.a,{children:n.get(e)},e)})]},e)}))})},_t=Object(j.a)((function(e){return Object(h.a)({root:{display:"flex",width:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center"},name:{fontWeight:500,fontSize:"1.5em",flexGrow:3,paddingTop:"12.5px",paddingBottom:"12.5px"},propList:{height:"100%",width:"100%",padding:0,margin:0,borderTop:"1px solid #777777",overflowX:"auto"}})})),Gt=function(e){var t=e.attrMap,n=e.onClose,r=_t();return Object(w.jsxs)("div",{className:r.root,children:[Object(w.jsxs)("div",{className:r.title,children:[Object(w.jsx)(v.a,{className:r.name,variant:"body1",children:t.get("name")}),Object(w.jsx)(et.a,{onClick:function(){n()},children:Object(w.jsx)(vt.a,{})})]}),Object(w.jsx)("div",{className:r.propList,children:Object(w.jsx)("div",{children:Object(w.jsx)(Wt,{attrMap:t})})})]})},Ut=Object(j.a)((function(e){return Object(h.a)({root:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"flex-start",maxWidth:"40vh",maxHeight:"50vh",backgroundColor:"#FFFFFF",borderRadius:8,border:"1px solid #999999",zIndex:200,padding:"1em",paddingTop:0,overflowY:"auto",background:"linear-gradient(#ffffff 33%, rgba(255,255,255, 0)),linear-gradient(rgba(255,255,255, 0), #ffffff 66%) 0 100%,radial-gradient(farthest-side at 50% 0, rgba(89,89,89, 0.5), rgba(0,0,0,0)),radial-gradient(farthest-side at 50% 100%, rgba(89,89,89, 0.5), rgba(0,0,0,0)) 0 100%",backgroundRepeat:"no-repeat",backgroundAttachment:"local, local, scroll, scroll",backgroundSize:"100% 60px, 100% 60px, 100% 20px, 100% 20px"}})})),Qt={SOURCE:"source",TARGET:"target",INTERACTION:"interaction"},Yt="name",Vt="ndex:internalLink";function Xt(){var e=window;return{windowWidth:e.innerWidth,windowHeight:e.innerHeight}}var Jt=function(e){var t=e.cx,n=e.subHeight,r=Ut(),a=Object(u.h)().uuid,i=Object(o.useContext)(g),c=i.uiState,s=i.selectionState,l=i.selectionStateDispatch,b=i.config,j=function(){var e=Object(o.useState)(Xt()),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){function e(){r(Xt())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),h=j.windowHeight,f=j.windowWidth,O=Ze(a,t,c.mainNetworkNotDisplayed),p=Object(o.useMemo)((function(){return it(t)}),[t]),m=s.lastSelected,v=function(){return l({type:Le})};Object(o.useEffect)((function(){v()}),[c.showSearchResult]);if(void 0===t||!m.showPropPanel||null===s.lastSelected.id||function(e){var t=e.main,n=e.sub,r=t.nodes.length+t.edges.length,a=n.nodes.length+n.edges.length;return r>1||a>1}(s))return Object(w.jsx)("div",{});var y=s.lastSelected.id,S=null;S=s.lastSelected.isNode?O.nodeAttr[y]:O.edgeAttr[y];var C,N,k,E,I=new Map,D=!0,R=[],T=Object(x.a)(S);try{for(T.s();!(E=T.n()).done;){var A=E.value;if(s.lastSelected.isNode)D=!1;else{if([Qt.SOURCE,Qt.TARGET,Qt.INTERACTION].includes(A[0])){A[0]===Qt.SOURCE?C=A[1]:A[0]===Qt.TARGET?N=A[1]:k=A[1];continue}A[0]===Yt&&(D=!1)}if(Array.isArray(A[1])){var L,P=Object(x.a)(A[1]);try{for(P.s();!(L=P.n()).done;){var z=L.value;if(void 0!==z&&""!==z){R.push(A);break}}}catch(Q){P.e(Q)}finally{P.f()}}else void 0!==A[1]&&""!==A[1]&&R.push(A)}}catch(Q){T.e(Q)}finally{T.f()}R.sort((function(e,t){return e[0].localeCompare(t[0])}));for(var F=0,M=R;F<M.length;F++){var B=M[F],q=void 0;q=Array.isArray(B[1])?ct(B[1],p):B[0]===Vt?dt(B[1],b.ndexUrl):lt(B[1],p,!0),I.set(B[0],q)}D&&C&&N&&(k?I.set(Yt,C+" ("+k+") "+N):I.set(Yt,C+" (-) "+N)),C&&I.set(Qt.SOURCE,C),N&&I.set(Qt.TARGET,N);var H=m.coordinates.x,W=m.coordinates.y,_=!0;H>(f-c.rightPanelWidth)/2&&(_=!1);var G=!0;s.lastSelected.fromMain?W>(h-60)/2&&(G=!1):h-n+W>h/2&&(G=!1);var U={maxHeight:.4*h};return _?U.left=H:U.right=f-c.rightPanelWidth-H,G?s.lastSelected.fromMain?U.top=W:U.top=W+(h-n-60):s.lastSelected.fromMain?U.bottom=h-W-60:U.bottom=n-W,Object(w.jsx)("div",{className:r.root,style:U,children:Object(w.jsx)(Gt,{attrMap:I,onClose:function(){v()}})})},Kt=n(441),$t=n(248),Zt=n.n($t),en=n(249),tn=n.n(en),nn=n(250),rn=n.n(nn),an=n(454),on=n(246),cn=n.n(on),sn=n(247),ln=n.n(sn),dn=function(e){var t=e.main,n=e.sub;void 0!==t&&null!==t&&t.fit(),void 0!==n&&null!==n&&n.fit()},un="setDataPanelOpen",bn="setShowSearchResult",jn="setRightPanelWidth",hn="setMainNetworkNotDisplayed",fn="setActiveTab",gn={dataPanelOpen:!0,showSearchResult:!1,rightPanelWidth:0,mainNetworkNotDisplayed:!1,activeTab:0},On=function(e,t){switch(t.type){case un:return Object(O.a)(Object(O.a)({},e),{},{dataPanelOpen:t.uiState.dataPanelOpen});case bn:return Object(O.a)(Object(O.a)({},e),{},{showSearchResult:t.uiState.showSearchResult});case jn:return Object(O.a)(Object(O.a)({},e),{},{rightPanelWidth:t.uiState.rightPanelWidth});case hn:return Object(O.a)(Object(O.a)({},e),{},{mainNetworkNotDisplayed:t.uiState.mainNetworkNotDisplayed});case fn:return Object(O.a)(Object(O.a)({},e),{},{activeTab:t.uiState.activeTab});default:throw new Error("Invalid action")}},xn=function(){var e=Object(o.useContext)(g),t=e.uiState,n=e.uiStateDispatch,r=e.cyReference,a=e.query,i=t.showSearchResult,c=Object(o.useState)(!0),s=Object(d.a)(c,2),l=s[0],u=s[1];Object(o.useEffect)((function(){u(""===a&&!i)}),[i,a]);var b=i?"Maximize the main network view":"Back to split view";return l?Object(w.jsx)("div",{}):Object(w.jsx)(an.a,{title:b,placement:"right",arrow:!0,children:Object(w.jsx)("div",{children:Object(w.jsx)(et.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(){var e;e=Object(O.a)(Object(O.a)({},t),{},{showSearchResult:!i}),n({type:bn,uiState:e}),setTimeout((function(){dn(r),function(e,t){var n=e.main;void 0!==n&&null!==n&&(t?(n.boxSelectionEnabled(!t),n.nodes().ungrabify(),n.nodes().lock(),n.elements().unselectify()):(n.boxSelectionEnabled(!t),n.nodes().grabify(),n.nodes().unlock(),n.elements().selectify()))}(r,!i)}),100)},children:i?Object(w.jsx)(cn.a,{}):Object(w.jsx)(ln.a,{})})})})},pn=Object(j.a)((function(e){return Object(h.a)({root:{zIndex:300,borderRadius:5,border:"1px solid #DDDDDD",backgroundColor:"#FFFFFF",position:"absolute",right:"1em",bottom:"1em"},subnet:{width:"100%",height:"100%",backgroundColor:"#AAAAAA"}})})),mn=function(e){var t=e.target,n=void 0===t?"main":t,r=pn(),a=Object(o.useContext)(g),i=a.cyReference,c=a.lgrReference,s=i.main;"sub"===n&&(s=i.sub);return Object(w.jsxs)(Kt.a,{className:r.root,orientation:"vertical",color:"secondary",variant:"outlined",children:["main"===n?Object(w.jsx)(xn,{}):Object(w.jsx)("div",{}),Object(w.jsx)(et.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(e){null!==s&&void 0!==s?s.fit():void 0!==c&&null!==c&&c.fit()},children:Object(w.jsx)(Zt.a,{})},"fitButton"),null===s||void 0===s?Object(w.jsx)("div",{}):[Object(w.jsx)(et.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(e){if(null!==s&&void 0!==s){var t=1.2*s.zoom();s.zoom(t)}else void 0!==c&&null!==c&&c.zoomIn()},children:Object(w.jsx)(tn.a,{})},"zoomInButton"),Object(w.jsx)(et.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(e){if(null!==s&&void 0!==s){var t=.8*s.zoom();s.zoom(t)}else void 0!==c&&null!==c&&c.zoomOut()},children:Object(w.jsx)(rn.a,{})},"zoomOutButton")]]})},vn=n(387),yn=n(452),wn=Object(j.a)((function(e){return Object(h.a)({root:{boxSizing:"border-box",display:"grid",width:"100%",height:"100%",placeItems:"center",background:"#FFFFFF",zIndex:0},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",width:"60%"},message:{padding:"0.5em",color:"#999999",textAlign:"center"},title:{display:"flex",justifyContent:"center",alignItems:"center"},arrow1:{position:"fixed",color:"#999999",bottom:"2vh",left:"1vw",fontSize:"7em"},warningIcon:{color:"red",fontSize:"7em"}})})),Sn=function(){var e=wn(),t=Object(u.h)().uuid,n=Object(o.useState)(void 0),r=Object(d.a)(n,2),a=r[0],i=r[1],c=Object(o.useContext)(g),s=c.query,l=c.queryMode,b=c.ndexCredential,j=c.config;return Object(w.jsx)("div",{className:e.root,children:Object(w.jsxs)("div",{className:e.item,children:[Object(w.jsx)("div",{className:e.title,children:Object(w.jsx)(v.a,{className:e.message,variant:"h3"})}),Object(w.jsxs)(v.a,{className:e.message,variant:"subtitle1",children:["Your query returned more than ",j.maxEdgeQuery," and cannot be displayed in the browser.",Object(w.jsx)("br",{}),b.isLogin?"You can save this sub-network to NDEx to continue working with it.":"Please log in so that the result can be saved to your NDEx account"]}),b.isLogin&&Object(w.jsx)(vn.a,{onClick:function(){we(t,s,j.ndexHttps,b,l).then((function(){i("Query is being saved to NDEx")}))},variant:"contained",children:"Save Result to NDEx"}),Object(w.jsx)(yn.a,{open:void 0!=a,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:6e3,onClose:function(){i(void 0)},message:a})]})})},Cn=n(145),Nn=Object(j.a)((function(e){return Object(h.a)({rootA:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"relative"},subnet:{width:"100%",zIndex:10},lowerPanel:{flexGrow:1,width:"100%",display:"flex",flexDirection:"column",position:"relative",height:"100%",zIndex:100},title:{position:"fixed",paddingTop:"1em",left:"1em",color:"rgba(100,100,100,0.7)",zIndex:100,width:"8em"},expandButton:{position:"fixed",bottom:"5em",left:"1em",color:"rgba(100,100,100,1)",zIndex:100}})})),kn=function(e){var t,n=e.cx,r=e.renderer,a=e.objectCount,i=e.cxDataSize,c=e.isWebGL2,s=e.setSubCx,l=e.noView,b=Nn(),j=Object(u.h)().uuid,h=Object(o.useState)(!1),f=Object(d.a)(h,2),x=(f[0],f[1]),p=.3*window.innerHeight,m=.1*window.innerHeight,y=Object(o.useState)(p),S=Object(d.a)(y,2),I=S[0],D=S[1],R=Object(o.useState)(0),T=Object(d.a)(R,2),A=T[0],F=T[1],B=Object(o.useContext)(g),q=B.query,H=B.queryMode,_=B.uiStateDispatch,G=B.uiState,U=B.cyDispatch,Q=(B.cyReference,B.selectionState),Y=B.selectionStateDispatch,V=B.config,X=B.ndexCredential,J=B.summary,K=B.setSummary,$=ke(j,q,V.ndexHttps,X,H,V.maxEdgeQuery),Z=V.maxNumObjects,ee=G.showSearchResult,te=$.data;void 0!==te&&s(t=te.cx);var ne=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e})),t.current}(t),re=function(e,t){var n=e(t);return n||0},ae=void 0!==te&&te.edgeLimitExceeded;Object(o.useEffect)((function(){if(void 0!==t&&ne!==t){var e=re(k,t),n=re(E,t);K(Object(O.a)(Object(O.a)({},J),{},{subnetworkNodeCount:e,subnetworkEdgeCount:n}))}}),[$]);var ie={setSelectedNodesAndEdges:function(e,t,n,r,a){Y(n?{type:Te,selectionState:Object(O.a)(Object(O.a)({},Q),{},{main:{nodes:e,edges:t},lastSelected:{isNode:"node"===n,fromMain:!0,id:r,showPropPanel:!0,coordinates:a}})}:{type:Te,selectionState:Object(O.a)(Object(O.a)({},Q),{},{main:{nodes:e,edges:t},lastSelected:{isNode:null,fromMain:!0,id:null,showPropPanel:!1,coordinates:null}})}),(e.length>1||t.length>1)&&("node"===n&&e.length>1?_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:1})}):"edge"===n&&t.length>1?_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:2})}):e.length>1?_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:1})}):_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:2})})),(1===G.activeTab&&e.length<=1||2===G.activeTab&&t.length<=1)&&_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:0})})},clearAll:function(){Y({type:De}),_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:0})})}},oe={setSelectedNodesAndEdges:function(e,t,n,r,a){Y(n?{type:Ae,selectionState:Object(O.a)(Object(O.a)({},Q),{},{sub:{nodes:e,edges:t},lastSelected:{isNode:"node"===n,fromMain:!1,id:r,showPropPanel:!0,coordinates:a}})}:{type:Ae,selectionState:Object(O.a)(Object(O.a)({},Q),{},{sub:{nodes:e,edges:t},lastSelected:{showPropPanel:!1}})}),(e.length>1||t.length>1)&&(null!==n?_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:"node"===n?1:2})}):e.length>1?_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:1})}):_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:2})}))},clearAll:function(){Y({type:Re}),_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:0})})}},ce={setSelectedNodeOrEdge:function(e,t,n){Y("node"===t?{type:Te,selectionState:Object(O.a)(Object(O.a)({},Q),{},{main:{nodes:[e],edges:[]},lastSelected:{isNode:!0,fromMain:!0,id:e,showPropPanel:!0,coordinates:n}})}:{type:Te,selectionState:Object(O.a)(Object(O.a)({},Q),{},{main:{nodes:[],edges:[e]},lastSelected:{isNode:!1,fromMain:!0,id:e,showPropPanel:!0,coordinates:n}})})},setSelectedObjects:function(e,t){var n=e.map((function(e){return e.id})),r=t.map((function(e){return e.id}));Y({type:Te,selectionState:Object(O.a)(Object(O.a)({},Q),{},{main:{nodes:n,edges:r}})})},clearAll:function(){Y({type:De}),_({type:fn,uiState:Object(O.a)(Object(O.a)({},G),{},{activeTab:0})})}},se=function(e){return U({type:ze,cyReference:e})},le=function(e){return U({type:Fe,cyReference:e})},de=function(e){return _({type:hn,uiState:e})},ue=function(e){if(!c&&a>V.viewerThreshold)return G.mainNetworkNotDisplayed||de(Object(O.a)(Object(O.a)({},G),{},{mainNetworkNotDisplayed:!0})),Object(w.jsx)(Ue,{showIcons:!G.showSearchResult,title:"Browser not supported",message:"Your browser cannot display large network data. \n            Please use supported browsers, such as Chrome or Firefox, \n            to view large networks. (Still, you can query the network \n              using the query function below.)"});if(a>Z||i>V.maxDataSize||l){G.mainNetworkNotDisplayed||de(Object(O.a)(Object(O.a)({},G),{},{mainNetworkNotDisplayed:!0}));var t="Large Network Entry Selected",r="There are ".concat(a," objects in this network and it is too large to display at once. \n          You can use the query functions below to extract sub-networks.");return l&&(t="No Network View Mode",r="To explore this network, you can use the query functions below to extract sub-networks."),Object(w.jsx)(Ue,{showIcons:!G.showSearchResult,title:t,message:r})}var o=M(n);if("lgr"!==e){var s=L(n,1e3);return Object(w.jsx)(je,{uuid:j,cx:n,layoutName:s,setCyReference:se,eventHandlers:ie,backgroundColor:o})}var d=function(e){var t=N("nodes",e);if(void 0===t||0===t.length)return P;var n=t[0];return void 0===n||void 0===n.x||void 0===n.y||0===n.x&&0===n.y?z:"preset"}(n);return Object(w.jsx)(W,{cx:n,eventHandlers:ce,selectedNodes:Q.main.nodes,selectedEdges:Q.main.edges,backgroundColor:o,layoutName:d,pickable:!ee})},be="none",he=function(){if(!$.isLoading&&void 0===t&&ee){return Object(w.jsx)(C,{message:"No search result yet.",showLoading:!1})}if($.isLoading&&void 0===t&&ee){return Object(w.jsx)(C,{message:"Loading subnetwork...",showLoading:!0})}if(ae)return Object(w.jsx)(Sn,{});if(0===J.subnetworkNodeCount+J.subnetworkEdgeCount&&ee)return Object(w.jsx)(C,{message:"No nodes matching your query were found in this network.",showLoading:!1});if("success"===$.status&&!$.isLoading&&void 0!==t&&ee){var e=L(t,1e3);be="1px solid #BBBBBB";var n=M(t);return Object(w.jsx)("div",{style:{width:"100%",height:"100%",borderTop:be},children:Object(w.jsx)(je,{uuid:j,cx:t,eventHandlers:oe,layoutName:e,setBusy:x,setCyReference:le,backgroundColor:n})})}return Object(w.jsx)(C,{message:"Could not get the query result.  Please try again.",showLoading:!0})};return Object(w.jsxs)("div",{className:b.rootA,children:[Object(w.jsx)(Jt,{cx:G.mainNetworkNotDisplayed?t:n,subHeight:A}),ee?Object(w.jsxs)(Cn.a,{split:"horizontal",pane2Style:{background:"#FFFFFF",zIndex:10},pane1Style:{background:"#FFFFFF",zIndex:0},size:I,minSize:m,maxSize:0,onDragFinished:function(e){D(e)},children:[Object(w.jsxs)("div",{className:b.lowerPanel,children:[Object(w.jsx)(mn,{target:"main"}),ee?Object(w.jsx)(v.a,{className:b.title,children:"Overview"}):Object(w.jsx)("div",{}),ue(r)]}),Object(w.jsx)(Ee.a,{disableWidth:!0,children:function(e){var t=e.height;e.width;return t!==A&&F(t),Object(w.jsxs)("div",{className:b.subnet,style:{height:t},children:[ee?Object(w.jsx)(mn,{target:"sub"}):Object(w.jsx)("div",{}),he()]})}})]}):Object(w.jsxs)("div",{className:b.lowerPanel,children:[Object(w.jsx)(mn,{target:"main"}),ee?Object(w.jsx)(v.a,{className:b.title,children:"Overview"}):Object(w.jsx)("div",{}),ue(r)]})]})},En=n(438),In=n(389),Dn=n(444),Rn=n(442),Tn=n(443),An=Object(j.a)((function(e){return{collapsiblePanelTitle:{padding:e.spacing(1),borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider),"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04) !important",cursor:"pointer"},height:"2.8em"},collapsiblePanel:{paddingBottom:e.spacing(2)},expandIcon:{float:"right"}}})),Ln=function(e){e.openByDefault;var t=e.title,n=void 0===t?"?":t,r=e.children,a=e.backgroundColor,i=e.open,o=e.setOpen,c=An();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("div",{onClick:function(){o(!i)},className:c.collapsiblePanelTitle,style:{backgroundColor:a},children:Object(w.jsxs)(v.a,{variant:"subtitle2",color:"textSecondary",children:[n,i?Object(w.jsx)(Rn.a,{className:c.expandIcon}):Object(w.jsx)(Tn.a,{className:c.expandIcon})]})}),Object(w.jsx)("div",{style:{minHeight:"auto"},children:Object(w.jsx)(Dn.a,{in:i,timeout:"auto",unmountOnExit:!0,className:c.collapsiblePanel,style:{backgroundColor:a,marginBottom:"-16px"},children:r})})]})},Pn=Object(j.a)((function(e){return{root:{padding:e.spacing(1)},segmentTitle:{marginTop:e.spacing(1)}}})),zn=function(e){var t=e.summary,n=e.details,r=Pn();return Object(w.jsxs)("div",{className:r.root,children:[t?Object(w.jsx)(v.a,{variant:"caption",color:"textSecondary",display:"block",className:r.segmentTitle,children:t}):null,Object(w.jsx)(v.a,{variant:"body2",display:"block",component:"div",children:n})]})},Fn=Object(In.a)((function(e){return{wrapper:{height:"100%",maxHeight:"100%",minHeight:"100%",overflowY:"hidden",paddingBottom:"3.1em",background:"inherit"},innerWrapper:{height:"100%",background:"white",overflowY:"auto"},table:{cellSpacing:0,borderSpacing:0,borderCollapse:"collapse"},tdTitle:{whiteSpace:"nowrap",paddingRight:"1em",paddingLeft:0,verticalAlign:"top"},tdContent:{wordWrap:"break-word",wordBreak:"break-all",verticalAlign:"top"},icon:{verticalAlign:"middle",height:"0.9em",marginLeft:e.spacing(1)}}})),Mn=function(e){if(void 0!==e)return e.charAt(0).toUpperCase()+e.slice(1)},Bn=function(e){if(void 0===e)return null;var t=e.toString().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\ *>/gi,""),n=Object(at.a)(t);return Object(w.jsx)(rt.a,{children:n},"key-".concat(Math.random()))},qn=function(e){if(void 0!==e)return e=e.toString().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\ *>/gi,""),e=Object(at.a)(e)},Hn=function(e){var t,n=[],r=0,a=Object(x.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n.push(Object(w.jsx)(zn,{summary:i[0],details:i[1]},r++))}}catch(o){a.e(o)}finally{a.f()}return n},Wn=function(e){var t,n,r,a=e.summary,i=e.panelState,o=e.setPanelState,c=a.properties,s=a.description,l=Fn(),u=[];if(a.owner&&u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Owner"}),Object(w.jsx)("td",{className:l.tdContent,children:a.owner})]},"owner")),a.creationTime){var b=new Date(a.creationTime);u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Created"}),Object(w.jsx)("td",{className:l.tdContent,children:b.toLocaleDateString()+" "+b.toLocaleTimeString()})]},"created"))}if(a.modificationTime){var j=new Date(a.modificationTime);u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Last modified"}),Object(w.jsx)("td",{className:l.tdContent,children:j.toLocaleDateString()+" "+j.toLocaleTimeString()})]},"lastModified"))}if(a.externalId&&u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"UUID"}),Object(w.jsx)("td",{className:l.tdContent,children:a.externalId})]},"uuid")),a.version&&u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Version"}),Object(w.jsx)("td",{className:l.tdContent,children:a.version})]},"version")),a.visibility&&(!a.indexLevel||"ALL"!==a.indexLevel&&"META"!==a.indexLevel?u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Visibility"}),Object(w.jsxs)("td",{className:l.tdContent,children:["P",a.visibility.toLowerCase().slice(1)," (not searchable)"]})]},"visibility")):u.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Visibility"}),Object(w.jsxs)("td",{className:l.tdContent,valign:"middle",children:["P",a.visibility.toLowerCase().slice(1)," (searchable)"]})]},"visibility"))),u.length>0){var h=[[null,Object(w.jsx)("table",{className:l.table,children:Object(w.jsx)("tbody",{children:u})})]];t=Hn(h)}var f,g,p,m,v=[],y=Object(x.a)(c);try{for(y.s();!(m=y.n()).done;){var S=m.value,C=S.value.trim(),N=S.predicateString.trim();if(""!==C&&!N.startsWith(It)){if("@context"===N)continue;if("rights"===N)if(C.includes("|")){var k=C.split("|"),E=Object(d.a)(k,2);f='<a target="_blank" href="'+E[0]+'">'+E[1]+"</a>"}else f=C;else"rightsHolder"===N?g=C:"reference"===N?p=C:v.push(Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:Mn(N)}),Object(w.jsx)("td",{className:l.tdContent,children:Bn(C)})]},N))}}}catch(T){y.e(T)}finally{y.f()}v.length>0&&(r=Hn([[null,Object(w.jsx)("table",{className:l.table,children:Object(w.jsx)("tbody",{children:v})})]]));var I=[];if(void 0!==s&&s.length>0&&I.push([null,qn(s)]),f||g){var D=Object(w.jsx)("table",{className:l.table,children:Object(w.jsxs)("tbody",{children:[f?Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Rights"}),Object(w.jsx)("td",{className:l.tdContent,children:Bn(f)})]}):null,g?Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{className:l.tdTitle,children:"Rights holder"}),Object(w.jsx)("td",{className:l.tdContent,children:Bn(g)})]}):null]})});I.push(["Rights",D])}p&&I.push(["Reference",Bn(p)]),I.length>0&&(n=Hn(I));var R=0;return Object(w.jsx)("div",{className:l.wrapper,children:Object(w.jsxs)("div",{className:l.innerWrapper,children:[t?Object(w.jsx)(Ln,{title:"Network information",children:t,backgroundColor:R++%2===0?"inherit":"white",open:i.netInfoOpen,setOpen:function(e){o(Object(O.a)(Object(O.a)({},i),{},{netInfoOpen:e}))}}):null,n?Object(w.jsx)(Ln,{title:"Description",children:n,backgroundColor:R++%2===0?"inherit":"white",open:i.descriptionOpen,setOpen:function(e){o(Object(O.a)(Object(O.a)({},i),{},{descriptionOpen:e}))}}):null,r?Object(w.jsx)(Ln,{title:"Properties",children:r,backgroundColor:R++%2===0?"inherit":"white",open:i.propsOpen,setOpen:function(e){o(Object(O.a)(Object(O.a)({},i),{},{propsOpen:e}))}}):null]})})},_n={};function Gn(e,t,n,r){return Un.apply(this,arguments)}function Un(){return(Un=Object(r.a)(i.a.mark((function e(t,n,r,a){var o,c,s,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(o=_n[t])){e.next=3;break}return e.abrupt("return",o);case 3:if(a.loaded){e.next=5;break}return e.abrupt("return",void 0);case 5:if(c="".concat(n,"/").concat(r),e.prev=6,s=Oe(c,a),l=null,void 0===a.accesskey||""===a.accesskey){e.next=15;break}return e.next=12,s.getNetworkSummary(t,a.accesskey);case 12:l=e.sent,e.next=18;break;case 15:return e.next=17,s.getNetworkSummary(t);case 17:l=e.sent;case 18:if(_n[t]=l,Qn(l)){e.next=21;break}throw new ie(l.errorMessage,{subMessage:"The entry contains invalid data in summary"});case 21:return e.abrupt("return",l);case 24:throw e.prev=24,e.t0=e.catch(6),new ie(e.t0.message,e.t0);case 27:case"end":return e.stop()}}),e,null,[[6,24]])})))).apply(this,arguments)}var Qn=function(e){return console.log("Summary:",e),void 0!==e&&null!==e&&(""===e.errorMessage||void 0===e.errorMessage)};function Yn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0,a=Object(u.g)(),i=xe(a.search);return null!==i&&(r.accesskey=i),Object(he.useQuery)(["networkSummary",e,t,n,r],(function(){return Gn(e,t,n,r)}),{retry:!1})}var Vn,Xn=n(457),Jn=n(252),Kn=n.n(Jn),$n=n(148),Zn=n.n($n),er=n(251),tr=n(2),nr=n(429),rr=n(456),ar=n(450);!function(e){e.All="All nodes",e.Selected="Selected nodes",e.AllResult="All nodes in query result",e.SelectedResult="Selected nodes in query result"}(Vn||(Vn={}));var ir,or,cr=Vn,sr=Object(j.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}}}})),lr=[cr.All,cr.Selected],dr=[cr.AllResult,cr.SelectedResult],ur=function(e){var t=e.selectionState,n=e.showSearchResult,r=e.target,a=void 0===r?cr.All:r,i=e.setTarget,c=sr();Object(o.useEffect)((function(){n&&i(cr.AllResult)}),[n]),Object(o.useEffect)((function(){n||(0!==t.main.nodes.length?i(cr.Selected):i(cr.All))}),[t.main]),Object(o.useEffect)((function(){n&&(0!==t.sub.nodes.length?i(cr.SelectedResult):i(cr.AllResult))}),[t.sub]);var s=n?dr:lr;return Object(w.jsxs)(nr.a,{variant:"standard",className:c.formControl,children:[Object(w.jsx)(rr.a,{htmlFor:"attr-selector",children:"attribute of"}),Object(w.jsx)(ar.a,{native:!0,value:a,onChange:function(e){var t=e.target.value;console.log("Event",t),i(t)},children:s.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))})]})};!function(e){e.IQUERY="IQuery",e.MSIGDB="MSigDB"}(or||(or={}));var br,jr=(ir={},Object(tr.a)(ir,or.IQUERY,"http://iquery.ndexbio.org/?genes="),Object(tr.a)(ir,or.MSIGDB,"https://www.gsea-msigdb.org/gsea/analysisApi?speciesName=Human&username=ndex_user&op=annotate&geneIdList="),ir),hr=Object(j.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}}}})),fr=function(e){var t=e.selected,n=void 0===t?"":t,r=e.columns,a=void 0===r?[]:r,i=e.setSelected,o=hr();return Object(w.jsxs)(nr.a,{variant:"standard",className:o.formControl,children:[Object(w.jsx)(rr.a,{shrink:!0,htmlFor:"attr-selector",children:"using the data column"}),Object(w.jsx)(ar.a,{native:!0,value:n,onChange:function(e){var t=e.target.value;i(t)},inputProps:{name:"attr-selector",id:"attr-selector"},children:a.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))})]})},gr=Object(j.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}}}})),Or=function(e){var t=e.selected,n=void 0===t?or.IQUERY:t,r=e.setSelected,a=gr();return Object(w.jsxs)(nr.a,{variant:"standard",className:a.formControl,children:[Object(w.jsx)(rr.a,{shrink:!0,htmlFor:"service-name",children:"Database:"}),Object(w.jsx)(ar.a,{native:!0,value:n,onChange:function(e){var t=e.target.value;r(t)},inputProps:{name:"service-name",id:"service-name"},children:Object.entries(or).map((function(e){return Object(w.jsx)("option",{value:e[1],children:e[1]},e[1])}))})]})},xr=n(146),pr=n.n(xr),mr=Object(j.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}},button:{width:"100%","&.MuiButton-contained":{}},tooltipText:{fontSize:"0.875rem",textAlign:"center",padding:e.spacing(.5),lineHeight:1.15}}})),vr=function(e){var t=e.enabled,n=e.message,r=e.onClick,a=mr(),i=function(e,t,n){return Object(w.jsx)(vn.a,{variant:t,color:n,disabled:e,size:"small",className:a.button,onClick:r,startIcon:Object(w.jsx)(pr.a,{}),children:"Query"})};return t?i(!1,"outlined","secondary"):Object(w.jsx)(an.a,{arrow:!0,title:Object(w.jsx)("div",{className:a.tooltipText,children:n}),children:Object(w.jsx)("span",{children:i(!0,"contained","primary")})})},yr=Object(j.a)((function(e){return{container:{width:"100%",padding:e.spacing(2),paddingBottom:0,margin:0},item:{paddingLeft:e.spacing(1)},flexContainer:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0}}}));!function(e){e[e.ENABLED=0]="ENABLED",e[e.NO_NODES_SELECTED=1]="NO_NODES_SELECTED",e[e.TOO_MANY_NODES=2]="TOO_MANY_NODES",e[e.TOO_MANY_NODES_SELECTED=3]="TOO_MANY_NODES_SELECTED"}(br||(br={}));var wr=function(e){var t,n=e.cx,r=e.queryState,a=e.setQueryState,i=yr(),c=Object(o.useContext)(g),s=c.selectionState,l=c.uiState,b=c.query,j=c.config,h=c.ndexCredential,f=c.queryMode,x=l.showSearchResult,p=Object(u.h)().uuid,m=Ze(p,n,l.mainNetworkNotDisplayed).nodeAttr,v=ke(p,b,j.ndexHttps,h,f,j.maxEdgeQuery),y=Object(o.useState)([]),S=Object(d.a)(y,2),C=S[0],k=S[1],E=Object(o.useState)(br.ENABLED),I=Object(d.a)(E,2),D=I[0],R=I[1],T=Object(o.useState)(""),A=Object(d.a)(T,2),L=(A[0],A[1],t={},Object(tr.a)(t,br.NO_NODES_SELECTED,"Select nodes to run a query."),Object(tr.a)(t,br.TOO_MANY_NODES,"This network contains too many nodes to query the ".concat(r.column)+" attribute of all nodes. Try selecting a subset or changing the attribute queried."),Object(tr.a)(t,br.TOO_MANY_NODES_SELECTED,"Too many nodes are selected to run this query."+" Try selecting less than ".concat(500," nodes.")),t);Object(o.useEffect)((function(){var e=function(e){for(var t=N("nodeAttributes",e),n=new Set,r=t.length;r--;)n.add(t[r].n);return["name"].concat(Object(Y.a)(Array.from(n).sort()))}(n);k(e),z("name")}),[n]),Object(o.useEffect)((function(){x||0===s.main.nodes.length||F(cr.Selected)}),[]),Object(o.useEffect)((function(){var e=r.target;e===cr.All&&x&&F(cr.AllResult),P(),console.log("TGT:",e)}),[r]);var P=function(){var e=r.target;if(x)e===cr.SelectedResult&&0===s.sub.nodes.length?R(br.NO_NODES_SELECTED):R(br.ENABLED);else{if(N("nodes",n).length>500&&e===cr.All)return void R(br.TOO_MANY_NODES);if(e===cr.Selected&&s.main.nodes.length>500)return void R(br.TOO_MANY_NODES_SELECTED);r.target===cr.Selected&&0===s.main.nodes.length?R(br.NO_NODES_SELECTED):R(br.ENABLED)}};Object(o.useEffect)((function(){P()}),[s]);var z=function(e){a(Object(O.a)(Object(O.a)({},r),{},{column:e}))},F=function(e){a(Object(O.a)(Object(O.a)({},r),{},{target:e}))};return Object(w.jsxs)(En.a,{className:i.container,container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:[Object(w.jsx)(En.a,{item:!0,xs:3,children:Object(w.jsx)(Or,{selected:r.db,setSelected:function(e){a(Object(O.a)(Object(O.a)({},r),{},{db:e}))}})}),Object(w.jsx)(En.a,{item:!0,xs:9,className:i.item,children:Object(w.jsx)(fr,{columns:C,selected:r.column,setSelected:z})}),Object(w.jsx)(En.a,{item:!0,xs:8,children:Object(w.jsx)(ur,{selectionState:s,showSearchResult:x,target:r.target,setTarget:F})}),Object(w.jsx)(En.a,{item:!0,xs:4,children:Object(w.jsx)(vr,{enabled:D===br.ENABLED,message:L[D],onClick:function(){var e,t=v.data;void 0!==t&&(e=t.cx);var n=function(e,t,n,r){var a=e.column,i=e.db,o=e.target,c=new Set;if(o===cr.All)Object.values(t).forEach((function(e){c.add(e.get(a))}));else if(o===cr.Selected)n.main.nodes.forEach((function(e){c.add(t[e].get(a))}));else if(o===cr.AllResult){var s=N("nodes",r),l=s.map((function(e){return e["@id"]}));l.forEach((function(e){c.add(t[e].get(a))})),console.log(s,l)}else{var d=n.sub.nodes;d.forEach((function(e){c.add(t[e].get(a))})),console.log(d)}var u=Array.from(c).sort().join(","),b=jr[i.toString()];return"".concat(b).concat(u)}(r,m,s,e);window.open(n,"_blank")}})})]})},Sr=n(147),Cr=n.n(Sr),Nr=n(427),kr=n(428),Er=n(431),Ir=n(451),Dr={},Rr=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,a){var o,c,s,l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(o=Dr[t])){e.next=3;break}return e.abrupt("return",o);case 3:if(void 0!==a&&a.loaded&&a.isLogin){e.next=5;break}return e.abrupt("return",void 0);case 5:return c="".concat(n,"/").concat(r),s=null,e.prev=7,l=Oe(c,a),e.next=11,l.getNetworkPermissionsByUUIDs([t]);case 11:d=e.sent,s=d[t],Dr[t]=s,e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(7),new ie(e.t0.message,e.t0);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();function Tr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0;return Object(he.useQuery)(["networkPermissions",e,t,n,r],(function(){return Rr(e,t,n,r)}),{retry:!1})}var Ar=Object(j.a)((function(e){return Object(h.a)({button:{"text-transform":"none"}})})),Lr=function(e){var t=e.uuid,n=Ar(),r=Object(o.useContext)(g),a=r.ndexCredential,i=r.config,s=r.summary,l=r.setSummary,u=Tr(t,i.ndexHttps,"v2",a),b=Object(o.useState)(!1),j=Object(d.a)(b,2),h=j[0],f=j[1],x=function(e){Oe("".concat(i.ndexHttps,"/v2"),a).cancelDOIRequest(t).then(e).catch((function(e){throw console.log(e),new Error(e)}))};return a.isLogin&&void 0!==s&&u&&"ADMIN"===u.data?Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(an.a,{title:"Cancel DOI request",arrow:!0,placement:"left",children:Object(w.jsx)(et.a,{size:"small",onClick:function(){f(!0)},className:n.button,children:Object(w.jsx)(Cr.a,{})})}),Object(w.jsxs)(Ir.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"sm","aria-labelledby":"confirmation-dialog-title",open:h,children:[Object(w.jsx)(Nr.a,{id:"confirmation-dialog-title",children:"Delete DOI Request"}),Object(w.jsxs)(kr.a,{dividers:!0,children:[Object(w.jsx)(v.a,{children:"This will delete your DOI request, please verify that your network's visibility is correct. If you still want a DOI for your network, please submit a new request."}),Object(w.jsx)("br",{}),Object(w.jsx)(v.a,{children:"Would you like to delete this request?"})]}),Object(w.jsxs)(Er.a,{children:[Object(w.jsx)(vn.a,{onClick:function(){f(!1)},children:"Cancel"}),Object(w.jsx)(vn.a,{onClick:function(){x((function(){return l(Object(O.a)(Object(O.a)({},s),{},{doi:void 0}))})),f(!1)},children:"Confirm"})]})]})]}):null},Pr=Object(j.a)((function(e){return Object(h.a)({root:{backgroundColor:e.palette.background.paper,margin:0,paddingTop:e.spacing(1)},item:{marginRight:e.spacing(1)},label:{marginRight:e.spacing(1),padding:0,paddingLeft:e.spacing(1)},row:{display:"flex",alignItems:"center",boxSizing:"border-box"},grid:{alignItems:"center",justifyContent:"flex-start",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},chip:{paddingLeft:e.spacing(1)},warning:{color:e.palette.warning.main},error:{color:e.palette.error.main},copySpan:{display:"none"},queryPanel:{}})})),zr=function(e){var t=e.cx,n=e.panelState,r=e.setPanelState,a=e.queryState,i=e.setQueryState,c=e.renderer,s=Pr(),l=Object(u.h)().uuid,b=Object(o.useContext)(g),j=b.summary,h=b.uiState,f=b.config,x=f.viewerThreshold,p=f.warningThreshold,m=Object(o.useState)(!1),y=Object(d.a)(m,2),S=y[0],C=y[1];if(void 0===j||null===j)return null;var N;return Object(w.jsxs)("div",{className:s.root,children:[j.doi?Object(w.jsx)(w.Fragment,{children:"Pending"===j.doi?Object(w.jsxs)(En.a,{className:s.grid,container:!0,alignItems:"center",children:[Object(w.jsxs)(En.a,{item:!0,children:[Object(w.jsx)(Lr,{uuid:l})," "]}),Object(w.jsx)(En.a,{item:!0,children:Object(w.jsx)(Xn.a,{variant:"outlined",label:"DOI Status: Pending",size:"small",color:"default"})})]}):Object(w.jsx)("div",{className:s.chip,children:Object(w.jsx)(an.a,{title:S?"Copied!":"Copy network DOI to clipboard",className:s.item,children:Object(w.jsx)(er.CopyToClipboard,{text:"https://doi.org/"+j.doi,onCopy:function(){C(!0)},children:Object(w.jsx)(Xn.a,{clickable:!0,label:"DOI: ".concat(j.doi),size:"small",color:"default",variant:"outlined",onMouseEnter:function(){C(!1)}})})})})}):null,Object(w.jsxs)(En.a,{container:!0,className:s.grid,children:[Object(w.jsx)(v.a,{className:s.label,variant:"body1",children:"Network Size:"}),Object(w.jsx)(Xn.a,{size:"small",color:"secondary",label:"Nodes: ".concat(j.nodeCount),variant:"outlined",className:s.item}),Object(w.jsx)(Xn.a,{size:"small",color:"secondary",label:"Edges: ".concat(j.edgeCount),variant:"outlined",className:s.item}),(N=j.edgeCount+j.nodeCount,N>=x&&N<p?Object(w.jsx)(an.a,{arrow:!0,title:"Large network loaded: showing network in simplified mode",children:Object(w.jsx)(Kn.a,{fontSize:"large",className:s.warning})}):N>=p?Object(w.jsx)(an.a,{arrow:!0,title:"Network is too large to display",children:Object(w.jsx)(Zn.a,{fontSize:"large",className:s.error})}):void 0)]}),h.showSearchResult&&void 0!==j.subnetworkNodeCount?Object(w.jsxs)(En.a,{container:!0,className:s.grid,children:[Object(w.jsx)(v.a,{className:s.label,variant:"subtitle2",children:"Query Result:"}),Object(w.jsx)(Xn.a,{size:"small",label:"Nodes: ".concat(j.subnetworkNodeCount),variant:"outlined",className:s.item}),Object(w.jsx)(Xn.a,{size:"small",label:"Edges: ".concat(j.subnetworkEdgeCount),variant:"outlined",className:s.item})]}):null,"lgr"!==c||h.showSearchResult?Object(w.jsx)(Ln,{openByDefault:!1,title:h.showSearchResult?"Query External Database (for sub network)":"Query External Database",children:Object(w.jsx)(wr,{cx:t,queryState:a,setQueryState:i}),open:n.queryOpen,setOpen:function(e){r(Object(O.a)(Object(O.a)({},n),{},{queryOpen:e}))},backgroundColor:"#f5f5f5"}):Object(w.jsx)("div",{})]})},Fr=Object(j.a)((function(e){return Object(h.a)({root:{width:"100%",height:"100%",overflowY:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",boxSizing:"border-box",backgroundColor:e.palette.background.paper},description:{padding:0,margin:0,backgroundColor:"inherit",height:"100%",overflowY:"hidden"}})})),Mr=function(e){var t=e.cx,n=e.panelState,r=e.setPanelState,a=e.queryState,i=e.setQueryState,c=e.renderer,s=Fr(),l=Object(o.useContext)(g),d=l.ndexCredential,b=l.config,j=l.setSummary,h=l.summary,f=Yn(Object(u.h)().uuid,b.ndexHttps,"v2",d).data;return void 0===f||0===Object.entries(f).length?Object(w.jsx)("div",{className:s.root,children:Object(w.jsx)(En.a,{container:!0,children:Object(w.jsx)(En.a,{item:!0,md:12})})}):(void 0!==h&&h.owner===f.owner||j(Object(O.a)(Object(O.a)({},h),{},{name:f.name,owner:f.owner,externalId:f.externalId,visibility:f.visibility,nodeCount:f.nodeCount,edgeCount:f.edgeCount,doi:f.doi})),Object(w.jsxs)("div",{className:s.root,children:[Object(w.jsx)(zr,{cx:t,panelState:n,setPanelState:r,queryState:a,setQueryState:i,renderer:c}),Object(w.jsx)("div",{className:s.description,children:Object(w.jsx)(Wn,{summary:f,panelState:n,setPanelState:r})})]}))},Br=n(253),qr=n.n(Br),Hr=n(254),Wr=n.n(Hr),_r=Object(j.a)((function(e){return Object(h.a)({button:{height:"1em",width:"1em",margin:0,borderRadius:2,border:"1px solid #AAAAAA"},closeIcon:{width:"1em"}})})),Gr=function(){var e=_r(),t=Object(o.useContext)(g),n=t.uiState,r=t.uiStateDispatch,a=function(){var e;e=Object(O.a)(Object(O.a)({},n),{},{dataPanelOpen:!n.dataPanelOpen}),r({type:un,uiState:e})};return n.dataPanelOpen?Object(w.jsx)(an.a,{title:"Hide Data Panel",placement:"left",arrow:!0,children:Object(w.jsx)(et.a,{className:e.button,size:"small",onClick:a,children:Object(w.jsx)(qr.a,{className:e.closeIcon,"aria-label":"Collapse the panel",color:"inherit"})})}):Object(w.jsx)(an.a,{title:"Show Data Panel",placement:"left",arrow:!0,children:Object(w.jsx)(et.a,{className:e.button,size:"small",onClick:a,children:Object(w.jsx)(Wr.a,{className:e.closeIcon,"aria-label":"Collapse the panel",color:"inherit"})})})},Ur=n(83),Qr=n(98),Yr=n.n(Qr),Vr=function(e){var t=e.type,n=e.count,r=e.threshold,a="This network has large number of ".concat(t,"s (").concat(n,"). ")+"To display ".concat(t," attributes, you can select up to ").concat(r," ").concat(t,"s at a time.");return Object(w.jsx)("div",{style:{height:"100%",width:"100%",display:"grid",justifyContent:"center",alignContent:"center"},children:Object(w.jsxs)("div",{style:{padding:"2em"},children:[Object(w.jsx)(Yr.a,{style:{fontSize:"6em"}}),Object(w.jsx)("h3",{children:a})]})})},Xr={},Jr=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,a){var o,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(o=Xr[t])){e.next=3;break}return e.abrupt("return",o);case 3:if(void 0!==a&&a.loaded){e.next=5;break}return e.abrupt("return",void 0);case 5:if(e.prev=5,c=Oe("".concat(n,"/").concat(r),a),s=null,void 0===a.accesskey||""===a.accesskey){e.next=14;break}return e.next=11,c.getMetaData(t,a.accesskey);case 11:s=e.sent,e.next=17;break;case 14:return e.next=16,c.getMetaData(t);case 16:s=e.sent;case 17:return Xr[t]=s,e.abrupt("return",s);case 21:throw e.prev=21,e.t0=e.catch(5),new ie(e.t0.message,e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,n,r,a){return e.apply(this,arguments)}}();var Kr,$r=Object(j.a)((function(){return Object(h.a)({wrapper:{minWidth:"12em",minHeight:"2em"}})})),Zr=function(){var e=$r(),t=Object(u.h)().uuid,n=Object(o.useContext)(g),r=n.query,a=n.queryMode,i=n.ndexCredential,s=n.config,l=n.summary,b=ke(t,r,s.ndexHttps,i,a,s.maxEdgeQuery).data,j=void 0!==b&&b.cx,h=void 0===b||b.edgeLimitExceeded?void 0:b.cx,O=c.a.useState(void 0),x=Object(d.a)(O,2),p=x[0],m=x[1],v=function(){m("Network opened.")},y=function(e){m("Failed to load network: "+e)},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0;return Object(he.useQuery)(["networkMetaData",e,t,n,r],(function(){return Jr(e,t,n,r)}),{retry:!1})}(t,s.ndexHttps,"v2",i),C={uuid:t,summary:l,metaData:S.data?S.data.metaData:void 0};return Object(w.jsxs)(f.a,{port:1234,children:[j?h?Object(w.jsx)("div",{className:e.wrapper,children:Object(w.jsx)(f.g,{size:"small",fetchCX:function(){return new Promise((function(e,t){h?e(h):t("No search result is available")}))},onSuccess:v,onFailure:y})}):null:Object(w.jsx)("div",{className:e.wrapper,children:Object(w.jsx)(f.g,{size:"small",ndexNetworkProperties:C,onSuccess:v,onFailure:y})}),Object(w.jsx)(yn.a,{open:void 0!==p,autoHideDuration:6e3,onClose:function(){m(void 0)},message:p})]})},ea=Object(j.a)((function(e){return{root:{height:"100%",width:"100%",display:"grid",justifyContent:"center",alignContent:"center"},openButton:{marginTop:e.spacing(4),borderRadius:"5px",display:"flex",justifyContent:"flex-start",alignItems:"center"}}})),ta=function(e){e.type;var t=e.selectedCount,n=ea();return Object(w.jsxs)("div",{className:n.root,children:[Object(w.jsx)(v.a,{variant:"h6",children:" Too many objects (".concat(t,") are selected.")}),Object(w.jsx)(v.a,{variant:"caption",children:"For large networks like this one, you can use the Cytoscape Desktop to explore/edit"}),Object(w.jsx)("div",{className:n.openButton,children:Object(w.jsx)(Zr,{})})]})},na=null,ra=Object(j.a)((function(e){return na=e.typography.fontSize,Object(h.a)({root:{width:"100%",height:"100%",maxHeight:"100%",margin:0,padding:0,display:"flex",flexDirection:"column",boxSizing:"border-box",backgroundColor:e.palette.background.paper,overflowY:"hidden",borderLeft:"1px solid ".concat(e.palette.divider)},topBar:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingRight:e.spacing(1),border:"1px solid ".concat(e.palette.divider)},title:{paddingTop:e.spacing(1.5),paddingBottom:e.spacing(1.5),paddingLeft:e.spacing(3)},tabWrapper:{boxSizing:"border-box",backgroundColor:e.palette.background.paper,margin:0,padding:0,width:"100%",height:"100%",overflowY:"hidden"},tabList:{boxSizing:"border-box",padding:0,margin:0,minHeight:"3.1em"},tab:{"&:disabled":{color:"#AAAAAA"}},collapsiblePanel:{minHeight:"auto"}})}));!function(e){e[e.Network=0]="Network",e[e.Node=1]="Node",e[e.Edge=2]="Edge"}(Kr||(Kr={}));var aa={db:or.IQUERY,column:"name",target:cr.All},ia=1e4,oa=function(e){var t=e.width,n=e.cx,r=e.renderer,a=e.objectCount,i=e.cxDataSize,c=Object(o.useRef)(null),s=Object(o.useRef)(null),l=Object(o.useRef)(null),b=ra(),j=Object(o.useState)({nodeCount:0,edgeCount:0}),h=Object(d.a)(j,2),f=h[0],O=h[1],x=Object(o.useState)([0,0]),p=Object(d.a)(x,2),m=p[0],y=p[1],S=Object(o.useState)(!1),C=Object(d.a)(S,2),I=C[0],D=C[1],R=Object(o.useContext)(g),T=R.ndexCredential,A=R.config,L=R.selectionState,P=R.uiState,z=A.maxNumObjects;A.maxDataSize;Object(o.useEffect)((function(){if(c.current&&s.current){var e=c.current.offsetHeight-s.current.offsetHeight,t=c.current.offsetWidth;y([t,e])}}),[c,s,l,L]);var F=P.showSearchResult,M=Object(u.h)().uuid,B=Ze(M,n,P.mainNetworkNotDisplayed),q=Object(o.useMemo)((function(){return it(n)}),[n]),H=Object(o.useState)(Kr.Network),W=Object(d.a)(H,2),_=W[0],G=W[1],U=Object(o.useState)(!0),Q=Object(d.a)(U,2),Y=Q[0],V=Q[1],X=Object(o.useState)([]),J=Object(d.a)(X,2),K=J[0],$=J[1],Z=Object(o.useState)([]),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1];Object(o.useEffect)((function(){if(void 0!==n&&null!==n&&Array.isArray(n)&&n.length>0){if(a>z||i>A.maxDataSize)return void V(!0);V(!1);var e=k(n),t=E(n);O({nodeCount:e,edgeCount:t});var r=N("nodes",n),o=N("edges",n);if(void 0!==r&&Array.isArray(r)&&0!==r.length){var c=void 0===r[0]["@id"]?"id":"@id",s=r.map((function(e){return e[c]}));$(s)}if(void 0!==o&&Array.isArray(o)&&0!==o.length){var l=void 0===o[0]["@id"]?"id":"@id",d=o.map((function(e){return e[l]}));ne(d)}}}),[n]),Object(o.useEffect)((function(){var e=L.main,t=L.sub;e.nodes.length<=1&&e.edges.length<=1&&t.nodes.length<=1&&t.edges.length<=1?G(Kr.Network):(G(Kr.Node),D(!I)),0===e.nodes.length&&f.nodeCount}),[L]);var re=Object(o.useState)({netInfoOpen:!0,descriptionOpen:!0,propsOpen:!0,queryOpen:!1}),ae=Object(d.a)(re,2),ie=ae[0],oe=ae[1],ce=Object(o.useState)(aa),se=Object(d.a)(ce,2),le=se[0],de=se[1],ue=Object(o.useMemo)((function(){var e={},t=0,n=document.getElementById("sandbox");n.style.display="block";for(var r=32;r<127;r++){var a=String.fromCharCode(r);" "===a&&(a="&nbsp"),e[a]=na,t+=e[a]}return n.style.display="none",e.default=t/95,e}),[]),be=[],je=[];F?(be=L.sub.nodes,je=L.sub.edges):(be=L.main.nodes,je=L.main.edges,0===be.length&&f.nodeCount<ia&&(be=K),0===je.length&&f.edgeCount<ia&&(je=te));var he=Yn(M,A.ndexHttps,"v2",T).data,fe=function(e,t){return 0===e.length?Object(w.jsx)(Vr,{type:t,count:"node"===t?f.nodeCount:f.edgeCount,threshold:ia}):e.length>ia?Object(w.jsx)(ta,{type:t,selectedCount:e.length}):"node"===t?Object(w.jsx)(qt,{selectedObjects:e,attributes:B.nodeAttr,context:q,letterWidths:ue,label:"Name",parentSize:m,selected:I},"selected-nodes"):Object(w.jsx)(qt,{selectedObjects:je,attributes:B.edgeAttr,type:"edge",context:q,letterWidths:ue,label:"Name",parentSize:m,selected:I},"selected-edges")},ge=0===be.length||be.length===f.nodeCount?"":"(".concat(be.length," selected)"),Oe=0===je.length||je.length===f.edgeCount?"":"(".concat(je.length," selected)");return Object(w.jsxs)("div",{className:b.root,style:{width:t},ref:c,children:[Object(w.jsxs)("div",{className:b.topBar,ref:s,children:[Object(w.jsx)(Gr,{}),Object(w.jsx)(v.a,{variant:"h5",className:b.title,children:he.name})]}),Object(w.jsx)("div",{className:b.tabWrapper,children:Object(w.jsxs)(Ur.d,{selectedIndex:_,forceRenderTabPanel:!0,onSelect:function(e,t,n){D(!I),G(e)},children:[Object(w.jsxs)(Ur.b,{className:b.tabList,ref:l,children:[Object(w.jsx)(Ur.a,{children:"Network"},"network-tab"),Object(w.jsx)(Ur.a,{disabled:Y,children:Object(w.jsxs)("div",{children:["Nodes ",ge]})},"nodes-tab"),Object(w.jsx)(Ur.a,{disabled:Y,children:Object(w.jsxs)("div",{children:["Edges ",Oe]})},"edges-tab")]}),Object(w.jsx)(Ur.c,{value:_,index:0,children:Object(w.jsx)(Mr,{cx:n,panelState:ie,setPanelState:oe,queryState:le,setQueryState:de,renderer:r})}),Object(w.jsx)(Ur.c,{value:_,index:1,children:fe(be,"node")}),Object(w.jsx)(Ur.c,{value:_,index:2,children:fe(je,"edge")})]})})]})},ca=[],sa=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r,a,o,c,s){var l,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&a.loaded&&null!==r&&null!==n&&null!==t&&null!=c){e.next=2;break}return e.abrupt("return",ca);case 2:if(!(c>o)){e.next=5;break}return console.warn("Network is too big (>".concat(o,")")),e.abrupt("return",ca);case 5:if(e.prev=5,l=Oe("".concat(n,"/").concat(r),a),d=a.accesskey,"2"!==s){e.next=18;break}if(void 0===d){e.next=13;break}return e.next=12,l.getCX2Network(t,d);case 12:case 15:case 21:case 24:return e.abrupt("return",e.sent);case 13:return e.next=15,l.getCX2Network(t);case 18:if(void 0===d){e.next=22;break}return e.next=21,l.getRawNetwork(t,d);case 22:return e.next=24,l.getRawNetwork(t);case 25:e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(5),new ie(e.t0.message,e.t0);case 30:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(t,n,r,a,i,o,c){return e.apply(this,arguments)}}();var la,da=Object(j.a)((function(e){return Object(h.a)({root:{position:"fixed",right:0,top:0,paddingTop:"1vh",display:"flex",flexDirection:"column",zIndex:300}})})),ua=function(){var e=da();return Object(w.jsx)("div",{className:e.root,children:Object(w.jsx)(Gr,{})})},ba=n(255),ja=function(e){var t=e.title;return Object(w.jsx)(ba.a,{children:Object(w.jsx)("title",{children:t||"NDEx Network Viewer 2.5"})})};!function(e){e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.InternalServerError=500]="InternalServerError"}(la||(la={}));var ha=la,fa=new Map;fa.set(ha.BadRequest,["The server could not handle your request","The NDEx server could not handle your request. Please try different query or try Classic Mode."]),fa.set(ha.Unauthorized,["You don't have permission to access this data","Please sing in to your account and check the permission of this entry"]),fa.set(ha.InternalServerError,["Unknown server-side error.","Please try again later or report this issue to us."]),fa.set(ha.NotFound,["The entry does not exist in the server","Please double-check the Network ID in the URL"]);var ga=n(445),Oa=function(e){var t=e.title,n=void 0===t?"":t,r=e.message,a=void 0===r?"":r,i=e.open,o=e.setOpen,c=e.setProceed,s=e.setNoView,l=(Object(u.f)(),function(){s(!0),o(!1),c(!0)});return Object(w.jsxs)(Ir.a,{open:i,onClose:l,children:[Object(w.jsx)(Nr.a,{children:n}),Object(w.jsx)(kr.a,{children:Object(w.jsx)(ga.a,{children:a})}),Object(w.jsxs)(Er.a,{children:[Object(w.jsx)(vn.a,{onClick:l,color:"default",children:"Cancel"}),Object(w.jsx)(vn.a,{onClick:function(){s(!1),void 0!==c&&c(!0),o(!1)},color:"secondary",children:"OK"})]})]})},xa=function(){return"".concat(window.location.protocol,"//").concat(window.location.host)},pa=n(260),ma=n.n(pa),va=n(259),ya=n.n(va),wa=n(258),Sa=n.n(wa),Ca=function(e,t){var n=t.palette;return e===ha.NotFound||e===ha.Unauthorized?n.info.main:e===ha.BadRequest||e===ha.Forbidden?n.warning.main:n.error.main},Na=function(e){var t=e.code,n=e.size,r=void 0===n?"10em":n,a=Object(j.a)((function(e){return Object(h.a)({errorIcon:{fontSize:r,color:Ca(t,e)}})}))();return t===ha.NotFound?Object(w.jsx)(Sa.a,{className:a.errorIcon}):t===ha.Unauthorized||t===ha.Forbidden?Object(w.jsx)(ya.a,{className:a.errorIcon}):t===ha.BadRequest?Object(w.jsx)(ma.a,{className:a.errorIcon}):Object(w.jsx)(Zn.a,{className:a.errorIcon})},ka=Object(j.a)((function(e){return Object(h.a)({initPanel:{width:"100%",height:"100%",boxSizing:"border-box",color:"#AAAAAA",display:"grid",placeItems:"center"},message:{display:"grid",placeItems:"center",maxWidth:"40em"},errorMessage:{paddingTop:"1em",color:e.palette.text.primary},errorIcon:{fontSize:"15em"},progressIcon:{marginTop:"5em"},bottomMessage:{display:"grid",placeItems:"center",marginTop:e.spacing(4)},caption:{marginTop:e.spacing(1)},subMessage:{marginTop:e.spacing(1),marginBottom:e.spacing(2),color:e.palette.text.primary},link:{color:e.palette.info.main,marginTop:e.spacing(1),marginBottom:e.spacing(2),"&:hover":{fontWeight:600,cursor:"pointer"}}})})),Ea=function(e){window.open(e,"_self")},Ia=function(e){var t=e.message,n=e.subMessage,r=e.optionalMessage,a=e.code,i=e.showProgress,s=void 0!==i&&i,l=e.summary,b=e.setProceed,j=e.error,h=void 0!==j&&j,f=e.setNoView,O=ka(),x=(Object(u.h)().uuid,Object(o.useContext)(g)),p=x.config,m=x.ndexLoginWrapper,S=Object(o.useState)(!1),C=Object(d.a)(S,2),N=C[0],k=C[1],E=Object(o.useState)(""),I=Object(d.a)(E,2),D=I[0],R=I[1],T=Object(o.useState)(""),A=Object(d.a)(T,2),L=A[0],P=A[1];Object(o.useEffect)((function(){if(void 0!==l){var e=l.nodeCount+l.edgeCount;if(l.cx2FileSize>p.maxDataSize||e>p.maxNumObjects)return k(!1),void b(!0);if(e<=p.warningThreshold)!l.hasLayout&&e>p.viewerThreshold?(R("No layout available for this network"),P("Do you want to visualize the network with random layout? Or click cancel to explore it without view"),k(!0)):b(!0);else k(!1),b(!0)}}),[l]);return h?Object(w.jsx)("div",{className:O.initPanel,children:Object(w.jsxs)("div",{className:O.message,children:[Object(w.jsx)(Na,{code:a,size:"12em"}),Object(w.jsx)(v.a,{className:O.errorMessage,variant:"h4",children:t}),Object(w.jsx)(v.a,{variant:"h5",className:O.subMessage,children:r}),a===ha.Unauthorized||a===ha.Forbidden?Object(w.jsx)(v.a,{variant:"h5",onClick:function(){m.click()},className:O.link,children:"Sign In"}):Object(w.jsx)("div",{}),Object(w.jsxs)(v.a,{variant:"body1",children:["(",n,")"]}),Object(w.jsx)("div",{className:O.bottomMessage,children:Object(w.jsx)(v.a,{variant:"caption",onClick:function(){return Ea("".concat(xa()))},className:O.link,children:"Return to top page"})})]})}):Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(Oa,{setProceed:b,setNoView:f,open:N,setOpen:function(){k(!1)},title:D,message:L}),Object(w.jsx)("div",{className:O.initPanel,children:Object(w.jsxs)("div",{className:O.message,children:[Object(w.jsx)(v.a,{variant:"h5",children:t}),s?Object(w.jsx)(y.a,{color:"secondary",disableShrink:!0,className:O.progressIcon}):Object(w.jsx)("div",{})]})})]})},Da="lgr",Ra="cyjs",Ta=Object(j.a)((function(e){return Object(h.a)({mainSplitRoot:{flexGrow:1,boxSizing:"border-box",zIndex:100,display:"flex",height:"100%",flexDirection:"column",position:"relative"},leftPanel:{display:"flex",flexDirection:"column"}})})),Aa=function(){return Math.floor(.35*window.innerWidth)},La={cxVersion:"1",count:Number.POSITIVE_INFINITY,renderer:Ra,name:"N/A"},Pa=function(){return window.innerWidth},za=function(){var e=Object(o.useState)(Pa()),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){function e(){r(Pa())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},Fa=function(){var e=Ta(),t=Object(o.useRef)(),n=Object(u.h)().uuid,r=Object(o.useContext)(g),a=r.uiState,i=r.ndexCredential,s=r.config,l=r.uiStateDispatch,b=s.maxNumObjects,j=s.viewerThreshold,h=Yn(n,s.ndexHttps,"v2",i),f=h.isLoading,x=(h.isError,h.isLoadingError,h.data),p=function(e,t){if(void 0===e)return La;var n=e.edgeCount+e.nodeCount,r="1",a=Ra;return n>t&&(r="2",a=Da),{cxVersion:r,count:n,renderer:a,name:e.name}}(x,j),m=Object(o.useState)(null),v=Object(d.a)(m,2),y=v[0],S=v[1],C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e6,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"1",c=Object(u.g)(),s=xe(c.search);return null!==s&&(r.accesskey=s),Object(he.useQuery)(["cx",e,t,n,r,a,i,o],(function(){return sa(e,t,n,r,a,i,o)}),{retry:!1})}(y,s.ndexHttps,"v2",i,b,p.count,p.cxVersion),N=C.data,k=Object(o.useState)(Aa()),E=Object(d.a)(k,2),I=E[0],D=E[1],R=Object(o.useState)(0),T=Object(d.a)(R,2),A=T[0],L=T[1],P=Object(o.useState)(!1),z=Object(d.a)(P,2),F=z[0],M=z[1],B=Object(o.useState)(0),q=Object(d.a)(B,2),H=q[0],W=q[1],_=Object(o.useState)(0),G=Object(d.a)(_,2),U=G[0],Q=G[1],Y=Object(o.useState)(!1),V=Object(d.a)(Y,2),X=V[0],J=V[1],K=Object(o.useState)(!1),$=Object(d.a)(K,2),Z=$[0],ee=$[1],te=za(),ne=Object(o.useState)(null),re=Object(d.a)(ne,2),ae=re[0],ie=re[1],oe=function(){var e,n=null!==(e=null===t||void 0===t?void 0:t.current)&&void 0!==e?e:{offsetHeight:0};n&&setTimeout((function(){n.offsetHeight!==A&&L(n.offsetHeight)}),100)};Object(o.useEffect)((function(){window.addEventListener("resize",oe);var e=function(){var e;try{e=document.createElement("canvas").getContext("webgl2")}catch(t){return console.warn("WebGL2 is not supported in your browser.",t),!1}return console.log(e),void 0!==e&&"undefined"!==typeof WebGL2RenderingContext||(console.warn("WebGL2 is not supported in your browser. Please turn on the feature or use different web browser."),!1)}();M(e)}),[]),Object(o.useLayoutEffect)((function(){oe()})),Object(o.useEffect)((function(){if(void 0!==x&&0!==Object.keys(x).length){var e=x.edgeCount+x.nodeCount,t=x.cx2FileSize;W(e),Q(t),e<s.maxNumObjects&&U<s.maxDataSize&&(F&&!Z||!F&&e<s.viewerThreshold)&&S(n)}}),[x]),Object(o.useEffect)((function(){!a.dataPanelOpen&&I>0?D(0):a.dataPanelOpen&&D(Aa())}),[a.dataPanelOpen]);var ce=function(e){return l({type:un,uiState:e})};Object(o.useEffect)((function(){var e;e=Object(O.a)(Object(O.a)({},a),{},{rightPanelWidth:I}),l({type:jn,uiState:e})}),[I]);var se=function(e){var t=te-e;t<=0?ce(Object(O.a)(Object(O.a)({},a),{},{dataPanelOpen:!1})):a.dataPanelOpen||ce(Object(O.a)(Object(O.a)({},a),{},{dataPanelOpen:!0})),D(t)},le={height:A},de=function(){return Object(w.jsxs)(c.a.Fragment,{children:[Object(w.jsx)(ja,{title:"".concat(p.name," (").concat(n,")")}),Object(w.jsx)("div",{ref:t,className:e.mainSplitRoot,children:Object(w.jsxs)(Cn.a,{split:"vertical",minSize:.2*te,size:te-I,onDragFinished:se,style:le,maxSize:0,children:[s.maxDataSize<U||s.maxNumObjects<H?Object(w.jsx)(kn,{noView:Z,cx:N,renderer:p.renderer,objectCount:H,cxDataSize:U,isWebGL2:F,setSubCx:ie}):void 0===N||C.isLoading?Object(w.jsx)(Ia,{message:"Loading network data from NDEx server...",showProgress:!0,setProceed:J}):Object(w.jsx)(kn,{noView:Z,cx:N,renderer:p.renderer,objectCount:H,cxDataSize:U,isWebGL2:F,setSubCx:ie}),a.dataPanelOpen?Object(w.jsx)(oa,{width:I,cx:a.mainNetworkNotDisplayed?ae:N,renderer:p.renderer,objectCount:H,cxDataSize:U}):Object(w.jsx)(ua,{})]})})]})};if(h.isError){var ue=function(e){var t=e.details,n={message:"Unknown error: ".concat(e.name),originalMessage:e.message};if(void 0===t)return n;var r=t.response;if(void 0===r)return{message:"Invalid Entry Found",optionalMessage:e.details.details.subMessage,originalMessage:e.message};var a=r,i=a.status,o=a.statusText,c=r.data,s=fa.get(i);return void 0!==s?{message:s[0],optionalMessage:s[1],originalMessage:"".concat(o,": ").concat(c.message),code:i}:n}(h.error);return Object(w.jsx)(Ia,{message:ue.message,subMessage:ue.originalMessage,optionalMessage:ue.optionalMessage,code:ue.code,error:!0,setProceed:J})}return void 0===x||f?Object(w.jsx)(Ia,{message:"Loading summary of the network...",showProgress:!0,setProceed:J}):C.isError?C.error.response&&C.error.response.data&&"CX2 network is not available for this network."!==C.error.response.data.message?Object(w.jsx)(Ia,{summary:x,message:"Missing visualization data. Unable to visualize this network.",error:!0,setProceed:J}):(console.log("CXResponse error data:",C.error.response.data),Object(w.jsx)(Ia,{summary:x,message:"".concat(C.error),error:!0,setProceed:J})):void 0===x||X||s.maxNumObjects<H||s.maxDataSize<U?de():Object(w.jsx)(Ia,{summary:x,message:"Checking status of network data...",setProceed:J,setNoView:ee})},Ma=n(261),Ba=n.n(Ma),qa=function(){var e=Object(u.h)().uuid,t=xa(),n="".concat(t,"/#/network/").concat(e);return Object(w.jsx)(an.a,{title:"View this network in Classic Mode",children:Object(w.jsx)(vn.a,{variant:"outlined",color:"default",size:"small",endIcon:Object(w.jsx)(Ba.a,{}),onClick:function(){window.open(n,"_self")},children:"Switch to Classic Mode"})})},Ha=n.p+"static/media/ndex-logo.f952f474.svg",Wa=Object(j.a)((function(e){return Object(h.a)({ndexLogo:{height:e.spacing(4.5),marginRight:e.spacing(1),padding:0,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}})})),_a=function(){var e=Wa(),t=xa();return Object(w.jsx)(an.a,{title:"NDEx home",placement:"bottom",children:Object(w.jsx)(et.a,{"aria-label":"NDEx Home",onClick:function(){window.open(t,"_self")},className:e.ndexLogo,children:Object(w.jsx)("img",{alt:"NDEx Logo",src:Ha,className:e.ndexLogo})})})},Ga=n(149),Ua=n.n(Ga),Qa=n(271),Ya=n(446),Va=Object(j.a)((function(e){return Object(h.a)({button:{height:e.spacing(5),padding:0,margin:0,marginRight:e.spacing(2),backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}})})),Xa=function(){var e=Va(),t=c.a.useState(null),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Boolean(r),o=i?"advanced-popover":void 0;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(an.a,{title:"Advanced menu",children:Object(w.jsx)(et.a,{className:e.button,"aria-describedby":o,onClick:function(e){a(e.currentTarget)},color:"inherit",disableFocusRipple:!0,disableTouchRipple:!0,children:Object(w.jsx)(Ua.a,{})})}),Object(w.jsxs)(Qa.a,{open:i,anchorEl:r,onClose:function(){a(null)},children:[Object(w.jsx)(Ya.a,{onClick:function(){window.open("https://home.ndexbio.org/about-ndex/"),a(null)},children:"About"}),Object(w.jsx)(Ya.a,{onClick:function(){window.open("https://home.ndexbio.org/quick-start/"),a(null)},children:"Docs"}),Object(w.jsx)(Ya.a,{onClick:function(){window.open("https://home.ndexbio.org/report-a-bug/"),a(null)},children:"Report bug"}),Object(w.jsx)(Ya.a,{onClick:function(){window.open("https://home.ndexbio.org/contact-us/"),a(null)},children:"Contact Us"}),Object(w.jsx)(Ya.a,{onClick:function(){window.open("https://home.ndexbio.org/faq/"),a(null)},children:"FAQ"})]})]})},Ja=Object(j.a)((function(e){return Object(h.a)({root:{position:"fixed",display:"flex",alignItems:"center",justifyContent:"flex-start",top:e.spacing(1),left:e.spacing(1),height:e.spacing(6.5),padding:e.spacing(1),backgroundColor:"rgba(255,255,255, 0.9)",zIndex:300,borderRadius:5}})})),Ka=function(e){var t=Ja(),n=Object(o.useRef)(null),r=Object(o.useContext)(g),a=r.summary,i=r.ndexCredential,c=r.setNdexCredential,s=r.setNdexLoginWrapper;Object(o.useEffect)((function(){s(n.current.lastChild)}),[]);var l=xa();return Object(w.jsx)("div",{className:t.root,children:Object(w.jsxs)(En.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:0,children:[Object(w.jsxs)(En.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(w.jsx)(_a,{}),Object(w.jsx)("div",{ref:n,children:Object(w.jsx)(f.e,{size:"medium",myAccountURL:l+"/#/myAccount",onLoginStateUpdated:function(e){if(e)if(e.isGoogle)c({loaded:!0,isLogin:!0,isGoogle:!0,oauth:e});else{var t=e.loginDetails;c({loaded:!0,isLogin:!0,isGoogle:!1,basic:{userId:t.id,password:t.password}})}else i.loaded&&i.isLogin&&(a&&"PRIVATE"!==a.visibility||(window.location.href=l)),c({loaded:!0,isLogin:!1,isGoogle:!1})}})}),Object(w.jsx)(Xa,{}),Object(w.jsx)(qa,{})]}),Object(w.jsx)(En.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"})]})})},$a=n(277),Za=n(276),ei=n(262),ti=n.n(ei),ni=n.p+"static/media/base_network.d8a7fc02.png",ri=n.p+"static/media/neighborhood_network.1fbd73ae.png",ai=n.p+"static/media/adjacent_network.f4e37580.png",ii=n.p+"static/media/direct_network.5bad2ad8.png",oi=n.p+"static/media/interconnect_network.21703162.png",ci=Object(j.a)({root:{padding:"2em"},message:{padding:"2em",display:"grid",placeItems:"center center"},dialogTitle:{"& h2":{display:"flex",flexDirection:"row"},cursor:"move"},iconButton:{padding:"0 !important",width:"2rem",height:"2rem"},title:{flexGrow:1},flexRowContainerOuter:{display:"flex",flexDirection:"row",flexWrap:"wrap",columnGap:"2em",justifyContent:"center"},flexRowContainerInner:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"40em",minHeight:"10em"},flexColumnContainer:{display:"flex",flexDirection:"column",rowGap:"1em"},flexRowItemOuter:{minWidth:"25em",flexGrow:1,flexBasis:"calc(50% - 1em)",maxWidth:"40em"},flexRowItemInner:{},flexColumnItem:{},image:{height:"10em",marginLeft:"1em"}}),si=function(e){ci();return Object(w.jsx)(ti.a,{cancel:'[class*="MuiDialogContent-root"]',children:Object(w.jsx)(Za.a,Object(O.a)({},e))})},li=function(e){var t=ci(),n=e.onClose,r=e.open,a=function(){n()};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(Ir.a,{className:t.root,onClose:a,"aria-labelledby":"search-help-dialog-title",open:r,PaperComponent:si,maxWidth:"md",children:[Object(w.jsxs)(Nr.a,{id:"search-help",className:t.dialogTitle,children:[Object(w.jsx)(v.a,{variant:"h6",className:t.title,children:"Network Query Modes"}),Object(w.jsx)(et.a,{"aria-haspopup":"true",onClick:a,className:t.iconButton,children:Object(w.jsx)(vt.a,{})})]}),Object(w.jsx)(kr.a,{dividers:!0,children:Object(w.jsx)(ga.a,{color:"textPrimary",children:Object(w.jsxs)("div",{className:t.flexRowContainerOuter,children:[Object(w.jsxs)("div",{className:[t.flexColumnContainer,t.flexRowItemOuter].join(" "),children:[Object(w.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsxs)(v.a,{variant:"body2",children:[Object(w.jsx)("br",{}),"This section explains briefly all the available types of query using the simple example network pictured to the right. In the examples below, the orange node(s) indicate the query terms while blue nodes and edges identify the retrieved subnetwork."]})}),Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsx)("img",{src:ni,className:t.image})})]}),Object(w.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(w.jsxs)("div",{className:t.flexRowItemInner,children:[Object(w.jsx)(v.a,{variant:"body2",children:Object(w.jsx)("strong",{children:"Neighborhood:"})}),Object(w.jsx)(v.a,{variant:"body2",children:'Returns all the nodes connected to the query term(s) and all edges between these nodes. For example, querying the network for "B" (orange node), will return the subnetwork highlighted in blue.'})]}),Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsx)("img",{src:ri,className:t.image})})]}),Object(w.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsxs)(v.a,{variant:"body2",children:[Object(w.jsx)(v.a,{variant:"body2",children:Object(w.jsx)("strong",{children:"Adjacent:"})}),'Returns all nodes connected to the query term(s) and only the edges between these nodes and the query term(s). In this case querying the network for "B" will return a smaller subnetwork.'," "]})}),Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsx)("img",{src:ai,className:t.image})})]})]}),Object(w.jsxs)("div",{className:[t.flexColumnContainer,t.flexRowItemOuter].join(" "),children:[Object(w.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsxs)(v.a,{variant:"body2",children:[Object(w.jsx)(v.a,{variant:"body2",children:Object(w.jsx)("strong",{children:"Direct: "})}),'Returns all edges between the query terms. This type of query requires at least 2 terms (or use of wildcards). Querying for "A" and "B" returns only the connection between them.']})}),Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsx)("img",{src:ii,className:t.image})})]}),Object(w.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsxs)(v.a,{variant:"body2",children:[Object(w.jsx)(v.a,{variant:"body2",children:Object(w.jsx)("strong",{children:"Interconnect:"})}),'Returns all edges connecting the query terms and including up to one intermediate node. Also for this type of query at least 2 terms (or use of wildcards) are required. In this case, querying for "A" and "B" returns the subnetwork highlighted in blue.'," "]})}),Object(w.jsx)("div",{className:t.flexRowItemInner,children:Object(w.jsx)("img",{src:oi,className:t.image})})]}),Object(w.jsx)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:Object(w.jsxs)("div",{className:t.flexRowItemInner,children:[Object(w.jsxs)(v.a,{variant:"body2",children:[Object(w.jsx)("strong",{children:"1-step"})," and ",Object(w.jsx)("strong",{children:"2-step"})," indicate the depth of the traversal query and only apply to Neighborhood and Adjacent queries."]}),Object(w.jsxs)(v.a,{variant:"body2",children:[Object(w.jsx)("br",{}),"For more info, please review the manual on"," ",Object(w.jsx)("a",{href:"https://home.ndexbio.org/finding-and-querying-networks/",target:"_blank",rel:"noreferrer",children:"Finding and Querying Networks in NDEx"}),"."]})]})})]})]})})}),Object(w.jsx)(Er.a,{children:Object(w.jsx)(vn.a,{onClick:a,children:"Close"})})]})})},di=function(){var e=Object(u.h)().uuid,t=Object(o.useContext)(g),n=t.query,r=t.queryMode,a=t.uiState,i=t.ndexCredential,s=t.config,l=t.summary,b=ke(e,n,s.ndexHttps,i,r,s.maxEdgeQuery),j=i.isLogin,h=b.data,O=void 0!==h&&h.edgeLimitExceeded,x=l?l.subnetworkNodeCount+l.subnetworkEdgeCount:0,p=void 0!==h&&x>0?h.cx:void 0,m=c.a.useState(void 0),v=Object(d.a)(m,2),y=v[0],S=v[1];if(a.showSearchResult){var C=!1;return void 0!==p&&!O&&j||(C=!0),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(f.h,{disabled:C,fetchCX:function(){return new Promise((function(e,t){e(p)}))},onSuccess:function(e){console.log(e),S("Network saved to NDEx.")},onFailure:function(e){S("Failed to Save network: "+e)},tooltip:"Save to NDEx"}),Object(w.jsx)(yn.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:void 0!==y,autoHideDuration:1500,onClose:function(){S(void 0)},message:y})]})}return Object(w.jsx)(f.h,{disabled:!0})},ui=n(447),bi=n(110),ji=n.n(bi),hi=new V.CyNetworkUtils,fi=function(e){return e.replace(/\t/g," ").replace(/\|/g," ")},gi=function(e){var t="No Name";return e&&(e.n?t=e.n:e.id&&(t=e.id)),t},Oi=function(e,t){if(!e)return null;var n,r=e.edges[t],a={id:t,s:r.s,t:r.t,i:r.i};if(e.edgeAttributes&&e.edgeAttributes[t]){var i=e.edgeAttributes[t];Object.keys(i).forEach((function(e){var t=i[e];if("selected"!=e)if(a[e]){for(;a[e+"_"+n];)n++;a[e+"_"+n]=t,n++}else a[e]=t}))}if(e.edgeCitations&&e.edgeCitations[t]){var o=[];e.edgeCitations[t].forEach((function(t){o.push(e.citations[t])})),o.length>0&&(a.citations=o)}return a},xi=function(e,t){if(!e)return null;var n=e.nodes[t],r={id:t,_cydefaultLabel:hi.getDefaultNodeLabel(e,n),n:n.n,r:n.r},a=1;if(e.nodeAttributes&&e.nodeAttributes[t]){var i=e.nodeAttributes[t];Object.keys(i).forEach((function(e){var t=i[e];if("selected"!=e)if(r[e]){for(;r[e+"_"+a];)a++;r[e+"_"+a]=t,a++}else r[e]=t}))}return r},pi=function(e){var t="";if("undefined"===typeof e||""===e||null==e)return t;if("string"===typeof e)return e;if("object"===typeof e&&e.v)if(Array.isArray(e.v)){for(var n=0;n<e.v.length;n++)e.v[n]=fi(e.v[n]);t=e.v.join("|")}else"string"===typeof e.v&&(t=e.v);return t},mi=function(e){return function(e){var t=e,n=t.edges,r=Object.keys(n),a={},i=t.edgeAttributes,o={"Source Node":0,Interaction:1,"Target Node":2,"Source ID":3,"Source Alias":4},c=o["Source Alias"],s=t.nodes,l=Object.keys(s),d=t.nodeAttributes;for(var u in l){var b=l[u];if(d){var j=d[b];for(var h in j){var f=j[h]?j[h]:"",g="Source "+(x=fi(f.n));x&&"alias"==x.toLowerCase()&&(g in o||(delete o["Source Alias"],o[g]=c)),g in o||(o[g]=Object.keys(o).length)}}}o["Target ID"]=Object.keys(o).length,o["Target Alias"]=Object.keys(o).length;var O=o["Target Alias"];for(var u in l)if(b=l[u],d)for(var h in j=d[b]){f=j[h]?j[h]:"";var x,p="Target "+(x=fi(f.n));x&&"alias"==x.toLowerCase()&&(p in o||(delete o["Target Alias"],o[p]=O)),p in o||(o[p]=Object.keys(o).length)}o.Citation=Object.keys(o).length;for(var m=o.Citation,v=0;v<r.length;v++){var y=r[v];if(i)for(var u in i[y]){var w=fi(u);w&&"citation"==w.toLowerCase()&&(w in o||(delete o.Citation,o[w]=m)),w in o||(o[w]=Object.keys(o).length)}}o["cx edge id"]=Object.keys(o).length,o["cx source node id"]=Object.keys(o).length,o["cx target node id"]=Object.keys(o).length;var S=Object.keys(o);S.sort((function(e,t){return o[e]-o[t]}));for(var C=S.join("\t")+"\n",N=(a={},{n:0,r:0,id:0,_cydefaultLabel:0}),k={id:0,s:0,t:0,i:0},E=0;E<r.length;E++){for(u in o)a[u]="";y=r[E];var I=Oi(t,y);a["cx edge id"]=I&&I.id?I.id:"",a["cx source node id"]=I&&(I.s||0==I.s)?I.s:"",a.Interaction=I&&I.i?I.i:"",a["cx target node id"]=I&&(I.t||0==I.t)?I.t:"";var D=xi(t,I.s),R=xi(t,I.t);for(var T in a["Source Node"]=gi(D),a["Source ID"]=D&&D.r?D.r:"",a["Target Node"]=gi(R),a["Target ID"]=R&&R.r?R.r:"",D){var A=fi(T);A in N||(a["Source "+A]=pi(D[T]))}for(T in R){var L=fi(T);L in N||(a["Target "+L]=pi(R[T]))}for(var P in I){var z=fi(P);z in k||(a[z]=pi(I[P]))}var F="";for(u in S)F=F+a[S[u]]+"\t";C+=F=F.slice(0,-1)+"\n"}return C}(hi.rawCXtoNiceCX(e))},vi=function(e){var t=e.cx,n=e.fileName,r=e.setOpen,a=!0;void 0!==t&&(a=!1);return Object(w.jsxs)(Ya.a,{onClick:function(){r(!1),function(e,t,n){var r=document.createElement("a"),a=new Blob([e],{type:n});r.href=URL.createObjectURL(a),r.download=t,r.click()}(mi(t),n,"application/json")},disabled:a,children:[Object(w.jsx)(ui.a,{children:Object(w.jsx)(ji.a,{fontSize:"small"})}),Object(w.jsx)(v.a,{variant:"inherit",children:"Export TSV"})]})},yi=function(e){var t=e.setOpen,n=Object(u.h)().uuid,r=Object(o.useContext)(g),a=r.query,i=r.queryMode,c=r.ndexCredential,s=r.config,l=r.summary,d=ke(n,a,s.ndexHttps,c,i,s.maxEdgeQuery),b=d.status,j=d.data,h=void 0!==j&&j.edgeLimitExceeded,f=l?l.subnetworkNodeCount+l.subnetworkEdgeCount:0,O=void 0!==j?j.cx:void 0,x=n?n+" subnet.tsv":"subnet.tsv";return Object(w.jsx)(vi,{cx:b&&"success"===b&&!h&&f>0?O:void 0,fileName:x,setOpen:t})},wi=Object(j.a)((function(e){return Object(h.a)({typography:{}})})),Si=function(){wi();var e=c.a.useState(null),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(Boolean(n)),i=Object(d.a)(a,2),s=i[0],l=i[1],u=s?"advanced-menu":void 0;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(an.a,{title:"Search query advanced menu",children:Object(w.jsx)(et.a,{"aria-describedby":u,onClick:function(e){r(e.currentTarget),l(!0)},color:"inherit",children:Object(w.jsx)(Ua.a,{})})}),Object(w.jsx)(Qa.a,{id:u,open:s,anchorEl:n,onClose:function(){r(null),l(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:Object(w.jsx)(yi,{setOpen:l})})]})},Ci=Object(j.a)((function(e){return Object(h.a)({root:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.grey[100],marginRight:e.spacing(1),marginLeft:e.spacing(1),padding:0,paddingRight:e.spacing(1)},search:{maxWidth:"60vh",display:"flex",alignItems:"center",justifyContent:"flex-start"},inputRoot:{width:"100%",color:"inherit"},inputInput:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),transition:e.transitions.create("width"),width:"100%"},formControl:{minWidth:"15em"},selectEmpty:{marginTop:e.spacing(0)},searchType:{maxWidth:"12ch",padding:0},button:{padding:0}})})),Ni={direct:"Direct",firstStepNeighborhood:"1-Step Neighborhood",firstStepAdjacent:"1-step adjacent",interconnect:"Interconnect",twoStepNeighborhood:"2-step neighborhood",twoStepAdjacent:"2-step adjacent"},ki=function(){var e,t=Ci(),n=Object(o.useState)(!1),r=Object(d.a)(n,2),a=r[0],i=r[1],c=Object(o.useState)(!0),s=Object(d.a)(c,2),l=s[0],b=s[1],j=Object(o.useState)(""),h=Object(d.a)(j,2),x=h[0],p=h[1],m=Object(u.h)().uuid,v=Object(o.useContext)(g),y=v.cyReference,S=v.query,C=v.setQuery,N=v.queryMode,k=v.setQueryMode,E=v.uiStateDispatch,I=v.uiState,D=v.selectionState,R=v.selectionStateDispatch,T=v.ndexCredential,A=v.config,L=v.summary,P=Object(o.useState)(N),z=Object(d.a)(P,2),F=z[0],M=z[1],B=ke(m,S,A.ndexHttps,T,N,A.maxEdgeQuery).data;void 0!==B&&(e=B.cx);var q=void 0!==B&&B.edgeLimitExceeded,H={data:(L?L.subnetworkNodeCount+L.subnetworkEdgeCount:0)>0?e:void 0,tooltip:"Download query result as CX",fileName:"".concat(m," subnet.cx")},W=function(e){return E({type:bn,uiState:e})},_=function(e){R({type:Re,selectionState:e}),R({type:De,selectionState:e})},G=function(){C(x),W(Object(O.a)(Object(O.a)({},I),{},{showSearchResult:!0})),_(Object(O.a)({},D)),setTimeout((function(){dn(y)}),300)};return Object(w.jsxs)("div",{className:t.root,children:[Object(w.jsx)("div",{className:t.search,children:Object(w.jsx)($a.a,{autoFocus:!0,placeholder:"Enter query terms",value:x,classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var t=e.target.value;void 0!==t&&0!==t.length?b(!1):b(!0),p(t)},onKeyPress:function(e){0!==x.length&&("Enter"===e.key&&G())}})}),Object(w.jsx)(an.a,{title:"Learn more",children:Object(w.jsx)(et.a,{color:"inherit",disableFocusRipple:!0,onClick:function(){i(!0)},children:Object(w.jsx)(Yr.a,{})})}),Object(w.jsx)(nr.a,{variant:"standard",className:t.formControl,children:Object(w.jsx)(ar.a,{native:!0,value:F,onChange:function(e){var t=e.target.value;M(t),k(t)},label:"Search Type",inputProps:{name:"search type",id:"search-type"},children:Object.keys(Ni).map((function(e){return Object(w.jsx)("option",{value:e,children:Ni[e]},e)}))})}),Object(w.jsx)(et.a,{color:"inherit",disableFocusRipple:!0,disabled:l,onClick:G,children:Object(w.jsx)(pr.a,{})}),!q&&Object(w.jsx)(f.b,Object(O.a)({},H)),!q&&Object(w.jsx)(di,{}),Object(w.jsx)(Si,{}),Object(w.jsx)(et.a,{color:"inherit",disableFocusRipple:!0,className:t.button,disabled:l,onClick:function(){p(""),C(""),b(!0),W(Object(O.a)(Object(O.a)({},I),{},{showSearchResult:!1})),_(Object(O.a)({},D)),setTimeout((function(){dn(y)}),300)},children:Object(w.jsx)(vt.a,{})}),Object(w.jsx)(li,{onClose:function(){i(!1)},open:a})]})},Ei=n(264),Ii=n.n(Ei),Di=n(263),Ri=n.n(Di),Ti="ADMIN",Ai="WRITE",Li=function(){var e=Object(o.useContext)(g),t=e.summary,n=e.ndexCredential,r=e.config,a=Object(u.h)().uuid,i=n.isLogin,c=Object(o.useState)(!1),s=Object(d.a)(c,2),l=s[0],b=s[1],j=Yn(a,r.ndexHttps,"v2",n).data,h=!1,f=!1;void 0!==j&&null!==j&&(void 0!==t.doi&&(h=!0),f=j.isReadOnly);var O=Tr(a,r.ndexHttps,"v2",n);Object(o.useEffect)((function(){if(void 0!==O&&null!==O){var e=O.data;e!==Ti&&e!==Ai||b(!0)}}),[O]);var x=!1;i&&void 0!==t&&(x=!0);var p="This feature is only available to signed-in users",m=!0;return l&&x?h?p="Network properties cannot be modified once a DOI has been requested or assigned":f?(p="This network is read-only",m=!0):(p="Edit network properties",m=!1):!l&&x&&(p="You don't have permission to edit this network"),Object(w.jsx)(an.a,{title:p,arrow:!0,placement:"top-start",children:Object(w.jsx)("div",{children:Object(w.jsx)(et.a,{disabled:m,color:"inherit",href:xa()+"/#/properties/network/"+t.externalId+"/null?returnto=nnv",children:f||m?Object(w.jsx)(Ri.a,{}):Object(w.jsx)(Ii.a,{})})})})},Pi=n(267),zi=n.n(Pi),Fi=n(265),Mi=n.n(Fi),Bi=function(e){var t=e.uuid,n=void 0===t?"":t,r=e.disabled,a=void 0!==r&&r;return Object(w.jsxs)(Ya.a,{disabled:a,component:"a",href:xa()+"/#/access/network/"+n+"?returnto=nnv",children:[Object(w.jsx)(ui.a,{children:Object(w.jsx)(Mi.a,{fontSize:"small"})}),Object(w.jsx)(v.a,{variant:"inherit",children:"Share"})]})},qi=n(266),Hi=n.n(qi),Wi=function(e){var t=e.uuid,n=void 0===t?"":t,r=e.disabled,a=void 0!==r&&r;return Object(w.jsxs)(Ya.a,{disabled:a,component:"a",href:xa()+"/#/properties/network/"+n+"/null?doi=true&returnto=nnv",children:[Object(w.jsx)(ui.a,{children:Object(w.jsx)(Hi.a,{fontSize:"small"})}),Object(w.jsx)(v.a,{variant:"inherit",children:"Request DOI"})]})},_i=function(){var e=Object(r.a)(i.a.mark((function e(t,n,r){var a,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==r&&r.loaded&&r.isLogin){e.next=2;break}return e.abrupt("return",void 0);case 2:return a="".concat(t,"/").concat(n),o=void 0,e.prev=4,c=Oe(a,r),e.next=8,c.getSignedInUser();case 8:o=e.sent,e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),new ie(e.t0.message,e.t0);case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r){return e.apply(this,arguments)}}();var Gi="This feature is only available to signed-in users",Ui=function(){var e=Object(u.h)().uuid,t=Object(o.useContext)(g),n=t.summary,r=t.config,a=t.ndexCredential,i=Object(o.useState)(!1),c=Object(d.a)(i,2),s=c[0],l=c[1],b=Object(o.useState)(!1),j=Object(d.a)(b,2),h=j[0],f=j[1],O=Tr(e,r.ndexHttps,"v2",a),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"v2",n=arguments.length>2?arguments[2]:void 0;return Object(he.useQuery)(["currentUser",e,t,n],(function(){return _i(e,t,n)}),{retry:!1})}(r.ndexHttps,"v2",a);Object(o.useEffect)((function(){if(void 0!==n&&null!==n&&void 0!==x&&void 0!==x.data){var e=n.owner;if(void 0!==e)e===x.data.userName&&f(!0)}}),[n,x]),Object(o.useEffect)((function(){void 0!==O&&null!==O&&O.data===Ti&&l(!0)}),[O]);var p=!a.isLogin,m=Object(o.useState)(null),v=Object(d.a)(m,2),y=v[0],S=v[1],C=Boolean(y),N=C?"advanced-menu":void 0,k=!1;void 0!==n&&null!==n&&(void 0!==n.doi&&(k=!0));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(an.a,{title:"Share...",children:Object(w.jsx)(et.a,{"aria-label":"share","aria-describedby":N,onClick:function(e){S(e.currentTarget)},color:"inherit",children:Object(w.jsx)(zi.a,{})})}),Object(w.jsxs)(Qa.a,{id:N,open:C,anchorEl:y,onClose:function(){S(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(w.jsx)(an.a,{title:p?Gi:h?"Share this network internally or externally":"You are not the owner of this network",arrow:!0,placement:"left-end",children:Object(w.jsx)("div",{children:Object(w.jsx)(Bi,{uuid:e,disabled:p||!h})})}),Object(w.jsx)(an.a,{title:p||k||!s?function(e,t,n){return e&&!s?"You don't have permission to request DOI.":e&&n&&t?"A DOI has already been requested for this network":Gi}(a.isLogin,k,s):"Request a Digital Object Identifier for this network",arrow:!0,placement:"left-end",children:Object(w.jsx)("div",{children:Object(w.jsx)(Wi,{uuid:e,disabled:p||k||!s})})})]})]})},Qi=function(){var e=Object(u.h)().uuid,t=Object(o.useContext)(g),n=t.ndexCredential,r=t.config,a=t.summary,i=function(){var t,a=document.createElement("a"),i="";n.isLogin&&(i=n.isGoogle?"&id_token="+n.oauth.loginDetails.tokenId:"&auth_token="+btoa(n.basic.userId+":"+n.basic.password)),a.href="".concat((t=r.ndexUrl,window.location.protocol+"//"+t),"/v2/network/").concat(e,"?download=true").concat(i),a.click()};return Object(w.jsx)(an.a,{title:"Download this network in CX format",children:Object(w.jsx)(et.a,{disabled:!a,onClick:function(){i()},color:"inherit",children:Object(w.jsx)(ji.a,{})})})},Yi=function(e){var t=e.open,n=e.setOpen,r=xa(),a="".concat(r,"/#/myAccount"),i=Object(o.useContext)(g),c=i.ndexCredential,s=i.config,l=Object(u.h)().uuid,b=Object(o.useState)(!1),j=Object(d.a)(b,2),h=j[0],f=j[1],O=function(){n(!1)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Ir.a,{open:t,onClose:O,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(w.jsx)(Nr.a,{id:"alert-dialog-title",children:"Delete this network"}),Object(w.jsx)(kr.a,{children:Object(w.jsx)(ga.a,{id:"alert-dialog-description",children:"This network will be permanently deleted from NDEx. Are you sure you want to proceed?"})}),Object(w.jsxs)(Er.a,{children:[Object(w.jsx)(vn.a,{onClick:O,color:"default",autoFocus:!0,children:"Cancel"}),Object(w.jsx)(vn.a,{onClick:function(){Oe("".concat(s.ndexHttps,"/v2"),c).deleteNetwork(l).then((function(e){console.log(e),f(!0)})).catch((function(e){throw console.log(e),new Error(e)})),n(!1)},color:"secondary",children:"Confirm"})]})]}),Object(w.jsx)(yn.a,{open:h,autoHideDuration:1e3,message:"The network successfully deleted. Redirecting to your account page...",onClose:function(){f(!1),setTimeout((function(){window.open(a,"_self")}),1100)}})]})},Vi=function(){var e=Object(o.useContext)(g),t=e.summary,n=e.ndexCredential,r=e.config,a=Object(u.h)().uuid,i=n.isLogin,c=Object(o.useState)(!1),s=Object(d.a)(c,2),l=s[0],b=s[1],j=Tr(a,r.ndexHttps,"v2",n),h=!1;void 0!==j&&null!==j&&"ADMIN"===j.data&&(h=!0);var f=!1;i&&void 0!==t&&(f=!0);var O="Delete function is only available to signed-in users",x=!0;h&&f?(O="Delete this network",x=!1):!h&&f&&(O="You don't have permission to delete this network");return Object(w.jsx)(an.a,{title:O,arrow:!0,placement:"top-start",children:Object(w.jsxs)("div",{children:[Object(w.jsx)(et.a,{color:"inherit",disabled:x,onClick:function(e){b(!0)},children:Object(w.jsx)(Cr.a,{})}),Object(w.jsx)(Yi,{open:l,setOpen:b})]})})},Xi=Object(j.a)((function(e){return Object(h.a)({toolBar:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%",backgroundColor:"#FFFFFF",boxSizing:"border-box",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},grow:{flexGrow:1}})})),Ji=function(){var e=Xi();return Object(w.jsxs)("div",{className:e.toolBar,children:[Object(w.jsx)(ki,{}),Object(w.jsx)("div",{className:e.grow}),Object(w.jsx)(Zr,{}),Object(w.jsx)(Qi,{}),Object(w.jsx)(Li,{}),Object(w.jsx)(Ui,{}),Object(w.jsx)(Vi,{})]})},Ki=Object(j.a)((function(e){return Object(h.a)({root:{width:"100%",height:"100%",padding:0,margin:0,display:"flex",flexDirection:"column",boxSizing:"border-box"},main:{flexGrow:1,background:"#EEEEEE",display:"flex",flexDirection:"column",boxSizing:"border-box",width:"100%",height:"100%"},footer:{boxSizing:"border-box",zIndex:500,padding:0,margin:0,borderTop:"1px solid rgba(230,230,230,0.7)",width:"100%",height:"4em"}})})),$i=function(){var e=Ki();return Object(w.jsxs)("div",{className:e.root,children:[Object(w.jsx)("header",{children:Object(w.jsx)(Ka,{})}),Object(w.jsx)("main",{className:e.main,children:Object(w.jsx)(Fa,{})}),Object(w.jsx)("footer",{className:e.footer,children:Object(w.jsx)(Ji,{})})]})},Zi=Object(j.a)((function(e){return Object(h.a)({appShell:{width:"100%",height:"100%",padding:0,margin:0,boxSizing:"border-box"},sandbox:{position:"absolute",left:"-999em"}})})),eo=function(){var e=Zi(),t=Object(o.useContext)(g).config,n=t.ndexHttps,r=t.googleClientId;return Object(w.jsxs)("div",{className:e.appShell,children:[Object(w.jsx)(f.d,{ndexServerURL:n,googleClientId:r,children:Object(w.jsx)($i,{})}),Object(w.jsx)("div",{id:"sandbox"})]})},to=Object(j.a)((function(e){return Object(h.a)({accountShell:{width:"100%",height:"100vh",padding:0,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",boxSizing:"border-box"}})})),no=function(e){var t=to(),n=Object(o.useContext)(g).config,r=n.ndexHttps,a=n.googleClientId;return Object(w.jsx)("div",{className:t.accountShell,children:void 0!==a?Object(w.jsx)(f.d,{ndexServerURL:r,googleClientId:a,children:e.children}):e.children})},ro=Object(j.a)((function(e){return Object(h.a)({root:{width:"40em",padding:0,margin:0,display:"flex",flexDirection:"column",boxSizing:"border-box"},ndexLogo:{height:"3em","vertical-align":"middle"},titleText:{"vertical-align":"middle","padding-left":"1em","line-height":"2em"},homeButton:{color:"white","background-color":"#337ab7",textTransform:"none"},footer:{"text-align":"center"}})})),ao=function(){var e=ro();Object(o.useEffect)((function(){document.title="Sign Up for NDEx"}),[]);var t=xa(),n=Object(o.useState)(!1),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(w.jsxs)(En.a,{container:!0,className:e.root,children:[Object(w.jsxs)(En.a,{container:!0,alignItems:"center",justify:"center",children:[Object(w.jsx)(En.a,{item:!0,children:Object(w.jsx)("img",{alt:"NDEx Logo",src:Ha,className:e.ndexLogo})}),Object(w.jsx)(En.a,{item:!0,children:Object(w.jsx)(v.a,{variant:"h6",display:"inline",className:e.titleText,children:"Sign Up for NDEx"})})]}),Object(w.jsx)(f.f,{handleNDExSignOn:f.i,onSuccessLogin:function(){window.open(t+"/#/myAccount","_self")},onWaitForEmailValidation:function(e,t){i(!0)}}),a&&Object(w.jsx)("div",{className:e.footer,children:Object(w.jsx)(vn.a,{onClick:function(){window.open(t,"_self")},className:e.homeButton,children:"Go to NDEx Home Page"})})]})},io=Object(j.a)((function(e){return Object(h.a)({root:{maxWidth:"32em",margin:0,padding:0},ndexLogo:{height:"3em","vertical-align":"middle"},titleText:{"vertical-align":"middle"},homeButton:{color:"white","background-color":"#337ab7",textTransform:"none"},footer:{marginTop:"5em"},row:{marginBottom:"1em"}})})),oo=function(){var e=io(),t=Object(o.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=xa();Object(o.useEffect)((function(){document.title="Recover NDEx Password"}),[]);return Object(w.jsxs)(En.a,{container:!0,className:e.root,spacing:5,children:[Object(w.jsxs)(En.a,{className:e.row,container:!0,justify:"center",alignItems:"center",xs:12,spacing:2,children:[Object(w.jsx)(En.a,{item:!0,children:Object(w.jsx)("img",{alt:"NDEx Logo",src:Ha,className:e.ndexLogo})}),Object(w.jsx)(En.a,{item:!0,children:Object(w.jsx)(v.a,{variant:"h6",display:"inline",className:e.titleText,children:"Recover NDEx Password"})})]}),Object(w.jsxs)(En.a,{className:e.row,container:!0,justify:"center",alignItems:"center",xs:12,children:[Object(w.jsx)(f.c,{onSuccessReset:function(e){a(!0)}}),r&&Object(w.jsx)("div",{className:e.footer,children:Object(w.jsx)(vn.a,{fullWidth:!0,onClick:function(){window.open(i,"_self")},className:e.homeButton,children:"Go to NDEx Home Page to Sing In"})})]})]})},co=Object(j.a)((function(e){return Object(h.a)({root:{display:"grid",width:"100%",height:"100%",placeItems:"center"},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},message:{padding:"1em"},ndexLogo:{height:"20vh",padding:"1em","&:hover":{cursor:"pointer",color:e.palette.secondary.main}},link:{"&:hover":{fontWeight:700,cursor:"pointer",color:e.palette.secondary.main}}})})),so=function(e){e.config;var t=co(),n=xa(),r=function(){window.open(n,"_self")};return Object(w.jsx)("div",{className:t.root,children:Object(w.jsxs)("div",{className:t.item,children:[Object(w.jsx)("img",{alt:"NDEx Logo",src:Ha,className:t.ndexLogo,onClick:r}),Object(w.jsx)(v.a,{className:t.message,variant:"h4",children:"Please specify UUID of the network"}),Object(w.jsx)(v.a,{className:t.link,onClick:r,variant:"body1",children:"Back to NDEx Home"})]})})},lo={loaded:!1,isLogin:!1,isGoogle:!1},uo={name:"N/A"},bo=function(e){var t=e.config,n=Object(u.f)(gn),r=Object(o.useState)(""),a=Object(d.a)(r,2),i=a[0],c=a[1],s=Object(o.useState)("firstStepNeighborhood"),l=Object(d.a)(s,2),j=l[0],h=l[1],f=Object(o.useState)(uo),O=Object(d.a)(f,2),x=O[0],p=O[1],m=Object(o.useState)(null),v=Object(d.a)(m,2),y=v[0],S=v[1];void 0===t.googleClientId&&(lo.loaded=!0);var C=Object(o.useState)(lo),N=Object(d.a)(C,2),k=N[0],E=N[1],I=Object(o.useReducer)(Pe,Ie),D=Object(d.a)(I,2),R=D[0],T=D[1],A=Object(o.useReducer)(Be,Me),L=Object(d.a)(A,2),P=L[0],z=L[1],F=Object(o.useReducer)(On,gn),M=Object(d.a)(F,2),B=M[0],q=M[1],H=Object(o.useState)(null),W=Object(d.a)(H,2),_={config:t,cyReference:P,cyDispatch:z,lgrReference:y,setLgrReference:S,uiState:B,uiStateDispatch:q,query:i,setQuery:c,queryMode:j,setQueryMode:h,ndexCredential:k,setNdexCredential:E,summary:x,setSummary:p,selectionState:R,selectionStateDispatch:T,ndexLoginWrapper:W[0],setNdexLoginWrapper:W[1]};return Object(w.jsx)(b.a,{basename:"/viewer",history:n,children:Object(w.jsxs)(u.c,{children:[Object(w.jsx)(u.a,{path:"/networks/:uuid",children:Object(w.jsx)(g.Provider,{value:_,children:Object(w.jsx)(eo,{})})}),Object(w.jsx)(u.a,{path:"/signup",children:Object(w.jsx)(g.Provider,{value:_,children:Object(w.jsx)(no,{children:Object(w.jsx)(ao,{})})})}),Object(w.jsx)(u.a,{path:"/recoverPassword",children:Object(w.jsx)(g.Provider,{value:_,children:Object(w.jsx)(no,{children:Object(w.jsx)(oo,{})})})}),Object(w.jsx)(u.a,{path:"/",children:Object(w.jsx)(so,{config:t})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jo=n(449),ho=n(448),fo=n(269),go=n.n(fo),Oo=n(268),xo=n.n(Oo),po=n(270),mo=Object(po.a)({palette:{primary:{main:"#FFFFFF"},secondary:{main:xo.a[800]},error:{main:go.a.A200},background:{default:"#EFEFEF"}}}),vo=function(e){Object(ne.a)(n,e);var t=Object(re.a)(n);function n(){var e;Object(ee.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1,error:null},e}return Object(Z.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({hasError:!0,error:e})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error,r="";return null!==n&&void 0!==n.message&&(r=n.message),t?Object(w.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(w.jsxs)("div",{style:{textAlign:"center"},children:[Object(w.jsxs)(v.a,{variant:"h4",style:{margin:"1rem"},children:["Sorry, there was an error loading this page."," "]}),Object(w.jsxs)(v.a,{variant:"h6",children:["(",r,")"]}),Object(w.jsx)(v.a,{onClick:function(){window.location.reload()},color:"secondary",variant:"h5",style:{cursor:"pointer",margin:"1rem"},children:"Click here to reload the page."}),Object(w.jsx)(v.a,{color:"secondary",onClick:function(){window.open("https://home.ndexbio.org/report-a-bug/","_blank")},variant:"h5",style:{cursor:"pointer",margin:"1rem"},children:"Click here to report a bug."})]})}):this.props.children}}]),n}(o.Component),yo="root",wo=window.location;"localhost"!==wo.hostname&&"https:"!==wo.protocol&&wo.replace("https:".concat(wo.href.substring(wo.protocol.length)));var So=wo.href,Co=So.split("//")[0],No=So.replace("".concat(Co,"//"),""),ko=No.replace(/\/\/+/g,"/");ko!==No&&wo.replace("".concat(Co,"//").concat(ko));var Eo=new he.QueryCache,Io=new he.QueryClient({queryCache:Eo,defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function Do(){return(Do=Object(r.a)(i.a.mark((function e(){var t,n,r,a,o,s,d,u,b,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/viewer","/resource.json"));case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error("Failed to load resource file.  Could not find NDEx server location");case 5:return e.next=7,t.json();case 7:n=e.sent,console.info("Resource file loaded",n),r=n.ndexUrl,a=n.googleClientId,o=n.viewerThreshold,s=n.maxNumObjects,d=n.maxEdgeQuery,u=n.maxDataSize,b=n.warningThreshold,j={ndexUrl:r,ndexHttps:"localhost"===r?"http://".concat(r):"https://".concat(r),googleClientId:a,viewerThreshold:o,maxNumObjects:s,maxDataSize:u,maxEdgeQuery:d,warningThreshold:b},l.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsxs)(ho.a,{theme:mo,children:[Object(w.jsx)(jo.a,{}),Object(w.jsx)(he.QueryClientProvider,{client:Io,children:Object(w.jsx)(vo,{children:Object(w.jsx)(bo,{config:j})})})]})}),document.getElementById(yo));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Do.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[383,1,2]]]);
//# sourceMappingURL=main.698224d5.chunk.js.map