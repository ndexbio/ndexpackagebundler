/*! For license information please see main.9e578d71.chunk.js.LICENSE.txt */
(this["webpackJsonpnetwork-viewer"]=this["webpackJsonpnetwork-viewer"]||[]).push([[0],{266:function(e,t){},319:function(e,t,n){var r;"undefined"!==typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";e.exports=Object.freeze({CX_VERSION:"CXVersion",NODE:"node",EDGE:"edge",NETWORK:"network",NODES:"nodes",EDGES:"edges",ID:"id",X:"x",Y:"y",Z:"z",V:"v",AT:"at",N:"n",E:"e",VISUAL_PROPERTIES:"visualProperties",DEFAULT:"default",STYLE:"style",PO:"po"})},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){var t=e.split(".").map((function(e){return parseInt(e,10)}));if(2!==t.length&&3!=t.length)throw"Incompatible version format: "+e;return t.forEach((function(t){if(isNaN(t))throw"Non-integer value in version string: "+e})),t}function a(e,t){Object.keys(t).forEach((function(n){var r=t[n];r.d&&e.set(n,r.d)}))}function i(e,t){Object.keys(t).forEach((function(n){var r=t[n];r.a&&e.set(r.a,n)}))}function c(e,t){Object.keys(t).forEach((function(n){var r=t[n];r.v&&e.set(n,r.v)}))}e.exports={getCxVersion:o,getCxMajorVersion:function(e){return e?o(e)[0]:1},processAttributeDeclarations:function(e,t,n,r,o,s,l){e.forEach((function(e){e.nodes&&(i(t,e.nodes),a(n,e.nodes),c(r,e.nodes)),e.edges&&(i(o,e.edges),a(s,e.edges),c(l,e.edges))}))},updateAttributeTypeMap:a,updateAttributeNameMap:i,updateAttributeDefaultValueMap:c,updateInferredTypes:function(e,t,n){n&&Object.keys(n).forEach((function(o){if(!e.has(o)){var a=n[o],i="undefined"===typeof a?"undefined":r(a),c=t.has(o)?t.get(o):o;e.set(c,i)}}))},getExpandedAttributes:function(e,t,n){var r={};return e&&Object.keys(e).forEach((function(n){var o=t.has(n)?t.get(n):n;r[o]=e[n]})),n.forEach((function(e,t){r[t]||(r[t]=e)})),r}}},function(e,t,n){"use strict";var r=n(3);e.exports.convert=function(e,t){return r.convert(e,t)}},function(e,t,n){"use strict";var r=n(0),o=n(4),a=n(6),i=n(1);function c(e){var t=e[0][r.CX_VERSION];if(2!==i.getCxMajorVersion(t))throw"Incompatible CX version: "+t}var s=[o,a];function l(e,t){var n=void 0;if(t.forEach((function(t){if(t.converter.targetFormat==e){if("undefined"!=typeof n)throw"converters contain multiple entries for target format: "+e;n=t}})),"undefined"==typeof n)throw"no converter available for target format: "+e;return n}function u(e,t){return l(e,t).converter.emptyNetwork}e.exports={convert:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;if(0==e.length)return u(t,n);c(e);var r=l(t,n);return r.converter.convert(e)}}},function(e,t,n){"use strict";var r=n(0),o=n(5),a=n(1);function i(e,t){var n={};return n[e]=t,n}function c(e){if(void 0===e)return e;var t=0,n=0,r=0;return 4==e.length?(t="0x"+e[1]+e[1],n="0x"+e[2]+e[2],r="0x"+e[3]+e[3]):7==e.length&&(t="0x"+e[1]+e[2],n="0x"+e[3]+e[4],r="0x"+e[5]+e[6]),[parseInt(t),parseInt(n),parseInt(r)]}function s(e){return j(Math.round(255*e),0,255)}var l={node:{NODE_WIDTH:function(e){return i(o.preprocessNodeWidth,e)},NODE_HEIGHT:function(e){return i(o.preprocessNodeHeight,e)},NODE_BACKGROUND_COLOR:function(e){return i(o.preprocessColor,c(e))},NODE_BACKGROUND_OPACITY:function(e){return i(o.preprocessAlpha,s(e))},NODE_LABEL:function(e){return i(o.label,e)},NODE_LABEL_COLOR:function(e){return i(o.preprocessLabelColor,c(e))},NODE_LABEL_OPACITY:function(e){return i(o.preprocessLabelAlpha,s(e))},NODE_LABEL_FONT_SIZE:function(e){return i(o.labelFontSize,e)}},edge:{EDGE_WIDTH:function(e){return i(o.width,e)},EDGE_OPACITY:function(e){return i(o.preprocessAlpha,s(e))},EDGE_LINE_COLOR:function(e){return i(o.preprocessColor,c(e))},EDGE_LABEL:function(e){return i(o.label,e)},EDGE_LABEL_COLOR:function(e){return i(o.preprocessLabelColor,c(e))},EDGE_LABEL_OPACITY:function(e){return i(o.preprocessLabelAlpha,s(e))},EDGE_LABEL_FONT_SIZE:function(e){return i(o.labelFontSize,e)}}};function u(e){var t={node:{},edge:{}};if(e.node){var n=d("node",e.node);Object.assign(t.node,n)}if(e.edge){var r=d("edge",e.edge);Object.assign(t.edge,r)}return t}function d(e,t){var n={};return Object.keys(t).forEach((function(r){var o=t[r];if(l[e][r]){var a=l[e][r](o);Object.keys(a).forEach((function(e){n[e]=a[e]}))}})),n}function f(e,t){return void 0!=e?void 0!=t?[e[0],e[1],e[2],t]:[e[0],e[1],e[2]]:void 0}function h(e,t){return Math.max(e,t)}function p(e){var t=void 0,n=void 0,r=void 0,a=void 0,i=void 0,c=void 0,s={id:e.id,position:e.position};Object.keys(e).forEach((function(l){l===o.preprocessNodeWidth?t=e.preprocessNodeWidth:l===o.preprocessNodeHeight?n=e.preprocessNodeHeight:l===o.preprocessColor?r=e.preprocessColor:l===o.preprocessAlpha?a=e.preprocessAlpha:l===o.preprocessLabelColor?i=e.preprocessLabelColor:l===o.preprocessLabelAlpha?c=e.preprocessLabelAlpha:s[l]=e[l]}));var l=f(r,a);l&&(s[o.color]=l);var u=f(i,c);return u&&(s[o.labelColor]=u),h(t,n)&&(s[o.size]=h(t,n)),s}function b(e){var t=void 0,n=void 0,r=void 0,a=void 0,i={id:e.id,s:e.s,t:e.t};Object.keys(e).forEach((function(c){c===o.preprocessColor?t=e.preprocessColor:c===o.preprocessAlpha?n=e.preprocessAlpha:c===o.preprocessLabelColor?r=e.preprocessLabelColor:c===o.preprocessLabelAlpha?a=e.preprocessLabelAlpha:i[c]=e[c]}));var c=f(t,n);c&&(i[o.color]=c);var s=f(r,a);return s&&(i[o.labelColor]=s),i}function g(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n],o=t[r.definition.attribute]?t[r.definition.attribute]:[];o.push({type:r.type,vp:n,definition:r.definition}),t[r.definition.attribute]=o})),t}function m(e,t,n){return(e-t)/(n-t)}function v(e,t,n){return void 0!==e&&void 0!==t?e+(t-e)*n:void 0===e?t:void 0===t?e:void 0}function j(e,t,n){return Math.min(Math.max(e,t),n)}function O(e,t,n,r,o){return v(r,o,m(e,t,n))}function x(e,t,n,r,o){var a=c(r),i=c(o),s=m(e,t,n);return[j(Math.round(v(void 0===a?void 0:a[0],void 0===i?void 0:i[0],s)),0,255),j(Math.round(v(void 0===a?void 0:a[1],void 0===i?void 0:i[1],s)),0,255),j(Math.round(v(void 0===a?void 0:a[2],void 0===i?void 0:i[2],s)),0,255)]}function y(e,t,n,r,o){return s(v(r,o,m(e,t,n)))}var w={node:{NODE_WIDTH:function(e,t,n,r,a){return i(o.preprocessNodeWidth,O(e,t,n,r,a))},NODE_HEIGHT:function(e,t,n,r,a){return i(o.preprocessNodeHeight,O(e,t,n,r,a))},NODE_BACKGROUND_COLOR:function(e,t,n,r,a){return i(o.preprocessColor,x(e,t,n,r,a))},NODE_BACKGROUND_OPACITY:function(e,t,n,r,a){return i(o.preprocessAlpha,y(e,t,n,r,a))},NODE_LABEL_COLOR:function(e,t,n,r,a){return i(o.preprocessLabelColor,x(e,t,n,r,a))},NODE_LABEL_OPACITY:function(e,t,n,r,a){return i(o.preprocessLabelAlpha,y(e,t,n,r,a))},NODE_LABEL_FONT_SIZE:function(e,t,n,r,a){return i(o.labelFontSize,O(e,t,n,r,a))}},edge:{EDGE_WIDTH:function(e,t,n,r,a){return i(o.width,O(e,t,n,r,a))},EDGE_OPACITY:function(e,t,n,r,a){return i(o.preprocessAlpha,y(e,t,n,r,a))},EDGE_LINE_COLOR:function(e,t,n,r,a){return i(o.preprocessColor,x(e,t,n,r,a))},EDGE_LABEL_COLOR:function(e,t,n,r,a){return i(o.preprocessLabelColor,x(e,t,n,r,a))},EDGE_LABEL_OPACITY:function(e,t,n,r,a){return i(o.preprocessLabelAlpha,y(e,t,n,r,a))},EDGE_LABEL_FONT_SIZE:function(e,t,n,r,a){return i(o.labelFontSize,O(e,t,n,r,a))}}};function C(e,t,n,r,o){return(void 0===t||(r?t<=e:t<e))&&(void 0==n||(o?n>=e:n>e))}function S(e,t,n){var r={};return Object.keys(n).forEach((function(o){var a=n[o];e[t][o]&&e[t][o].forEach((function(e){if("DISCRETE"===e.type)e.definition.map&&e.definition.map.forEach((function(n){if(n.v==a&&l[t][e.vp]){var o=l[t][e.vp](n.vp);Object.assign(r,o)}}));else if("PASSTHROUGH"===e.type){if(l[t][e.vp]){var n=l[t][e.vp](a);Object.assign(r,n)}}else"CONTINUOUS"===e.type&&e.definition.map.forEach((function(n){if(C(a,n.min,n.max,n.includeMin,n.includeMax)&&w[t][e.vp]){var o=w[t][e.vp](a,n.min,n.max,n.minVPValue,n.maxVPValue);Object.assign(r,o)}}))}))})),r}var E={targetFormat:"lnv",emptyNetwork:{nodeViews:[],edgeViews:[]},convert:function(e){return function(e){var t=void 0,n=[],i=[],c=new Map,s=new Map,l=new Map,f=new Map,h=new Map,m=new Map,v=void 0,j={node:{},edge:{}},O={node:{},edge:{}};e.forEach((function(e){if(e.attributeDeclarations){var r=e.attributeDeclarations;a.processAttributeDeclarations(r,l,c,h,f,s,m)}else e.nodes?e.nodes.forEach((function(e){a.updateInferredTypes(c,l,e.v)})):e.edges?e.edges.forEach((function(e){a.updateInferredTypes(s,f,e.v)})):e.visualProperties?t=e.visualProperties:e.nodeBypasses?e.nodeBypasses.forEach((function(e){n.push(e)})):e.edgeBypasses&&e.edgeBypasses.forEach((function(e){i.push(e)}))}));var x={},y=[],w=[];return t&&t.forEach((function(e){var t=e.default;v=u(t),j.node=e.nodeMapping?g(e.nodeMapping):{},j.edge=e.edgeMapping?g(e.edgeMapping):{}})),n&&n.forEach((function(e){var t=e[r.ID].toString(),n=d("node",e.v);O.node[t]||(O.node[t]={}),Object.assign(O.node[t],n)})),i&&i.forEach((function(e){var t=e[r.ID].toString(),n=d("edge",e.v);O.edge[t]||(O.edge[t]={}),Object.assign(O.edge[t],n)})),e.forEach((function(e){e.nodes?e.nodes.forEach((function(e){var t=e[r.ID].toString(),n={id:t,position:e.z?[e.x,e.y,e.z]:[e.x,e.y]};if(v){var o=v.node;Object.assign(n,o)}var i=a.getExpandedAttributes(e.v,l,h),c=S(j,"node",i);Object.assign(n,c),O.node[t]&&Object.assign(n,O.node[t]);var s=p(n);y.push(s)})):e.edges&&e.edges.forEach((function(e){var t=e[r.ID].toString(),n={id:t,s:e.s.toString(),t:e.t.toString()};if(v){var o=v.edge;Object.assign(n,o)}var i=a.getExpandedAttributes(e.v,f,m),c=S(j,"edge",i);Object.assign(n,c),O.edge[t]&&Object.assign(n,O.edge[t]);var s=b(n);w.push(s)}))})),x[o.nodeViews]=y,x[o.edgeViews]=w,x}(e)}};e.exports={simpleDefaultPropertyConvert:i,continuousNumberPropertyConvert:O,continuousAlphaPropertyConvert:y,continuousColorPropertyConvert:x,processNodeView:p,processEdgeView:b,getDefaultValues:u,getAttributeRatio:m,isInRange:C,converter:E}},function(e,t,n){"use strict";e.exports=Object.freeze({nodeViews:"nodeViews",edgeViews:"edgeViews",id:"id",position:"position",s:"s",t:"t",label:"label",labelColor:"labelColor",labelFontSize:"labelFontSize",color:"color",size:"size",width:"width",preprocessColor:"preprocessColor",preprocessAlpha:"preprocessAlpha",preprocessLabelColor:"preprocessLabelColor",preprocessLabelAlpha:"preprocessLabelAlpha",preprocessNodeWidth:"preprocessNodeWidth",preprocessNodeHeight:"preprocessNodeHeight"})},function(e,t,n){"use strict";n(0);var r=n(7),o=n(1);function a(e,t){var n=new Map;return n.set(e,t),n}var i={node:{NODE_SHAPE:function(e){return a(r.shape,e)},NODE_WIDTH:function(e){return a(r.width,e)},NODE_HEIGHT:function(e){return a(r.height,e)},NODE_BACKGROUND_COLOR:function(e){return a(r.background_color,e)},NODE_BACKGROUND_OPACITY:function(e){return a(r.background_opacity,e)},NODE_LABEL:function(e){return a(r.label,e)},NODE_LABEL_COLOR:function(e){return a(r.label_color,e)},NODE_LABEL_OPACITY:function(e){return a(r.label_opacity,e)},NODE_LABEL_FONT_SIZE:function(e){return a(r.label_font_size,e)}},edge:{EDGE_WIDTH:function(e){return a(r.width,e)},EDGE_OPACITY:function(e){return a(r.opacity,e)},EDGE_LABEL:function(e){return a(r.label,e)},EDGE_LINE_COLOR:function(e){return a(r.line_color,e)},EDGE_LABEL_OPACITY:function(e){return a(r.label_opacity,e)},EDGE_LABEL_FONT_SIZE:function(e){return a(r.label_font_size,e)}}};function c(e,t){var n={};return n[e]="data("+t+")",n}var s={node:{NODE_SHAPE:function(e){return c(r.shape,e)},NODE_WIDTH:function(e){return c(r.width,e)},NODE_HEIGHT:function(e){return c(r.height,e)},NODE_BACKGROUND_COLOR:function(e){return c(r.background_color,e)},NODE_BACKGROUND_OPACITY:function(e){return c(r.background_opacity,e)},NODE_LABEL:function(e){return c(r.label,e)},NODE_LABEL_COLOR:function(e){return c(r.label_color,e)},NODE_LABEL_OPACITY:function(e){return c(r.label_opacity,e)},NODE_LABEL_FONT_SIZE:function(e){return c(r.label_font_size,e)}},edge:{EDGE_WIDTH:function(e){return c(r.width,e)},EDGE_OPACITY:function(e){return c(r.opacity,e)},EDGE_LINE_COLOR:function(e){return c(r.line_color,e)},EDGE_LABEL:function(e){return c(r.label,e)},EDGE_LABEL_COLOR:function(e){return c(r.label_color,e)},EDGE_LABEL_OPACITY:function(e){return c(r.label_opacity,e)},EDGE_LABEL_FONT_SIZE:function(e){return c(r.label_font_size,e)}}};function l(e,t,n,r,o,a){var i={};return void 0!=n&&void 0!==r?i[e]="mapData("+t+", "+n+", "+r+", "+o+", "+a+")":void 0===n?i[e]=a:void 0==r&&(i[e]=o),i}var u={node:{NODE_SHAPE:function(e,t,n,o,a){return l(r.shape,e,t,n,o,a)},NODE_WIDTH:function(e,t,n,o,a){return l(r.width,e,t,n,o,a)},NODE_HEIGHT:function(e,t,n,o,a){return l(r.height,e,t,n,o,a)},NODE_BACKGROUND_COLOR:function(e,t,n,o,a){return l(r.background_color,e,t,n,o,a)},NODE_BACKGROUND_OPACITY:function(e,t,n,o,a){return l(r.background_opacity,e,t,n,o,a)},NODE_LABEL:function(e,t,n,o,a){return l(r.label,e,t,n,o,a)},NODE_LABEL_COLOR:function(e,t,n,o,a){return l(r.label_color,e,t,n,o,a)},NODE_LABEL_OPACITY:function(e,t,n,o,a){return l(r.label_opacity,e,t,n,o,a)},NODE_LABEL_FONT_SIZE:function(e,t,n,o,a){return l(r.label_font_size,e,t,n,o,a)}},edge:{EDGE_WIDTH:function(e,t,n,o,a){return l(r.width,e,t,n,o,a)},EDGE_OPACITY:function(e,t,n,o,a){return l(r.opacity,e,t,n,o,a)},EDGE_LINE_COLOR:function(e,t,n,o,a){return l(r.line_color,e,t,n,o,a)},EDGE_LABEL:function(e,t,n,o,a){return l(r.label,e,t,n,o,a)},EDGE_LABEL_COLOR:function(e,t,n,o,a){return l(r.label_color,e,t,n,o,a)},EDGE_LABEL_OPACITY:function(e,t,n,o,a){return l(r.label_opacity,e,t,n,o,a)},EDGE_LABEL_FONT_SIZE:function(e,t,n,o,a){return l(r.label_font_size,e,t,n,o,a)}}};function d(e,t){var n={};return Object.keys(e).forEach((function(r){var o=e[r];i[t][r]&&i[t][r](o).forEach((function(e,t){n[t]=e}))})),n}function f(e,t){return{selector:e,style:t}}function h(e,t,n,r){var o=[],a=t.attribute;return t.map.forEach((function(t){var r=function(e,t,n,r,o,a){return e+(void 0!==n?"["+t+" "+(o?">=":">")+" "+n+"]":"")+(void 0!==r?"["+t+" "+(a?"<=":"<")+" "+r+"]":"")}(n,a,t.min,t.max,t.includeMin,t.includeMax),i=function(e,t,n,r,o,a,i){return u[e][t]?u[e][t](n,r,o,a,i):{}}(n,e,a,t.min,t.max,t.minVPValue,t.maxVPValue);o.push(f(r,i))})),o}function p(e,t){var n=t.id,r={};Object.keys(t.v).forEach((function(n){var o=t.v[n];i[e][n]&&i[e][n](o).forEach((function(e,t){r[t]=e}))}));var o=function(e,t){return t+"#"+e}(n,e);return f(o,r)}function b(e,t,n){var r=[];return e&&Object.keys(e).forEach((function(o){var a=e[o];switch(a.type){case"CONTINUOUS":h(o,a.definition,t).forEach((function(e){r.push(e)}));break;case"PASSTHROUGH":var c=function(e,t,n){return s[n][e]?f(n,s[n][e](t.attribute)):null}(o,a.definition,t);c&&r.push(c);break;case"DISCRETE":var l=function(e,t,n,r){var o=[],a=t.map,c=t.attribute,s=r.get(c);return a.forEach((function(t){var r=function(e,t,n,r){return"string"==n?e+"["+t+" = '"+r+"']":"boolean"==n?"true"==r?e+"[?"+t+"]":e+"["+t+"][!"+t+"]":e+"["+t+" = "+r+"]"}(n,c,s,t.v);if(i[n][e]){var a=i[n][e](t.vp),l={};a.forEach((function(e,t){l[t]=e})),o.push(f(r,l))}})),o}(o,a.definition,t,n);l.forEach((function(e){r.push(e)}))}})),r}var g={targetFormat:"cytoscapeJS",emptyNetwork:{style:[],elements:{},layout:{},"background-color":null},convert:function(e){var t={style:[],elements:{},layout:{},"background-color":null},n=void 0,r=[],a=[],i=new Map,c=new Map,s=new Map,l=new Map,u=new Map,h=new Map;e.forEach((function(e){if(e.attributeDeclarations){var t=e.attributeDeclarations;o.processAttributeDeclarations(t,s,i,u,l,c,h)}else e.nodes?e.nodes.forEach((function(e){o.updateInferredTypes(i,s,e.v)})):e.edges?e.edges.forEach((function(e){o.updateInferredTypes(c,l,e.v)})):e.visualProperties?n=e.visualProperties:e.nodeBypasses?e.nodeBypasses.forEach((function(e){r.push(e)})):e.edgeBypasses&&e.edgeBypasses.forEach((function(e){a.push(e)}))})),i.forEach((function(e,t){})),c.forEach((function(e,t){})),t.elements.nodes=[],t.elements.edges=[],e.forEach((function(e){e.nodes?e.nodes.forEach((function(e){var n={};n.data=o.getExpandedAttributes(e.v,s,u),n.data.id=e.id.toString(),n.position={x:e.x,y:e.y},t.elements.nodes.push(n)})):e.edges&&e.edges.forEach((function(e){var n={};n.data=o.getExpandedAttributes(e.v,l,h),n.data.id=e.id.toString(),n.data.source=e.s,n.data.target=e.t,t.elements.edges.push(n)}))}));var g=function(e,t,n,r,o){var a={style:[],"background-color":void 0},i=void 0,c=void 0,s=void 0,l=void 0,u=void 0,h=[];return e.forEach((function(e){var t=e.default;i=d(t.node,"node"),c=d(t.edge,"edge"),s=t.network["background-color"];var n=e.nodeMapping;l=b(n,"node",r);var a=e.edgeMapping;u=b(a,"edge",o)})),t.forEach((function(e){h.push(p("node",e))})),n.forEach((function(e){h.push(p("edge",e))})),a.style.push(f("node",i)),a.style.push(f("edge",c)),a.style.push.apply(a.style,l),a.style.push.apply(a.style,u),a.style.push.apply(a.style,h),a["background-color"]=s,a}(n,r,a,i,c);return t.style=g.style,t["background-color"]=g["background-color"],t}};e.exports={converter:g}},function(e,t,n){"use strict";e.exports=Object.freeze({shape:"shape",width:"width",height:"height",background_color:"background-color",background_opacity:"background-opacity",label:"label",label_color:"color",label_font_size:"font-size",label_opacity:"text-opacity",opacity:"opacity",line_color:"line-color"})}])},e.exports=r()},322:function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}([function(e,t,n){"use strict";var r=n(3),o=n(11),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function c(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===a.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:s,isStream:function(e){return c(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){"use strict";(function(t){var r=n(0),o=n(14),a={"Content-Type":"application/x-www-form-urlencoded"};function i(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,s={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t)&&(c=n(4)),c),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(i(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(i(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(a)})),e.exports=s}).call(this,n(13))},function(e,t,n){e.exports=n(10)},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(0),o=n(15),a=n(17),i=n(18),c=n(19),s=n(5);e.exports=function(e){return new Promise((function(t,l){var u=e.data,d=e.headers;r.isFormData(u)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",p=e.auth.password||"";d.Authorization="Basic "+btoa(h+":"+p)}if(f.open(e.method.toUpperCase(),a(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?i(f.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f};o(t,l,r),f=null}},f.onerror=function(){l(s("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var b=n(20),g=(e.withCredentials||c(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;g&&(d[e.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,(function(e,t){void 0===u&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),l(e),f=null)})),void 0===u&&(u=null),f.send(u)}))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t,n,o,a){var i=new Error(e);return r(i,t,n,o,a)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";var r=n(9).NDEx,o=n(28).CyNDEx;e.exports={NDEx:r,CyNDEx:o}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),a=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t||""===t)throw new Error("NDEx server endpoint base URL is required in client constructor.");this._host=t,this._v3baseURL=this._host.substring(0,this.host.lastIndexOf("v2"))+"v3"}return r(e,[{key:"SetGoogleAuth",value:function(e){void 0!==e&&(this._googleAuth=e,this._authType="g")}},{key:"setAuthToken",value:function(e){void 0!==e&&(this._authToken=e,this._authType="g")}},{key:"setBasicAuth",value:function(e,t){if(void 0!==e&&null!=e&&""!==e)return this._username=e,this._password=t,void(this._authType="b");this._username=void 0,this._password=void 0,this._authType=void 0}},{key:"_httpGetOpenObj",value:function(e){var t=this.host;return new Promise((function(n,r){o({method:"get",url:e,baseURL:t}).then((function(e){return 200===e.status?n(e.data):r(e)}),(function(e){return r(e)}))}))}},{key:"_getIdToken",value:function(){return this._authToken?this._authToken:this._googleAuth.getAuthInstance().currentUser.get().getAuthResponse().id_token}},{key:"_setAuthHeader",value:function(e){if("b"===this._authType)e.auth={username:this.username,password:this.password};else if("g"===this.authenticationType){var t=this._getIdToken();void 0===e.headers&&(e.headers={}),e.headers.Authorization="Bearer "+t}}},{key:"_httpGetProtectedObjAux",value:function(e,t,n){var r={method:"get",url:t,baseURL:e};return this._setAuthHeader(r),void 0!==n&&(r.params=n),new Promise((function(e,t){o(r).then((function(n){return 200===n.status?e(n.data):t(n)}),(function(e){return t(e)}))}))}},{key:"_httpGetV3ProtectedObj",value:function(e,t){return this._httpGetProtectedObjAux(this._v3baseURL,e,t)}},{key:"_httpGetProtectedObj",value:function(e,t){return this._httpGetProtectedObjAux(this.host,e,t)}},{key:"_httpPostProtectedObjAux",value:function(e,t,n,r){var a={method:"post",url:t,baseURL:e};return this._setAuthHeader(a),void 0!==n&&(a.params=n),a.data=r,new Promise((function(e,t){o(a).then((function(n){return n.status>=200&&n.status<=299?e(n.data):t(n)}),(function(e){return t(e)}))}))}},{key:"_httpPostProtectedObj",value:function(e,t,n){return this._httpPostProtectedObjAux(this.host,e,t,n)}},{key:"_httpPostV3ProtectedObj",value:function(e,t,n){return this._httpPostProtectedObjAux(this._v3baseURL,e,t,n)}},{key:"_httpPutObj",value:function(e,t,n){var r={method:"put",url:e,baseURL:this.host};return this._setAuthHeader(r),void 0!==t&&(r.params=t),r.data=n,new Promise((function(e,t){o(r).then((function(n){return n.status>=200&&n.status<=299?e(n.data):t(n)}),(function(e){return t(e)}))}))}},{key:"_httpDeleteObj",value:function(e,t){var n={method:"delete",url:e,baseURL:this.host};return this._setAuthHeader(n),void 0!==t&&(n.params=t),new Promise((function(e,t){o(n).then((function(n){return n.status>=200&&n.status<=299?e(n.data):t(n)}),(function(e){return t(e)}))}))}},{key:"getStatus",value:function(){return this._httpGetOpenObj("admin/status")}},{key:"getSignedInUser",value:function(){if(null==this._authType)throw new Error("Authentication parameters are missing in NDEx client.");return this._httpGetProtectedObj("user",{valid:!0})}},{key:"getUser",value:function(e){return this._httpGetProtectedObj("user/"+e)}},{key:"getAccountPageNetworks",value:function(e,t){var n=this;return new Promise((function(r,o){n.getSignedInUser().then((function(a){var i={};void 0!==e&&(i.offset=e),void 0!==t&&(i.limit=t),n._httpGetProtectedObj("/user/"+a.externalId+"/networksummary",i).then((function(e){r(e)}),(function(e){o(e)}))}),(function(e){o(e)}))}))}},{key:"getAccountPageNetworksByUUID",value:function(e,t,n){var r={};return void 0!==t&&(r.offset=t),void 0!==n&&(r.limit=n),this._httpGetProtectedObj("user/"+e+"/networksummary",r)}},{key:"createGroup",value:function(e){var t=this;return new Promise((function(n,r){t._httpPostProtectedObj("group",void 0,e).then((function(e){var t=e.split("/"),r=t[t.length-1];return n(r)}),(function(e){r(e)}))}))}},{key:"getGroup",value:function(e){return this._httpGetProtectedObj("group/"+e)}},{key:"updateGroup",value:function(e){var t=this;return new Promise((function(n,r){t._httpPutObj("group/"+e.externalId,void 0,e).then((function(e){return n(e)}),(function(e){r(e)}))}))}},{key:"deleteGroup",value:function(e){return this._httpDeleteObj("group/"+e)}},{key:"getRawNetwork",value:function(e,t){var n={};return void 0!==t&&(n={accesskey:t}),this._httpGetProtectedObj("network/"+e,n)}},{key:"getCX2Network",value:function(e,t){var n={};return void 0!==t&&(n={accesskey:t}),this._httpGetV3ProtectedObj("networks/"+e,n)}},{key:"getNetworkSummary",value:function(e,t){var n={};return void 0!==t&&(n={accesskey:t}),this._httpGetProtectedObj("network/"+e+"/summary",n)}},{key:"createNetworkFromRawCX",value:function(e,t){var n=this;return new Promise((function(r,o){n._httpPostProtectedObj("network",t,e).then((function(e){var t=e.split("/"),n=t[t.length-1];return r(n)}),(function(e){o(e)}))}))}},{key:"updateNetworkFromRawCX",value:function(e,t){return this._httpPutObj("network/"+e,void 0,t)}},{key:"deleteNetwork",value:function(e){return this._httpDeleteObj("network/"+e)}},{key:"searchUsers",value:function(e,t,n){var r={};void 0!==t&&(r.start=t),void 0!==n&&(r.limit=n);var o={searchString:e};return this._httpPostProtectedObj("search/user",r,o)}},{key:"searchGroups",value:function(e,t,n){var r={};void 0!==t&&(r.start=t),void 0!==n&&(r.limit=n);var o={searchString:e};return this._httpPostProtectedObj("search/group",r,o)}},{key:"searchNetworks",value:function(e,t,n,r){var o={};void 0!==t&&(o.start=t),void 0!==n&&(o.limit=n);var a={searchString:e};return void 0!==r&&(void 0!==r.permission&&(a.permission=r.permission),void 0!==r.includeGroups&&(a.includeGroups=r.includeGroups),void 0!==r.accountName&&(a.accountName=r.accountName)),this._httpPostProtectedObj("search/network",o,a)}},{key:"neighborhoodQuery",value:function(e,t,n,r){var o={};void 0!==n&&!0===n&&(o.save=!0);var a={searchString:t,searchDepth:1};return void 0!==r&&(void 0!==r.searchDepth&&(a.searchDepth=r.searchDepth),void 0!==r.edgeLimit&&(a.edgeLimit=r.edgeLimit),void 0!==r.errorWhenLimitIsOver&&(a.errorWhenLimitIsOver=r.errorWhenLimitIsOver),void 0!==r.directOnly&&(a.directOnly=r.directOnly)),this._httpPostProtectedObj("search/network/"+e+"/query",o,a)}},{key:"interConnectQuery",value:function(e,t,n,r){var o={};void 0!==n&&!0===n&&(o.save=!0);var a={searchString:t};return void 0!==r&&(void 0!==r.edgeLimit&&(a.edgeLimit=r.edgeLimit),void 0!==r.errorWhenLimitIsOver&&(a.errorWhenLimitIsOver=r.errorWhenLimitIsOver)),this._httpPostProtectedObj("search/network/"+e+"/interconnectquery",o,a)}},{key:"getUsersByUUIDs",value:function(e){return this._httpPostProtectedObj("batch/user",void 0,e)}},{key:"getGroupsByUUIDs",value:function(e){return this._httpPostProtectedObj("batch/group",void 0,e)}},{key:"getNetworkSummariesByUUIDs",value:function(e,t){var n=void 0===t?void 0:{accesskey:t};return this._httpPostProtectedObj("batch/network/summary",n,e)}},{key:"getNetworkPermissionsByUUIDs",value:function(e){return this._httpPostProtectedObj("batch/network/permission",void 0,e)}},{key:"exportNetworks",value:function(e){return this._httpPostProtectedObj("batch/network/export",void 0,e)}},{key:"getRandomEdges",value:function(e,t,n){if(t<=0)throw new Error("Value of parameter limit has to be greater than 0.");var r={size:t,method:"random"};return void 0!==n&&(r={accesskey:n}),this._httpGetV3ProtectedObj("networks/"+e+"/aspects/edges",r)}},{key:"getMetaData",value:function(e,t){var n={};return void 0!==t&&(n.accesskey=t),this._httpGetProtectedObj("network/"+e+"/aspect",n)}},{key:"getAspectElements",value:function(e,t,n,r){var o={};return void 0!==n&&(o={size:n}),void 0!==r&&(o.accesskey=r),this._httpGetV3ProtectedObj("networks/"+e+"/aspects/"+t,o)}},{key:"getFilteredEdges",value:function(e,t,n,r,o,a,i,c){var s={};void 0!==o&&(s={size:o}),void 0!==a&&(s.order=a),void 0!==c&&(s.accesskey=c),void 0!==i&&(s.format=i);var l={name:t,value:n,operator:r};return this._httpPostV3ProtectedObj("/search/networks/"+e+"/edges",s,l)}},{key:"getCX2MetaData",value:function(e,t){var n={};return void 0!==t&&(n.accesskey=t),this._httpGetV3ProtectedObj("networks/"+e+"/aspects",n)}},{key:"cancelDOIRequest",value:function(e){var t={type:"Cancel_DOI",networkId:e};return this._httpPostProtectedObj("admin/request",{},t)}},{key:"host",get:function(){return this._host}},{key:"googleAuth",get:function(){return this._googleAuth}},{key:"authenticationType",get:function(){return this._authType}},{key:"username",get:function(){return this._username}},{key:"password",get:function(){return this._password}}]),e}();e.exports={NDEx:a}},function(e,t,n){"use strict";var r=n(0),o=n(3),a=n(12),i=n(1);function c(e){var t=new a(e),n=o(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var s=c(i);s.Axios=a,s.create=function(e){return c(r.merge(i,e))},s.Cancel=n(7),s.CancelToken=n(26),s.isCancel=n(6),s.all=function(e){return Promise.all(e)},s.spread=n(27),e.exports=s,e.exports.default=s},function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,n){"use strict";var r=n(1),o=n(0),a=n(21),i=n(22);function c(e){this.defaults=e,this.interceptors={request:new a,response:new a}}c.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[i,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=c},function(e,t){var n,r,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var s,l=[],u=!1,d=-1;function f(){u&&s&&(u=!1,s.length?l=s.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=c(f);u=!0;for(var t=l.length;t;){for(s=l,l=[];++d<t;)s&&s[d].run();d=-1,t=l.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function b(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=b,o.addListener=b,o.once=b,o.off=b,o.removeListener=b,o.removeAllListeners=b,o.emit=b,o.prependListener=b,o.prependOnceListener=b,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},function(e,t,n){"use strict";var r=n(0);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),a=i.join("&")}return a&&(e+=(-1===e.indexOf("?")?"?":"&")+a),e}},function(e,t,n){"use strict";var r=n(0),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,i={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(i[t]&&o.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(0);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,a,i){var c=[];c.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(o)&&c.push("path="+o),r.isString(a)&&c.push("domain="+a),!0===i&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(0);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},function(e,t,n){"use strict";var r=n(0),o=n(23),a=n(6),i=n(1),c=n(24),s=n(25);function l(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return l(e),e.baseURL&&!c(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return l(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(l(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(7);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=n(2),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1234;o(this,e),this._port=t}return r(e,[{key:"setNDExServer",value:function(e){void 0!==e&&null!=e&&""!==e&&(this._ndexServer=e)}},{key:"getNDExServer",value:function(){return this._ndexServer?this._ndexServer:"http://public.ndexbio.org"}},{key:"setGoogleAuth",value:function(e){void 0!==e&&(this._googleAuth=e,this._authType="g")}},{key:"setAuthToken",value:function(e){void 0!==e&&(this._authToken=e,this._authType="g")}},{key:"setBasicAuth",value:function(e,t){void 0!==e&&null!=e&&""!==e&&(this._username=e,this._password=t,this._authType="b")}},{key:"cyRestURL",value:function(){return"http://127.0.0.1:"+this._port}},{key:"_getIdToken",value:function(){return this._authToken?this._authToken:this._googleAuth.getAuthInstance().currentUser.get().getAuthResponse().id_token}},{key:"_getAuthorizationFields",value:function(){switch(this._authType){case"b":return{username:this._username,password:this._password};case"g":return{idToken:this._getIdToken()};default:return{}}}},{key:"_httpGet",value:function(e){var t=this.cyRestURL();return new Promise((function(n,r){a({method:"get",url:e,baseURL:t}).then((function(e){return 200===e.status?n(e.data):r(e)}),(function(e){return r(e)}))}))}},{key:"_httpPut",value:function(e,t,n){return this._http("put",e,t,n)}},{key:"_httpPost",value:function(e,t,n){return this._http("post",e,t,n)}},{key:"_http",value:function(e,t,n,r){var o={method:e,url:t,baseURL:this.cyRestURL()};return void 0!==n&&(o.params=n),o.data=r,new Promise((function(e,t){a(o).then((function(n){return n.status>=200&&n.status<=299?e(n.data):t(n)}),(function(e){return t(e)}))}))}},{key:"getCyNDExStatus",value:function(){return this._httpGet("/cyndex2/v1")}},{key:"getCytoscapeNetworkSummary",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current";return this._httpGet("/cyndex2/v1/networks/"+e)}},{key:"postNDExNetworkToCytoscape",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={serverUrl:this.getNDExServer()+"/v2",uuid:e,accessKey:t,createView:n},o=this._getAuthorizationFields();return this._httpPost("/cyndex2/v1/networks",void 0,Object.assign(r,o))}},{key:"postCXNetworkToCytoscape",value:function(e){return this._httpPost("/cyndex2/v1/networks/cx",void 0,e)}},{key:"postCytoscapeNetworkToNDEx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t={serverUrl:this.getNDExServer()+"/v2"},n=this._getAuthorizationFields();return this._httpPost("/cyndex2/v1/networks/"+e,void 0,Object.assign(t,n))}},{key:"putCytoscapeNetworkInNDEx",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments[1],n={serverUrl:this.getNDExServer()+"/v2",uuid:t},r=this._getAuthorizationFields();return this._httpPut("/cyndex2/v1/networks/"+e,void 0,Object.assign(n,r))}},{key:"port",get:function(){return this._port}}],[{key:"cyRestBaseURL",get:function(){return"http://127.0.0.1"}}]),e}();e.exports={CyNDEx:i}}])},397:function(e,t,n){},398:function(e,t,n){},404:function(e,t){},450:function(e,t,n){"use strict";n.r(t);var r=n(68),o=n.n(r),a=n(88),i=n(0),c=n.n(i),s=n(37),l=n.n(s),u=(n(397),n(13)),d=(n(398),n(66)),f=n(58),h=n(512),p=n(545),b=n(546),g=n(454),m=n(270),v=n(540),j=n(499),O=n(500),x=n(501),y=n(547),w=n(502),C=n(536),S=n(455),E=n(503),N=n(504),k=n(15),A=n(548),I=n(538),D=n(513),L=n(551),T=n(165),P=n.n(T),_=n(505),R=n(195),B=n.n(R),F=n(150),z=n.n(F),M=n(459),G=n(311),U=n.n(G),H=n(511),q=n(506),V=n(509),W=n(239),X=n(263),Y=n(312),Q=n.n(Y),Z=function(e){var t=e.data,n=e.tooltip,r=void 0===n?"Download as JSON":n,o=e.fileName,a=void 0===o?"ce-data.json":o,i=!0;void 0!==t&&(i=!1);return c.a.createElement(b.a,{title:r},c.a.createElement("span",null,c.a.createElement(g.a,{disabled:i,onClick:function(){var e=JSON.stringify(t),n=document.createElement("a"),r=new Blob([e],{type:"application/json"});n.href=URL.createObjectURL(r),n.download=a,n.click()}},c.a.createElement(P.a,null))))};function K(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,o)}function J(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){K(a,r,o,i,c,"next",e)}function c(e){K(a,r,o,i,c,"throw",e)}i(void 0)}))}}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}var ee={available:!1,port:1234,status:void 0},te=Object(i.createContext)({state:ee,dispatch:function(){}}),ne=function(e){var t=e.port,n=e.children,r={available:!1,status:void 0,port:t},o=Object(i.useReducer)((function(e,t){switch(t.type){case"setAvailable":return $({},e,{available:!0,status:t.payload});case"setUnavailable":return $({},e,{available:!1,status:void 0});default:throw new Error}}),r),a=o[0],s=o[1],l=!1;function u(){var e=new B.a.CyNDEx(t);l&&(e.getCyNDExStatus().then((function(e){s({type:"setAvailable",payload:e.data})}),(function(e){s({type:"setUnavailable",payload:e})})),setTimeout(u,5e3))}return Object(i.useEffect)((function(){return l=!0,setTimeout(u,1e3),function(){l=!1}}),[]),c.a.createElement(te.Provider,{value:{state:a,dispatch:s}},n)};var re=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(D){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),i=new k(r||[]);return a._invoke=function(e,t,n){var r=d;return function(o,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return I()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=S(i,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=u(e,t,n);if("normal"===s.type){if(r=n.done?p:f,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",b={};function g(){}function m(){}function v(){}var j={};s(j,a,(function(){return this}));var O=Object.getPrototypeOf,x=O&&O(O(A([])));x&&x!==n&&r.call(x,a)&&(j=x);var y=v.prototype=g.prototype=Object.create(j);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,c)}),(function(e){n("throw",e,i,c)})):t.resolve(d).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return m.prototype=v,s(y,"constructor",v),s(v,"constructor",m),m.displayName=s(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(C.prototype),s(C.prototype,i,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new C(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(y),s(y,c,"Generator"),s(y,a,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=J(re.mark((function e(t,n){var r;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return r=e.sent,e.prev=3,e.next=6,r.json();case 6:r.parsedBody=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("API Call error:",e.t0);case 12:if(r.ok){e.next=14;break}throw new Error(r.statusText);case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function ie(e,t){return ce.apply(this,arguments)}function ce(){return(ce=J(re.mark((function e(t,n){var r;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return r=e.sent,e.prev=3,e.next=6,r.text();case 6:r.parsedBody=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("API Call error:",e.t0);case 12:if(r.ok){e.next=14;break}throw new Error(r.statusText);case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}var se=function(){var e=J(re.mark((function e(t,n,r){var o;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t+("/"+n+"/user?email="+r),e.abrupt("return",oe(o,void 0));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),le=function(){var e=J(re.mark((function e(t,n,r){var o;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t+("/"+n+"/user?username="+r),e.abrupt("return",oe(o,void 0));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ue=function(){var e=J(re.mark((function e(t,n,r){var o,a;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t+("/"+n+"/user/"+r+"/password?forgot=true"),a={method:"PUT"},e.abrupt("return",oe(o,a));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),de=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fe=function(e){return de.test(String(e).toLowerCase())},he=function(){var e=J(re.mark((function e(t,n,r){var o;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!fe(r)){e.next=14;break}return e.prev=1,e.next=4,se(t,n,r);case 4:o=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,le(t,n,r);case 11:o=e.sent;case 12:e.next=17;break;case 14:return e.next=16,le(t,n,r);case 16:o=e.sent;case 17:return e.abrupt("return",o.parsedBody.externalId);case 18:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),pe=function(){var e=J(re.mark((function e(t,n,r){var o,a;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t,n,r);case 2:return o=e.sent,e.next=5,ue(t,n,o);case 5:return a=e.sent,console.log("Result of resetPassword: "+a),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),be=function(){var e=J(re.mark((function e(t,n,r){var o,a;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t+("/"+n+"/user"),a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)},e.abrupt("return",ie(o,a));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ge=function(){var e=J(re.mark((function e(t,n,r){var o,a;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(o=r.replace(/@.*$/,"")).length>95&&(o=o.substring(0,95)),e.prev=2,a=1;case 4:return e.next=6,le(t,n,o);case 6:if(!e.sent){e.next=11;break}o+=a,a++,e.next=4;break;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(2);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),me=function(){var e=J(re.mark((function e(t,n,r,o){var a,i,c;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t+("/"+n+"/user?idtoken="+r),e.next=4,ge(t,n,o);case 4:return i=e.sent,c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userName:i})},e.abrupt("return",ie(a,c));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),ve=Object(i.createContext)({}),je=function(e){var t=e.ndexServerURL,n=e.googleClientId,r=e.children,o=Object(i.useState)(null),a=o[0],s=o[1],l=function(e){var t=Object(i.useState)(!1),n=t[0],r=t[1],o=Object(i.useState)(),a=o[0],c=o[1],s=Object(i.useState)(),l=s[0],u=s[1],d=function(){var t=J(re.mark((function t(n){var o;return re.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r(!0),c(void 0),u(void 0),!n){t.next=12;break}return t.next=7,se(e,"v2",n);case 7:return o=t.sent,u(o.parsedBody),t.abrupt("return",o);case 12:return u(void 0),t.abrupt("return",void 0);case 14:t.next=21;break;case 16:throw t.prev=16,t.t0=t.catch(0),c("Error getting user profile: "+t.t0),r(!1),t.t0;case 21:return t.prev=21,r(!1),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[0,16,21,24]])})));return function(e){return t.apply(this,arguments)}}();return{isLoading:n,error:a,data:l,execute:Object(i.useCallback)(d,[])}}(t),u={ndexServerURL:t,googleClientId:n,loginInfo:a,setLoginInfo:s,isUserProfileLoading:l.isLoading,userProfile:l.data,userProfileError:l.error,getUserProfile:l.execute};return c.a.createElement(ve.Provider,{value:u},r)},Oe=Object(M.a)({root:{padding:0,margin:0},content:{padding:"2em",margin:0},title:{color:"#444444","padding-top":"0.8em","padding-bottom":"0em"},titleWrapper:{display:"flex",alignItems:"center"},ndexLogo:{height:"3em",marginRight:"1em"},actionPanel:{margin:0,padding:"0.3em"},userIcon:{height:"1.5em",width:"1.5em"},formLabel:{"padding-top":"1em","padding-left":"1em"}}),xe=function(e){var t=Oe(),n=e.isOpen,r=e.hasLayout,o=e.hasView,a=e.setIsOpen,s=e.importNetworkFunction,l=Object(i.useState)("none"),u=l[0],d=l[1],f=o||r?c.a.createElement(m.a,null,"Choose this option to import the network and display it"," ",c.a.createElement("u",null,"preserving the original layout and visual styling info"),". Your computer might crash if it's older or not powerful enough."):c.a.createElement(m.a,null,"Choose this option to import the network and display it"," ",c.a.createElement("u",null,"generating any necessary layout or visual styling info"),". Your computer might crash if it's older or not powerful enough."),h=o||r?c.a.createElement(m.a,null,"Choose this option to import the network without generating a graphic rendering. The"," ",c.a.createElement("u",null,"original layout and visual styling info will be lost"),". You can decide to generate a graphic rendering later if desired."):c.a.createElement(m.a,null,"Choose this option to import the network without generating a graphic rendering. You can decide to generate a graphic rendering later if desired."),p=o||r?c.a.createElement(m.a,{display:"inline"},c.a.createElement("b",null,"Create View")," (Resource Intensive, layout and visual properties are preserved)"):c.a.createElement(m.a,{display:"inline"},c.a.createElement("b",null,"Create View")," (Resource Intensive)"),k=o||r?c.a.createElement(m.a,{display:"inline"},c.a.createElement("b",null,"Don't Create View")," (Faster, layout and visual properties are discarded)"):c.a.createElement(m.a,{display:"inline"},c.a.createElement("b",null,"Don't Create View")," (Faster)");return c.a.createElement(v.a,{className:t.root,open:n},c.a.createElement(j.a,{disableTypography:!0,className:t.title},c.a.createElement(m.a,{variant:"h6"},"Open Large Network in Cytoscape")),c.a.createElement(O.a,{className:t.content},c.a.createElement(m.a,null,"You are about to import a large network. Creating a view for a network of this size requires large amounts of memory and could cause problems on less powerful computers. Please choose one of the following options."),c.a.createElement(x.a,{component:"fieldset"},c.a.createElement(y.a,{"aria-label":"viewBehavior",name:"viewBehavior1",value:u,onChange:function(e){d(e.target.value)}},c.a.createElement(w.a,{className:t.formLabel,value:"createView",control:c.a.createElement(C.a,null),label:c.a.createElement("div",null,p,c.a.createElement(b.a,{title:f},c.a.createElement(S.a,{size:"small",disableFocusRipple:!0,disableRipple:!0},c.a.createElement(z.a,null))))}),c.a.createElement(w.a,{className:t.formLabel,value:"dontCreateView",control:c.a.createElement(C.a,null),label:c.a.createElement("div",null,k,c.a.createElement(b.a,{title:h},c.a.createElement(S.a,{size:"small",disableFocusRipple:!0,disableRipple:!0},c.a.createElement(z.a,null))))})))),c.a.createElement(E.a,null),c.a.createElement(N.a,{className:t.actionPanel},c.a.createElement(g.a,{variant:"contained",disabled:"none"===u,onClick:function(){a(!1),s("createView"===u),d("none")},color:"default"},"Import"),c.a.createElement(g.a,{variant:"contained",onClick:function(){a(!1),d("none")},color:"default"},"Cancel")))},ye=function(){return{button:{color:"#EA9123",borderColor:"#EA9123","&:active":{borderColor:"#EA9123"},"line-height":0},iconSmall:{height:"22px","margin-left":"2px"},iconMedium:{height:"24px"},iconLarge:{height:"26px"},buttonIcon:{height:"100%",width:"100%"}}},we=function(e){var t,n,r=Object(i.useContext)(te),o=r.state.available,a=r.state.status,s=r.state.port,l=Object(i.useContext)(ve),u=l.ndexServerURL,d=l.loginInfo,f=Object(i.useState)(!1),h=f[0],p=f[1],m=function(e){var t=new B.a.CyNDEx(s);t.setNDExServer(u),d&&(d.isGoogle?t.setAuthToken(d.loginDetails.tokenId):t.setBasicAuth(d.loginDetails.id,d.loginDetails.password));var n=S.accessKey;t.postNDExNetworkToCytoscape(S.uuid,n,e).then((function(e){"undefined"!==typeof y&&y(e.data)})).catch((function(e){"undefined"!==typeof w&&w(e)}))},v=function(){return function(e,t){var n=e.split(".").map((function(e){return parseInt(e)})),r=t.split(".").map((function(e){return parseInt(e)})),o="",a=0;for(a=0;a<n.length;a++)n[a]===r[a]?o+="e":n[a]>r[a]?o+="m":o+="l";return o.match(/[l|m]/g)?"m"===o.split("e").join("")[0]?1:-1:0}(a.appVersion,"3.4.0")>=0},j=e.classes,O=e.variant,x=e.size,y=e.onSuccess,w=e.onFailure,C=e.fetchCX,S=e.ndexNetworkProperties,E=!(!S||!S.summary)&&S.summary.hasLayout,N=!(!S||!S.metaData)&&(t=S.metaData,n="cyVisualProperties",!!t.find((function(e){return e&&e.name===n})));return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{disableFocusListener:!0,title:o?"Open this network in Cytoscape":"To use this feature, you need Cytoscape 3.6.0 or higher running on your machine (default port: 1234) and the CyNDEx-2 app installed",placement:"bottom"},c.a.createElement("span",null,c.a.createElement(g.a,{className:j.button,variant:O,disabled:!o,onClick:function(){if(S){var e=function(e){if(e.summary)return(e.summary.edgeCount?e.summary.edgeCount:0)+(e.summary.nodeCount?e.summary.nodeCount:0)}(S);e&&v()?e>1e5?p(!0):m(!0):m(void 0)}else{var t=new B.a.CyNDEx(s);C().then((function(e){t.postCXNetworkToCytoscape(e).then((function(e){"undefined"!==typeof y&&y(e.data)})).catch((function(e){"undefined"!==typeof w&&w(e)}))}),(function(e){"undefined"!==typeof w&&w(e)}))}},size:x},"Open In Cytoscape",c.a.createElement(_.a,{className:function(e){switch(e){case"small":return j.iconSmall;case"large":return j.iconLarge;default:return j.iconMedium}}(x)},c.a.createElement("img",{alt:"Open in Cytoscape",className:j.buttonIcon,src:o?"data:image/svg+xml,%3c%3fxml version='1.0' encoding='utf-8'%3f%3e%3c!-- Generator: Adobe Illustrator 15.0.2%2c SVG Export Plug-In . SVG Version: 6.00 Build 0) --%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='250px' height='250px' viewBox='0 0 250 250' enable-background='new 0 0 250 250' xml:space='preserve'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' fill='%23EA9123' d='M114.356%2c61.667c-0.394%2c3.877-1.521%2c7.628-3.332%2c11.074 l29.379%2c29.998c4.202-2.025%2c8.775-3.151%2c13.461-3.313l12.234-40.312c-3.125-2.317-5.785-5.212-7.828-8.522L114.356%2c61.667z M109.459%2c41.725l44.544-11.234c1.999-14.976%2c14.836-26.465%2c30.272-26.465c16.865%2c0%2c30.544%2c13.68%2c30.544%2c30.544 c0%2c16.445-13.008%2c29.861-29.291%2c30.518l-12.07%2c39.768c9.517%2c6.184%2c15.383%2c16.798%2c15.383%2c28.34c0%2c9.688-4.126%2c18.789-11.236%2c25.16 l13.215%2c26.378c1.416-0.201%2c2.848-0.3%2c4.281-0.3c16.865%2c0%2c30.544%2c13.679%2c30.544%2c30.544c0%2c16.863-13.679%2c30.543-30.544%2c30.543 s-30.544-13.68-30.544-30.543c0-7.812%2c2.965-15.229%2c8.233-20.859l-13.714-27.372c-1.335%2c0.159-2.68%2c0.24-4.026%2c0.24 c-6.841%2c0-13.444-2.051-19.033-5.872l-15.527%2c13.675c0.105%2c0.803%2c0.157%2c1.613%2c0.157%2c2.427c0%2c10.289-8.345%2c18.636-18.635%2c18.636 s-18.636-8.347-18.636-18.636c0-10.291%2c8.346-18.638%2c18.636-18.638c1.776%2c0%2c3.534%2c0.252%2c5.227%2c0.745l16.175-14.243 c-0.823-2.19-1.414-4.46-1.766-6.774l-38.559-5.194c-5.276%2c9.805-15.562%2c16.071-26.901%2c16.071c-16.865%2c0-30.543-13.68-30.543-30.543 c0-16.864%2c13.678-30.542%2c30.543-30.542c14.838%2c0%2c27.367%2c10.642%2c30.023%2c24.91l38.552%2c5.194c0.256-0.517%2c0.527-1.028%2c0.81-1.533 L96.115%2c86.588c-3.823%2c1.659-7.946%2c2.514-12.145%2c2.514c-16.864%2c0-30.543-13.679-30.543-30.543c0-16.864%2c13.679-30.543%2c30.543-30.543 C94.321%2c28.015%2c103.851%2c33.236%2c109.459%2c41.725z'/%3e%3c/svg%3e":"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='250px' height='250px' viewBox='0 0 250 250' enable-background='new 0 0 250 250' xml:space='preserve'%3e %3cimage id='image0' width='250' height='250' x='0' y='0' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAPoAAAD6BAMAAAB6wkcOAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEX//////vz%2b/Pn%2b/Pj///7%2b%2b/b%2b%2bvX//fz//v3//fv//Pr%2b%2b/f%2b%2bvaxsbH///%2b94VFyAAAADXRSTlMAAAAAAAAAAAAAAAAA7Uh4SAAAAAFiS0dEDm%2b9ME8AAAAJcEhZcwAAAEgAAABIAEbJaz4AAAAHdElNRQfjCBYXExx1gSgmAAAFFklEQVR42u3c620TQRAHcAOBBMhIbsASDUSihDRgiQaQ0ghSGojkBiLRQCQaQKIBpIUkvLcXIIng7Nt57syuk9x8jO/md/%2b59SP22bPZVFM51iJfVw8b8r9KPfGcP/fEcz7viTcefs4d%2beVYb7fyHxfwduFzsRrhT8p6o/AHuWd4BG8THjD9smf0NqPH9RSPA65/jdeXuN5g9ASej7vqKRqH7dXDT3xfPW%2bxPq9s%2b6VKTzYbpB0i9KW0RQ7Ql8IemSuLDqImO6xt0vfGXQ4NuY16oculybbowLcR2ha93MdiG3Rg%2bihsg441Mth6/QnWaKW39TrgjdS2XjcQRL11im4rr8E30X3xvrpy0TkPvq8%2bv7%2bL7sdtWnQW/ZXb4B%2bo7SNqrSh1EKuD0e6Qt4bpr272OvWJrtITt5c2ukI/Gu7mE12sJ8Fu6uhCfdz3zCO6SE%2by/fTRBXoS7mfAWT2J9zPgnI4GWnjgZn1jO%2bOHgbu0ju63vtnchpvf/xpss7LSZh0kR9hCTzX60rTovHQw6ZJtmuiHNTp54iU7VeEm/ZmbTo3%2bBb9P5SUPlH7O75PqdHL0q3B9SejIXL3ucMzokecPt0XHjP4rt0e1rg4PnjoZ/oLWU71Ohj%2bO1rWfrL721R9RPHmwcwednP04nuui%2b1sHivB77vrwXHLhfe9wo56JDu%2b15JfXPW4ezf9jG8tgw/DRH467vP65fiDF8NlDXwv4ibiN%2bHTMBx%2bloMI76KPPgtZ54tg8lvz4jjUXhh/oFyryf52N9fUgePj6JS%2b4LhI9tDfVei6WLPzgjy9N%2bH5Zl4WvXnSnZV0WvlpHcEF4GP9JW4Dpn6jNkvzaEFN04gH96kZ6VPX6ej/IdJl0EPdjdFP0hbghBOiKhv6T31E0ZMIfuZ72cRz3M0/qvzQbW2Z/qkrjHV7Xzju8MoxzeGUYJvyxq/6nvlUdLV3A6htNmR0i9EFf5nrGwyA931zJcOI4epV%2b1X5B3qz7cphaF56gTvqqq6468XdM1534Sb8zumrZ9dXhHusP670K3f3E6/SPXXXoqu/SjYJ1/r2LfTmt1/HRDzZaROl70j5nETrzTYm1euavg6INuOuq6yJZ/YNWLwZCMrC6Fi%2b3VM2pSi8se%2bz0Bejj2V%2bIt5TuSNVCmoCLnuTmoM5kOBfd4VugxD%2biEaf9qv4tvXeiQ3TWr5uvqNv5q/uNgxfVx546P/fIr13zeN/ogTqPBw6%2ba/SnXaML8JjofzsL5h4SfSlww7KfiPEAXTLxuNEjKaGJfoKFLPLeo8dPMMTryFm/um0Xu6FB9PKxueLl/9w3LmiGwnEFDn7eSH8vWthRo8eXXC99PNyg0e%2bLokfpIIoeNXoQRW%2boJ267pCNuvR4z%2bluih4z%2blugxo5fd3bvrIaM36W6HIG8qXiGNdIcfJxYOvvyExP34HFun6/2%2bq3TzJe1I04RvWdKdv6go3tDpvg/SKMXRb379Q10HwkVc1qn3fEUlHWNZ/1mpz2Q49q7S3IdnNkIm3%2biXmTNWLXBA9Rbhcb32AU9SGa94nLrWM4XrsLV69RMtW5mqu63Tn9OlYB0mHanoRztaj152edInfdIn/R7osMV632eZdKf1vq%2bs7vNrWvLEf69vX6GncJ0a/buuejze%2bb2L/a5633eNOr9jhoU/bKOXw2t/DNw3/LyVXgr/rb5tRfh2uNOvE7vxTfFNvuFJH/PN8dnsea%2bx39T1K8wXXeyptrZ%2bAwYxz8JQtX7yAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTA4LTIyVDIzOjE5OjI4KzAzOjAwjG8PswAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0wOC0yMlQyMzoxOToyOCswMzowMP0ytw8AAAAASUVORK5CYII=' /%3e%3c/svg%3e"}))))),c.a.createElement(xe,{isOpen:h,setIsOpen:p,importNetworkFunction:m,hasLayout:E,hasView:N}))},Ce=Object(k.a)(ye)(we),Se=Object(k.a)((function(){return{tooltip:{backgroundColor:"#fafafa",color:"#555555",maxWidth:"13em",fontSize:"1em",border:"1px solid #00A1DE",padding:"1.2em"}}}))(b.a),Ee=Object(M.a)({googlePanel:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}),Ne=function(e){var t=Ee(),n=e.googleSignIn,r=e.googleSSO,o=r?"google-sign-in-button":"google-sign-in-button googleButtonDisabled",a=r?"Sign in with your Google account":"Google Sign In is currently unavailable because the 'BLOCK THIRD-PARTY COOKIES' option is enabled in your web browser.To use the Google Sign In feature you can do one of two things:1. Add 'accounts.google.com' to the list of websites allowed to write / read THIRD - PARTY COOKIES, or2. Disable the 'BLOCK THIRD-PARTY COOKIES' option in your browser settings.",i=r?"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3e %3cpath fill='%23EA4335' d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z'/%3e %3cpath fill='%234285F4' d='M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z'/%3e %3cpath fill='%23FBBC05' d='M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z'/%3e %3cpath fill='%2334A853' d='M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z'/%3e %3cpath fill='none' d='M0 0h48v48H0z'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'%3e %3cpath fill='%23B6B6B6' d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z'/%3e %3cpath fill='%23B6B6B6' d='M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z'/%3e %3cpath fill='%23B6B6B6' d='M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z'/%3e %3cpath fill='%23B6B6B6' d='M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z'/%3e %3cpath fill='none' d='M0 0h48v48H0z'/%3e%3c/svg%3e";return c.a.createElement(Se,{placement:"left",disableFocusListener:r,disableHoverListener:r,title:c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{variant:"subtitle1",color:"inherit"},"Currently this feature is only available for test and public servers"),c.a.createElement(m.a,{variant:"body1"},"Server selected: "+e.ndexServer))},c.a.createElement("div",{className:t.googlePanel},c.a.createElement(g.a,{id:"googleSignInButtonId",disabled:!r,className:o,title:a,onClick:n},c.a.createElement("span",{className:"google-sign-in-button-span"},c.a.createElement("img",{src:i,alt:"",className:"googleLogo"}),c.a.createElement("div",{className:"googleSignInText"},"Sign in with Google")))))};function ke(e,t,n){return Ae.apply(this,arguments)}function Ae(){return(Ae=J(re.mark((function e(t,n,r){var o,a,i,c,s,l,u,d;return re.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="Basic "+btoa(t+":"+n),a={authorization:o},i=r+"/v2/user?valid=true",e.next=5,fetch(i,{method:"GET",headers:a});case 5:return c=e.sent,s=c.status,e.next=9,c.json();case 9:return l=e.sent,u=null,c.ok||(u=l,l=null),d={status:s,userData:l,error:u},e.abrupt("return",d);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ie=Object(M.a)({root:{padding:0,margin:0,display:"flex",flexDirection:"column",height:"100%",alignItems:"center",justifyContent:"center"},progress:{padding:"0.3em"}}),De=function(e){var t=Ie();return c.a.createElement("div",{className:t.root},c.a.createElement(q.a,{size:"3em",className:t.progress}),c.a.createElement(m.a,{variant:"subtitle1"},e.message))},Le=Object(M.a)({root:{height:"100%",width:"23em",padding:"0.3em",margin:0,display:"flex",flexDirection:"column",justifyContent:"center"},loginButton:{width:"100%",marginTop:"0.5em","background-color":"#337ab7","text-transform":"none"},formControl:{width:"100%"},error:{paddingLeft:"0.5em"},errorPanel:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"0.5em",height:"3em"},blank:{marginTop:"0.5em",width:"100%"},userInfo:{width:"100%"},signup:{height:"100%",display:"grid",justifyContent:"left",alignItems:"center",flexGrow:1}}),Te="id",Pe="password",_e=function(e){var t=e.onSuccessLogin,n=e.handleNDExSignOn,r=e.ndexServer,o=e.setContentMode,a=Le(),s=Object(i.useState)(!1),l=s[0],u=s[1],d=Object(i.useState)(!0),f=d[0],h=d[1],p=Object(i.useState)(""),b=p[0],v=p[1],j=Object(i.useState)(""),O=j[0],y=j[1],w=Object(i.useState)(null),C=w[0],S=w[1];Object(i.useEffect)((function(){h(""===b||""===O)}),[b,O]);var E=function(e){return function(t){var n=t.target.value;e===Te?v(n):e===Pe&&y(n),h(""===b||""===O)}};return l?c.a.createElement(De,{message:"Validating your user info..."}):c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(!0),S(null),ke(b,O,r).then((function(e){setTimeout((function(){u(!1);var o=e.error,a=e.userData;null!==o&&void 0!==o.message?S(o.message):n({id:b,password:O,ndexServer:r,fullName:a.firstName+" "+a.lastName,image:a.image,details:a},t)}),500)}))},className:a.root},c.a.createElement("div",{className:a.userInfo},c.a.createElement(x.a,{className:a.formControl},c.a.createElement(A.a,{name:"id",type:"text",placeholder:"Your NDEx ID",required:!0,title:"",autoComplete:"username",onChange:E("id")})),c.a.createElement(x.a,{className:a.formControl},c.a.createElement(A.a,{name:"password",type:"password",placeholder:"Password",required:!0,title:"",autoComplete:"password",onChange:E("password")})),c.a.createElement(g.a,{className:a.loginButton,type:"submit",variant:"contained",color:"secondary",disabled:f},"Sign In with NDEx")),c.a.createElement("div",{className:a.signup},c.a.createElement(m.a,{variant:"body1"},c.a.createElement("a",{href:"#",onClick:function(){o("FORGOT_PASSWORD")}},"Forgot your password?")),c.a.createElement(m.a,{variant:"body2"},"Need an account? ",c.a.createElement("a",{href:"#",onClick:function(){o("SIGN_UP")}},"Click here to sign up!"))),C?c.a.createElement("div",{className:a.errorPanel},c.a.createElement(H.a,{color:"error"}),c.a.createElement(m.a,{className:a.error,variant:"body1",color:"error"},C)):c.a.createElement("div",{className:a.blank}))},Re=Object(M.a)({root:{height:"18em",margin:0,padding:"0.6em",display:"flex",minWidth:"30em"},leftComponent:{display:"flex",height:"100%",alignItem:"center",justifyContent:"center",marginRight:"0.6em"},rightComponent:{height:"100%",marginLeft:"0.6em",flexGrow:1}}),Be=function(e){var t=Re(),n=e.onLoginSuccess,r=e.onSuccess,o=e.handleNDExSignOn,a=e.onSuccessLogin,i=e.onError,s=e.ndexServer,l=e.googleSignIn,u=e.googleSSO,d=e.setContentMode;return c.a.createElement("div",{className:t.root},c.a.createElement("div",{className:t.leftComponent},c.a.createElement(Ne,{onError:i,onLoginSuccess:n,onSuccess:r,ndexServer:s,googleSignIn:l,googleSSO:u})),c.a.createElement(E.a,{orientation:"vertical",flexItem:!0}),c.a.createElement("div",{className:t.rightComponent},c.a.createElement(_e,{handleNDExSignOn:o,onSuccessLogin:a,ndexServer:s,setContentMode:d})))},Fe=Object(M.a)({signUpHeader:{display:"flex",flexDirection:"column",padding:"1.2em",alignItems:"center",justifyContent:"center"},item:{alignSelf:"normal",marginRight:"1em",marginLeft:"1em"},leftItem:{paddingRight:"1em"},rightItem:{paddingRight:"0em"},lastItem:{alignSelf:"flex-end"},textItem:{paddingBottom:"1em"}}),ze=function(e){var t=Fe(),n=e.handleNDExSignOn,r=e.onSuccessLogin,o=e.onWaitForEmailValidation,a=Object(i.useContext)(ve).ndexServerURL,s=Object(i.useState)(""),l=s[0],u=s[1],d=Object(i.useState)(""),f=d[0],h=d[1],p=Object(i.useState)(""),b=p[0],v=p[1],j=Object(i.useState)(""),O=j[0],x=j[1],y=Object(i.useState)(""),C=y[0],S=y[1],E=Object(i.useState)(""),N=E[0],k=E[1],D=Object(i.useState)(!1),L=D[0],T=D[1],P=Object(i.useState)(),_=P[0],R=P[1],B=Object(i.useState)(!1),F=B[0],z=B[1],M=function(e){var t=Object(i.useState)(!1),n=t[0],r=t[1],o=Object(i.useState)(),a=o[0],c=o[1],s=Object(i.useState)(),l=s[0],u=s[1],d=function(){var t=J(re.mark((function t(n){var o;return re.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),c(void 0),u(void 0),t.next=6,be(e,"v2",n);case 6:return o=t.sent,u(o.parsedBody),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),c("Cannot create user: "+t.t0),r(!1),t.t0;case 16:return t.prev=16,r(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,11,16,19]])})));return function(e){return t.apply(this,arguments)}}();return{isLoading:n,error:a,data:l,execute:Object(i.useCallback)(d,[])}}(a),G=M.isLoading,U=M.error,H=M.execute,q=function(e){switch(e.target.name){case"firstName":u(e.target.value);break;case"lastName":h(e.target.value);break;case"userName":v(e.target.value);break;case"emailAddress":x(e.target.value);break;case"password":S(e.target.value);break;case"confirmPassword":k(e.target.value);break;case"readAgreement":T(e.target.checked)}};return F?c.a.createElement("div",{className:t.signUpHeader},c.a.createElement("div",{className:t.item},c.a.createElement(m.a,{variant:"h6",className:t.textItem},"Check Your Email"),c.a.createElement(m.a,{variant:"subtitle2",className:t.textItem},"ALMOST DONE!"),c.a.createElement(m.a,{variant:"body1",className:t.textItem},'We sent a verification link to the e-mail address you provided. Please check your email and follow the instructions to complete your registration. You must complete your registration within 24 hours. Can\'t find the email? Make sure to check your SPAM folder and add "support@ndexbio.org" to your safe-senders list.'))):c.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=l.length<1||f.length<1||b.length<1||O.length<1||C.length<1||N.length<1?"Please fill out all fields.":fe(O)?C!==N?"Passwords do not match":C.length<8?"Password must be a minimum of 8 characters":L?null:"Please read and sign the Terms & Conditions":"Please enter a valid email.";if(null===t){var i={userName:b,firstName:l,lastName:f,emailAddress:O,password:C};H(i).then((function(e){e.parsedBody&&e.parsedBody.length>0?function(e,t){R(void 0),ke(e,t,a).then((function(e){setTimeout((function(){null!==e.error?R(e.error.message):n({id:e.userData.userName,password:t,ndexServer:a,fullName:e.userData.firstName+" "+e.userData.lastName,image:e.userData.image,details:e.userData},r)}),500)}))}(i.userName,i.password):(z(!0),o())})).catch((function(e){R("Cannot create user: "+e)}))}else R(t)}},c.a.createElement("div",{className:t.signUpHeader},c.a.createElement("div",{className:t.item},c.a.createElement(A.a,{name:"firstName",label:"First Name",value:l,onChange:q,className:t.leftItem}),c.a.createElement(A.a,{name:"lastName",label:"Last Name",value:f,onChange:q,className:t.rightItem})),c.a.createElement(A.a,{name:"userName",label:"Username",value:b,onChange:q,className:t.item}),c.a.createElement(A.a,{name:"emailAddress",label:"E-Mail Address",value:O,onChange:q,className:t.item}),c.a.createElement(A.a,{name:"password",label:"Password",type:"password",value:C,onChange:q,autoComplete:"current-password",className:t.item}),c.a.createElement(A.a,{name:"confirmPassword",label:"Confirm Password",type:"password",value:N,onChange:q,autoComplete:"current-password",className:t.item}),c.a.createElement(w.a,{className:t.item,control:c.a.createElement(I.a,{checked:L,onChange:q,name:"readAgreement",color:"secondary"}),label:c.a.createElement(m.a,{variant:"body1"},"I have read and accept the"," ",c.a.createElement("a",{href:"https://home.ndexbio.org/disclaimer-license/",target:"_blank",rel:"noreferrer"},"Terms & Conditions"))}),_||U&&c.a.createElement(m.a,null,_||U),c.a.createElement(g.a,{color:"secondary",variant:"outlined",className:t.lastItem,disabled:G,type:"submit"},"Sign Up")))},Me=Object(M.a)({root:{padding:"0.6em",width:"40em",height:"7em",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},textArea:{flexGrow:1,marginRight:"0.3em"},itemRight:{}}),Ge=function(e){var t=e.onSuccessReset,n=void 0===t?function(){}:t,r=e.onFailReset,o=void 0===r?function(){}:r,a=Me(),s=Object(i.useContext)(ve).ndexServerURL,l=Object(i.useState)(""),u=l[0],d=l[1],f=function(e){var t=Object(i.useState)(!1),n=t[0],r=t[1],o=Object(i.useState)(),a=o[0],c=o[1],s=Object(i.useState)(),l=s[0],u=s[1],d=function(){var t=J(re.mark((function t(n){var o;return re.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),c(void 0),u(void 0),t.next=6,pe(e,"v2",n);case 6:return o=t.sent,u(o),t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(0),c("Cannot find user."),r(!1),t.t0;case 16:return t.prev=16,r(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,11,16,19]])})));return function(e){return t.apply(this,arguments)}}();return{isLoading:n,error:a,data:l,execute:Object(i.useCallback)(d,[])}}(s),h=f.isLoading,p=f.error,b=f.data,m=f.execute;return c.a.createElement("div",{className:a.root},c.a.createElement(A.a,{variant:"outlined",className:a.textArea,error:u.trim().length<0,helperText:p||(b?"Sent a new password to e-mail of record":void 0),name:"id",type:"text",placeholder:"",required:!0,label:"Account Name or E-Mail",autoComplete:"username",value:u,onChange:function(e){var t=e.target.value;d(t)}}),c.a.createElement(g.a,{size:"large",color:"secondary",className:a.itemRight,variant:"outlined",disabled:u.trim().length<1||h,onClick:function(){m(u).then((function(){n(u)})).catch((function(e){o(e)}))}},"Reset Password"))},Ue=Object(M.a)({signInHeader:{display:"flex",flexDirection:"column",padding:"1.2em",alignItems:"center",justifyContent:"center"},item:{alignSelf:"normal",marginRight:"1em",marginLeft:"1em",marginTop:"1em"},lastItem:{alignSelf:"flex-end"}}),He=function(e){var t=e.oauth,n=e.onGoogleAgreement,r=Ue(),o=Object(i.useContext)(ve).ndexServerURL,a=Object(i.useState)(),s=a[0],l=a[1],u=function(e){var t=Object(i.useState)(!1),n=t[0],r=t[1],o=Object(i.useState)(),a=o[0],c=o[1],s=Object(i.useState)(),l=s[0],u=s[1],d=function(){var t=J(re.mark((function t(n,o){var a;return re.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(!0),c(void 0),u(void 0),t.next=6,me(e,"v2",n,o);case 6:return a=t.sent,u(a.parsedBody),t.abrupt("return",a);case 11:throw t.prev=11,t.t0=t.catch(0),c("Cannot create user: "+t.t0),r(!1),t.t0;case 16:return t.prev=16,r(!1),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,11,16,19]])})));return function(e,n){return t.apply(this,arguments)}}();return{isLoading:n,error:a,data:l,execute:Object(i.useCallback)(d,[])}}(o),d=u.isLoading,f=u.error,h=u.execute;console.log("terms and condition ndexServerUrl"+o);var p=Object(i.useState)(!1),b=p[0],v=p[1];return c.a.createElement("div",{className:r.signInHeader},c.a.createElement(m.a,{className:r.item},"No account was found in NDEx for the selected email address, so we are creating one for you."),c.a.createElement(m.a,{className:r.item},"Please review and accept our Terms and Conditions and then click the 'Sign Up' button to complete your registration."),c.a.createElement(w.a,{className:r.item,control:c.a.createElement(I.a,{checked:b,onChange:function(e){console.log("set agreement to checked"),v(e.target.checked)},name:"readAgreement",color:"secondary"}),label:c.a.createElement(m.a,{variant:"body1"},"I have read and accept the"," ",c.a.createElement("a",{href:"https://home.ndexbio.org/disclaimer-license/",target:"_blank",rel:"noreferrer"},"Terms & Conditions"))}),s||f&&c.a.createElement(m.a,null,s||f),c.a.createElement(g.a,{onClick:function(e){console.log("agreeAction",e),l(void 0),console.log("agreeaction tokenId=",t.tokenId),console.log("agreeaction email=",t.profileObj.email),h(t.tokenId,t.profileObj.email).then((function(){n(t)})).catch((function(e){console.log(e),l("Cannot create user account.")}))},disabled:!b||d,className:r.lastItem},"Sign Up"))},qe="SIGN_IN",Ve="FORGOT_PASSWORD",We="SIGN_TERMS_AND_CONDITIONS",Xe="SIGN_UP",Ye={SIGN_IN:"Sign in to your NDEx Account",FORGOT_PASSWORD:"Reset Password",SIGN_TERMS_AND_CONDITIONS:"Create New Account",SIGN_UP:"Sign Up for NDEx"},Qe=Object(M.a)({root:{padding:0,margin:0},content:{padding:0,margin:0},title:{color:"#444444","padding-top":"0.8em","padding-bottom":"0em"},titleWrapper:{display:"flex",alignItems:"center"},ndexLogo:{height:"3em",marginRight:"1em"},actionPanel:{margin:0,padding:"0.3em"},userIcon:{height:"1.5em",width:"1.5em"}}),Ze=function(e){var t=Qe(),n=e.isOpen,r=e.setDialogState,o=e.ndexServer,a=e.onLoginSuccess,s=e.onLogout,l=e.handleNDExSignOn,u=e.onSuccessLogin,d=e.onGoogleSuccess,f=e.onError,h=e.handleError,p=e.errorMessage,b=e.signIn,x=e.googleSSO,y=e.onGoogleAgreement,w=Object(i.useContext)(ve).loginInfo,C=Object(i.useState)(qe),S=C[0],k=C[1],A=Ye[S];return c.a.createElement(v.a,{className:t.root,open:n},null!==w?c.a.createElement("div",null):c.a.createElement(j.a,{disableTypography:!0,className:t.title},c.a.createElement("div",{className:t.titleWrapper},c.a.createElement("img",{src:"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8' standalone='no'%3f%3e%3c!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' 'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg width='100%25' height='100%25' viewBox='0 0 168 96' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' xmlns:serif='http://www.serif.com/' style='fill-rule:evenodd%3bclip-rule:evenodd%3bstroke-linejoin:round%3bstroke-miterlimit:1.41421%3b'%3e %3cg transform='matrix(1.00115%2c0%2c0%2c1.00115%2c-316.233%2c-299.117)'%3e %3cpath d='M476.004%2c357.34C474.592%2c358.717 473.114%2c359.978 471.565%2c361.124C470.017%2c362.274 468.49%2c363.326 466.98%2c364.28C462.213%2c366.822 457.633%2c369.782 452.696%2c371.907C451.105%2c372.591 449.483%2c373.302 447.837%2c374.023C446.195%2c374.75 444.557%2c375.43 442.929%2c376.059C441.301%2c376.69 439.666%2c377.366 438.021%2c378.094C434.697%2c379.239 431.403%2c380.365 428.13%2c381.471C424.861%2c382.575 421.531%2c383.645 418.143%2c384.678C416.465%2c385.095 414.823%2c385.571 413.216%2c386.107C408.346%2c387.721 403.072%2c389.139 398.069%2c390.167C396.6%2c390.432 395.219%2c390.098 393.93%2c389.155C392.646%2c388.216 391.89%2c386.921 391.664%2c385.276C391.441%2c383.626 391.715%2c382.067 392.476%2c380.593C393.69%2c378.262 396.377%2c377.723 398.602%2c377.411C402.617%2c376.844 406.82%2c375.481 410.791%2c374.554C412.413%2c374.174 414.066%2c373.771 415.743%2c373.352C419.027%2c372.398 422.289%2c371.465 425.521%2c370.547C428.757%2c369.634 431.984%2c368.643 435.201%2c367.576C438.421%2c366.505 441.622%2c365.41 444.808%2c364.282C450.988%2c362.09 457.287%2c359.386 463.063%2c356.059C467.481%2c353.493 474.124%2c349.643 476.136%2c343.894C481.577%2c322.788 413.755%2c324.268 418.017%2c322.959C434.948%2c321.684 458.422%2c318.806 474.752%2c327.857C475.229%2c328.164 475.66%2c328.46 476.05%2c328.751C476.438%2c329.037 476.872%2c329.336 477.35%2c329.642C487.915%2c337.267 483.68%2c349.982 476.004%2c357.34ZM323.533%2c338.902C324.946%2c337.524 326.425%2c336.264 327.973%2c335.117C329.522%2c333.968 331.05%2c332.916 332.56%2c331.963C337.327%2c329.42 341.907%2c326.46 346.844%2c324.335C348.434%2c323.651 350.055%2c322.94 351.701%2c322.218C353.345%2c321.493 354.982%2c320.813 356.61%2c320.184C358.237%2c319.551 359.874%2c318.876 361.52%2c318.149C364.841%2c317.003 368.135%2c315.876 371.407%2c314.772C374.676%2c313.666 378.007%2c312.596 381.396%2c311.565C383.073%2c311.149 384.715%2c310.67 386.325%2c310.136C391.194%2c308.521 396.466%2c307.104 401.472%2c306.076C402.939%2c305.81 404.319%2c306.146 405.608%2c307.087C406.892%2c308.026 407.649%2c309.321 407.874%2c310.966C408.098%2c312.616 407.824%2c314.176 407.061%2c315.648C405.849%2c317.98 403.162%2c318.519 400.936%2c318.831C396.921%2c319.397 392.719%2c320.761 388.748%2c321.69C387.126%2c322.069 385.473%2c322.47 383.796%2c322.889C380.511%2c323.842 377.25%2c324.777 374.018%2c325.695C370.783%2c326.608 367.556%2c327.6 364.337%2c328.667C361.119%2c329.739 357.916%2c330.833 354.729%2c331.96C348.549%2c334.152 342.251%2c336.855 336.475%2c340.184C332.059%2c342.751 325.414%2c346.598 323.402%2c352.349C317.962%2c373.455 385.784%2c371.974 381.52%2c373.284C364.59%2c374.559 341.116%2c377.435 324.786%2c368.383C324.31%2c368.078 323.878%2c367.781 323.49%2c367.491C323.1%2c367.205 322.666%2c366.906 322.19%2c366.6C311.623%2c358.974 315.858%2c346.26 323.533%2c338.902ZM404.292%2c345.792L413.935%2c343.905C414.564%2c345.954 416.385%2c347.319 418.399%2c347.085C420.761%2c346.81 422.496%2c344.441 422.275%2c341.793C422.053%2c339.143 419.958%2c337.219 417.595%2c337.494C415.427%2c337.746 413.802%2c339.747 413.705%2c342.112L403.973%2c344.017C403.721%2c343.287 403.331%2c342.64 402.844%2c342.11L415.539%2c317.516C416.68%2c317.97 417.929%2c318.154 419.219%2c318.003C423.874%2c317.463 427.294%2c312.792 426.857%2c307.572C426.42%2c302.353 422.291%2c298.56 417.635%2c299.102C412.981%2c299.643 409.561%2c304.313 409.998%2c309.532C410.221%2c312.191 411.405%2c314.483 413.128%2c316.018L400.391%2c340.696C400.154%2c340.647 399.913%2c340.617 399.667%2c340.611L398.446%2c332.307C400.413%2c331.441 401.722%2c329.19 401.515%2c326.724C401.267%2c323.756 398.919%2c321.599 396.272%2c321.907C393.625%2c322.215 391.681%2c324.871 391.929%2c327.838C392.169%2c330.697 394.344%2c332.793 396.863%2c332.679L398.064%2c340.863C397.317%2c341.128 396.655%2c341.588 396.116%2c342.186L388.289%2c335.971C388.625%2c335.19 388.782%2c334.301 388.705%2c333.377C388.48%2c330.689 386.353%2c328.735 383.955%2c329.013C381.557%2c329.292 379.796%2c331.699 380.02%2c334.387C380.246%2c337.075 382.373%2c339.029 384.771%2c338.751C385.81%2c338.63 386.724%2c338.112 387.415%2c337.345L395.22%2c343.544C394.828%2c344.382 394.626%2c345.339 394.673%2c346.34L394.673%2c346.336L387.142%2c347.81C386.655%2c346.141 385.186%2c345.024 383.559%2c345.213C381.671%2c345.433 380.283%2c347.327 380.461%2c349.443C380.638%2c351.56 382.313%2c353.098 384.201%2c352.878C385.97%2c352.673 387.301%2c350.982 387.312%2c349.023L394.851%2c347.547C395.063%2c348.371 395.441%2c349.106 395.939%2c349.708L383.245%2c375.596C382.183%2c375.231 381.037%2c375.094 379.86%2c375.231C375.141%2c375.779 371.674%2c380.515 372.117%2c385.805C372.56%2c391.096 376.746%2c394.941 381.465%2c394.392C386.183%2c393.843 389.649%2c389.109 389.206%2c383.818C388.967%2c380.961 387.635%2c378.522 385.715%2c376.973L398.32%2c351.268C398.832%2c351.407 399.376%2c351.45 399.931%2c351.386C400.121%2c351.364 400.309%2c351.329 400.491%2c351.284L403.936%2c360.169C402.257%2c361.443 401.184%2c363.138 401.432%2c366.094C401.68%2c369.048 404.492%2c372.134 407.613%2c371.772C410.733%2c371.409 413.026%2c368.278 412.733%2c364.779C412.434%2c361.209 408.135%2c358.61 405.783%2c359.249L402.329%2c350.337C403.571%2c349.299 404.345%2c347.621 404.292%2c345.792ZM399.159%2c342.173C401.05%2c341.952 402.728%2c343.494 402.905%2c345.614C403.082%2c347.733 401.694%2c349.631 399.803%2c349.851C397.912%2c350.071 396.234%2c348.529 396.057%2c346.409C395.879%2c344.29 397.268%2c342.392 399.159%2c342.173ZM380.088%2c377.967C383.459%2c377.575 386.45%2c380.323 386.766%2c384.102C387.082%2c387.882 384.606%2c391.265 381.235%2c391.656C377.864%2c392.048 374.874%2c389.301 374.558%2c385.521C374.241%2c381.741 376.718%2c378.359 380.088%2c377.967ZM406.703%2c360.91C408.932%2c360.651 410.91%2c362.468 411.119%2c364.967C411.328%2c367.467 409.691%2c369.703 407.462%2c369.962C405.232%2c370.222 403.254%2c368.405 403.045%2c365.906C402.836%2c363.406 404.474%2c361.169 406.703%2c360.91ZM396.4%2c323.442C398.291%2c323.221 399.969%2c324.763 400.147%2c326.883C400.325%2c329.003 398.935%2c330.901 397.044%2c331.12C395.153%2c331.34 393.475%2c329.799 393.298%2c327.679C393.12%2c325.559 394.51%2c323.661 396.4%2c323.442ZM384.071%2c330.404C385.784%2c330.205 387.304%2c331.602 387.465%2c333.521C387.626%2c335.442 386.366%2c337.161 384.655%2c337.36C382.942%2c337.559 381.422%2c336.162 381.261%2c334.243C381.1%2c332.322 382.359%2c330.603 384.071%2c330.404ZM383.65%2c346.308C384.998%2c346.151 386.194%2c347.25 386.321%2c348.762C386.448%2c350.274 385.457%2c351.627 384.109%2c351.784C382.761%2c351.941 381.564%2c350.841 381.438%2c349.33C381.311%2c347.819 382.302%2c346.465 383.65%2c346.308ZM417.71%2c338.864C419.397%2c338.668 420.894%2c340.043 421.053%2c341.935C421.211%2c343.826 419.971%2c345.52 418.285%2c345.716C416.598%2c345.912 415.101%2c344.536 414.942%2c342.645C414.784%2c340.754 416.024%2c339.059 417.71%2c338.864ZM417.862%2c301.802C421.187%2c301.415 424.136%2c304.126 424.448%2c307.852C424.76%2c311.58 422.317%2c314.917 418.993%2c315.303C415.668%2c315.69 412.719%2c312.98 412.407%2c309.252C412.094%2c305.525 414.537%2c302.188 417.862%2c301.802' style='fill:rgb(0%2c161%2c222)%3b'/%3e %3c/g%3e%3c/svg%3e",alt:"NDEx Logo",className:t.ndexLogo}),c.a.createElement("div",null,c.a.createElement(m.a,{variant:"subtitle1"},A)))),c.a.createElement(O.a,{className:t.content},function(){switch(S){case qe:return c.a.createElement(Be,{setDialogState:r,onLoginSuccess:a,onLogout:s,handleNDExSignOn:l,onSuccessLogin:u,onSuccess:d,onError:f,handleError:h,error:p,ndexServer:o,googleSignIn:b,googleSSO:x,setContentMode:k});case Xe:return c.a.createElement(ze,{ndexServer:o,handleNDExSignOn:l});case Ve:return c.a.createElement(Ge,null);case We:return c.a.createElement(He,{ndexServer:o,onGoogleAgreement:y});default:return c.a.createElement("div",null)}}()),c.a.createElement(E.a,null),c.a.createElement(N.a,{className:t.actionPanel},S!==qe&&c.a.createElement(g.a,{variant:"outlined",onClick:function(){k(qe)}},"Back"),c.a.createElement(g.a,{variant:"contained",onClick:function(){r(!1),k(qe)},color:"default"},"Close")))},Ke=Object(h.a)((function(e){return Object(p.a)({accountPopover:{padding:e.spacing(2)},item:{padding:0,marginBottom:e.spacing(1)},largeAvatar:{backgroundColor:W.a[500],width:e.spacing(10),height:e.spacing(10)}})})),Je=function(e){var t=Ke(),n=e.userId,r=e.userImage,o=e.userName,a=e.onLogout,i=e.anchorEl,s=e.isOpen,l=e.onClose,u=e.myAccountURL;return c.a.createElement(V.a,{id:"account-popper",classes:{paper:t.accountPopover},onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},anchorEl:i,open:s,disableRestoreFocus:!0},c.a.createElement(D.a,{justifyContent:"center",alignItems:"center",container:!0,direction:"column"},c.a.createElement(D.a,{item:!0,className:t.item,justifyContent:"center",alignItems:"center"},c.a.createElement(L.a,{className:t.largeAvatar,src:r},function(e){return void 0===e||null===e||0===e.length?"?":e.substring(0,1).toUpperCase()}(o))),c.a.createElement(D.a,{item:!0,className:t.item},c.a.createElement(m.a,{variant:"h6"},o)),c.a.createElement(D.a,{item:!0,className:t.item},c.a.createElement(m.a,{variant:"body2"},"You are logged in as ",n)),c.a.createElement(D.a,{item:!0,direction:"row",container:!0,spacing:1},c.a.createElement(D.a,{item:!0},u&&c.a.createElement(g.a,{variant:"outlined",href:u,rel:"noopener"},"Go to My Account")),c.a.createElement(D.a,{item:!0},c.a.createElement(g.a,{variant:"outlined",color:"secondary",onClick:function(){l(),a()}},"Sign Out")))))},$e=function(e,t){var n={isGoogle:!1,loginDetails:e},r={externalId:e.details.externalId,firstName:e.details.firstName,lastName:e.details.lastName,token:e.password,userName:e.id};window.localStorage.setItem("loggedInUser",JSON.stringify(r)),t(n)},et=Object(h.a)((function(e){return Object(p.a)({iconButton:{backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}},iconSmall:{color:"#FFFFFF",backgroundColor:W.a[500],height:e.spacing(3),width:e.spacing(3)},iconMedium:{color:"#FFFFFF",backgroundColor:W.a[500],height:e.spacing(5),width:e.spacing(5)},iconLarge:{color:"#FFFFFF",backgroundColor:W.a[500],height:e.spacing(7),width:e.spacing(7)},logoutIconSmall:{color:W.a[500],height:e.spacing(3),width:e.spacing(3)},logoutIconMedium:{color:W.a[500],height:e.spacing(5),width:e.spacing(5)},logoutIconLarge:{color:W.a[500],height:e.spacing(7),width:e.spacing(7)}})})),tt=function(e){console.warn("Default handler: NDEx login state updated",e)},nt=function(e){var t=et(),n=Object(i.useContext)(ve),r=n.ndexServerURL,o=n.loginInfo,a=n.setLoginInfo,s=n.googleClientId,l=n.userProfile,u=n.isUserProfileLoading,d=n.getUserProfile,f=e.onLoginStateUpdated,h=e.myAccountURL,p=tt;null!==f&&void 0!==f&&(p=f);var g=Object(i.useState)(!1),m=g[0],v=g[1],j=function(e){v(e)},O=c.a.useState(null),x=O[0],y=O[1],w=Boolean(x),C=e.variant,E=e.size,N=Object(i.useState)(""),k=N[0],A=N[1],I=function(){o.isGoogle?M():window.localStorage.removeItem("loggedInUser"),a(null),f(null),j(!1)},D=function(e){console.log("onGoogleSuccess called"),se(r,"v2",{loaded:!0,isLogin:!0,isGoogle:!0,oauth:e}.oauth.profileObj.email).then((function(){T(e)})).catch((function(e){a(null),d(null),f(null),console.warn("Get by email failed:",e)}))},T=function(e){var t={isGoogle:!0,loginDetails:e};P(e),R(t)},P=function(e){var t=1e3*(e.expires_in||3300);console.log("Will refresh auth token in "+t);var n=function(){var r=J(re.mark((function r(){var o;return re.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.reloadAuthResponse();case 2:o=r.sent,t=1e3*(o.expires_in||3300),console.log("newAuthRes: ",o),console.log("Will refresh auth token in "+t),_(e,o),setTimeout(n,t);case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();setTimeout(n,t)},_=function(e,t){var n=e;console.log("Login Details",n);var r=Object.assign({},n);r.id_token=t.id_token,console.log("Refreshed Login Details",r);var o={isGoogle:!0,loginDetails:r};a(o),f(o)},R=function(e){a(e),console.log("onSuccess loginInfo: ",e),e.isGoogle?d(e.loginDetails.profileObj.email):d(e.loginDetails.details.emailAddress),f(e),j(!1)},B=!0;void 0!==s&&null!==s||(B=!1);var F=function(t){var n=t.details&&t.details.startsWith("Not a valid origin for the client: http://localhost:")||t.error&&t.error||JSON.stringify(t);e.onError(n,!1)},z=Object(X.useGoogleLogin)({clientId:s,scope:"profile email",onSuccess:D,onFailure:F,onAutoLoadFinished:function(e){var t=window.localStorage.getItem("loggedInUser");if(t){var n=JSON.parse(t);ke(n.userName,n.token,r).then((function(e){null!==e.error?(A(e.error.message),a(null),f(null)):$e({id:n.userName,password:n.token,ndexServerURL:r,fullName:e.userData.firstName+" "+e.userData.lastName,image:e.userData.image,details:e.userData},R)}))}else e||(a(null),f(null))},isSignedIn:!0,fetchBasicProfile:!0}).signIn,M=Object(X.useGoogleLogout)({clientId:s,onLogoutSuccess:function(){},onFailure:F}).signOut,G=function(e){switch(e){case"small":return t.iconSmall;case"large":return t.iconLarge;default:return t.iconMedium}},H=function(e){switch(e){case"small":return t.logoutIconSmall;case"large":return t.logoutIconLarge;default:return t.logoutIconMedium}},q=o&&l&&!u?l.userName:"(Not logged in)",V=o&&l&&!u?l.firstName+" "+l.lastName:"",W=o&&l&&!u?l.image:void 0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{disableFocusListener:!0,title:o&&l&&!u?"Signed in as "+l.userName:"Sign in to NDEx",placement:"bottom"},c.a.createElement(S.a,{className:t.iconButton,variant:C,onClick:function(e){o?y(e.currentTarget):j(!0)},size:E},o&&l&&!u?c.a.createElement(L.a,{className:G(E),src:l.image},l.image?"":l.userName.trim().substring(0,1)):c.a.createElement(U.a,{className:H(E)}))),c.a.createElement(Ze,{setDialogState:j,isOpen:m,ndexServer:r,onLoginStateUpdated:p,myAccountURL:h,onLoginSuccess:function(e){console.log("Login success",e)},onLogout:I,handleNDExSignOn:$e,onSuccessLogin:R,onGoogleSuccess:D,onError:function(t){e.handleError(t)},handleError:function(e){console.log("Error:",e),A(e)},errorMessage:k,signIn:z,googleSSO:B,onGoogleAgreement:T}),c.a.createElement(Je,{userName:V,userId:q,userImage:W,isOpen:w,anchorEl:x,onClose:function(){y(null)},myAccountURL:h,onLogout:I}))},rt=function(){return{button:{color:"#4DA1DE",borderColor:"#4DA1DE","&:active":{borderColor:"#4DA1DE"},"line-height":0},iconSmall:{height:"22px"},iconMedium:{height:"24px"},iconLarge:{height:"26px"},buttonIcon:{fontSizeSmall:"22px",fontSizeLarge:"26px"},toolTipSpan:{}}},ot=function(e){var t=e.classes,n=Object(i.useContext)(ve),r=n.ndexServerURL,o=n.loginInfo,a=e.disabled,s=e.tooltip,l=e.onSuccess,u=e.onFailure,d=e.variant,f=e.fetchCX,h=e.size;return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{disableFocusListener:!0,title:s||"Save to NDEx"},c.a.createElement("span",null,c.a.createElement(g.a,{className:t.button,variant:d,onClick:function(){var e=new B.a.NDEx(r+"/v2");o&&(o.isGoogle?e.setAuthToken(o.loginDetails.tokenId):e.setBasicAuth(o.loginDetails.id,o.loginDetails.password)),f().then((function(t){e.createNetworkFromRawCX(t).then((function(e){"undefined"!==typeof l&&l(e)})).catch((function(e){"undefined"!==typeof u&&u(e)}))}),(function(e){"undefined"!==typeof u&&u(e)}))},disabled:a||!o,size:h},c.a.createElement(Q.a,{className:function(e){switch(e){case"small":return t.iconSmall;case"large":return t.iconLarge;default:return t.iconMedium}}(h)})))))},at=Object(k.a)(rt)(ot),it=n(11),ct=n(56),st=n(55),lt=n(530),ut=n(152),dt=n(553),ft=n(518),ht=n(83),pt=n(134),bt=n(166),gt=n(172),mt=n(517),vt=n(542),jt={highlightColor:[255,0,0],radiusScale:.2,radiusMinPixels:1,radiusMaxPixels:1500},Ot=n(543),xt=n(544),yt=function(e,t,n,r){return new xt.a({id:"edge-layer-3d",data:e,getSourcePosition:function(e){var n=t.get(e.s);return n?[n.position[0],n.position[1]]:[0,0,0]},getTargetPosition:function(e){var n=t.get(e.t);return n?[n.position[0],n.position[1]]:[0,0,0]},getSourceColor:function(e){return e.color},getTargetColor:function(e){return e.color},strokeWidth:.1,visible:n,pickable:r,widthScale:.1,autoHighlight:!0,highlightColor:[0,255,0]})},wt=function(e,t,n,r,o,a,i,c){if(n)return[yt(e[0],t,r,o)];var s=[];return e.forEach((function(e){var n=function(e,t,n,r,o,a){return new Ot.a({id:"edge-layer",data:e,getSourcePosition:function(e){var n=t.get(e.s);return n?[n.position[0],n.position[1]]:[0,0,0]},getTargetPosition:function(e){var n=t.get(e.t);return n?[n.position[0],n.position[1]]:[0,0,0]},getColor:function(e){return o.has(e.id)?[255,255,0,225]:e.color},getWidth:function(e){return o.has(e.id)?1.3*e.width:e.width},updateTriggers:{getColor:a,getWidth:a},visible:n,pickable:r,widthScale:.16,widthMinPixels:1,widthMaxPixels:10,autoHighlight:!0,highlightColor:[255,0,0]})}(e,t,r,o,i,c);s.push(n)})),s},Ct=n(533),St=n(532),Et=function(e){Object(bt.a)(n,e);var t=Object(gt.a)(n);function n(e){return Object(ht.a)(this,n),t.call(this,e)}return Object(pt.a)(n,[{key:"onClick",value:function(e){return e}},{key:"getPickingInfo",value:function(e){var t=this.props,n=e.mode,r=e.info;if(t.disableClick)return r;if("query"===n&&!1===t.multipleSelection){var o=t.eventHandlers,a=o.onNodeClick,i=o.onEdgeClick,c=!!r.object.position;console.log("CLK event:",r,n),c?(a(r.object,r.x,r.y),r.object.selected=!0):(i(r.object,r.x,r.y),r.object.selected=!0)}return r}},{key:"renderLayers",value:function(){var e=this.props,t=e.nodeViews,n=e.nodeViewMap,r=e.edgeViews,o=e.showEdges,a=e.showLabels,i=(e.edgeLayerDepth,e.render3d),c=e.nodePickable,s=e.edgePickable,l=e.bounds,u=e.selectedNodes,d=e.selectedEdges,f=e.updated,h=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return new vt.a({id:"node-layer",data:e,getPosition:function(e){return[e.position[0],e.position[1]]},getFillColor:function(e){return n.has(e.id)?[255,255,0,255]:e.color},getRadius:function(e){return e.size?e.size:3},pickable:t,updateTriggers:{getFillColor:n},autoHighlight:!0,highlightColor:jt.highlightColor,radiusScale:jt.radiusScale,radiusMinPixels:jt.radiusMinPixels,radiusMaxPixels:jt.radiusMaxPixels})}(t,c,u),p=function(e,t){var n=Array.from(e.values());return new Ct.a({id:"text-layer",data:n,pickable:!1,getPosition:function(e){return[e.position[0],e.position[1]]},getText:function(e){return e.label},getSize:function(e){return e.labelFontSize},getColor:function(e){return e.labelColor?e.labelColor:[0,0,0]},getAngle:0,sizeScale:1,sizeMinPixels:15,sizeMaxPixels:50,getTextAnchor:"middle",getAlignmentBaseline:"center",visible:t})}(t,a),b=function(e){return new St.a({id:"polygon-layer",data:[{bound:(t=e,null===t?[[0,0],[0,0],[0,0],[0,0]]:[[t[0],t[1]],[t[0],t[3]],[t[2],t[3]],[t[2],t[1]]])}],pickable:!1,stroked:!1,filled:!0,wireframe:!1,lineWidthMinPixels:1,getPolygon:function(e){return e.bound},getElevation:0,getFillColor:[255,249,196,100],getLineColor:[180,180,180]});var t}(l),g=wt(r,n,i,o,s,0,d,f);return[].concat(Object(st.a)(g),[h,p,b])}}]),n}(mt.a),Nt=Et,kt=function e(t,n){var r=this;Object(ht.a)(this,e),this.fit=function(){r._fitFunction()},this.zoomIn=function(){r._zoomFunction(.1)},this.zoomOut=function(){r._zoomFunction(-.1)},this._fitFunction=t,this._zoomFunction=n},At=n(241),It=function(e,t,n,r){return e<n&&t<r?(console.log("!!!base select:",e,t,n,r),[e,t,n,r]):e<n&&t>r?(console.log("!!!base select case2:",e,t,n,r),[e,r,n,t]):e>n&&t>r?(console.log("!!!base select case3:",e,t,n,r),[n,r,e,t]):(console.log("!!!base select case4:",e,t,n,r),[n,t,e,r])},Dt=function(e){for(var t=e.length,n=new At.a(t),r=0;r<t;r++){var o=e[r],a=o.position[0],i=o.position[1];n.add(a,i,a,i)}return n.finish(),n},Lt=function(e,t){for(var n=t.length,r=new At.a(n),o=new At.a(n),a=0;a<n;a++){var i=t[a],c=i.s,s=i.s,l=e.get(c),u=e.get(s),d=l.position[0],f=l.position[1],h=u.position[0],p=u.position[1];r.add(d,f,d,f),o.add(h,p,h,p)}return r.finish(),o.finish(),[r,o]},Tt=function(e){for(var t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,a=e.length;a--;){var i=e[a],c=i.position[0],s=i.position[1];c<=t&&(t=c),s<=n&&(n=s),c>=r&&(r=c),s>=o&&(o=s)}return{minX:t,minY:n,maxX:r,maxY:o}},Pt={onNodeClick:function(e,t,n){console.log("* Default click handler: node",e,t,n)},onEdgeClick:function(e,t,n){console.log("* Default click handler: edge",e,t,n)},onNodeMouseover:function(e){},onEdgeMouseover:function(e){},onBackgroundClick:function(e,t){console.log("* BG click event")},onSelect:function(e,t){console.log("* Selected",e,t)}},_t="#555555",Rt={backgroundColor:_t,position:"relative"},Bt=function(e){console.log("Dummy proxy function called:",e)},Ft=function(e){var t=e.graphView,n=e.render3d,r=e.onNodeClick,o=e.onEdgeClick,a=e.onBackgroundClick,s=e.onNodeMouseover,l=e.onEdgeMouseover,d=e.onSelect,f=e.backgroundColor,h=void 0===f?_t:f,p=e.pickable,b=void 0===p||p,g=(e.setDeckglReference,e.commandProxy),m=void 0===g?Bt:g,v=Object(i.useRef)(null),j=Object(i.useState)(null),O=Object(u.a)(j,2),x=O[0],y=O[1],w=Object(i.useState)({minX:0,minY:0,maxX:0,maxY:0}),C=Object(u.a)(w,2),S=C[0],E=C[1],N=Object(i.useState)({target:[6e3,0,0],zoom:-3.5,minZoom:-8,maxZoom:8,transitionInterpolator:new ut.a({transitionProps:["target","zoom"]})}),k=Object(u.a)(N,2),A=k[0],I=k[1],D=function(){var e=x.deck,t=e.width,n=e.height,r=S.maxX-S.minX,o=S.maxY-S.minY,a=(r+50)/t,i=(o+50)/n,c=0;c=r>=o?-Math.log2(a):-Math.log2(i);var s=(Math.abs(S.maxX)-Math.abs(S.minX))/2,l=(Math.abs(S.maxY)-Math.abs(S.minY))/2;I({target:[s,l,0],zoom:c,minZoom:-8,maxZoom:8,transitionInterpolator:new ut.a({transitionProps:["target","zoom"]})})},L=new kt(D,(function(e){var t=x.deck.viewState,n=t.zoom+e,r=t.target;t.zoom=n,I({target:r,zoom:n,minZoom:-8,maxZoom:8,transitionInterpolator:new ut.a({transitionProps:["target","zoom"]})})}));Rt.backgroundColor=h;var T=Object(i.useState)(!1),P=Object(u.a)(T,2),_=P[0],R=P[1],B=Object(i.useState)(!1),F=Object(u.a)(B,2),z=F[0],M=F[1],G=Object(i.useState)(new Set),U=Object(u.a)(G,2),H=U[0],q=U[1],V=Object(i.useState)(new Set),W=Object(u.a)(V,2),X=W[0],Y=W[1],Q=Object(i.useState)(!0),Z=Object(u.a)(Q,2),K=Z[0],J=Z[1],$=Object(i.useState)(!1),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=Object(i.useState)(1),oe=Object(u.a)(re,2),ae=oe[0],ie=oe[1],ce=Object(i.useState)([0,0]),se=Object(u.a)(ce,2),le=se[0],ue=se[1],de=Object(i.useState)([0,0]),fe=Object(u.a)(de,2),he=fe[0],pe=fe[1],be=Object(i.useState)(null),ge=Object(u.a)(be,2),me=ge[0],ve=ge[1],je=Object(i.useState)(!1),Oe=Object(u.a)(je,2),xe=Oe[0],ye=Oe[1],we=Object(i.useState)([]),Ce=Object(u.a)(we,2),Se=Ce[0],Ee=Ce[1],Ne=Object(i.useState)(null),ke=Object(u.a)(Ne,2),Ae=ke[0],Ie=ke[1],De=Object(i.useState)(null),Le=Object(u.a)(De,2),Te=Le[0],Pe=Le[1],_e=Object(i.useState)(null),Re=Object(u.a)(_e,2),Be=Re[0],Fe=Re[1];Object(i.useEffect)((function(){var e=v.current;null!==e&&void 0!==e&&y(e)}),[v]),Object(i.useEffect)((function(){var e=t.edgeViews,n=void 0===e?[]:e.values(),r=function(e){for(var t=e.length,n=[];t--;){var r=e[t],o=r.layer;if(void 0===o){var a=n[0];void 0===a?(a=[r],n[0]=a):a.push(r)}else{var i=n[o.toString()];void 0===i?(i=[r],n[o.toString()]=i):i.push(r)}}return n}(Object(st.a)(n));Ee(r),addEventListener("keydown",qe),addEventListener("keyup",Ve)}),[]);var ze={onNodeClick:void 0===r?Pt.onNodeClick:r,onEdgeClick:void 0===o?Pt.onEdgeClick:o,onBackgroundClick:void 0===a?Pt.onBackgroundClick:a,onNodeMouseover:void 0===s?Pt.onNodeMouseover:s,onEdgeMouseover:void 0===l?Pt.onEdgeMouseover:l,onSelect:void 0===d?Pt.onSelect:d},Me=t.nodeViews,Ge=Object(st.a)(Me.values()),Ue=[new Nt({nodeViews:Ge,nodeViewMap:Me,edgeViews:Se,showEdges:K,showLabels:te,edgeLayerDepth:ae,render3d:void 0!==n&&n,eventHandlers:ze,nodePickable:b,edgePickable:b,bounds:me,multipleSelection:xe,selectedNodes:H,selectedEdges:X,updated:z,disableClick:_})],He=new dt.a;n&&(He=new ft.a);var qe=function(e){console.log("Key DOWN 3",e),(e.shiftKey||e.metaKey)&&ye(!0)},Ve=function(e){console.log("Key UP 2",e),(e.shiftKey||e.metaKey)&&ye(!1)};return c.a.createElement(lt.a,{ref:v,width:"100%",height:"100%",style:Rt,initialViewState:A,controller:!0,views:He,layers:Ue,onDragStart:function(e){if(R(!0),xe){var t=e.coordinate;ue(t),pe([e.x,e.y])}},onDrag:function(e,t){if(xe){var n=e.coordinate;if(void 0!==le&&null!==le&&void 0!==n&&void 0!==n){var r=[le[0],le[1],n[0],n[1]];ve(r)}}},onDragEnd:function(e){if(R(!1),xe){var n=function(e,t,n,r){var o=It(e,t,n,r),a=o[0],i=o[1],c=o[2],s=o[3];return{x:a,y:i,width:Math.abs(c-a),height:Math.abs(s-i)}}(he[0],he[1],e.x,e.y),r=n.x,o=n.y,a=n.width,i=n.height,c=e.viewport,s=t.nodeViews,l=t.edgeViews,u=Object(st.a)(s.values()),d=Object(st.a)(l.values()),f=c.unproject([r,o]),h=c.unproject([r+a,o+i]),p=Ae.search(f[0],f[1],h[0],h[1]).map((function(e){return u[e]})),b=Te.search(f[0],f[1],h[0],h[1]).map((function(e){return d[e]})),g=Be.search(f[0],f[1],h[0],h[1]).map((function(e){return d[e]})),m=new Set(p.map((function(e){return e.id}))),v=[].concat(Object(st.a)(b),Object(st.a)(g)),j=new Set;v.forEach((function(e){m.has(e.s)&&m.has(e.t)&&j.add(e)})),p=[].concat(Object(st.a)(p),Object(st.a)(j)),console.log("nodesIN5===",m,v,p,e);for(var O=p.length,x=new Set,y=new Set,w=new Set,C=new Set;O--;){var S=p[O];void 0!==S.position?(x.add(S),w.add(S.id)):(y.add(S),C.add(S.id))}var E=Object(st.a)(x),N=Object(st.a)(y);ze.onSelect(E,N),q(w),Y(C),ve(null),ye(!1),M(!z)}},onViewStateChange:function(e){!function(e){var t=e.viewState,n=e.interactionState,r=t.zoom,o=n.isZooming,a=n.isPanning;r>1?ne(!0):setTimeout((function(){te&&ne(!1)}),100),ie(r>1.5||r<-2?2:1),(o||a)&&(J(!1),setTimeout((function(){!1!==K&&J(!0)}),300))}(e)},onClick:function(e,t){!function(e,t){var n=ze.onBackgroundClick;void 0!==n&&n(e,t)}(e,t),ne(!1),ve(null),q(new Set),Y(new Set),M(!z)},onDblClick:function(e,t){ve(null)},onResize:function(e){!function(){if(null!==S){var e=Tt(Ge);E(e)}}()},onLoad:function(){console.info("LGR ready:",t);var e=function(e,t){var n=e.nodeViews,r=e.edgeViews,o=Object(st.a)(n.values()),a=Object(st.a)(r.values()),i=Dt(o),c=Lt(t,a);return{nodeIndex:i,edgeSourceIndex:c[0],edgeTargetIndex:c[1]}}(t,Me);Ie(e.nodeIndex),Pe(e.edgeSourceIndex),Fe(e.edgeTargetIndex),function(e,t){var n=t.nodeViews,r=Object(st.a)(n.values()),o=Tt(r);E(o),D(),m(L)}(0,t)},onAfterRender:function(){}},(function(e){e.x,e.y,e.width,e.height,e.viewState,e.viewport}))},zt=function(e){for(var t=new Map,n=e.length;n--;){var r=e[n];null!==r&&t.set(r.id,r)}return t},Mt=function e(){Object(ht.a)(this,e)};Mt.createGraphView=function(e,t){return{nodeViews:zt(e),edgeViews:zt(t)}};var Gt=Mt,Ut=n(319),Ht=n(1),qt=Object(h.a)((function(e){return Object(p.a)({root:{display:"grid",width:"100%",height:"100%",placeItems:"center",zIndex:400,background:"#FAFAFA"},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},message:{padding:"2em",color:"#999999"}})})),Vt=function(e){var t=e.message,n=e.showLoading,r=void 0===n||n,o=qt();return Object(Ht.jsx)("div",{className:o.root,children:Object(Ht.jsxs)("div",{className:o.item,children:[Object(Ht.jsx)(m.a,{className:o.message,variant:"h5",children:t}),r?Object(Ht.jsx)(q.a,{disableShrink:!0,size:"10em",color:"secondary"}):null]})})},Wt=function(e,t){if(void 0===e||null===e)return{};if(void 0===t||null===t)return{};t.length;var n,r=Object(ct.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value[e];if(void 0!==o)return o}}catch(a){r.e(a)}finally{r.f()}return{}},Xt=function(e){return Qt("nodes",e)},Yt=function(e){return Qt("edges",e)},Qt=function(e,t){var n,r=Object(ct.a)(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(void 0!==o.metaData){var a,i=o.metaData,c=Object(ct.a)(i);try{for(c.s();!(a=c.n()).done;){var s=a.value;if(s.name===e&&void 0!==s.elementCount)return s.elementCount}}catch(l){c.e(l)}finally{c.f()}}}}catch(l){r.e(l)}finally{r.f()}},Zt=function(e){var t=Wt("cartesianLayout",e);return void 0!==t&&0!==t.length&&0!==Object.keys(t).length},Kt="cose",Jt="circle",$t="preset",en=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=Zt(e);if(n)return $t;var r=Xt(e)+Yt(e);return r<t?Kt:Jt},tn="preset",nn="random",rn="#FFFFFF",on=function(e){if(void 0===e||null===e||!Array.isArray(e))return rn;var t=Wt("cyVisualProperties",e),n=Wt("CXVersion",e);if(void 0===t||0===t.length||0===Object.keys(t).length)return"2.0"===n?an(e):rn;for(var r=t.length;r--;){var o=t[r];if("network"===o.properties_of){var a=o.properties.NETWORK_BACKGROUND_PAINT;if(void 0!==a)return a}}return"#FFFFFF"},an=function(e){var t=Wt("visualProperties",e);if(void 0===t||0===t.length||0===Object.keys(t).length)return rn;for(var n=t.length;n--;){var r=t[n].default;if(void 0!==r){var o=r.network.NETWORK_BACKGROUND_COLOR;if(void 0!==o)return o}}return"#FFFFFF"},cn=c.a.createContext({}),sn=function(e){for(var t=e.length;t--;){var n=e[t],r=2*Math.PI*Math.random(),o=Math.random()+Math.random(),a=0,i=(a=o>1?2-o:o)*Math.cos(r)*4e3,c=a*Math.sin(r)*4e3;n.position=[i,c]}return e},ln=function(e,t){for(var n=t.length,r=[];n--;){var o=t[n],a=o.v;void 0!==a&&void 0!==a.weight&&r.push([o.id,a.weight])}r.sort((function(e,t){return t[1]-e[1]}));for(var i=e.length,c=new Map;i--;){var s=e[i];c.set(s.id,s)}for(var l=r.length,u=0;u<l;u++){var d=r[u][0].toString(),f=c.get(d);f.layer=u<1e5?1:2}return e},un=function(e){var t=e.eventHandlers,n=e.selectedNodes,r=e.selectedEdges,o=e.cx,a=e.backgroundColor,c=void 0===a?"#FFFFFF":a,s=e.layoutName,l=void 0===s?"preset":s,d=e.pickable,f=Object(i.useContext)(cn).setLgrReference,h=Object(i.useState)(!1),p=Object(u.a)(h,2),b=p[0],g=(p[1],Object(i.useState)(null)),m=Object(u.a)(g,2),v=m[0],j=m[1];if(Object(i.useEffect)((function(){if(void 0!==o&&null===v){performance.now();var e=Ut.convert(o,"lnv"),t=e.nodeViews,n=e.edgeViews;if("preset"!==l&&(t=sn(t)),void 0!==n){var r=Wt("edges",o);n=ln(n,r)}var a=Gt.createGraphView(t,e.edgeViews);j(a)}}),[o]),null===v||void 0===v){return Object(Ht.jsx)(Vt,{message:"Loading large network data.  Please wait......"})}return Object(Ht.jsx)(Ft,{graphView:v,onNodeClick:function(e,r,o){console.log("* Node click event:",e),0!==n.length&&n.forEach((function(e){var t=v.nodeViews.get(e);t.selected=!1,console.log("Clear selection:",t)}));var a=e.id;t.setSelectedNodeOrEdge(a,"node",{x:r,y:o})},onEdgeClick:function(e,n,o){console.log("* Edge click event:",e),0!==r.length&&r.forEach((function(e){var t=v.edgeViews.get(e);void 0!==t&&(t.selected=!1,console.log("Clear edge selection:",t))}));var a=e.id;t.setSelectedNodeOrEdge(a,"edge",{x:n,y:o})},onSelect:function(e,n){t.setSelectedObjects(e,n),console.log("Selection Set--------------",e,n)},onBackgroundClick:function(e){t.clearAll(),console.log("Reset selection:",n,r)},render3d:b,backgroundColor:c,pickable:d,commandProxy:f})},dn=n(267),fn=n.n(dn),hn=n(320),pn=n.n(hn);fn.a.use(pn.a);var bn=n(194),gn=n(321),mn=new bn.CyNetworkUtils,vn=new bn.CxToJs(mn),jn=new gn.CxToCyCanvas(vn),On=n(218),xn=n(358),yn=function(e){Object(bt.a)(n,e);var t=Object(gt.a)(n);function n(e,r){var o;return Object(ht.a)(this,n),(o=t.call(this,e)).details=void 0,o.details=r,o.name=(this instanceof n?this.constructor:void 0).name,Object.setPrototypeOf(Object(On.a)(o),(this instanceof n?this.constructor:void 0).prototype),o}return n}(Object(xn.a)(Error));function wn(e,t){var n=Object(i.useState)(null),r=Object(u.a)(n,2),o=r[0],a=r[1],c=Object(i.useState)(null),s=Object(u.a)(c,2),l=s[0],d=s[1];if(void 0===t||null===t)return{};if(null===l&&t.length>=6){d(e);try{return a(function(e,t){var n=mn.rawCXtoNiceCX(t),r={},o=vn.cyElementsFromNiceCX(n,r),a=vn.cyStyleFromNiceCX(n,r);return{network:{data:{uuid:e},elements:[].concat(Object(st.a)(o.nodes),Object(st.a)(o.edges))},visualStyle:a,annotationNiceCX:{networkAttributes:n.networkAttributes?n.networkAttributes:{elements:[]}}}}(e,t)),o}catch(f){throw new yn("Data conversion from CX to Cytoscape.js failed",f)}}return l===e?o:{}}var Cn={width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0)"},Sn=function(e,t){t?(e.boxSelectionEnabled(!1),e.autounselectify(!0),e.nodes().lock()):(e.boxSelectionEnabled(!0),e.autounselectify(!1),e.nodes().unlock())},En=function(e,t){e.on("tap, click",(function(n){return kn(e,t,n)})),e.on("boxend",(function(n){return Nn(e,t,n)}))},Nn=function(e,t,n){performance.now();setTimeout((function(){var n=e.$("node:selected"),r=e.$("edge:selected"),o=n.map((function(e){return e.data().id})),a=r.map((function(e){return e.data().id.slice(1)}));t.setSelectedNodesAndEdges(o,a,null,null,null)}),5)},kn=function(e,t,n){var r=n.target,o=performance.now();if(r===e)console.log("* tap on background2"),setTimeout((function(){t.clearAll()}),10);else{var a=r.data();r.isNode()?(console.log("* tap on Node",r.data()),setTimeout((function(){var r=e.$("node:selected"),o=e.$("edge:selected"),i=r.map((function(e){return e.data().id})),c=o.map((function(e){return e.data().id.slice(1)}));t.setSelectedNodesAndEdges(i,c,"node",[a.id],n.renderedPosition)}),5)):(console.log("* tap on Edge",r.data()),setTimeout((function(){var r=e.$("node:selected"),o=e.$("edge:selected"),i=r.map((function(e){return e.data().id})),c=o.map((function(e){return e.data().id.slice(1)}));t.setSelectedNodesAndEdges(i,c,"edge",[a.id.slice(1)],n.renderedPosition)}),5))}console.log("tap clear",performance.now()-o)},An=function(e,t,n,r){var o,a=e.network;if(void 0!==a&&null!==a&&null!==t){var i=e.network.elements;t.add(i);var c=((o=e.visualStyle).push({selector:".faded",css:{"background-opacity":.1,"text-opacity":.1,"border-opacity":.1}}),o.push({selector:".highlight",css:{"background-opacity":1,"text-opacity":1,"border-opacity":1}}),o);t.style().fromJson(c).update(),console.log("handling annotations: ",e.annotationNiceCX),n.drawAnnotationsFromNiceCX(t,e.annotationNiceCX),n.drawBackground(t,r)}},In=function(e){var t=e.uuid,n=e.cx,r=e.eventHandlers,o=e.layoutName,a=e.setCyReference,c=e.setBusy,s=e.backgroundColor,l=Object(i.useRef)(null),d=Object(i.useState)(null),f=Object(u.a)(d,2),h=f[0],p=f[1],b=Object(i.useContext)(cn),g=b.uiState,m=b.cyReference,v=wn(t,n),j=jn;return Object(i.useEffect)((function(){if((void 0===v||0!==Object.keys(v).length)&&(An(v,h,j,s),v!=={}&&null!==h&&void 0!==o&&null!==h)){var e=h.layout({name:o,animate:!1,stop:function(){c(!1)}});c(!0),e.run()}}),[v]),Object(i.useEffect)((function(){void 0!==v&&0===Object.keys(v).length||(An(v,h,j,s),void 0!==o&&null!==h&&(h.layout({name:o,animate:!1,stop:function(){console.log("Initial layout finished")}}).run(),setTimeout((function(){h.fit()}),500)))}),[h]),Object(i.useEffect)((function(){if(null===h&&null!==l&&null!==l.current){var e=function(e){var t={container:e,elements:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],layout:{name:"preset",fit:!0},locked:!0};return new fn.a(t)}(l.current);void 0!==a&&(a(e),p(e)),En(e,r)}}),[]),null!==h&&m.main===h&&Sn(h,g.showSearchResult),Object(Ht.jsx)("div",{style:Cn,ref:l})},Dn=n(85),Ln=n(322),Tn=function(e){if(e.isGoogle)return"Bearer "+e.oauth.loginDetails.tokenId;if(e.basic){var t=e.basic;return"Basic "+window.btoa(t.userId+":"+t.password)}},Pn=function(e,t){var n=new Ln.NDEx(e);if(!t.isLogin)return console.warn("Not logged-in. Public networks only."),n;if(t.isGoogle)n.setAuthToken(t.oauth.loginDetails.tokenId);else if(t.basic){var r=t.basic;n.setBasicAuth(r.userId,r.password)}return n.getStatus().then((function(e){console.log("* NDEx Status checked:",e.message)})),n},_n=function(e){var t=e.replaceAll("?","").split("&"),n=null;return t.forEach((function(e){var t=e.split("=");"accesskey"===t[0]&&(n=t[1])})),n},Rn={edgeLimit:1e4,errorWhenLimitIsOver:!0},Bn={direct:{searchDepth:1},firstStepNeighborhood:{directOnly:!1,searchDepth:1},firstStepAdjacent:{directOnly:!0,searchDepth:1},interconnect:{searchDepth:2},twoStepNeighborhood:{directOnly:!1,searchDepth:2},twoStepAdjacent:{directOnly:!0,searchDepth:2}},Fn=function(e){for(var t=e.length,n=void 0;t--&&void 0===(n=e[t].nodes););return void 0===n?[]:n.map((function(e){return e["@id"]}))},zn=function(e){for(var t in e){var n=e[t].status;if(n&&n.length>0)return!n[0].success&&"EdgeLimitExceeded"===n[0].error}},Mn=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r,a,i){var c,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&null!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",{});case 2:if(void 0!==n&&null!==n&&0!==n.length){e.next=4;break}return e.abrupt("return",{});case 4:return c="".concat(r,"/v2/search/network/").concat(t,"/query?save=true"),"interconnect"!==i&&"direct"!==i||(c="".concat(r,"/v2/search/network/").concat(t,"/interconnectquery?save=true")),(s=Bn[i]).searchString=n,l=Tn(a),u={method:"POST",headers:l?{"Content-Type":"application/json",Authorization:l}:{"Content-Type":"application/json"},body:JSON.stringify(s)},e.abrupt("return",fetch(c,u));case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,o,a){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r,a,i,c){var s,l,u,d,f,h,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&null!==t&&0!==t.length){e.next=2;break}return e.abrupt("return",{});case 2:if(void 0!==n&&null!==n&&0!==n.length){e.next=4;break}return e.abrupt("return",{});case 4:return s="".concat(r,"/v2/search/network/").concat(t,"/query"),"interconnect"!==i&&"direct"!==i||(s="".concat(r,"/v2/search/network/").concat(t,"/interconnectquery")),Rn.edgeLimit=c,(l=Object.assign(Object.assign({},Bn[i],Rn))).searchString=n,u=Tn(a),d={method:"POST",headers:u?{"Content-Type":"application/json",Authorization:u}:{"Content-Type":"application/json"},body:JSON.stringify(l)},e.prev=11,e.next=14,fetch(s,d);case 14:return f=e.sent,e.next=17,f.json();case 17:h=e.sent,p=zn(h),f.parsedBody={nodeIds:Fn(h),kvMap:Un(h),cx:h,edgeLimitExceeded:p},e.next=25;break;case 22:e.prev=22,e.t0=e.catch(11),console.error("Query API Call error:",e.t0);case 25:if(f.ok){e.next=27;break}throw new Error(f.statusText);case 27:return e.abrupt("return",f.parsedBody);case 28:case"end":return e.stop()}}),e,null,[[11,22]])})));return function(t,n,r,o,a,i){return e.apply(this,arguments)}}(),Un=function(e){for(var t={},n=e.length;n--;){var r=e[n],o=Object.keys(r)[0],a=r[o];t[o]=a}return Hn(t)},Hn=function(e){var t=e.nodeAttributes,n=e.nodes,r={};if(void 0===t)return r;for(var o=t.length;o--;){var a=t[o],i=a.po,c=r[i];void 0===c&&(c=new Map),c.set(a.n,a.v),r[i]=c}for(o=n.length;o--;){var s=n[o],l=s["@id"],u=s.n,d=r[l];void 0===d&&(d=new Map),d.set("name",u),r[l]=d}return r},qn=function(e,t,n,r,o,a){var c=Object(i.useState)(!1),s=Object(u.a)(c,2),l=s[0],d=s[1],f=Object(i.useState)(null),h=Object(u.a)(f,2),p=h[0],b=h[1];return Object(i.useEffect)((function(){var n={uuid:e,query:t,mode:o};return n===p?d(!1):(d(null!==n&&""!==t),b(n)),function(){}}),[e,t,o]),Object(Dn.useQuery)(["queryNetwork",e,t,n,r,o,a],(function(){return Gn(e,t,n,r,o,a)}),{enabled:l,cacheTime:1e3,retry:!1})},Vn=n(128),Wn={main:{nodes:[],edges:[]},sub:{nodes:[],edges:[]},lastSelected:{isNode:null,fromMain:null,id:null,coordinates:{x:0,y:0},showPropPanel:!1}},Xn="clearAllMain",Yn="clearAllSub",Qn="setMain",Zn="setSub",Kn="closePropPanel",Jn=function(e,t){switch(t.type){case Qn:return Object(it.a)(Object(it.a)({},e),{},{main:t.selectionState.main,lastSelected:t.selectionState.lastSelected});case Zn:return Object(it.a)(Object(it.a)({},e),{},{sub:t.selectionState.sub,lastSelected:t.selectionState.lastSelected});case Xn:return Object(it.a)(Object(it.a)({},e),{},{main:{nodes:[],edges:[]},lastSelected:Object(it.a)(Object(it.a)({},e.lastSelected),{},{showPropPanel:!1})});case Yn:return Object(it.a)(Object(it.a)({},e),{},{sub:{nodes:[],edges:[]},lastSelected:Object(it.a)(Object(it.a)({},e.lastSelected),{},{showPropPanel:!1})});case Kn:return Object(it.a)(Object(it.a)({},e),{},{lastSelected:Object(it.a)(Object(it.a)({},e.lastSelected),{},{showPropPanel:!1})});default:throw new Error("Invalid action")}},$n="setMain",er="setSub",tr={main:null,sub:null},nr=function(e,t){switch(t.type){case $n:return Object(it.a)(Object(it.a)({},e),{},{main:t.cyReference});case er:return Object(it.a)(Object(it.a)({},e),{},{sub:t.cyReference});default:throw new Error("Invalid action")}},rr=n(325),or=n.n(rr),ar=n(326),ir=n.n(ar),cr=Object(h.a)((function(e){return Object(p.a)({root:{boxSizing:"border-box",display:"grid",width:"100%",height:"100%",placeItems:"center",background:"#FFFFFF",zIndex:0},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",width:"55%"},message:{padding:"0.5em",color:"#999999",textAlign:"center"},title:{display:"flex",justifyContent:"center",alignItems:"center"},arrow1:{position:"fixed",color:"#999999",bottom:"2vh",left:"1vw",fontSize:"7em"},infoIcon:{color:e.palette.info.main,fontSize:"7em"}})})),sr=function(e){var t=e.title,n=void 0===t?"-":t,r=e.message,o=void 0===r?"-":r,a=e.showIcons,i=void 0!==a&&a,c=cr();return Object(Ht.jsxs)("div",{className:c.root,children:[Object(Ht.jsxs)("div",{className:c.item,children:[Object(Ht.jsx)(or.a,{fontSize:"inherit",className:c.infoIcon}),Object(Ht.jsx)("div",{className:c.title,children:Object(Ht.jsx)(m.a,{className:c.message,variant:"h5",children:n})}),Object(Ht.jsx)(m.a,{className:c.message,variant:"subtitle1",children:o})]}),i?Object(Ht.jsxs)("div",{className:c.arrow1,children:[Object(Ht.jsx)(m.a,{variant:"h6",children:"Query this network from here."}),Object(Ht.jsx)(ir.a,{fontSize:"inherit"})]}):null]})},lr=function(e){for(var t=function(e){for(var t=e.length;t--;){var n=e[t].CXVersion;if(void 0!==n&&"2.0"===n)return!0}return!1}(e),n={},r=e.length;r--;){var o,a=e[r],i=Object.keys(a)[0],c=a[i];if(void 0===n[i])if(i in n)(o=n[i]).push.apply(o,Object(st.a)(c));else n[i]=c}if(t){var s=ur(n);return{nodeAttr:s,edgeAttr:dr(s,n)}}var l=br(n);return{nodeAttr:l,edgeAttr:fr(l,n)}},ur=function(e){for(var t={name:{tag:"n",label:"name"},represents:{tag:"r",label:"represents"}},n=e.attributeDeclarations,r=function(e,t){var n=new Map,r=e[t];return Object.keys(r).forEach((function(e){var t=r[e].v;void 0!==t&&n.set(e,t)})),n}(n[0],"nodes"),o=function(e,t){var n=e[t],r=Object.keys(n);return new Set(r)}(n[0],"nodes"),a=e.nodes,i={},c=a.length,s=function(){var e=a[c],n=e.v,s=new Map;o.forEach((function(e){if(e===t.name.label||e===t.represents.label){var o=t[e].tag,a=t[e].label,i=n[o];s.set(a,i)}else{var c=n?n[e]:void 0;void 0===c&&(c=r.get(e)),void 0!==c&&s.set(e,c)}})),i[e.id]=s};c--;)s();return i},dr=function(e,t){var n=t.edges,r={};if(void 0===n||0===n.length)return pr(e,n,r),r;for(var o=n.length,a=function(){var e=n[o],t=e.id,a=new Map,i=e.v;void 0!==i&&null!==i&&Object.keys(i).forEach((function(e){"i"!==e&&a.set(e,i[e])}));r[t]=a};o--;)a();return pr(e,n,r),r},fr=function(e,t){var n=t.edgeAttributes,r=t.edges,o={};if(void 0===n)return hr(e,r,o),o;for(var a=n.length;a--;){var i=n[a],c=i.po,s=o[c];void 0===s&&(s=new Map),s.set(i.n,i.v),o[c]=s}return hr(e,r,o),o},hr=function(e,t,n){if(void 0!==t)for(var r=t.length;r--;){var o=t[r],a=o["@id"],i=n[a];void 0===i&&(i=new Map,n[a]=i);var c=o.s,s=o.t,l=o.i,u=e[c],d=e[s];void 0!==u&&n[a].set("source",u.get("name")),void 0!==d&&n[a].set("target",d.get("name")),void 0!==l&&n[a].set("interaction",l)}},pr=function(e,t,n){if(void 0!=t)for(var r=t.length;r--;){var o=t[r],a=o.id,i=n[a];void 0===i&&(i=new Map,n[a]=i);var c=e[o.s],s=e[o.t],l=o.v;if(void 0!==c&&n[a].set("source",c.get("name")),void 0!==s&&n[a].set("target",s.get("name")),void 0!==l){var u=l.i;n[a].set("interaction",u)}}},br=function(e){var t=e.nodeAttributes,n=e.nodes,r={};if(void 0===n)return r;for(var o=n.length;o--;){var a=n[o],i=a["@id"];r[i]=new Map,r[i].set("name",a.n),r[i].set("Represents",a.r)}if(void 0===t)return r;for(o=t.length;o--;){var c=t[o],s=c.po,l=r[s];l.set(c.n,c.v),r[s]=l}return r};function gr(e,t,n){var r=Object(i.useState)(null),o=Object(u.a)(r,2),a=o[0],c=o[1],s=Object(i.useState)(null),l=Object(u.a)(s,2),d=l[0],f=l[1];if(void 0===e||null===e||void 0===t||null===t||0===t.length)return{};if(n)return lr(t);if(null===d){f(e);var h=lr(t);return c(h),h}return d===e?a:{}}var mr=n(510),vr=n(458),jr=n(230),Or=n.n(jr),xr=Object(h.a)((function(e){return Object(p.a)({root:{width:"100%",backgroundColor:"inherit"},text:{display:"inline-block",paddingTop:0,paddingBottom:"6px"},smallText:{lineHeight:"16px"},bigText:{lineHeight:"18px"}})})),yr=function(e){var t,n=e.attrMap,r=xr();n.delete("name"),n.has("Represents")&&(t=n.get("Represents"),n.delete("Represents"));var o=Object(st.a)(n.keys()).sort((function(e,t){return e.localeCompare(t)}));return void 0!=t&&(o.unshift("Represents"),n.set("Represents",t)),Object(Ht.jsx)(mr.a,{className:r.root,children:o.map((function(e){return Object(Ht.jsxs)(vr.a,{className:r.text,disableGutters:!0,children:[Object(Ht.jsx)(m.a,{color:"textSecondary",variant:"caption",variantMapping:{caption:"div"},className:r.smallText,children:e}),Object(Ht.jsx)(m.a,{variant:"body2",component:"div",className:r.bigText,children:Object(Ht.jsx)(Or.a,{children:n.get(e)},e)})]},e)}))})},wr=n(171),Cr=n.n(wr),Sr=Object(h.a)((function(e){return Object(p.a)({root:{display:"flex",width:"100%",flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{display:"flex",width:"100%",justifyContent:"flex-start",alignItems:"center"},name:{fontWeight:500,fontSize:"1.5em",flexGrow:3,paddingTop:"12.5px",paddingBottom:"12.5px"},propList:{height:"100%",width:"100%",padding:0,margin:0,borderTop:"1px solid #777777",overflowX:"auto"}})})),Er=function(e){var t=e.attrMap,n=e.onClose,r=Sr();return Object(Ht.jsxs)("div",{className:r.root,children:[Object(Ht.jsxs)("div",{className:r.title,children:[Object(Ht.jsx)(m.a,{className:r.name,variant:"body1",children:t.get("name")}),Object(Ht.jsx)(S.a,{onClick:function(){n()},children:Object(Ht.jsx)(Cr.a,{})})]}),Object(Ht.jsx)("div",{className:r.propList,children:Object(Ht.jsx)("div",{children:Object(Ht.jsx)(yr,{attrMap:t})})})]})},Nr=n(143),kr=function(e){if(null===e||void 0===e)return{};var t,n=!1,r=Object(ct.a)(e);try{for(r.s();!(t=r.n()).done;){if("2.0"===t.value.CXVersion){n=!0;break}}}catch(u){r.e(u)}finally{r.f()}var o,a=Object(ct.a)(e);try{for(a.s();!(o=a.n()).done;){var i=o.value;if(i.networkAttributes){var c,s=Object(ct.a)(i.networkAttributes);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(n){if(l["@context"])return Ar(l["@context"])}else if("@context"===l.n)return Ar(l.v)}}catch(u){s.e(u)}finally{s.f()}}}}catch(u){a.e(u)}finally{a.f()}return null},Ar=function(e){try{var t=JSON.parse(e);return Object.keys(t).reduce((function(e,n){return e[n.toUpperCase()]=t[n],e}),{})}catch(n){return console.warn("Could not parse @context network attribute as JSON: ",n),{}}},Ir=function(e,t){var n,r="",o=Object(ct.a)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r+=Lr(a,t,!1)+", "}}catch(i){o.e(i)}finally{o.f()}return Object(Nr.a)(r.slice(0,-2))},Dr=function(e){var t,n="",r=Object(ct.a)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value+", "}}catch(o){r.e(o)}finally{r.f()}return n.slice(0,-2)},Lr=function(e,t,n){if(void 0===e||null===e)return e;var r=e.toString();if(void 0===t||null===t)return n?Object(Nr.a)(r):r;var o=String(e).split(":"),a=Object(u.a)(o,2),i=a[0],c=a[1];return i&&c&&i.toUpperCase()in t&&(r="<a href="+t[i.toUpperCase()]+c+' target="_blank" rel="noopener noreferrer">'+e+"</a>"),n?Object(Nr.a)(r):r},Tr=function(e,t){return Object(Nr.a)("<a href=https://"+t+"/viewer/networks/"+e+' target="_blank" rel="noopener noreferrer">'+e+"</a>")},Pr=Object(h.a)((function(e){return Object(p.a)({root:{position:"absolute",display:"flex",flexDirection:"column",justifyContent:"flex-start",maxWidth:"40vh",maxHeight:"50vh",backgroundColor:"#FFFFFF",borderRadius:8,border:"1px solid #999999",zIndex:200,padding:"1em",paddingTop:0,overflowY:"auto",background:"linear-gradient(#ffffff 33%, rgba(255,255,255, 0)),linear-gradient(rgba(255,255,255, 0), #ffffff 66%) 0 100%,radial-gradient(farthest-side at 50% 0, rgba(89,89,89, 0.5), rgba(0,0,0,0)),radial-gradient(farthest-side at 50% 100%, rgba(89,89,89, 0.5), rgba(0,0,0,0)) 0 100%",backgroundRepeat:"no-repeat",backgroundAttachment:"local, local, scroll, scroll",backgroundSize:"100% 60px, 100% 60px, 100% 20px, 100% 20px"}})})),_r={SOURCE:"source",TARGET:"target",INTERACTION:"interaction"},Rr="name",Br="ndex:internalLink";function Fr(){var e=window;return{windowWidth:e.innerWidth,windowHeight:e.innerHeight}}var zr=function(e){var t=e.cx,n=e.subHeight,r=Pr(),o=Object(d.h)().uuid,a=Object(i.useContext)(cn),c=a.uiState,s=a.selectionState,l=a.selectionStateDispatch,f=a.config,h=function(){var e=Object(i.useState)(Fr()),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){function e(){r(Fr())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),p=h.windowHeight,b=h.windowWidth,g=gr(o,t,c.mainNetworkNotDisplayed),m=Object(i.useMemo)((function(){return kr(t)}),[t]),v=s.lastSelected,j=function(){return l({type:Kn})};if(Object(i.useEffect)((function(){j()}),[c.showSearchResult]),void 0==t||!v.showPropPanel||null==s.lastSelected.id)return Object(Ht.jsx)("div",{});var O=s.lastSelected.id,x=null;x=s.lastSelected.isNode?g.nodeAttr[O]:g.edgeAttr[O];var y,w,C,S,E=new Map,N=!0,k=[],A=Object(ct.a)(x);try{for(A.s();!(S=A.n()).done;){var I=S.value;if(s.lastSelected.isNode)N=!1;else{if([_r.SOURCE,_r.TARGET,_r.INTERACTION].includes(I[0])){I[0]===_r.SOURCE?y=I[1]:I[0]===_r.TARGET?w=I[1]:C=I[1];continue}I[0]===Rr&&(N=!1)}if(Array.isArray(I[1])){var D,L=Object(ct.a)(I[1]);try{for(L.s();!(D=L.n()).done;){var T=D.value;if(void 0!==T&&""!==T){k.push(I);break}}}catch(H){L.e(H)}finally{L.f()}}else void 0!==I[1]&&""!==I[1]&&k.push(I)}}catch(H){A.e(H)}finally{A.f()}k.sort((function(e,t){return e[0].localeCompare(t[0])}));for(var P=0,_=k;P<_.length;P++){var R=_[P],B=void 0;B=Array.isArray(R[1])?Ir(R[1],m):R[0]==Br?Tr(R[1],f.ndexUrl):Lr(R[1],m,!0),E.set(R[0],B)}N&&y&&w&&(C?E.set(Rr,y+" ("+C+") "+w):E.set(Rr,y+" (-) "+w));var F=v.coordinates.x,z=v.coordinates.y,M=!0;F>(b-c.rightPanelWidth)/2&&(M=!1);var G=!0;s.lastSelected.fromMain?z>(p-60)/2&&(G=!1):p-n+z>p/2&&(G=!1);var U={maxHeight:.4*p};return M?U.left=F:U.right=b-c.rightPanelWidth-F,G?s.lastSelected.fromMain?U.top=z:U.top=z+(p-n-60):s.lastSelected.fromMain?U.bottom=p-z-60:U.bottom=n-z,Object(Ht.jsx)("div",{className:r.root,style:U,children:Object(Ht.jsx)(Er,{attrMap:E,onClose:function(){j()}})})},Mr=n(519),Gr=n(330),Ur=n.n(Gr),Hr=n(331),qr=n.n(Hr),Vr=n(332),Wr=n.n(Vr),Xr=n(328),Yr=n.n(Xr),Qr=n(329),Zr=n.n(Qr),Kr=function(e){var t=e.main,n=e.sub;void 0!==t&&null!==t&&t.fit(),void 0!==n&&null!==n&&n.fit()},Jr="setDataPanelOpen",$r="setShowSearchResult",eo="setRightPanelWidth",to="setMainNetworkNotDisplayed",no="setActiveTab",ro={dataPanelOpen:!0,showSearchResult:!1,rightPanelWidth:0,mainNetworkNotDisplayed:!1,activeTab:0},oo=function(e,t){switch(t.type){case Jr:return Object(it.a)(Object(it.a)({},e),{},{dataPanelOpen:t.uiState.dataPanelOpen});case $r:return Object(it.a)(Object(it.a)({},e),{},{showSearchResult:t.uiState.showSearchResult});case eo:return Object(it.a)(Object(it.a)({},e),{},{rightPanelWidth:t.uiState.rightPanelWidth});case to:return Object(it.a)(Object(it.a)({},e),{},{mainNetworkNotDisplayed:t.uiState.mainNetworkNotDisplayed});case no:return Object(it.a)(Object(it.a)({},e),{},{activeTab:t.uiState.activeTab});default:throw new Error("Invalid action")}},ao=function(){var e=Object(i.useContext)(cn),t=e.uiState,n=e.uiStateDispatch,r=e.cyReference,o=e.query,a=t.showSearchResult,c=Object(i.useState)(!0),s=Object(u.a)(c,2),l=s[0],d=s[1];Object(i.useEffect)((function(){d(""===o&&!a)}),[a,o]);var f=a?"Maximize the main network view":"Back to split view";return l?Object(Ht.jsx)("div",{}):Object(Ht.jsx)(b.a,{title:f,placement:"right",arrow:!0,children:Object(Ht.jsx)("div",{children:Object(Ht.jsx)(S.a,{color:"secondary",style:{backgroundColor:"transparent"},disableFocusRipple:!0,disableRipple:!0,onClick:function(){var e;e=Object(it.a)(Object(it.a)({},t),{},{showSearchResult:!a}),n({type:$r,uiState:e}),setTimeout((function(){Kr(r),function(e,t){var n=e.main;void 0!==n&&null!==n&&(t?(n.boxSelectionEnabled(!t),n.nodes().ungrabify(),n.nodes().lock(),n.elements().unselectify()):(n.boxSelectionEnabled(!t),n.nodes().grabify(),n.nodes().unlock(),n.elements().selectify()))}(r,!a)}),100)},children:a?Object(Ht.jsx)(Yr.a,{}):Object(Ht.jsx)(Zr.a,{})})})})},io=Object(h.a)((function(e){return Object(p.a)({root:{zIndex:300,borderRadius:5,border:"1px solid #DDDDDD",backgroundColor:"#FFFFFF",position:"absolute",right:"1em",bottom:"1em"},subnet:{width:"100%",height:"100%",backgroundColor:"#AAAAAA"}})})),co=function(e){var t=e.target,n=void 0===t?"main":t,r=io(),o=Object(i.useContext)(cn),a=o.cyReference,c=o.lgrReference,s=a.main;"sub"===n&&(s=a.sub);return Object(Ht.jsxs)(Mr.a,{className:r.root,orientation:"vertical",color:"secondary",variant:"outlined",disableFocusRipple:!0,disableRipple:!0,children:["main"===n?Object(Ht.jsx)(ao,{}):Object(Ht.jsx)("div",{}),Object(Ht.jsx)(S.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(e){null!==s&&void 0!==s?s.fit():void 0!==c&&null!==c&&c.fit()},children:Object(Ht.jsx)(Ur.a,{})},"fitButton"),null===s||void 0===s?Object(Ht.jsx)("div",{}):[Object(Ht.jsx)(S.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(e){if(null!==s&&void 0!==s){var t=1.2*s.zoom();s.zoom(t)}else void 0!==c&&null!==c&&c.zoomIn()},children:Object(Ht.jsx)(qr.a,{})},"zoomInButton"),Object(Ht.jsx)(S.a,{color:"secondary",style:{backgroundColor:"transparent"},onClick:function(e){if(null!==s&&void 0!==s){var t=.8*s.zoom();s.zoom(t)}else void 0!==c&&null!==c&&c.zoomOut()},children:Object(Ht.jsx)(Wr.a,{})},"zoomOutButton")]]})},so=n(541),lo=Object(h.a)((function(e){return Object(p.a)({root:{boxSizing:"border-box",display:"grid",width:"100%",height:"100%",placeItems:"center",background:"#FFFFFF",zIndex:0},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"1em",width:"60%"},message:{padding:"0.5em",color:"#999999",textAlign:"center"},title:{display:"flex",justifyContent:"center",alignItems:"center"},arrow1:{position:"fixed",color:"#999999",bottom:"2vh",left:"1vw",fontSize:"7em"},warningIcon:{color:"red",fontSize:"7em"}})})),uo=function(){var e=lo(),t=Object(d.h)().uuid,n=Object(i.useState)(void 0),r=Object(u.a)(n,2),o=r[0],a=r[1],c=Object(i.useContext)(cn),s=c.query,l=c.queryMode,f=c.ndexCredential,h=c.config;return Object(Ht.jsx)("div",{className:e.root,children:Object(Ht.jsxs)("div",{className:e.item,children:[Object(Ht.jsx)("div",{className:e.title,children:Object(Ht.jsx)(m.a,{className:e.message,variant:"h3"})}),Object(Ht.jsxs)(m.a,{className:e.message,variant:"subtitle1",children:["Your query returned more than ",h.maxEdgeQuery," and cannot be displayed in the browser.",Object(Ht.jsx)("br",{}),f.isLogin?"You can save this sub-network to NDEx to continue working with it.":"Please log in so that the result can be saved to your NDEx account"]}),f.isLogin&&Object(Ht.jsx)(g.a,{onClick:function(){Mn(t,s,h.ndexHttps,f,l).then((function(){a("Query is being saved to NDEx")}))},variant:"contained",children:"Save Result to NDEx"}),Object(Ht.jsx)(so.a,{open:void 0!=o,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:6e3,onClose:function(){a(void 0)},message:o})]})})},fo=n(231),ho=Object(h.a)((function(e){return Object(p.a)({rootA:{width:"100%",height:"100%",display:"flex",flexDirection:"column",position:"relative"},subnet:{width:"100%",zIndex:10},lowerPanel:{flexGrow:1,width:"100%",display:"flex",flexDirection:"column",position:"relative",height:"100%",zIndex:100},title:{position:"fixed",paddingTop:"1em",left:"1em",color:"rgba(100,100,100,0.7)",zIndex:100,width:"8em"},expandButton:{position:"fixed",bottom:"5em",left:"1em",color:"rgba(100,100,100,1)",zIndex:100}})})),po=function(e){var t,n=e.cx,r=e.renderer,o=e.objectCount,a=e.cxDataSize,c=e.isWebGL2,s=e.setSubCx,l=e.noView,f=ho(),h=Object(d.h)().uuid,p=Object(i.useState)(!1),b=Object(u.a)(p,2),g=(b[0],b[1]),v=.3*window.innerHeight,j=.1*window.innerHeight,O=Object(i.useState)(v),x=Object(u.a)(O,2),y=x[0],w=x[1],C=Object(i.useState)(0),S=Object(u.a)(C,2),E=S[0],N=S[1],k=Object(i.useContext)(cn),A=k.query,I=k.queryMode,D=k.uiStateDispatch,L=k.uiState,T=k.cyDispatch,P=(k.cyReference,k.selectionState),_=k.selectionStateDispatch,R=k.config,B=k.ndexCredential,F=k.summary,z=k.setSummary,M=qn(h,A,R.ndexHttps,B,I,R.maxEdgeQuery),G=R.maxNumObjects,U=L.showSearchResult,H=M.data;void 0!==H&&s(t=H.cx);var q=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e})),t.current}(t),V=function(e,t){var n=e(t);return n||0},W=void 0!==H&&H.edgeLimitExceeded;Object(i.useEffect)((function(){if(void 0!==t&&q!==t){var e=V(Xt,t),n=V(Yt,t);z(Object(it.a)(Object(it.a)({},F),{},{subnetworkNodeCount:e,subnetworkEdgeCount:n}))}}),[M]);var X={setSelectedNodesAndEdges:function(e,t,n,r,o){_(n?{type:Qn,selectionState:Object(it.a)(Object(it.a)({},P),{},{main:{nodes:e,edges:t},lastSelected:{isNode:"node"===n,fromMain:!0,id:r,showPropPanel:!0,coordinates:o}})}:{type:Qn,selectionState:Object(it.a)(Object(it.a)({},P),{},{main:{nodes:e,edges:t},lastSelected:{isNode:null,fromMain:!0,id:null,showPropPanel:!1,coordinates:null}})}),(e.length>1||t.length>1)&&("node"===n&&e.length>1?D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:1})}):"edge"===n&&t.length>1?D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:2})}):e.length>1?D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:1})}):D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:2})})),(1===L.activeTab&&e.length<=1||2===L.activeTab&&t.length<=1)&&D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:0})})},clearAll:function(){_({type:Xn}),D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:0})})}},Y={setSelectedNodesAndEdges:function(e,t,n,r,o){_(n?{type:Zn,selectionState:Object(it.a)(Object(it.a)({},P),{},{sub:{nodes:e,edges:t},lastSelected:{isNode:"node"===n,fromMain:!1,id:r,showPropPanel:!0,coordinates:o}})}:{type:Zn,selectionState:Object(it.a)(Object(it.a)({},P),{},{sub:{nodes:e,edges:t},lastSelected:{showPropPanel:!1}})}),(e.length>1||t.length>1)&&(null!==n?D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:"node"===n?1:2})}):e.length>1?D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:1})}):D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:2})}))},clearAll:function(){_({type:Yn}),D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:0})})}},Q={setSelectedNodeOrEdge:function(e,t,n){_("node"===t?{type:Qn,selectionState:Object(it.a)(Object(it.a)({},P),{},{main:{nodes:[e],edges:[]},lastSelected:{isNode:!0,fromMain:!0,id:e,showPropPanel:!0,coordinates:n}})}:{type:Qn,selectionState:Object(it.a)(Object(it.a)({},P),{},{main:{nodes:[],edges:[e]},lastSelected:{isNode:!1,fromMain:!0,id:e,showPropPanel:!0,coordinates:n}})})},setSelectedObjects:function(e,t){var n=e.map((function(e){return e.id})),r=t.map((function(e){return e.id}));_({type:Qn,selectionState:Object(it.a)(Object(it.a)({},P),{},{main:{nodes:n,edges:r}})})},clearAll:function(){_({type:Xn}),D({type:no,uiState:Object(it.a)(Object(it.a)({},L),{},{activeTab:0})})}},Z=function(e){return T({type:$n,cyReference:e})},K=function(e){return T({type:er,cyReference:e})},J=function(e){return D({type:to,uiState:e})},$=function(e){if(!c&&o>R.viewerThreshold)return L.mainNetworkNotDisplayed||J(Object(it.a)(Object(it.a)({},L),{},{mainNetworkNotDisplayed:!0})),Object(Ht.jsx)(sr,{showIcons:!L.showSearchResult,title:"Browser not supported",message:"Your browser cannot display large network data. \n            Please use supported browsers, such as Chrome or Firefox, \n            to view large networks. (Still, you can query the network \n              using the query function below.)"});if(o>G||a>R.maxDataSize||l){L.mainNetworkNotDisplayed||J(Object(it.a)(Object(it.a)({},L),{},{mainNetworkNotDisplayed:!0}));var t="Large Network Entry Selected",r="There are ".concat(o," objects in this network and it is too large to display at once. \n          You can use the query functions below to extract sub-networks.");return l&&(t="No Network View Mode",r="To explore this network, you can use the query functions below to extract sub-networks."),Object(Ht.jsx)(sr,{showIcons:!L.showSearchResult,title:t,message:r})}var i=on(n);if("lgr"!==e){var s=en(n,1e3);return Object(Ht.jsx)(In,{uuid:h,cx:n,layoutName:s,setCyReference:Z,eventHandlers:X,backgroundColor:i})}var u=function(e){var t=Wt("nodes",e);if(void 0===t||0===t.length)return tn;var n=t[0];return void 0===n||void 0===n.x||void 0===n.y||0===n.x&&0===n.y?nn:"preset"}(n);return Object(Ht.jsx)(un,{cx:n,eventHandlers:Q,selectedNodes:P.main.nodes,selectedEdges:P.main.edges,backgroundColor:i,layoutName:u,pickable:!U})},ee="none",te=function(){if(!M.isLoading&&void 0===t&&U){return Object(Ht.jsx)(Vt,{message:"No search result yet.",showLoading:!1})}if(M.isLoading&&void 0===t&&U){return Object(Ht.jsx)(Vt,{message:"Loading subnetwork...",showLoading:!0})}if(W)return Object(Ht.jsx)(uo,{});if(0===F.subnetworkNodeCount+F.subnetworkEdgeCount&&U)return Object(Ht.jsx)(Vt,{message:"No nodes matching your query were found in this network.",showLoading:!1});if("success"===M.status&&!M.isLoading&&void 0!==t&&U){var e=en(t,1e3);ee="1px solid #BBBBBB";var n=on(t);return Object(Ht.jsx)("div",{style:{width:"100%",height:"100%",borderTop:ee},children:Object(Ht.jsx)(In,{uuid:h,cx:t,eventHandlers:Y,layoutName:e,setBusy:g,setCyReference:K,backgroundColor:n})})}return Object(Ht.jsx)(Vt,{message:"Could not get the query result.  Please try again.",showLoading:!0})};return Object(Ht.jsxs)("div",{className:f.rootA,children:[Object(Ht.jsx)(zr,{cx:L.mainNetworkNotDisplayed?t:n,subHeight:E}),U?Object(Ht.jsxs)(fo.a,{split:"horizontal",pane2Style:{background:"#FFFFFF",zIndex:10},pane1Style:{background:"#FFFFFF",zIndex:0},size:y,minSize:j,maxSize:0,onDragFinished:function(e){w(e)},children:[Object(Ht.jsxs)("div",{className:f.lowerPanel,children:[Object(Ht.jsx)(co,{target:"main"}),U?Object(Ht.jsx)(m.a,{className:f.title,children:"Overview"}):Object(Ht.jsx)("div",{}),$(r)]}),Object(Ht.jsx)(Vn.a,{disableWidth:!0,children:function(e){var t=e.height;e.width;return t!==E&&N(t),Object(Ht.jsxs)("div",{className:f.subnet,style:{height:t},children:[U?Object(Ht.jsx)(co,{target:"sub"}):Object(Ht.jsx)("div",{}),te()]})}})]}):Object(Ht.jsxs)("div",{className:f.lowerPanel,children:[Object(Ht.jsx)(co,{target:"main"}),U?Object(Ht.jsx)(m.a,{className:f.title,children:"Overview"}):Object(Ht.jsx)("div",{}),$(r)]})]})},bo=n(522),go=n(520),mo=n(521),vo=Object(h.a)((function(e){return{collapsiblePanelTitle:{padding:e.spacing(1),borderTop:"1px solid ".concat(e.palette.divider),borderBottom:"1px solid ".concat(e.palette.divider),"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.04) !important",cursor:"pointer"},height:"2.8em"},collapsiblePanel:{paddingBottom:e.spacing(2)},expandIcon:{float:"right"}}})),jo=function(e){e.openByDefault;var t=e.title,n=void 0===t?"?":t,r=e.children,o=e.backgroundColor,a=e.open,c=e.setOpen,s=vo();Object(i.useEffect)((function(){console.log(a)}),[]);return Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsx)("div",{onClick:function(){c(!a)},className:s.collapsiblePanelTitle,style:{backgroundColor:o},children:Object(Ht.jsxs)(m.a,{variant:"subtitle2",color:"textSecondary",children:[n,a?Object(Ht.jsx)(go.a,{className:s.expandIcon}):Object(Ht.jsx)(mo.a,{className:s.expandIcon})]})}),Object(Ht.jsx)("div",{style:{minHeight:"auto"},children:Object(Ht.jsx)(bo.a,{in:a,timeout:"auto",unmountOnExit:!0,className:s.collapsiblePanel,style:{backgroundColor:o,marginBottom:"-16px"},children:r})})]})},Oo=Object(h.a)((function(e){return{root:{padding:e.spacing(1)},segmentTitle:{marginTop:e.spacing(1)}}})),xo=function(e){var t=e.summary,n=e.details,r=Oo();return Object(Ht.jsxs)("div",{className:r.root,children:[t?Object(Ht.jsx)(m.a,{variant:"caption",color:"textSecondary",display:"block",className:r.segmentTitle,children:t}):null,Object(Ht.jsx)(m.a,{variant:"body2",display:"block",component:"div",children:n})]})},yo=Object(M.a)((function(e){return{wrapper:{height:"100%",maxHeight:"100%",minHeight:"100%",overflowY:"hidden",paddingBottom:"3.1em",background:"inherit"},innerWrapper:{height:"100%",background:"white",overflowY:"auto"},table:{cellSpacing:0,borderSpacing:0,borderCollapse:"collapse"},tdTitle:{whiteSpace:"nowrap",paddingRight:"1em",paddingLeft:0,verticalAlign:"top"},tdContent:{wordWrap:"break-word",wordBreak:"break-all",verticalAlign:"top"},icon:{verticalAlign:"middle",height:"0.9em",marginLeft:e.spacing(1)}}})),wo=function(e){if(void 0!==e)return e.charAt(0).toUpperCase()+e.slice(1)},Co=function(e){if(void 0!==e)return e=e.toString().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\ *>/gi,""),e=Object(Nr.a)(e)},So=function(e){if(void 0!==e)return e=e.toString().replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script\ *>/gi,""),e=Object(Nr.a)(e)},Eo=function(e){var t,n=[],r=0,o=Object(ct.a)(e);try{for(o.s();!(t=o.n()).done;){var a=t.value;n.push(Object(Ht.jsx)(xo,{summary:a[0],details:a[1]},r++))}}catch(i){o.e(i)}finally{o.f()}return n},No=function(e){var t,n,r,o=e.summary,a=e.panelState,i=e.setPanelState,c=o.properties,s=o.description,l=yo(),d=[];if(o.owner&&d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Owner"}),Object(Ht.jsx)("td",{className:l.tdContent,children:o.owner})]},"owner")),o.creationTime){var f=new Date(o.creationTime);d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Created"}),Object(Ht.jsx)("td",{className:l.tdContent,children:f.toLocaleDateString()+" "+f.toLocaleTimeString()})]},"created"))}if(o.modificationTime){var h=new Date(o.modificationTime);d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Last modified"}),Object(Ht.jsx)("td",{className:l.tdContent,children:h.toLocaleDateString()+" "+h.toLocaleTimeString()})]},"lastModified"))}if(o.externalId&&d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"UUID"}),Object(Ht.jsx)("td",{className:l.tdContent,children:o.externalId})]},"uuid")),o.version&&d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Version"}),Object(Ht.jsx)("td",{className:l.tdContent,children:o.version})]},"version")),o.visibility&&(!o.indexLevel||"ALL"!==o.indexLevel&&"META"!==o.indexLevel?d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Visibility"}),Object(Ht.jsxs)("td",{className:l.tdContent,children:["P",o.visibility.toLowerCase().slice(1)," (not searchable)"]})]},"visibility")):d.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Visibility"}),Object(Ht.jsxs)("td",{className:l.tdContent,valign:"middle",children:["P",o.visibility.toLowerCase().slice(1)," (searchable)"]})]},"visibility"))),d.length>0){var p=[[null,Object(Ht.jsx)("table",{className:l.table,children:Object(Ht.jsx)("tbody",{children:d})})]];t=Eo(p)}var b,g,m,v,j=[],O=Object(ct.a)(c);try{for(O.s();!(v=O.n()).done;){var x=v.value,y=x.value.trim(),w=x.predicateString.trim();if(""!==y&&!w.startsWith("__")){if("@context"===w)continue;if("rights"===w)if(y.includes("|")){var C=y.split("|"),S=Object(u.a)(C,2);b='<a target="_blank" href="'+S[0]+'">'+S[1]+"</a>"}else b=y;else"rightsHolder"===w?g=y:"reference"===w?m=y:j.push(Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:wo(w)}),Object(Ht.jsx)("td",{className:l.tdContent,children:Co(y)})]},w))}}}catch(A){O.e(A)}finally{O.f()}j.length>0&&(r=Eo([[null,Object(Ht.jsx)("table",{className:l.table,children:Object(Ht.jsx)("tbody",{children:j})})]]));var E=[];if(void 0!==s&&s.length>0&&E.push([null,So(s)]),b||g){var N=Object(Ht.jsx)("table",{className:l.table,children:Object(Ht.jsxs)("tbody",{children:[b?Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Rights"}),Object(Ht.jsx)("td",{className:l.tdContent,children:Co(b)})]}):null,g?Object(Ht.jsxs)("tr",{children:[Object(Ht.jsx)("td",{className:l.tdTitle,children:"Rights holder"}),Object(Ht.jsx)("td",{className:l.tdContent,children:Co(g)})]}):null]})});E.push(["Rights",N])}m&&E.push(["Reference",Co(m)]),E.length>0&&(n=Eo(E));var k=0;return Object(Ht.jsx)("div",{className:l.wrapper,children:Object(Ht.jsxs)("div",{className:l.innerWrapper,children:[t?Object(Ht.jsx)(jo,{title:"Network information",children:t,backgroundColor:k++%2===0?"inherit":"white",open:a.netInfoOpen,setOpen:function(e){i(Object(it.a)(Object(it.a)({},a),{},{netInfoOpen:e}))}}):null,n?Object(Ht.jsx)(jo,{title:"Description",children:n,backgroundColor:k++%2===0?"inherit":"white",open:a.descriptionOpen,setOpen:function(e){i(Object(it.a)(Object(it.a)({},a),{},{descriptionOpen:e}))}}):null,r?Object(Ht.jsx)(jo,{title:"Properties",children:r,backgroundColor:k++%2===0?"inherit":"white",open:a.propsOpen,setOpen:function(e){i(Object(it.a)(Object(it.a)({},a),{},{propsOpen:e}))}}):null]})})},ko={};function Ao(e,t,n,r){return Io.apply(this,arguments)}function Io(){return(Io=Object(a.a)(o.a.mark((function e(t,n,r,a){var i,c,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=ko[t])){e.next=3;break}return e.abrupt("return",i);case 3:if(a.loaded){e.next=5;break}return e.abrupt("return",void 0);case 5:if(c="".concat(n,"/").concat(r),e.prev=6,s=Pn(c,a),l=null,void 0===a.accesskey||""===a.accesskey){e.next=15;break}return e.next=12,s.getNetworkSummary(t,a.accesskey);case 12:l=e.sent,e.next=18;break;case 15:return e.next=17,s.getNetworkSummary(t);case 17:l=e.sent;case 18:if(ko[t]=l,Do(l)){e.next=21;break}throw new yn(l.errorMessage,{subMessage:"The entry contains invalid data in summary"});case 21:return e.abrupt("return",l);case 24:throw e.prev=24,e.t0=e.catch(6),new yn(e.t0.message,e.t0);case 27:case"end":return e.stop()}}),e,null,[[6,24]])})))).apply(this,arguments)}var Do=function(e){return console.log("Summary:",e),void 0!==e&&null!==e&&(""===e.errorMessage||void 0===e.errorMessage)};function Lo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0,o=Object(d.g)(),a=_n(o.search);return null!==a&&(r.accesskey=a),Object(Dn.useQuery)(["networkSummary",e,t,n,r],(function(){return Ao(e,t,n,r)}),{retry:!1})}var To,Po=n(552),_o=n(334),Ro=n.n(_o),Bo=n(234),Fo=n.n(Bo),zo=n(333),Mo=n(126),Go=n(550),Uo=n(537);!function(e){e.All="All nodes",e.Selected="Selected nodes",e.AllResult="All nodes in query result",e.SelectedResult="Selected nodes in query result"}(To||(To={}));var Ho,qo,Vo=To,Wo=Object(h.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}}}})),Xo=[Vo.All,Vo.Selected],Yo=[Vo.AllResult,Vo.SelectedResult],Qo=function(e){var t=e.selectionState,n=e.showSearchResult,r=e.target,o=void 0===r?Vo.All:r,a=e.setTarget,c=Wo();Object(i.useEffect)((function(){n&&a(Vo.AllResult)}),[n]),Object(i.useEffect)((function(){n||(0!==t.main.nodes.length?a(Vo.Selected):a(Vo.All))}),[t.main]),Object(i.useEffect)((function(){n&&(0!==t.sub.nodes.length?a(Vo.SelectedResult):a(Vo.AllResult))}),[t.sub]);var s=n?Yo:Xo;return Object(Ht.jsxs)(x.a,{variant:"standard",className:c.formControl,children:[Object(Ht.jsx)(Go.a,{htmlFor:"attr-selector",children:"attribute of"}),Object(Ht.jsx)(Uo.a,{native:!0,value:o,onChange:function(e){var t=e.target.value;console.log("Event",t),a(t)},children:s.map((function(e){return Object(Ht.jsx)("option",{value:e,children:e},e)}))})]})};!function(e){e.IQUERY="IQuery",e.MSIGDB="MSigDB"}(qo||(qo={}));var Zo,Ko=(Ho={},Object(Mo.a)(Ho,qo.IQUERY,"http://iquery.ndexbio.org/?genes="),Object(Mo.a)(Ho,qo.MSIGDB,"https://www.gsea-msigdb.org/gsea/analysisApi?speciesName=Human&username=ndex_user&op=annotate&geneIdList="),Ho),Jo=Object(h.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}}}})),$o=function(e){var t=e.selected,n=void 0===t?"":t,r=e.columns,o=void 0===r?[]:r,a=e.setSelected,i=Jo();return Object(Ht.jsxs)(x.a,{variant:"standard",className:i.formControl,children:[Object(Ht.jsx)(Go.a,{shrink:!0,htmlFor:"attr-selector",children:"using the data column"}),Object(Ht.jsx)(Uo.a,{native:!0,value:n,onChange:function(e){var t=e.target.value;a(t)},inputProps:{name:"attr-selector",id:"attr-selector"},children:o.map((function(e){return Object(Ht.jsx)("option",{value:e,children:e},e)}))})]})},ea=Object(h.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}}}})),ta=function(e){var t=e.selected,n=void 0===t?qo.IQUERY:t,r=e.setSelected,o=ea();return Object(Ht.jsxs)(x.a,{variant:"standard",className:o.formControl,children:[Object(Ht.jsx)(Go.a,{shrink:!0,htmlFor:"service-name",children:"Database:"}),Object(Ht.jsx)(Uo.a,{native:!0,value:n,onChange:function(e){var t=e.target.value;r(t)},inputProps:{name:"service-name",id:"service-name"},children:Object.entries(qo).map((function(e){return Object(Ht.jsx)("option",{value:e[1],children:e[1]},e[1])}))})]})},na=n(232),ra=n.n(na),oa=Object(h.a)((function(e){return{formControl:{width:"100%","& .MuiInputBase-root":{fontSize:"inherit"}},button:{width:"100%","&.MuiButton-contained":{}},tooltipText:{fontSize:"0.875rem",textAlign:"center",padding:e.spacing(.5),lineHeight:1.15}}})),aa=function(e){var t=e.enabled,n=e.message,r=e.onClick,o=oa(),a=function(e,t,n){return Object(Ht.jsx)(g.a,{variant:t,color:n,disabled:e,size:"small",className:o.button,onClick:r,startIcon:Object(Ht.jsx)(ra.a,{}),children:"Query"})};return t?a(!1,"outlined","secondary"):Object(Ht.jsx)(b.a,{arrow:!0,title:Object(Ht.jsx)("div",{className:o.tooltipText,children:n}),children:Object(Ht.jsx)("span",{children:a(!0,"contained","primary")})})},ia=Object(h.a)((function(e){return{container:{width:"100%",padding:e.spacing(2),paddingBottom:0,margin:0},item:{paddingLeft:e.spacing(1)},flexContainer:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0}}}));!function(e){e[e.ENABLED=0]="ENABLED",e[e.NO_NODES_SELECTED=1]="NO_NODES_SELECTED",e[e.TOO_MANY_NODES=2]="TOO_MANY_NODES",e[e.TOO_MANY_NODES_SELECTED=3]="TOO_MANY_NODES_SELECTED"}(Zo||(Zo={}));var ca=function(e){var t,n=e.cx,r=e.queryState,o=e.setQueryState,a=ia(),c=Object(i.useContext)(cn),s=c.selectionState,l=c.uiState,f=c.query,h=c.config,p=c.ndexCredential,b=c.queryMode,g=l.showSearchResult,m=Object(d.h)().uuid,v=gr(m,n,l.mainNetworkNotDisplayed).nodeAttr,j=qn(m,f,h.ndexHttps,p,b,h.maxEdgeQuery),O=Object(i.useState)([]),x=Object(u.a)(O,2),y=x[0],w=x[1],C=Object(i.useState)(Zo.ENABLED),S=Object(u.a)(C,2),E=S[0],N=S[1],k=Object(i.useState)(""),A=Object(u.a)(k,2),I=(A[0],A[1],t={},Object(Mo.a)(t,Zo.NO_NODES_SELECTED,"Select nodes to run a query."),Object(Mo.a)(t,Zo.TOO_MANY_NODES,"This network contains too many nodes to query the ".concat(r.column)+" attribute of all nodes. Try selecting a subset or changing the attribute queried."),Object(Mo.a)(t,Zo.TOO_MANY_NODES_SELECTED,"Too many nodes are selected to run this query."+" Try selecting less than ".concat(500," nodes.")),t);Object(i.useEffect)((function(){var e=function(e){for(var t=Wt("nodeAttributes",e),n=new Set,r=t.length;r--;)n.add(t[r].n);return["name"].concat(Object(st.a)(Array.from(n).sort()))}(n);w(e),T("name")}),[n]),Object(i.useEffect)((function(){g||0===s.main.nodes.length||P(Vo.Selected)}),[]),Object(i.useEffect)((function(){var e=r.target;e===Vo.All&&g&&P(Vo.AllResult),L(),console.log("TGT:",e)}),[r]);var L=function(){var e=r.target;if(g)e===Vo.SelectedResult&&0===s.sub.nodes.length?N(Zo.NO_NODES_SELECTED):N(Zo.ENABLED);else{if(Wt("nodes",n).length>500&&e===Vo.All)return void N(Zo.TOO_MANY_NODES);if(e===Vo.Selected&&s.main.nodes.length>500)return void N(Zo.TOO_MANY_NODES_SELECTED);r.target===Vo.Selected&&0===s.main.nodes.length?N(Zo.NO_NODES_SELECTED):N(Zo.ENABLED)}};Object(i.useEffect)((function(){L()}),[s]);var T=function(e){o(Object(it.a)(Object(it.a)({},r),{},{column:e}))},P=function(e){o(Object(it.a)(Object(it.a)({},r),{},{target:e}))};return Object(Ht.jsxs)(D.a,{className:a.container,container:!0,spacing:1,justify:"flex-start",alignItems:"center",children:[Object(Ht.jsx)(D.a,{item:!0,xs:3,children:Object(Ht.jsx)(ta,{selected:r.db,setSelected:function(e){o(Object(it.a)(Object(it.a)({},r),{},{db:e}))}})}),Object(Ht.jsx)(D.a,{item:!0,xs:9,className:a.item,children:Object(Ht.jsx)($o,{columns:y,selected:r.column,setSelected:T})}),Object(Ht.jsx)(D.a,{item:!0,xs:8,children:Object(Ht.jsx)(Qo,{selectionState:s,showSearchResult:g,target:r.target,setTarget:P})}),Object(Ht.jsx)(D.a,{item:!0,xs:4,children:Object(Ht.jsx)(aa,{enabled:E===Zo.ENABLED,message:I[E],onClick:function(){var e,t=j.data;void 0!==t&&(e=t.cx);var n=function(e,t,n,r){var o=e.column,a=e.db,i=e.target,c=new Set;if(i===Vo.All)Object.values(t).forEach((function(e){c.add(e.get(o))}));else if(i===Vo.Selected)n.main.nodes.forEach((function(e){c.add(t[e].get(o))}));else if(i===Vo.AllResult){var s=Wt("nodes",r),l=s.map((function(e){return e["@id"]}));l.forEach((function(e){c.add(t[e].get(o))})),console.log(s,l)}else{var u=n.sub.nodes;u.forEach((function(e){c.add(t[e].get(o))})),console.log(u)}var d=Array.from(c).sort().join(","),f=Ko[a.toString()];return"".concat(f).concat(d)}(r,v,s,e);window.open(n,"_blank")}})})]})},sa=n(233),la=n.n(sa),ua={},da=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r,a){var i,c,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=ua[t])){e.next=3;break}return e.abrupt("return",i);case 3:if(void 0!==a&&a.loaded&&a.isLogin){e.next=5;break}return e.abrupt("return",void 0);case 5:return c="".concat(n,"/").concat(r),s=null,e.prev=7,l=Pn(c,a),e.next=11,l.getNetworkPermissionsByUUIDs([t]);case 11:u=e.sent,s=u[t],ua[t]=s,e.next=19;break;case 16:throw e.prev=16,e.t0=e.catch(7),new yn(e.t0.message,e.t0);case 19:return e.abrupt("return",s);case 20:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t,n,r,o){return e.apply(this,arguments)}}();function fa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0;return Object(Dn.useQuery)(["networkPermissions",e,t,n,r],(function(){return da(e,t,n,r)}),{retry:!1})}var ha=Object(h.a)((function(e){return Object(p.a)({button:{"text-transform":"none"}})})),pa=function(e){var t=e.uuid,n=ha(),r=Object(i.useContext)(cn),o=r.ndexCredential,a=r.config,s=r.summary,l=r.setSummary,d=fa(t,a.ndexHttps,"v2",o),f=Object(i.useState)(!1),h=Object(u.a)(f,2),p=h[0],x=h[1],y=function(e){Pn("".concat(a.ndexHttps,"/v2"),o).cancelDOIRequest(t).then(e).catch((function(e){throw console.log(e),new Error(e)}))};return o.isLogin&&void 0!==s&&d&&"ADMIN"===d.data?Object(Ht.jsxs)(c.a.Fragment,{children:[Object(Ht.jsx)(b.a,{title:"Cancel DOI request",arrow:!0,placement:"left",children:Object(Ht.jsx)(S.a,{size:"small",onClick:function(){x(!0)},className:n.button,children:Object(Ht.jsx)(la.a,{})})}),Object(Ht.jsxs)(v.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,maxWidth:"sm","aria-labelledby":"confirmation-dialog-title",open:p,children:[Object(Ht.jsx)(j.a,{id:"confirmation-dialog-title",children:"Delete DOI Request"}),Object(Ht.jsxs)(O.a,{dividers:!0,children:[Object(Ht.jsx)(m.a,{children:"This will delete your DOI request, please verify that your network's visibility is correct. If you still want a DOI for your network, please submit a new request."}),Object(Ht.jsx)("br",{}),Object(Ht.jsx)(m.a,{children:"Would you like to delete this request?"})]}),Object(Ht.jsxs)(N.a,{children:[Object(Ht.jsx)(g.a,{onClick:function(){x(!1)},children:"Cancel"}),Object(Ht.jsx)(g.a,{onClick:function(){y((function(){return l(Object(it.a)(Object(it.a)({},s),{},{doi:void 0}))})),x(!1)},children:"Confirm"})]})]})]}):null},ba=Object(h.a)((function(e){return Object(p.a)({root:{backgroundColor:e.palette.background.paper,margin:0,paddingTop:e.spacing(1)},item:{marginRight:e.spacing(1)},label:{marginRight:e.spacing(1),padding:0,paddingLeft:e.spacing(1)},row:{display:"flex",alignItems:"center",boxSizing:"border-box"},grid:{alignItems:"center",justifyContent:"flex-start",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},chip:{paddingLeft:e.spacing(1)},warning:{color:e.palette.warning.main},error:{color:e.palette.error.main},copySpan:{display:"none"},queryPanel:{}})})),ga=function(e){var t=e.cx,n=e.panelState,r=e.setPanelState,o=e.queryState,a=e.setQueryState,c=e.renderer,s=ba(),l=Object(d.h)().uuid,f=Object(i.useContext)(cn),h=f.summary,p=f.uiState,g=f.config,v=g.viewerThreshold,j=g.warningThreshold,O=Object(i.useState)(!1),x=Object(u.a)(O,2),y=x[0],w=x[1];if(void 0===h||null===h)return null;var C;return Object(Ht.jsxs)("div",{className:s.root,children:[h.doi?Object(Ht.jsx)(Ht.Fragment,{children:"Pending"===h.doi?Object(Ht.jsxs)(D.a,{className:s.grid,container:!0,alignItems:"center",children:[Object(Ht.jsxs)(D.a,{item:!0,children:[Object(Ht.jsx)(pa,{uuid:l})," "]}),Object(Ht.jsx)(D.a,{item:!0,children:Object(Ht.jsx)(Po.a,{variant:"outlined",label:"DOI Status: Pending",size:"small",color:"default"})})]}):Object(Ht.jsx)("div",{className:s.chip,children:Object(Ht.jsx)(b.a,{title:y?"Copied!":"Copy network DOI to clipboard",className:s.item,children:Object(Ht.jsx)(zo.CopyToClipboard,{text:"https://doi.org/"+h.doi,onCopy:function(){w(!0)},children:Object(Ht.jsx)(Po.a,{clickable:!0,label:"DOI: ".concat(h.doi),size:"small",color:"default",variant:"outlined",onMouseEnter:function(){w(!1)}})})})})}):null,Object(Ht.jsxs)(D.a,{container:!0,className:s.grid,children:[Object(Ht.jsx)(m.a,{className:s.label,variant:"body1",children:"Network Size:"}),Object(Ht.jsx)(Po.a,{size:"small",color:"secondary",label:"Nodes: ".concat(h.nodeCount),variant:"outlined",className:s.item}),Object(Ht.jsx)(Po.a,{size:"small",color:"secondary",label:"Edges: ".concat(h.edgeCount),variant:"outlined",className:s.item}),(C=h.edgeCount+h.nodeCount,C>=v&&C<j?Object(Ht.jsx)(b.a,{arrow:!0,title:"Large network loaded: showing network in simplified mode",children:Object(Ht.jsx)(Ro.a,{fontSize:"large",className:s.warning})}):C>=j?Object(Ht.jsx)(b.a,{arrow:!0,title:"Network is too large to display",children:Object(Ht.jsx)(Fo.a,{fontSize:"large",className:s.error})}):void 0)]}),p.showSearchResult&&void 0!==h.subnetworkNodeCount?Object(Ht.jsxs)(D.a,{container:!0,className:s.grid,children:[Object(Ht.jsx)(m.a,{className:s.label,variant:"subtitle2",children:"Query Result:"}),Object(Ht.jsx)(Po.a,{size:"small",label:"Nodes: ".concat(h.subnetworkNodeCount),variant:"outlined",className:s.item}),Object(Ht.jsx)(Po.a,{size:"small",label:"Edges: ".concat(h.subnetworkEdgeCount),variant:"outlined",className:s.item})]}):null,"lgr"!==c||p.showSearchResult?Object(Ht.jsx)(jo,{openByDefault:!1,title:p.showSearchResult?"Query External Database (for sub network)":"Query External Database",children:Object(Ht.jsx)(ca,{cx:t,queryState:o,setQueryState:a}),open:n.queryOpen,setOpen:function(e){r(Object(it.a)(Object(it.a)({},n),{},{queryOpen:e}))},backgroundColor:"#f5f5f5"}):Object(Ht.jsx)("div",{})]})},ma=Object(h.a)((function(e){return Object(p.a)({root:{width:"100%",height:"100%",overflowY:"hidden",margin:0,padding:0,display:"flex",flexDirection:"column",boxSizing:"border-box",backgroundColor:e.palette.background.paper},description:{padding:0,margin:0,backgroundColor:"inherit",height:"100%",overflowY:"hidden"}})})),va=function(e){var t=e.cx,n=e.panelState,r=e.setPanelState,o=e.queryState,a=e.setQueryState,c=e.renderer,s=ma(),l=Object(i.useContext)(cn),u=l.ndexCredential,f=l.config,h=l.setSummary,p=l.summary,b=Lo(Object(d.h)().uuid,f.ndexHttps,"v2",u).data;return void 0===b||0===Object.entries(b).length?Object(Ht.jsx)("div",{className:s.root,children:Object(Ht.jsx)(D.a,{container:!0,children:Object(Ht.jsx)(D.a,{item:!0,md:12})})}):(void 0!==p&&p.owner===b.owner||h(Object(it.a)(Object(it.a)({},p),{},{name:b.name,owner:b.owner,externalId:b.externalId,visibility:b.visibility,nodeCount:b.nodeCount,edgeCount:b.edgeCount,doi:b.doi})),Object(Ht.jsxs)("div",{className:s.root,children:[Object(Ht.jsx)(ga,{cx:t,panelState:n,setPanelState:r,queryState:o,setQueryState:a,renderer:c}),Object(Ht.jsx)("div",{className:s.description,children:Object(Ht.jsx)(No,{summary:b,panelState:n,setPanelState:r})})]}))},ja=n(335),Oa=n.n(ja),xa=n(336),ya=n.n(xa),wa=Object(h.a)((function(e){return Object(p.a)({button:{height:"1em",width:"1em",margin:0,borderRadius:2,border:"1px solid #AAAAAA"},closeIcon:{width:"1em"}})})),Ca=function(){var e=wa(),t=Object(i.useContext)(cn),n=t.uiState,r=t.uiStateDispatch,o=function(){var e;e=Object(it.a)(Object(it.a)({},n),{},{dataPanelOpen:!n.dataPanelOpen}),r({type:Jr,uiState:e})};return n.dataPanelOpen?Object(Ht.jsx)(b.a,{title:"Hide Data Panel",placement:"left",arrow:!0,children:Object(Ht.jsx)(S.a,{className:e.button,size:"small",onClick:o,children:Object(Ht.jsx)(Oa.a,{className:e.closeIcon,"aria-label":"Collapse the panel",color:"inherit"})})}):Object(Ht.jsx)(b.a,{title:"Show Data Panel",placement:"left",arrow:!0,children:Object(Ht.jsx)(S.a,{className:e.button,size:"small",onClick:o,children:Object(Ht.jsx)(ya.a,{className:e.closeIcon,"aria-label":"Collapse the panel",color:"inherit"})})})},Sa=n(199),Ea=n(339),Na=n.n(Ea),ka=n(337),Aa=n.n(ka),Ia=n(338),Da=n.n(Ia),La=n(523),Ta=n(524),Pa=Object(h.a)({root:{minWidth:"15em",width:"20em",height:"20em",zIndex:1e3,position:"fixed",border:"1px solid #666666",cursor:"pointer"},content:{margin:0,padding:"0.3em",overflowY:"scroll",width:"100%",height:"100%"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),_a=function(e){var t=e.x,n=e.y,r=e.open,o=e.setOpen,a=(e.key,e.value),i=Pa();return!1===r?null:Object(Ht.jsx)(La.a,{className:i.root,style:{left:t,top:n},variant:"outlined",onClick:function(e){e.preventDefault(),o(!1)},children:Object(Ht.jsxs)(Ta.a,{className:i.content,children:[Object(Ht.jsx)(m.a,{className:i.title,color:"textSecondary",gutterBottom:!0,children:"Cell contents (click to close)"}),Object(Ht.jsx)(m.a,{variant:"body2",component:"p",children:a})]})})},Ra=function(){var e=document.createElement("div");e.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t},Ba=Object(h.a)((function(e){return Object(p.a)({root:{width:"100%",height:"100%",margin:0,padding:0,display:"flex",flexDirection:"column",justifyContent:"flex-start",background:e.palette.background.paper,boxSizing:"border-box",color:"#333333",overflow:"hidden"},tablePanel:{flexGrow:1,width:"100%",height:"100%",boxSizing:"border-box",overflowY:"hidden"},tableBody:{flexGrow:1},gridRow:{position:"relative",display:"flex",flexDirection:"row"},gridColumn:{display:"flex",flexDirection:"column",flex:"1 1 auto"},pagination:{display:"flex",alignItems:"center",justifyContent:"flex-start",background:e.palette.background.paper,height:"3em",padding:e.spacing(1),borderTop:"1px solid ".concat(e.palette.divider),boxSizing:"border-box",zIndex:100},buttons:{},pageLabel:{width:"7em"},pageSelector:{width:"5em",marginRight:e.spacing(1)},pageSelectorPanel:{width:"10em"},button:{marginRight:e.spacing(1)},topBar:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingRight:e.spacing(1)},title:{paddingTop:e.spacing(1),paddingLeft:e.spacing(3)},tabs:{boxSizing:"border-box",backgroundColor:e.palette.background.paper,margin:0,padding:0,height:"100%",width:"100%"},tab:{"&:disabled":{color:"#AAAAAA"}},tabPanel:{width:"100%",height:"100%"},collapsiblePanel:{minHeight:"auto"},leftSideGridContainer:{flex:"0 0 75px",zIndex:10,backgroundColor:e.palette.background.default,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},leftSideGrid:{overflow:"hidden !important",paddingLeft:"0.5em"},headerGrid:{width:"100%",overflow:"hidden !important",borderBottom:"1px solid #999999",paddingLeft:"0.5em"},bodyGrid:{width:"100%"},evenRow:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",paddingLeft:"0.5em"},oddRow:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",backgroundColor:"rgba(150, 150, 150, .1)",paddingLeft:"0.5em"},cell:{width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start"},headerCell:{fontWeight:"bold",color:"blue",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},sortableHeader:{display:"flex",justifyContent:"flex-start",alignItems:"center"},sortButton:{marginLeft:"0.3em",border:"1px solid #BBBBBB",borderRadius:"10%",cursor:"pointer",background:"#FFFFFF"},cellOverflow:{cursor:"pointer",wordWrap:"break-word",width:"100%",overflowWrap:"break-word"}})})),Fa=function(e){var t=e.columns,n=e.data,r=(e.parentSize,e.selected),o=Ba(),a=Object(i.useState)(!1),s=Object(u.a)(a,2),l=s[0],d=s[1],f=Object(i.useState)({x:0,y:0}),h=Object(u.a)(f,2),p=h[0],b=h[1],g=Object(i.useState)(null),m=Object(u.a)(g,2),v=m[0],j=m[1],O=Object(i.useRef)(null),x=Object(i.useRef)(null),y=Object(i.useRef)(null),w=Object(i.useState)(1),C=Object(u.a)(w,2),S=C[0],E=C[1],N=Object(i.useState)(1),k=Object(u.a)(N,2),A=k[0],I=k[1],D=c.a.useMemo((function(){return{width:150}}),[]),L=function(e){if(void 0!==y.current&&null!==y.current){var t=y.current.offsetHeight;0!==t&&I(t)}};Object(i.useEffect)((function(){window.addEventListener("resize",L)}),[]),Object(i.useEffect)((function(){if(void 0!==y.current&&null!==y.current){var e=y.current.offsetHeight;I(e)}}),[y]),Object(i.useEffect)((function(){var e=x.current.offsetHeight,t=y.current.offsetHeight;0!==e&&E(e),0!==t&&I(t)}),[r]);var T=Object(Sa.useTable)({columns:t,data:n,defaultColumn:D,initialState:{pageIndex:0,pageSize:100}},Sa.useSortBy,Sa.usePagination,Sa.useFlexLayout),P=(T.getTableProps,T.getTableBodyProps,T.headerGroups),_=T.prepareRow,R=T.page,B=T.canPreviousPage,F=T.canNextPage,z=T.pageOptions,M=T.pageCount,G=T.gotoPage,U=T.nextPage,H=T.previousPage,q=T.setPageSize,V=T.state,W=V.pageIndex,X=V.pageSize,Y=function(e){G(e),O.current.scrollToCell({columnIndex:0,rowIndex:0})},Q=function(e){var t=e.columnIndex,n=e.key,r=e.parent,o=e.rowIndex,a=e.style;if(!(t<1))return J({columnIndex:t,key:n,parent:r,rowIndex:o,style:a})},Z=function(e){var t=e.columnIndex,n=e.key,r=(e.rowIndex,e.style);if(!(t<1))return K({columnIndex:t,key:n,style:r})},K=function(e){var t=e.columnIndex,n=e.key,r=e.style,a=P[0].headers[t];return Object(Ht.jsx)("div",{style:Object(it.a)(Object(it.a)({},r),{},{display:"grid",alignContent:"center"}),onClick:function(){return e=a,void(0===t?e.toggleSortBy(!e.isSortedDesc):e.canSort=!1);var e},children:Object(Ht.jsxs)("div",{className:o.sortableHeader,children:[a.Header,0!==t?(a.canSort=!1,null):a.isSorted?a.isSortedDesc?Object(Ht.jsx)(Aa.a,{className:o.sortButton}):Object(Ht.jsx)(Da.a,{className:o.sortButton}):Object(Ht.jsx)(Na.a,{className:o.sortButton})]})},n)},J=function(e){var t=e.columnIndex,n=e.key,r=(e.parent,e.rowIndex),a=e.style,c=R[r];_(c);var s=c.cells.map((function(e){return e})),l=[s[t]],u=r%2===0?o.evenRow:o.oddRow,d=l[0].value.props.children,f=d,h=!1;return void 0!==d&&d.length>40&&(f=d.substring(0,40),h=!0),Object(i.createElement)("div",Object(it.a)(Object(it.a)({},l[0].getCellProps()),{},{className:u,key:n,style:a,onClick:function(e){return $(e,d)}}),h?Object(Ht.jsx)("p",{className:o.cellOverflow,children:"".concat(f,"...")}):f)},$=function(e,t){null!==t&&void 0!==t&&t.length>40&&(d(!0),b({x:e.pageX,y:e.pageY}),j(t))},ee=200,te=t.length,ne=57,re=R.length,oe=A-(S+ne);return Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsxs)("div",{ref:y,className:o.root,children:[Object(Ht.jsx)("div",{className:o.tablePanel,children:Object(Ht.jsx)(Vn.c,{children:function(e){e.clientHeight,e.clientWidth;var t=e.onScroll,n=(e.scrollHeight,e.scrollLeft),r=e.scrollTop,a=(e.scrollWidth,"#222222");return Object(Ht.jsxs)("div",{className:o.gridRow,children:[Object(Ht.jsx)("div",{className:o.leftSideGridContainer,style:{position:"absolute",left:0,top:0,color:a},children:Object(Ht.jsx)(Vn.b,{cellRenderer:K,className:o.headerGrid,width:ee,height:ne,rowHeight:ne,columnWidth:ee,rowCount:1,columnCount:1})}),Object(Ht.jsx)("div",{className:o.leftSideGridContainer,style:{position:"absolute",left:0,top:ne,color:a},children:Object(Ht.jsx)(Vn.b,{overscanColumnCount:0,overscanRowCount:5,cellRenderer:J,columnWidth:ee,columnCount:1,className:o.leftSideGrid,height:oe-Ra(),rowHeight:ne,rowCount:re,scrollTop:r,width:ee})}),Object(Ht.jsx)("div",{className:o.gridColumn,children:Object(Ht.jsx)(Vn.a,{children:function(e){var r=e.width;return Object(Ht.jsxs)("div",{children:[Object(Ht.jsx)("div",{style:{color:"#222222",height:ne,width:r-Ra()},children:Object(Ht.jsx)(Vn.b,{className:o.headerGrid,columnWidth:ee,columnCount:te,height:ne,overscanColumnCount:0,cellRenderer:Z,rowHeight:ne,rowCount:1,scrollLeft:n,width:r-Ra()})}),Object(Ht.jsx)("div",{style:{color:"#222222",height:oe,width:r},children:Object(Ht.jsx)(Vn.b,{ref:O,className:o.bodyGrid,columnWidth:ee,columnCount:te,onScroll:t,overscanColumnCount:0,overscanRowCount:5,cellRenderer:Q,rowHeight:ne,rowCount:re,height:oe,width:r})})]})}})})]})}})}),Object(Ht.jsxs)("div",{ref:x,className:o.pagination,children:[Object(Ht.jsxs)("div",{className:o.buttons,children:[Object(Ht.jsx)("button",{className:o.button,onClick:function(){return Y(0)},disabled:!B,children:"<<"}),Object(Ht.jsx)("button",{className:o.button,onClick:function(){return H(),void O.current.scrollToCell({columnIndex:0,rowIndex:0})},disabled:!B,children:"<"}),Object(Ht.jsx)("button",{className:o.button,onClick:function(){return U(),void O.current.scrollToCell({columnIndex:0,rowIndex:0})},disabled:!F,children:">"}),Object(Ht.jsx)("button",{className:o.button,onClick:function(){return Y(M-1)},disabled:!F,children:">>"})]}),Object(Ht.jsx)("div",{className:o.pageLabel,children:"Page ".concat(W+1," of ").concat(z.length)}),Object(Ht.jsxs)("div",{className:o.pageSelectorPanel,children:[Object(Ht.jsx)("select",{className:o.pageSelector,value:X,onChange:function(e){q(Number(e.target.value))},children:[100,500,1e3,5e3,1e4].map((function(e){return Object(Ht.jsx)("option",{value:e,children:e},e)}))}),"per page"]})]})]}),Object(Ht.jsx)(_a,{x:p.x,y:p.y,open:l,setOpen:d,value:v})]})},za="source",Ma="target",Ga="interaction",Ua="Represents",Ha="name",qa="ndex:internalLink",Va=/\./gi,Wa=function(e){return e.replace(Va,"(_)")},Xa=function(e){return void 0===e||""===e},Ya=function(e){return void 0!==e&&null!==e&&""!==e&&0!==e.length&&"0123456789".includes(e.charAt(0))},Qa=function(e){var t=e.selectedObjects,n=e.attributes,r=e.type,o=e.context,a=e.letterWidths,c=e.label,s=e.parentSize,l=e.selected,d=Object(i.useContext)(cn).config,f=function(e){void 0===e&&(e="");for(var t=0,n=0;n<e.length;n++){var r=e[n];" "===r&&(r="&nbsp"),void 0===a[r]?t+=a.default:t+=a[r]}return t},h=function(e,t,n){var r=Math.max.apply(Math,Object(st.a)(e.map((function(e){return f("".concat(e[t])||"")}))).concat([f(n)]))+18;return Math.min(318,r)},p=Object(i.useMemo)((function(){var e,o=[],a=Object(ct.a)(t);try{for(a.s();!(e=a.n()).done;){var i=e.value,c=n[i];if(void 0!==c&&null!==c){var s,l=Object(ct.a)(c);try{for(l.s();!(s=l.n()).done;){var u=s.value;if(u[0]!==Ha&&("edge"!==r||u[0]!==za&&u[0]!==Ma&&u[0]!==Ga)){if(Array.isArray(u[1])){var d,f=Object(ct.a)(u[1]);try{for(f.s();!(d=f.n()).done;){var h=d.value;if(void 0!==h&&""!==h){o.includes(u[0])||o.push(u[0]);break}}}catch(v){f.e(v)}finally{f.f()}}else void 0!==u[1]&&""!==u[1]&&(o.includes(u[0])||o.push(u[0]));if(o.length+1===c.length)break}}}catch(v){l.e(v)}finally{l.f()}}}}catch(v){a.e(v)}finally{a.f()}if(o.unshift(Ha),"edge"===r){var p,b=Object(ct.a)(t);try{for(b.s();!(p=b.n()).done;){var g=p.value,m=n[g];m.has(Ha)||m.has(za)&&m.has(Ma)&&(m.has(Ga)?m.set(Ha,m.get(za)+" ("+m.get(Ga)+") "+m.get(Ma)):m.set(Ha,m.get(za)+" (-) "+m.get(Ma)))}}catch(v){b.e(v)}finally{b.f()}}return o}),[t]),b=Object(i.useMemo)((function(){var e,r=[],a=[],i=Object(ct.a)(t);try{for(i.s();!(e=i.n()).done;){var c=e.value,s=n[c];if(void 0!==s){var l,f={},h={},b=Object(ct.a)(p);try{for(b.s();!(l=b.n()).done;){var g=l.value,m=s.get(g);Array.isArray(m)?(f[Wa(g)]=Ir(m,o),h[Wa(g)]=Dr(m)):(g==qa?f[g]=Tr(s.get(g),d.ndexUrl):f[Wa(g)]=Lr(s.get(g),o,!0),h[Wa(g)]=s.get(g))}}catch(I){b.e(I)}finally{b.f()}r.push(f),a.push(h)}}}catch(I){i.e(I)}finally{i.f()}var v=r.filter((function(e){return Xa(e.name)})),j=r.filter((function(e){return!Xa(e.name)})),O=j.filter((function(e){return!Ya(e.name)})),x=j.filter((function(e){return Ya(e.name)}));O.sort((function(e,t){return e.name>t.name?1:-1})),x.sort((function(e,t){return e.name>t.name?1:-1}));for(var y=O.concat(x).concat(v),w=0;w<y.length;w++)for(var C=y[w],S=0,E=Object.entries(C);S<E.length;S++){var N=Object(u.a)(E[S],2),k=N[0],A=N[1];C[k]=Object(Ht.jsx)(Or.a,{children:A})}return[y,a]}),[t]),g=Object(i.useMemo)((function(){var e=!1,t=!1;return p.includes(Ha)&&(e=!0,p.splice(p.indexOf(Ha),1)),p.includes(Ua)&&(t=!0,p.splice(p.indexOf(Ua),1)),p.sort((function(e,t){return e.localeCompare(t)})),t&&p.unshift(Ua),e&&p.unshift(Ha),p.map((function(e){return e===Ha?{Header:c,accessor:Ha,width:h(b[1],Ha,c)}:{Header:e,accessor:Wa(e),width:h(b[1],e,e)}}))}),[t]);return Object(Ht.jsx)(Fa,{columns:g,data:b[0],parentSize:s,selected:l})},Za=n(129),Ka=function(e){var t=e.type,n=e.count,r=e.threshold,o="This network has large number of ".concat(t,"s (").concat(n,"). ")+"To display ".concat(t," attributes, you can select up to ").concat(r," ").concat(t,"s at a time.");return Object(Ht.jsx)("div",{style:{height:"100%",width:"100%",display:"grid",justifyContent:"center",alignContent:"center"},children:Object(Ht.jsxs)("div",{style:{padding:"2em"},children:[Object(Ht.jsx)(z.a,{style:{fontSize:"6em"}}),Object(Ht.jsx)("h3",{children:o})]})})},Ja={},$a=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r,a){var i,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(i=Ja[t])){e.next=3;break}return e.abrupt("return",i);case 3:if(void 0!==a&&a.loaded){e.next=5;break}return e.abrupt("return",void 0);case 5:if(e.prev=5,c=Pn("".concat(n,"/").concat(r),a),s=null,void 0===a.accesskey||""===a.accesskey){e.next=14;break}return e.next=11,c.getMetaData(t,a.accesskey);case 11:s=e.sent,e.next=17;break;case 14:return e.next=16,c.getMetaData(t);case 16:s=e.sent;case 17:return Ja[t]=s,e.abrupt("return",s);case 21:throw e.prev=21,e.t0=e.catch(5),new yn(e.t0.message,e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t,n,r,o){return e.apply(this,arguments)}}();var ei,ti=function(){var e=Object(d.h)().uuid,t=Object(i.useContext)(cn),n=t.query,r=t.queryMode,o=t.ndexCredential,a=t.config,s=t.summary,l=qn(e,n,a.ndexHttps,o,r,a.maxEdgeQuery).data,f=void 0!==l&&l.cx,h=void 0===l||l.edgeLimitExceeded?void 0:l.cx,p=c.a.useState(void 0),b=Object(u.a)(p,2),g=b[0],m=b[1],v=function(){m("Network opened.")},j=function(e){m("Failed to load network: "+e)},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0;return Object(Dn.useQuery)(["networkMetaData",e,t,n,r],(function(){return $a(e,t,n,r)}),{retry:!1})}(e,a.ndexHttps,"v2",o),x={uuid:e,summary:s,metaData:O.data?O.data.metaData:void 0};return Object(Ht.jsxs)(ne,{port:1234,children:[f?h?Object(Ht.jsx)(Ce,{size:"small",fetchCX:function(){return new Promise((function(e,t){h?e(h):t("No search result is available")}))},onSuccess:v,onFailure:j}):null:Object(Ht.jsx)(Ce,{size:"small",ndexNetworkProperties:x,onSuccess:v,onFailure:j}),Object(Ht.jsx)(so.a,{open:void 0!==g,autoHideDuration:6e3,onClose:function(){m(void 0)},message:g})]})},ni=Object(h.a)((function(e){return{root:{height:"100%",width:"100%",display:"grid",justifyContent:"center",alignContent:"center"},openButton:{marginTop:e.spacing(4),borderRadius:"5px",display:"flex",justifyContent:"flex-start",alignItems:"center"}}})),ri=function(e){e.type;var t=e.selectedCount,n=ni();return Object(Ht.jsxs)("div",{className:n.root,children:[Object(Ht.jsx)(m.a,{variant:"h6",children:" Too many objects (".concat(t,") are selected.")}),Object(Ht.jsx)(m.a,{variant:"caption",children:"For large networks like this one, you can use the Cytoscape Desktop to explore/edit"}),Object(Ht.jsx)("div",{className:n.openButton,children:Object(Ht.jsx)(ti,{})})]})},oi=null,ai=Object(h.a)((function(e){return oi=e.typography.fontSize,Object(p.a)({root:{width:"100%",height:"100%",maxHeight:"100%",margin:0,padding:0,display:"flex",flexDirection:"column",boxSizing:"border-box",backgroundColor:e.palette.background.paper,overflowY:"hidden",borderLeft:"1px solid ".concat(e.palette.divider)},topBar:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingRight:e.spacing(1),border:"1px solid ".concat(e.palette.divider)},title:{paddingTop:e.spacing(1.5),paddingBottom:e.spacing(1.5),paddingLeft:e.spacing(3)},tabWrapper:{boxSizing:"border-box",backgroundColor:e.palette.background.paper,margin:0,padding:0,width:"100%",height:"100%",overflowY:"hidden"},tabList:{boxSizing:"border-box",padding:0,margin:0,minHeight:"3.1em"},tab:{"&:disabled":{color:"#AAAAAA"}},collapsiblePanel:{minHeight:"auto"}})}));!function(e){e[e.Network=0]="Network",e[e.Node=1]="Node",e[e.Edge=2]="Edge"}(ei||(ei={}));var ii={db:qo.IQUERY,column:"name",target:Vo.All},ci=1e4,si=function(e){var t=e.width,n=e.cx,r=e.renderer,o=e.objectCount,a=e.cxDataSize,c=Object(i.useRef)(null),s=Object(i.useRef)(null),l=Object(i.useRef)(null),f=ai(),h=Object(i.useState)({nodeCount:0,edgeCount:0}),p=Object(u.a)(h,2),b=p[0],g=p[1],v=Object(i.useState)([0,0]),j=Object(u.a)(v,2),O=j[0],x=j[1],y=Object(i.useState)(!1),w=Object(u.a)(y,2),C=w[0],S=w[1],E=Object(i.useContext)(cn),N=E.ndexCredential,k=E.config,A=E.selectionState,I=E.uiState,D=k.maxNumObjects;k.maxDataSize;Object(i.useEffect)((function(){if(c.current&&s.current){var e=c.current.offsetHeight-s.current.offsetHeight,t=c.current.offsetWidth;x([t,e])}}),[c,s,l,A]);var L=I.showSearchResult,T=Object(d.h)().uuid,P=gr(T,n,I.mainNetworkNotDisplayed),_=Object(i.useMemo)((function(){return kr(n)}),[n]),R=Object(i.useState)(ei.Network),B=Object(u.a)(R,2),F=B[0],z=B[1],M=Object(i.useState)(!0),G=Object(u.a)(M,2),U=G[0],H=G[1],q=Object(i.useState)([]),V=Object(u.a)(q,2),W=V[0],X=V[1],Y=Object(i.useState)([]),Q=Object(u.a)(Y,2),Z=Q[0],K=Q[1];Object(i.useEffect)((function(){if(void 0!==n&&null!==n&&Array.isArray(n)&&n.length>0){if(o>D||a>k.maxDataSize)return void H(!0);H(!1);var e=Xt(n),t=Yt(n);g({nodeCount:e,edgeCount:t});var r=Wt("nodes",n),i=Wt("edges",n);if(void 0!==r&&Array.isArray(r)&&0!==r.length){var c=void 0===r[0]["@id"]?"id":"@id",s=r.map((function(e){return e[c]}));X(s)}if(void 0!==i&&Array.isArray(i)&&0!==i.length){var l=void 0===i[0]["@id"]?"id":"@id",u=i.map((function(e){return e[l]}));K(u)}}}),[n]),Object(i.useEffect)((function(){var e=A.main,t=A.sub;e.nodes.length<=1&&e.edges.length<=1&&t.nodes.length<=1&&t.edges.length<=1?z(ei.Network):(z(ei.Node),S(!C)),0===e.nodes.length&&b.nodeCount}),[A]);var J=Object(i.useState)({netInfoOpen:!0,descriptionOpen:!0,propsOpen:!0,queryOpen:!1}),$=Object(u.a)(J,2),ee=$[0],te=$[1],ne=Object(i.useState)(ii),re=Object(u.a)(ne,2),oe=re[0],ae=re[1],ie=Object(i.useMemo)((function(){var e={},t=0,n=document.getElementById("sandbox");n.style.display="block";for(var r=32;r<127;r++){var o=String.fromCharCode(r);" "===o&&(o="&nbsp"),e[o]=oi,t+=e[o]}return n.style.display="none",e.default=t/95,e}),[]),ce=[],se=[];L?(ce=A.sub.nodes,se=A.sub.edges):(ce=A.main.nodes,se=A.main.edges,0===ce.length&&b.nodeCount<ci&&(ce=W),0===se.length&&b.edgeCount<ci&&(se=Z));var le=Lo(T,k.ndexHttps,"v2",N).data,ue=function(e,t){return 0===e.length?Object(Ht.jsx)(Ka,{type:t,count:"node"===t?b.nodeCount:b.edgeCount,threshold:ci}):e.length>ci?Object(Ht.jsx)(ri,{type:t,selectedCount:e.length}):"node"===t?Object(Ht.jsx)(Qa,{selectedObjects:e,attributes:P.nodeAttr,context:_,letterWidths:ie,label:"Name",parentSize:O,selected:C},"selected-nodes"):Object(Ht.jsx)(Qa,{selectedObjects:se,attributes:P.edgeAttr,type:"edge",context:_,letterWidths:ie,label:"Name",parentSize:O,selected:C},"selected-edges")},de=0===ce.length||ce.length===b.nodeCount?"":"(".concat(ce.length," selected)"),fe=0===se.length||se.length===b.edgeCount?"":"(".concat(se.length," selected)");return Object(Ht.jsxs)("div",{className:f.root,style:{width:t},ref:c,children:[Object(Ht.jsxs)("div",{className:f.topBar,ref:s,children:[Object(Ht.jsx)(Ca,{}),Object(Ht.jsx)(m.a,{variant:"h5",className:f.title,children:le.name})]}),Object(Ht.jsx)("div",{className:f.tabWrapper,children:Object(Ht.jsxs)(Za.d,{selectedIndex:F,forceRenderTabPanel:!0,onSelect:function(e,t,n){S(!C),z(e)},children:[Object(Ht.jsxs)(Za.b,{className:f.tabList,ref:l,children:[Object(Ht.jsx)(Za.a,{children:"Network"},"network-tab"),Object(Ht.jsx)(Za.a,{disabled:U,children:Object(Ht.jsxs)("div",{children:["Nodes ",de]})},"nodes-tab"),Object(Ht.jsx)(Za.a,{disabled:U,children:Object(Ht.jsxs)("div",{children:["Edges ",fe]})},"edges-tab")]}),Object(Ht.jsx)(Za.c,{value:F,index:0,children:Object(Ht.jsx)(va,{cx:n,panelState:ee,setPanelState:te,queryState:oe,setQueryState:ae,renderer:r})}),Object(Ht.jsx)(Za.c,{value:F,index:1,children:ue(ce,"node")}),Object(Ht.jsx)(Za.c,{value:F,index:2,children:ue(se,"edge")})]})})]})},li=[],ui=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r,a,i,c,s){var l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&a.loaded&&null!==r&&null!==n&&null!==t&&null!=c){e.next=2;break}return e.abrupt("return",li);case 2:if(!(c>i)){e.next=5;break}return console.warn("Network is too big (>".concat(i,")")),e.abrupt("return",li);case 5:if(e.prev=5,l=Pn("".concat(n,"/").concat(r),a),u=a.accesskey,"2"!==s){e.next=18;break}if(void 0===u){e.next=13;break}return e.next=12,l.getCX2Network(t,u);case 12:case 15:case 21:case 24:return e.abrupt("return",e.sent);case 13:return e.next=15,l.getCX2Network(t);case 18:if(void 0===u){e.next=22;break}return e.next=21,l.getRawNetwork(t,u);case 22:return e.next=24,l.getRawNetwork(t);case 25:e.next=30;break;case 27:throw e.prev=27,e.t0=e.catch(5),new yn(e.t0.message,e.t0);case 30:case"end":return e.stop()}}),e,null,[[5,27]])})));return function(t,n,r,o,a,i,c){return e.apply(this,arguments)}}();var di,fi=Object(h.a)((function(e){return Object(p.a)({root:{position:"fixed",right:0,top:0,paddingTop:"1vh",display:"flex",flexDirection:"column",zIndex:300}})})),hi=function(){var e=fi();return Object(Ht.jsx)("div",{className:e.root,children:Object(Ht.jsx)(Ca,{})})},pi=n(340),bi=function(e){var t=e.title;return Object(Ht.jsx)(pi.a,{children:Object(Ht.jsx)("title",{children:t||"NDEx Network Viewer 2.5"})})};!function(e){e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.InternalServerError=500]="InternalServerError"}(di||(di={}));var gi=di,mi=new Map;mi.set(gi.BadRequest,["The server could not handle your request","The NDEx server could not handle your request. Please try different query or try Classic Mode."]),mi.set(gi.Unauthorized,["You don't have permission to access this data","Please sing in to your account and check the permission of this entry"]),mi.set(gi.InternalServerError,["Unknown server-side error.","Please try again later or report this issue to us."]),mi.set(gi.NotFound,["The entry does not exist in the server","Please double-check the Network ID in the URL"]);var vi=n(525),ji=function(e){var t=e.title,n=void 0===t?"":t,r=e.message,o=void 0===r?"":r,a=e.open,i=e.setOpen,c=e.setProceed,s=e.setNoView,l=(Object(d.f)(),function(){s(!0),i(!1),c(!0)});return Object(Ht.jsxs)(v.a,{open:a,onClose:l,children:[Object(Ht.jsx)(j.a,{children:n}),Object(Ht.jsx)(O.a,{children:Object(Ht.jsx)(vi.a,{children:o})}),Object(Ht.jsxs)(N.a,{children:[Object(Ht.jsx)(g.a,{onClick:l,color:"default",children:"Cancel"}),Object(Ht.jsx)(g.a,{onClick:function(){s(!1),void 0!==c&&c(!0),i(!1)},color:"secondary",children:"OK"})]})]})},Oi=function(){return"".concat(window.location.protocol,"//").concat(window.location.host)},xi=n(345),yi=n.n(xi),wi=n(344),Ci=n.n(wi),Si=n(343),Ei=n.n(Si),Ni=function(e,t){var n=t.palette;return e===gi.NotFound||e===gi.Unauthorized?n.info.main:e===gi.BadRequest||e===gi.Forbidden?n.warning.main:n.error.main},ki=function(e){var t=e.code,n=e.size,r=void 0===n?"10em":n,o=Object(h.a)((function(e){return Object(p.a)({errorIcon:{fontSize:r,color:Ni(t,e)}})}))();return t===gi.NotFound?Object(Ht.jsx)(Ei.a,{className:o.errorIcon}):t===gi.Unauthorized||t===gi.Forbidden?Object(Ht.jsx)(Ci.a,{className:o.errorIcon}):t===gi.BadRequest?Object(Ht.jsx)(yi.a,{className:o.errorIcon}):Object(Ht.jsx)(Fo.a,{className:o.errorIcon})},Ai=Object(h.a)((function(e){return Object(p.a)({initPanel:{width:"100%",height:"100%",boxSizing:"border-box",color:"#AAAAAA",display:"grid",placeItems:"center"},message:{display:"grid",placeItems:"center",maxWidth:"40em"},errorMessage:{paddingTop:"1em",color:e.palette.text.primary},errorIcon:{fontSize:"15em"},progressIcon:{marginTop:"5em"},bottomMessage:{display:"grid",placeItems:"center",marginTop:e.spacing(4)},caption:{marginTop:e.spacing(1)},subMessage:{marginTop:e.spacing(1),marginBottom:e.spacing(2),color:e.palette.text.primary},link:{color:e.palette.info.main,marginTop:e.spacing(1),marginBottom:e.spacing(2),"&:hover":{fontWeight:600,cursor:"pointer"}}})})),Ii=function(e){window.open(e,"_self")},Di=function(e){var t=e.message,n=e.subMessage,r=e.optionalMessage,o=e.code,a=e.showProgress,s=void 0!==a&&a,l=e.summary,f=e.setProceed,h=e.error,p=void 0!==h&&h,b=e.setNoView,g=Ai(),v=(Object(d.h)().uuid,Object(i.useContext)(cn)),j=v.config,O=v.ndexLoginWrapper,x=Object(i.useState)(!1),y=Object(u.a)(x,2),w=y[0],C=y[1],S=Object(i.useState)(""),E=Object(u.a)(S,2),N=E[0],k=E[1],A=Object(i.useState)(""),I=Object(u.a)(A,2),D=I[0],L=I[1];Object(i.useEffect)((function(){if(void 0!==l){var e=l.nodeCount+l.edgeCount;if(l.cx2FileSize>j.maxDataSize||e>j.maxNumObjects)return C(!1),void f(!0);if(e<=j.warningThreshold)!l.hasLayout&&e>j.viewerThreshold?(k("No layout available for this network"),L("Do you want to visualize the network with random layout? Or click cancel to explore it without view"),C(!0)):f(!0);else C(!1),f(!0)}}),[l]);return p?Object(Ht.jsx)("div",{className:g.initPanel,children:Object(Ht.jsxs)("div",{className:g.message,children:[Object(Ht.jsx)(ki,{code:o,size:"12em"}),Object(Ht.jsx)(m.a,{className:g.errorMessage,variant:"h4",children:t}),Object(Ht.jsx)(m.a,{variant:"h5",className:g.subMessage,children:r}),o===gi.Unauthorized||o===gi.Forbidden?Object(Ht.jsx)(m.a,{variant:"h5",onClick:function(){O.click()},className:g.link,children:"Sign In"}):Object(Ht.jsx)("div",{}),Object(Ht.jsxs)(m.a,{variant:"body1",children:["(",n,")"]}),Object(Ht.jsx)("div",{className:g.bottomMessage,children:Object(Ht.jsx)(m.a,{variant:"caption",onClick:function(){return Ii("".concat(Oi()))},className:g.link,children:"Return to top page"})})]})}):Object(Ht.jsxs)(c.a.Fragment,{children:[Object(Ht.jsx)(ji,{setProceed:f,setNoView:b,open:w,setOpen:function(){C(!1)},title:N,message:D}),Object(Ht.jsx)("div",{className:g.initPanel,children:Object(Ht.jsxs)("div",{className:g.message,children:[Object(Ht.jsx)(m.a,{variant:"h5",children:t}),s?Object(Ht.jsx)(q.a,{color:"secondary",disableShrink:!0,className:g.progressIcon}):Object(Ht.jsx)("div",{})]})})]})},Li="lgr",Ti="cyjs",Pi=Object(h.a)((function(e){return Object(p.a)({mainSplitRoot:{flexGrow:1,boxSizing:"border-box",zIndex:100,display:"flex",height:"100%",flexDirection:"column",position:"relative"},leftPanel:{display:"flex",flexDirection:"column"}})})),_i=function(){return Math.floor(.35*window.innerWidth)},Ri={cxVersion:"1",count:Number.POSITIVE_INFINITY,renderer:Ti,name:"N/A"},Bi=function(){return window.innerWidth},Fi=function(){var e=Object(i.useState)(Bi()),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){function e(){r(Bi())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n},zi=function(){var e=Pi(),t=Object(i.useRef)(),n=Object(d.h)().uuid,r=Object(i.useContext)(cn),o=r.uiState,a=r.ndexCredential,s=r.config,l=r.uiStateDispatch,f=s.maxNumObjects,h=s.viewerThreshold,p=Lo(n,s.ndexHttps,"v2",a),b=p.isLoading,g=(p.isError,p.isLoadingError,p.data),m=function(e,t){if(void 0===e)return Ri;var n=e.edgeCount+e.nodeCount,r="1",o=Ti;return n>t&&(r="2",o=Li),{cxVersion:r,count:n,renderer:o,name:e.name}}(g,h),v=Object(i.useState)(null),j=Object(u.a)(v,2),O=j[0],x=j[1],y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v2",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2e6,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"1",c=Object(d.g)(),s=_n(c.search);return null!==s&&(r.accesskey=s),Object(Dn.useQuery)(["cx",e,t,n,r,o,a,i],(function(){return ui(e,t,n,r,o,a,i)}),{retry:!1})}(O,s.ndexHttps,"v2",a,f,m.count,m.cxVersion),w=y.data,C=Object(i.useState)(_i()),S=Object(u.a)(C,2),E=S[0],N=S[1],k=Object(i.useState)(0),A=Object(u.a)(k,2),I=A[0],D=A[1],L=Object(i.useState)(!1),T=Object(u.a)(L,2),P=T[0],_=T[1],R=Object(i.useState)(0),B=Object(u.a)(R,2),F=B[0],z=B[1],M=Object(i.useState)(0),G=Object(u.a)(M,2),U=G[0],H=G[1],q=Object(i.useState)(!1),V=Object(u.a)(q,2),W=V[0],X=V[1],Y=Object(i.useState)(!1),Q=Object(u.a)(Y,2),Z=Q[0],K=Q[1],J=Fi(),$=Object(i.useState)(null),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=function(){var e,n=null!==(e=null===t||void 0===t?void 0:t.current)&&void 0!==e?e:{offsetHeight:0};n&&setTimeout((function(){n.offsetHeight!==I&&D(n.offsetHeight)}),100)};Object(i.useEffect)((function(){window.addEventListener("resize",re);var e=function(){var e;try{e=document.createElement("canvas").getContext("webgl2")}catch(t){return console.warn("WebGL2 is not supported in your browser.",t),!1}return console.log(e),void 0!==e&&"undefined"!==typeof WebGL2RenderingContext||(console.warn("WebGL2 is not supported in your browser. Please turn on the feature or use different web browser."),!1)}();_(e)}),[]),Object(i.useLayoutEffect)((function(){re()})),Object(i.useEffect)((function(){if(void 0!==g&&0!==Object.keys(g).length){var e=g.edgeCount+g.nodeCount,t=g.cx2FileSize;z(e),H(t),e<s.maxNumObjects&&U<s.maxDataSize&&(P&&!Z||!P&&e<s.viewerThreshold)&&x(n)}}),[g]),Object(i.useEffect)((function(){!o.dataPanelOpen&&E>0?N(0):o.dataPanelOpen&&N(_i())}),[o.dataPanelOpen]);var oe=function(e){return l({type:Jr,uiState:e})};Object(i.useEffect)((function(){var e;e=Object(it.a)(Object(it.a)({},o),{},{rightPanelWidth:E}),l({type:eo,uiState:e})}),[E]);var ae=function(e){var t=J-e;t<=0?oe(Object(it.a)(Object(it.a)({},o),{},{dataPanelOpen:!1})):o.dataPanelOpen||oe(Object(it.a)(Object(it.a)({},o),{},{dataPanelOpen:!0})),N(t)},ie={height:I},ce=function(){return Object(Ht.jsxs)(c.a.Fragment,{children:[Object(Ht.jsx)(bi,{title:"".concat(m.name," (").concat(n,")")}),Object(Ht.jsx)("div",{ref:t,className:e.mainSplitRoot,children:Object(Ht.jsxs)(fo.a,{split:"vertical",minSize:.2*J,size:J-E,onDragFinished:ae,style:ie,maxSize:0,children:[s.maxDataSize<U||s.maxNumObjects<F?Object(Ht.jsx)(po,{noView:Z,cx:w,renderer:m.renderer,objectCount:F,cxDataSize:U,isWebGL2:P,setSubCx:ne}):void 0===w||y.isLoading?Object(Ht.jsx)(Di,{message:"Loading network data from NDEx server...",showProgress:!0,setProceed:X}):Object(Ht.jsx)(po,{noView:Z,cx:w,renderer:m.renderer,objectCount:F,cxDataSize:U,isWebGL2:P,setSubCx:ne}),o.dataPanelOpen?Object(Ht.jsx)(si,{width:E,cx:o.mainNetworkNotDisplayed?te:w,renderer:m.renderer,objectCount:F,cxDataSize:U}):Object(Ht.jsx)(hi,{})]})})]})};if(p.isError){var se=function(e){var t=e.details,n={message:"Unknown error: ".concat(e.name),originalMessage:e.message};if(void 0===t)return n;var r=t.response;if(void 0===r)return{message:"Invalid Entry Found",optionalMessage:e.details.details.subMessage,originalMessage:e.message};var o=r,a=o.status,i=o.statusText,c=r.data,s=mi.get(a);return void 0!==s?{message:s[0],optionalMessage:s[1],originalMessage:"".concat(i,": ").concat(c.message),code:a}:n}(p.error);return Object(Ht.jsx)(Di,{message:se.message,subMessage:se.originalMessage,optionalMessage:se.optionalMessage,code:se.code,error:!0,setProceed:X})}return void 0===g||b?Object(Ht.jsx)(Di,{message:"Loading summary of the network...",showProgress:!0,setProceed:X}):y.isError?y.error.response&&y.error.response.data&&"CX2 network is not available for this network."!==y.error.response.data.message?Object(Ht.jsx)(Di,{summary:g,message:"Missing visualization data. Unable to visualize this network.",error:!0,setProceed:X}):(console.log("CXResponse error data:",y.error.response.data),Object(Ht.jsx)(Di,{summary:g,message:"".concat(y.error),error:!0,setProceed:X})):void 0===g||W||s.maxNumObjects<F||s.maxDataSize<U?ce():Object(Ht.jsx)(Di,{summary:g,message:"Checking status of network data...",setProceed:X,setNoView:K})},Mi=n(346),Gi=n.n(Mi),Ui=function(){Object(i.useContext)(cn).config;var e=Object(d.h)().uuid,t=Oi(),n="".concat(t,"/#/network/").concat(e);return Object(Ht.jsx)(b.a,{title:"View this network in Classic Mode",children:Object(Ht.jsx)(g.a,{variant:"outlined",color:"default",size:"small",endIcon:Object(Ht.jsx)(Gi.a,{}),onClick:function(){window.open(n,"_self")},children:"Switch to Classic Mode"})})},Hi=n.p+"static/media/ndex-logo.f952f474.svg",qi=Object(h.a)((function(e){return Object(p.a)({ndexLogo:{height:e.spacing(4.5),marginRight:e.spacing(1),padding:0,backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}})})),Vi=function(){var e=qi(),t=Oi();return Object(Ht.jsx)(b.a,{title:"NDEx home",placement:"bottom",children:Object(Ht.jsx)(S.a,{"aria-label":"NDEx Home",onClick:function(){window.open(t,"_self")},className:e.ndexLogo,children:Object(Ht.jsx)("img",{alt:"NDEx Logo",src:Hi,className:e.ndexLogo})})})},Wi=n(235),Xi=n.n(Wi),Yi=n(360),Qi=n(526),Zi=Object(h.a)((function(e){return Object(p.a)({button:{height:e.spacing(5),padding:0,margin:0,marginRight:e.spacing(2),backgroundColor:"transparent","&:hover":{backgroundColor:"transparent"}}})})),Ki=function(){var e=Zi(),t=c.a.useState(null),n=Object(u.a)(t,2),r=n[0],o=n[1],a=Boolean(r),i=a?"advanced-popover":void 0;return Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsx)(b.a,{title:"Advanced menu",children:Object(Ht.jsx)(S.a,{className:e.button,"aria-describedby":i,onClick:function(e){o(e.currentTarget)},color:"inherit",disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,children:Object(Ht.jsx)(Xi.a,{})})}),Object(Ht.jsxs)(Yi.a,{open:a,anchorEl:r,onClose:function(){o(null)},children:[Object(Ht.jsx)(Qi.a,{onClick:function(){window.open("https://home.ndexbio.org/about-ndex/"),o(null)},children:"About"}),Object(Ht.jsx)(Qi.a,{onClick:function(){window.open("https://home.ndexbio.org/quick-start/"),o(null)},children:"Docs"}),Object(Ht.jsx)(Qi.a,{onClick:function(){window.open("https://home.ndexbio.org/report-a-bug/"),o(null)},children:"Report bug"}),Object(Ht.jsx)(Qi.a,{onClick:function(){window.open("https://home.ndexbio.org/contact-us/"),o(null)},children:"Contact Us"}),Object(Ht.jsx)(Qi.a,{onClick:function(){window.open("https://home.ndexbio.org/faq/"),o(null)},children:"FAQ"})]})]})},Ji=Object(h.a)((function(e){return Object(p.a)({root:{position:"fixed",display:"flex",alignItems:"center",justifyContent:"flex-start",top:e.spacing(1),left:e.spacing(1),height:e.spacing(6.5),padding:e.spacing(1),backgroundColor:"rgba(255,255,255, 0.9)",zIndex:300,borderRadius:5}})})),$i=function(e){var t=Ji(),n=Object(i.useRef)(null),r=Object(i.useContext)(cn),o=(r.config,r.summary),a=r.ndexCredential,c=r.setNdexCredential,s=r.setNdexLoginWrapper;Object(i.useEffect)((function(){s(n.current.lastChild)}),[]);var l=Oi();return Object(Ht.jsx)("div",{className:t.root,children:Object(Ht.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:0,children:[Object(Ht.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(Ht.jsx)(Vi,{}),Object(Ht.jsx)("div",{ref:n,children:Object(Ht.jsx)(nt,{size:"medium",myAccountURL:l+"/#/myAccount",onLoginStateUpdated:function(e){if(e)if(e.isGoogle)c({loaded:!0,isLogin:!0,isGoogle:!0,oauth:e});else{var t=e.loginDetails;c({loaded:!0,isLogin:!0,isGoogle:!1,basic:{userId:t.id,password:t.password}})}else a.loaded&&a.isLogin&&(console.log("going from logged in to logged out: ",o),o&&"PRIVATE"!=o.visibility||(window.location.href=l)),c({loaded:!0,isLogin:!1,isGoogle:!1})}})}),Object(Ht.jsx)(Ki,{}),Object(Ht.jsx)(Ui,{})]}),Object(Ht.jsx)(D.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"})]})})},ec=n(365),tc=n(363),nc=n(347),rc=n.n(nc),oc=n.p+"static/media/base_network.d8a7fc02.png",ac=n.p+"static/media/neighborhood_network.1fbd73ae.png",ic=n.p+"static/media/adjacent_network.f4e37580.png",cc=n.p+"static/media/direct_network.5bad2ad8.png",sc=n.p+"static/media/interconnect_network.21703162.png",lc=Object(h.a)({root:{padding:"2em"},message:{padding:"2em",display:"grid",placeItems:"center center"},dialogTitle:{"& h2":{display:"flex",flexDirection:"row"},cursor:"move"},iconButton:{padding:"0 !important",width:"2rem",height:"2rem"},title:{flexGrow:1},flexRowContainerOuter:{display:"flex",flexDirection:"row",flexWrap:"wrap",columnGap:"2em",justifyContent:"center"},flexRowContainerInner:{display:"flex",flexDirection:"row",alignItems:"center",maxWidth:"40em",minHeight:"10em"},flexColumnContainer:{display:"flex",flexDirection:"column",rowGap:"1em"},flexRowItemOuter:{minWidth:"25em",flexGrow:1,flexBasis:"calc(50% - 1em)",maxWidth:"40em"},flexRowItemInner:{},flexColumnItem:{},image:{height:"10em",marginLeft:"1em"}}),uc=function(e){lc();return Object(Ht.jsx)(rc.a,{cancel:'[class*="MuiDialogContent-root"]',children:Object(Ht.jsx)(tc.a,Object(it.a)({},e))})},dc=function(e){var t=lc(),n=e.onClose,r=e.open,o=function(){n()};return Object(Ht.jsx)(Ht.Fragment,{children:Object(Ht.jsxs)(v.a,{className:t.root,onClose:o,"aria-labelledby":"search-help-dialog-title",open:r,PaperComponent:uc,maxWidth:"md",children:[Object(Ht.jsxs)(j.a,{id:"search-help",className:t.dialogTitle,children:[Object(Ht.jsx)(m.a,{variant:"h6",className:t.title,children:"Network Query Modes"}),Object(Ht.jsx)(S.a,{"aria-haspopup":"true",onClick:o,className:t.iconButton,children:Object(Ht.jsx)(Cr.a,{})})]}),Object(Ht.jsx)(O.a,{dividers:!0,children:Object(Ht.jsx)(vi.a,{color:"textPrimary",children:Object(Ht.jsxs)("div",{className:t.flexRowContainerOuter,children:[Object(Ht.jsxs)("div",{className:[t.flexColumnContainer,t.flexRowItemOuter].join(" "),children:[Object(Ht.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsxs)(m.a,{variant:"body2",children:[Object(Ht.jsx)("br",{}),"This section explains briefly all the available types of query using the simple example network pictured to the right. In the examples below, the orange node(s) indicate the query terms while blue nodes and edges identify the retrieved subnetwork."]})}),Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsx)("img",{src:oc,className:t.image})})]}),Object(Ht.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(Ht.jsxs)("div",{className:t.flexRowItemInner,children:[Object(Ht.jsx)(m.a,{variant:"body2",children:Object(Ht.jsx)("strong",{children:"Neighborhood:"})}),Object(Ht.jsx)(m.a,{variant:"body2",children:'Returns all the nodes connected to the query term(s) and all edges between these nodes. For example, querying the network for "B" (orange node), will return the subnetwork highlighted in blue.'})]}),Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsx)("img",{src:ac,className:t.image})})]}),Object(Ht.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsxs)(m.a,{variant:"body2",children:[Object(Ht.jsx)(m.a,{variant:"body2",children:Object(Ht.jsx)("strong",{children:"Adjacent:"})}),'Returns all nodes connected to the query term(s) and only the edges between these nodes and the query term(s). In this case querying the network for "B" will return a smaller subnetwork.'," "]})}),Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsx)("img",{src:ic,className:t.image})})]})]}),Object(Ht.jsxs)("div",{className:[t.flexColumnContainer,t.flexRowItemOuter].join(" "),children:[Object(Ht.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsxs)(m.a,{variant:"body2",children:[Object(Ht.jsx)(m.a,{variant:"body2",children:Object(Ht.jsx)("strong",{children:"Direct: "})}),'Returns all edges between the query terms. This type of query requires at least 2 terms (or use of wildcards). Querying for "A" and "B" returns only the connection between them.']})}),Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsx)("img",{src:cc,className:t.image})})]}),Object(Ht.jsxs)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:[Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsxs)(m.a,{variant:"body2",children:[Object(Ht.jsx)(m.a,{variant:"body2",children:Object(Ht.jsx)("strong",{children:"Interconnect:"})}),'Returns all edges connecting the query terms and including up to one intermediate node. Also for this type of query at least 2 terms (or use of wildcards) are required. In this case, querying for "A" and "B" returns the subnetwork highlighted in blue.'," "]})}),Object(Ht.jsx)("div",{className:t.flexRowItemInner,children:Object(Ht.jsx)("img",{src:sc,className:t.image})})]}),Object(Ht.jsx)("div",{className:[t.flexRowContainerInner,t.flexColumnItem].join(" "),children:Object(Ht.jsxs)("div",{className:t.flexRowItemInner,children:[Object(Ht.jsxs)(m.a,{variant:"body2",children:[Object(Ht.jsx)("strong",{children:"1-step"})," and ",Object(Ht.jsx)("strong",{children:"2-step"})," indicate the depth of the traversal query and only apply to Neighborhood and Adjacent queries."]}),Object(Ht.jsxs)(m.a,{variant:"body2",children:[Object(Ht.jsx)("br",{}),"For more info, please review the manual on"," ",Object(Ht.jsx)("a",{href:"https://home.ndexbio.org/finding-and-querying-networks/",target:"_blank",children:"Finding and Querying Networks in NDEx"}),"."]})]})})]})]})})}),Object(Ht.jsx)(N.a,{children:Object(Ht.jsx)(g.a,{onClick:o,children:"Close"})})]})})},fc=function(){var e=Object(d.h)().uuid,t=Object(i.useContext)(cn),n=t.query,r=t.queryMode,o=t.uiState,a=t.ndexCredential,s=t.config,l=t.summary,f=qn(e,n,s.ndexHttps,a,r,s.maxEdgeQuery),h=a.isLogin,p=f.data,b=void 0!==p&&p.edgeLimitExceeded,g=l?l.subnetworkNodeCount+l.subnetworkEdgeCount:0,m=void 0!==p&&g>0?p.cx:void 0,v=c.a.useState(void 0),j=Object(u.a)(v,2),O=j[0],x=j[1];if(o.showSearchResult){var y=!1;return void 0!==m&&!b&&h||(y=!0),Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsx)(at,{disabled:y,fetchCX:function(){return new Promise((function(e,t){e(m)}))},onSuccess:function(e){console.log(e),x("Network saved to NDEx.")},onFailure:function(e){x("Failed to Save network: "+e)},tooltip:"Save to NDEx"}),Object(Ht.jsx)(so.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:void 0!==O,autoHideDuration:1500,onClose:function(){x(void 0)},message:O})]})}return Object(Ht.jsx)(at,{disabled:!0})},hc=n(527),pc=new bn.CyNetworkUtils,bc=function(e){return e.replace(/\t/g," ").replace(/\|/g," ")},gc=function(e){var t="No Name";return e&&(e.n?t=e.n:e.id&&(t=e.id)),t},mc=function(e,t){if(!e)return null;var n,r=e.edges[t],o={id:t,s:r.s,t:r.t,i:r.i};if(e.edgeAttributes&&e.edgeAttributes[t]){var a=e.edgeAttributes[t];Object.keys(a).forEach((function(e){var t=a[e];if("selected"!=e)if(o[e]){for(;o[e+"_"+n];)n++;o[e+"_"+n]=t,n++}else o[e]=t}))}if(e.edgeCitations&&e.edgeCitations[t]){var i=[];e.edgeCitations[t].forEach((function(t){i.push(e.citations[t])})),i.length>0&&(o.citations=i)}return o},vc=function(e,t){if(!e)return null;var n=e.nodes[t],r={id:t,_cydefaultLabel:pc.getDefaultNodeLabel(e,n),n:n.n,r:n.r},o=1;if(e.nodeAttributes&&e.nodeAttributes[t]){var a=e.nodeAttributes[t];Object.keys(a).forEach((function(e){var t=a[e];if("selected"!=e)if(r[e]){for(;r[e+"_"+o];)o++;r[e+"_"+o]=t,o++}else r[e]=t}))}return r},jc=function(e){var t="";if("undefined"===typeof e||""===e||null==e)return t;if("string"===typeof e)return e;if("object"===typeof e&&e.v)if(Array.isArray(e.v)){for(var n=0;n<e.v.length;n++)e.v[n]=bc(e.v[n]);t=e.v.join("|")}else"string"===typeof e.v&&(t=e.v);return t},Oc=function(e){return function(e){var t=e,n=t.edges,r=Object.keys(n),o={},a=t.edgeAttributes,i={"Source Node":0,Interaction:1,"Target Node":2,"Source ID":3,"Source Alias":4},c=i["Source Alias"],s=t.nodes,l=Object.keys(s),u=t.nodeAttributes;for(var d in l){var f=l[d];if(u){var h=u[f];for(var p in h){var b=h[p]?h[p]:"",g="Source "+(v=bc(b.n));v&&"alias"==v.toLowerCase()&&(g in i||(delete i["Source Alias"],i[g]=c)),g in i||(i[g]=Object.keys(i).length)}}}i["Target ID"]=Object.keys(i).length,i["Target Alias"]=Object.keys(i).length;var m=i["Target Alias"];for(var d in l)if(f=l[d],u)for(var p in h=u[f]){b=h[p]?h[p]:"";var v,j="Target "+(v=bc(b.n));v&&"alias"==v.toLowerCase()&&(j in i||(delete i["Target Alias"],i[j]=m)),j in i||(i[j]=Object.keys(i).length)}i.Citation=Object.keys(i).length;for(var O=i.Citation,x=0;x<r.length;x++){var y=r[x];if(a)for(var d in a[y]){var w=bc(d);w&&"citation"==w.toLowerCase()&&(w in i||(delete i.Citation,i[w]=O)),w in i||(i[w]=Object.keys(i).length)}}i["cx edge id"]=Object.keys(i).length,i["cx source node id"]=Object.keys(i).length,i["cx target node id"]=Object.keys(i).length;var C=Object.keys(i);C.sort((function(e,t){return i[e]-i[t]}));for(var S=C.join("\t")+"\n",E=(o={},{n:0,r:0,id:0,_cydefaultLabel:0}),N={id:0,s:0,t:0,i:0},k=0;k<r.length;k++){for(d in i)o[d]="";y=r[k];var A=mc(t,y);o["cx edge id"]=A&&A.id?A.id:"",o["cx source node id"]=A&&(A.s||0==A.s)?A.s:"",o.Interaction=A&&A.i?A.i:"",o["cx target node id"]=A&&(A.t||0==A.t)?A.t:"";var I=vc(t,A.s),D=vc(t,A.t);for(var L in o["Source Node"]=gc(I),o["Source ID"]=I&&I.r?I.r:"",o["Target Node"]=gc(D),o["Target ID"]=D&&D.r?D.r:"",I){var T=bc(L);T in E||(o["Source "+T]=jc(I[L]))}for(L in D){var P=bc(L);P in E||(o["Target "+P]=jc(D[L]))}for(var _ in A){var R=bc(_);R in N||(o[R]=jc(A[_]))}var B="";for(d in C)B=B+o[C[d]]+"\t";S+=B=B.slice(0,-1)+"\n"}return S}(pc.rawCXtoNiceCX(e))},xc=function(e){var t=e.cx,n=e.fileName,r=e.setOpen,o=!0;void 0!==t&&(o=!1);return Object(Ht.jsxs)(Qi.a,{onClick:function(){r(!1),function(e,t,n){var r=document.createElement("a"),o=new Blob([e],{type:n});r.href=URL.createObjectURL(o),r.download=t,r.click()}(Oc(t),n,"application/json")},disabled:o,children:[Object(Ht.jsx)(hc.a,{children:Object(Ht.jsx)(P.a,{fontSize:"small"})}),Object(Ht.jsx)(m.a,{variant:"inherit",children:"Export TSV"})]})},yc=function(e){var t=e.setOpen,n=Object(d.h)().uuid,r=Object(i.useContext)(cn),o=r.query,a=r.queryMode,c=r.ndexCredential,s=r.config,l=r.summary,u=qn(n,o,s.ndexHttps,c,a,s.maxEdgeQuery),f=u.status,h=u.data,p=void 0!==h&&h.edgeLimitExceeded,b=l?l.subnetworkNodeCount+l.subnetworkEdgeCount:0,g=void 0!==h?h.cx:void 0,m=n?n+" subnet.tsv":"subnet.tsv";return Object(Ht.jsx)(xc,{cx:f&&"success"===f&&!p&&b>0?g:void 0,fileName:m,setOpen:t})},wc=Object(h.a)((function(e){return Object(p.a)({typography:{}})})),Cc=function(){wc();var e=c.a.useState(null),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(i.useState)(Boolean(n)),a=Object(u.a)(o,2),s=a[0],l=a[1],d=s?"advanced-menu":void 0;return Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsx)(b.a,{title:"Search query advanced menu",children:Object(Ht.jsx)(S.a,{"aria-describedby":d,onClick:function(e){r(e.currentTarget),l(!0)},color:"inherit",children:Object(Ht.jsx)(Xi.a,{})})}),Object(Ht.jsx)(Yi.a,{id:d,open:s,anchorEl:n,onClose:function(){r(null),l(!1)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:Object(Ht.jsx)(yc,{setOpen:l})})]})},Sc=Object(h.a)((function(e){return Object(p.a)({root:{display:"flex",alignItems:"center",justifyContent:"flex-start",borderRadius:e.shape.borderRadius,backgroundColor:e.palette.grey[100],marginRight:e.spacing(1),marginLeft:e.spacing(1),padding:0,paddingRight:e.spacing(1)},search:{maxWidth:"60vh",display:"flex",alignItems:"center",justifyContent:"flex-start"},inputRoot:{width:"100%",color:"inherit"},inputInput:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),transition:e.transitions.create("width"),width:"100%"},formControl:{minWidth:"15em"},selectEmpty:{marginTop:e.spacing(0)},searchType:{maxWidth:"12ch",padding:0},button:{padding:0}})})),Ec={direct:"Direct",firstStepNeighborhood:"1-Step Neighborhood",firstStepAdjacent:"1-step adjacent",interconnect:"Interconnect",twoStepNeighborhood:"2-step neighborhood",twoStepAdjacent:"2-step adjacent"},Nc=function(){var e,t=Sc(),n=Object(i.useState)(!1),r=Object(u.a)(n,2),o=r[0],a=r[1],c=Object(i.useState)(!0),s=Object(u.a)(c,2),l=s[0],f=s[1],h=Object(i.useState)(""),p=Object(u.a)(h,2),g=p[0],m=p[1],v=Object(d.h)().uuid,j=Object(i.useContext)(cn),O=j.cyReference,y=j.query,w=j.setQuery,C=j.queryMode,E=j.setQueryMode,N=j.uiStateDispatch,k=j.uiState,A=j.selectionState,I=j.selectionStateDispatch,D=j.ndexCredential,L=j.config,T=j.summary,P=Object(i.useState)(C),_=Object(u.a)(P,2),R=_[0],B=_[1],F=qn(v,y,L.ndexHttps,D,C,L.maxEdgeQuery).data;void 0!==F&&(e=F.cx);var M=void 0!==F&&F.edgeLimitExceeded,G={data:(T?T.subnetworkNodeCount+T.subnetworkEdgeCount:0)>0?e:void 0,tooltip:"Download query result as CX",fileName:"".concat(v," subnet.cx")},U=function(e){return N({type:$r,uiState:e})},H=function(e){I({type:Yn,selectionState:e}),I({type:Xn,selectionState:e})},q=function(){w(g),U(Object(it.a)(Object(it.a)({},k),{},{showSearchResult:!0})),H(Object(it.a)({},A)),setTimeout((function(){Kr(O)}),300)};return Object(Ht.jsxs)("div",{className:t.root,children:[Object(Ht.jsx)("div",{className:t.search,children:Object(Ht.jsx)(ec.a,{autoFocus:!0,placeholder:"Enter query terms",value:g,classes:{root:t.inputRoot,input:t.inputInput},inputProps:{"aria-label":"search"},onChange:function(e){var t=e.target.value;void 0!==t&&0!==t.length?f(!1):f(!0),m(t)},onKeyPress:function(e){0!==g.length&&("Enter"===e.key&&q())}})}),Object(Ht.jsx)(b.a,{title:"Learn more",children:Object(Ht.jsx)(S.a,{color:"inherit",disableFocusRipple:!0,disableRipple:!0,onClick:function(){a(!0)},children:Object(Ht.jsx)(z.a,{})})}),Object(Ht.jsx)(x.a,{variant:"standard",className:t.formControl,children:Object(Ht.jsx)(Uo.a,{native:!0,value:R,onChange:function(e){var t=e.target.value;B(t),E(t)},label:"Search Type",inputProps:{name:"search type",id:"search-type"},children:Object.keys(Ec).map((function(e){return Object(Ht.jsx)("option",{value:e,children:Ec[e]},e)}))})}),Object(Ht.jsx)(S.a,{color:"inherit",disableFocusRipple:!0,disableRipple:!0,disabled:l,onClick:q,children:Object(Ht.jsx)(ra.a,{})}),!M&&Object(Ht.jsx)(Z,Object(it.a)({},G)),!M&&Object(Ht.jsx)(fc,{}),Object(Ht.jsx)(Cc,{}),Object(Ht.jsx)(S.a,{color:"inherit",disableFocusRipple:!0,disableRipple:!0,className:t.button,disabled:l,onClick:function(){m(""),w(""),f(!0),U(Object(it.a)(Object(it.a)({},k),{},{showSearchResult:!1})),H(Object(it.a)({},A)),setTimeout((function(){Kr(O)}),300)},children:Object(Ht.jsx)(Cr.a,{})}),Object(Ht.jsx)(dc,{onClose:function(){a(!1)},open:o})]})},kc=n(349),Ac=n.n(kc),Ic=n(348),Dc=n.n(Ic),Lc=function(){var e=Object(i.useContext)(cn),t=e.summary,n=e.ndexCredential,r=e.config,o=Object(d.h)().uuid,a=n.isLogin,c=Lo(o,r.ndexHttps,"v2",n).data,s=!1,l=!1;void 0!==c&&null!==c&&(void 0!==t.doi&&(s=!0),l=c.isReadOnly);var u=fa(o,r.ndexHttps,"v2",n),f=!1;void 0!==u&&null!==u&&"ADMIN"===u.data&&(f=!0);var h=!1;a&&void 0!==t&&(h=!0);var p="This feature is only available to signed-in users",g=!0;return f&&h?s?p="Network properties cannot be modified once a DOI has been requested or assigned":l?(p="This network is read-only",g=!0):(p="Edit network properties",g=!1):!f&&h&&(p="You don't have permission to edit this network"),Object(Ht.jsx)(b.a,{title:p,arrow:!0,placement:"top-start",children:Object(Ht.jsx)("div",{children:Object(Ht.jsx)(S.a,{disabled:g,color:"inherit",href:Oi()+"/#/properties/network/"+t.externalId+"/null?returnto=nnv",children:l||g?Object(Ht.jsx)(Dc.a,{}):Object(Ht.jsx)(Ac.a,{})})})})},Tc=n(352),Pc=n.n(Tc),_c=n(350),Rc=n.n(_c),Bc=function(e){var t=e.uuid,n=void 0===t?"":t,r=e.disabled,o=void 0!==r&&r;return Object(Ht.jsxs)(Qi.a,{disabled:o,component:"a",href:Oi()+"/#/access/network/"+n+"?returnto=nnv",children:[Object(Ht.jsx)(hc.a,{children:Object(Ht.jsx)(Rc.a,{fontSize:"small"})}),Object(Ht.jsx)(m.a,{variant:"inherit",children:"Share"})]})},Fc=n(351),zc=n.n(Fc),Mc=function(e){var t=e.uuid,n=void 0===t?"":t,r=e.disabled,o=void 0!==r&&r;return Object(Ht.jsxs)(Qi.a,{disabled:o,component:"a",href:Oi()+"/#/properties/network/"+n+"/null?doi=true&returnto=nnv",children:[Object(Ht.jsx)(hc.a,{children:Object(Ht.jsx)(zc.a,{fontSize:"small"})}),Object(Ht.jsx)(m.a,{variant:"inherit",children:"Request DOI"})]})},Gc="This feature is only available to signed-in users",Uc=function(){var e=Object(d.h)().uuid,t=Object(i.useContext)(cn),n=t.summary,r=t.config,o=t.ndexCredential,a=fa(e,r.ndexHttps,"v2",o),s=!1;void 0!==a&&null!==a&&"ADMIN"===a.data&&(s=!0);var l=!o.isLogin,f=c.a.useState(null),h=Object(u.a)(f,2),p=h[0],g=h[1],m=Boolean(p),v=m?"advanced-menu":void 0,j=!1;void 0!==n&&null!==n&&(void 0!==n.doi&&(j=!0));return Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsx)(b.a,{title:"Share...",children:Object(Ht.jsx)(S.a,{"aria-label":"share","aria-describedby":v,onClick:function(e){g(e.currentTarget)},color:"inherit",children:Object(Ht.jsx)(Pc.a,{})})}),Object(Ht.jsxs)(Yi.a,{id:v,open:m,anchorEl:p,onClose:function(){g(null)},anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(Ht.jsx)(b.a,{title:l?Gc:"Share this network internally or externally",arrow:!0,placement:"left-end",children:Object(Ht.jsx)("div",{children:Object(Ht.jsx)(Bc,{uuid:e,disabled:l})})}),Object(Ht.jsx)(b.a,{title:l||j||!s?function(e,t,n){return e&&!n?"You don't have permission to request DOI.":e&&n&&t?"A DOI has already been requested for this network":Gc}(o.isLogin,j,s):"Request a Digital Object Identifier for this network",arrow:!0,placement:"left-end",children:Object(Ht.jsx)("div",{children:Object(Ht.jsx)(Mc,{uuid:e,disabled:l||j||!s})})})]})]})},Hc=function(){var e=Object(d.h)().uuid,t=Object(i.useContext)(cn),n=t.ndexCredential,r=t.config,o=t.summary,a=function(){var t,o=document.createElement("a"),a="";n.isLogin&&(a=n.isGoogle?"&id_token="+n.oauth.loginDetails.tokenId:"&auth_token="+btoa(n.basic.userId+":"+n.basic.password)),o.href="".concat((t=r.ndexUrl,window.location.protocol+"//"+t),"/v2/network/").concat(e,"?download=true").concat(a),o.click()};return Object(Ht.jsx)(b.a,{title:"Download this network in CX format",children:Object(Ht.jsx)(S.a,{disabled:!o,onClick:function(){a()},color:"inherit",children:Object(Ht.jsx)(P.a,{})})})},qc=function(e){var t=e.open,n=e.setOpen,r=Oi(),o="".concat(r,"/#/myAccount"),a=Object(i.useContext)(cn),c=a.ndexCredential,s=a.config,l=Object(d.h)().uuid,f=Object(i.useState)(!1),h=Object(u.a)(f,2),p=h[0],b=h[1],m=function(){n(!1)};return Object(Ht.jsxs)(Ht.Fragment,{children:[Object(Ht.jsxs)(v.a,{open:t,onClose:m,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(Ht.jsx)(j.a,{id:"alert-dialog-title",children:"Delete this network"}),Object(Ht.jsx)(O.a,{children:Object(Ht.jsx)(vi.a,{id:"alert-dialog-description",children:"This network will be permanently deleted from NDEx. Are you sure you want to proceed?"})}),Object(Ht.jsxs)(N.a,{children:[Object(Ht.jsx)(g.a,{onClick:m,color:"default",autoFocus:!0,children:"Cancel"}),Object(Ht.jsx)(g.a,{onClick:function(){Pn("".concat(s.ndexHttps,"/v2"),c).deleteNetwork(l).then((function(e){console.log(e),b(!0)})).catch((function(e){throw console.log(e),new Error(e)})),n(!1)},color:"secondary",children:"Confirm"})]})]}),Object(Ht.jsx)(so.a,{open:p,autoHideDuration:1e3,message:"The network successfully deleted. Redirecting to your account page...",onClose:function(){b(!1),setTimeout((function(){window.open(o,"_self")}),1100)}})]})},Vc=function(){var e=Object(i.useContext)(cn),t=e.summary,n=e.ndexCredential,r=e.config,o=Object(d.h)().uuid,a=n.isLogin,c=Object(i.useState)(!1),s=Object(u.a)(c,2),l=s[0],f=s[1],h=fa(o,r.ndexHttps,"v2",n),p=!1;void 0!==h&&null!==h&&"ADMIN"===h.data&&(p=!0);var g=!1;a&&void 0!==t&&(g=!0);var m="Delete function is only available to signed-in users",v=!0;p&&g?(m="Delete this network",v=!1):!p&&g&&(m="You don't have permission to delete this network");return Object(Ht.jsx)(b.a,{title:m,arrow:!0,placement:"top-start",children:Object(Ht.jsxs)("div",{children:[Object(Ht.jsx)(S.a,{color:"inherit",disabled:v,onClick:function(e){f(!0)},children:Object(Ht.jsx)(la.a,{})}),Object(Ht.jsx)(qc,{open:l,setOpen:f})]})})},Wc=Object(h.a)((function(e){return Object(p.a)({toolBar:{display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%",backgroundColor:"#FFFFFF",boxSizing:"border-box",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},grow:{flexGrow:1}})})),Xc=function(){var e=Wc();return Object(Ht.jsxs)("div",{className:e.toolBar,children:[Object(Ht.jsx)(Nc,{}),Object(Ht.jsx)("div",{className:e.grow}),Object(Ht.jsx)(ti,{}),Object(Ht.jsx)(Hc,{}),Object(Ht.jsx)(Lc,{}),Object(Ht.jsx)(Uc,{}),Object(Ht.jsx)(Vc,{})]})},Yc=Object(h.a)((function(e){return Object(p.a)({appShell:{width:"100%",height:"100%",padding:0,margin:0,boxSizing:"border-box"},wrapper:{width:"100%",height:"100%",padding:0,margin:0,display:"flex",flexDirection:"column",boxSizing:"border-box"},header:{},main:{flexGrow:1,background:"#EEEEEE",display:"flex",flexDirection:"column",boxSizing:"border-box",width:"100%",height:"100%"},footer:{boxSizing:"border-box",zIndex:500,padding:0,margin:0,borderTop:"1px solid rgba(230,230,230,0.7)",width:"100%",height:"4em"},sandbox:{position:"absolute",left:"-999em"}})})),Qc=function(){var e=Yc(),t=Object(i.useContext)(cn).config;return Object(Ht.jsxs)("div",{className:e.appShell,children:[Object(Ht.jsx)(je,{ndexServerURL:t.ndexHttps,googleClientId:t.googleClientId,children:Object(Ht.jsxs)("div",{className:e.wrapper,children:[Object(Ht.jsx)("header",{className:e.header,children:Object(Ht.jsx)($i,{})}),Object(Ht.jsx)("main",{className:e.main,children:Object(Ht.jsx)(zi,{})}),Object(Ht.jsx)("footer",{className:e.footer,children:Object(Ht.jsx)(Xc,{})})]})}),Object(Ht.jsx)("div",{id:"sandbox"})]})},Zc=Object(h.a)((function(e){return Object(p.a)({accountShell:{width:"100%",height:"100vh",padding:0,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",boxSizing:"border-box"}})})),Kc=function(e){var t=Zc(),n=Object(i.useContext)(cn).config;return Object(Ht.jsx)("div",{className:t.accountShell,children:Object(Ht.jsx)(je,{ndexServerURL:n.ndexHttps,googleClientId:n.googleClientId,children:e.children})})},Jc=Object(h.a)((function(e){return Object(p.a)({root:{width:"40em",padding:0,margin:0,display:"flex",flexDirection:"column",boxSizing:"border-box"},ndexLogo:{height:"3em","vertical-align":"middle"},titleText:{"vertical-align":"middle","padding-left":"1em","line-height":"2em"},homeButton:{color:"white","background-color":"#337ab7",textTransform:"none"},footer:{"text-align":"center"}})})),$c=function(){var e=Jc();Object(i.useEffect)((function(){document.title="Sign Up for NDEx"}),[]);var t=Oi(),n=Object(i.useState)(!1),r=Object(u.a)(n,2),o=r[0],a=r[1];return Object(Ht.jsxs)(D.a,{container:!0,className:e.root,children:[Object(Ht.jsxs)(D.a,{container:!0,alignItems:"center",justify:"center",children:[Object(Ht.jsx)(D.a,{item:!0,children:Object(Ht.jsx)("img",{alt:"NDEx Logo",src:Hi,className:e.ndexLogo})}),Object(Ht.jsx)(D.a,{item:!0,children:Object(Ht.jsx)(m.a,{variant:"h6",display:"inline",className:e.titleText,children:"Sign Up for NDEx"})})]}),Object(Ht.jsx)(ze,{handleNDExSignOn:$e,onSuccessLogin:function(){window.open(t+"/#/myAccount","_self")},onWaitForEmailValidation:function(e,t){a(!0)}}),o&&Object(Ht.jsx)("div",{className:e.footer,children:Object(Ht.jsx)(g.a,{onClick:function(){window.open(t,"_self")},className:e.homeButton,children:"Go to NDEx Home Page"})})]})},es=Object(h.a)((function(e){return Object(p.a)({root:{maxWidth:"32em",margin:0,padding:0},ndexLogo:{height:"3em","vertical-align":"middle"},titleText:{"vertical-align":"middle"},homeButton:{color:"white","background-color":"#337ab7",textTransform:"none"},footer:{marginTop:"5em"},row:{marginBottom:"1em"}})})),ts=function(){var e=es(),t=Object(i.useState)(!1),n=Object(u.a)(t,2),r=n[0],o=n[1],a=Oi();Object(i.useEffect)((function(){document.title="Recover NDEx Password"}),[]);return Object(Ht.jsxs)(D.a,{container:!0,className:e.root,spacing:5,children:[Object(Ht.jsxs)(D.a,{className:e.row,container:!0,justify:"center",alignItems:"center",xs:12,spacing:2,children:[Object(Ht.jsx)(D.a,{item:!0,children:Object(Ht.jsx)("img",{alt:"NDEx Logo",src:Hi,className:e.ndexLogo})}),Object(Ht.jsx)(D.a,{item:!0,children:Object(Ht.jsx)(m.a,{variant:"h6",display:"inline",className:e.titleText,children:"Recover NDEx Password"})})]}),Object(Ht.jsxs)(D.a,{className:e.row,container:!0,justify:"center",alignItems:"center",xs:12,children:[Object(Ht.jsx)(Ge,{onSuccessReset:function(e){o(!0)}}),r&&Object(Ht.jsx)("div",{className:e.footer,children:Object(Ht.jsx)(g.a,{fullWidth:!0,onClick:function(){window.open(a,"_self")},className:e.homeButton,children:"Go to NDEx Home Page to Sing In"})})]})]})},ns=Object(h.a)((function(e){return Object(p.a)({root:{display:"grid",width:"100%",height:"100%",placeItems:"center"},item:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},message:{padding:"1em"},ndexLogo:{height:"20vh",padding:"1em","&:hover":{cursor:"pointer",color:e.palette.secondary.main}},link:{"&:hover":{fontWeight:700,cursor:"pointer",color:e.palette.secondary.main}}})})),rs=function(e){e.config;var t=ns(),n=Oi(),r=function(){window.open(n,"_self")};return Object(Ht.jsx)("div",{className:t.root,children:Object(Ht.jsxs)("div",{className:t.item,children:[Object(Ht.jsx)("img",{alt:"NDEx Logo",src:Hi,className:t.ndexLogo,onClick:r}),Object(Ht.jsx)(m.a,{className:t.message,variant:"h4",children:"Please specify UUID of the network"}),Object(Ht.jsx)(m.a,{className:t.link,onClick:r,variant:"body1",children:"Back to NDEx Home"})]})})},os={loaded:!1,isLogin:!1,isGoogle:!1},as={name:"N/A"},is=function(e){var t=e.config,n=Object(d.f)(ro),r=Object(i.useState)(""),o=Object(u.a)(r,2),a=o[0],c=o[1],s=Object(i.useState)("firstStepNeighborhood"),l=Object(u.a)(s,2),h=l[0],p=l[1],b=Object(i.useState)(as),g=Object(u.a)(b,2),m=g[0],v=g[1],j=Object(i.useState)(null),O=Object(u.a)(j,2),x=O[0],y=O[1],w=Object(i.useState)(os),C=Object(u.a)(w,2),S=C[0],E=C[1],N=Object(i.useReducer)(Jn,Wn),k=Object(u.a)(N,2),A=k[0],I=k[1],D=Object(i.useReducer)(nr,tr),L=Object(u.a)(D,2),T=L[0],P=L[1],_=Object(i.useReducer)(oo,ro),R=Object(u.a)(_,2),B=R[0],F=R[1],z=Object(i.useState)(null),M=Object(u.a)(z,2),G={config:t,cyReference:T,cyDispatch:P,lgrReference:x,setLgrReference:y,uiState:B,uiStateDispatch:F,query:a,setQuery:c,queryMode:h,setQueryMode:p,ndexCredential:S,setNdexCredential:E,summary:m,setSummary:v,selectionState:A,selectionStateDispatch:I,ndexLoginWrapper:M[0],setNdexLoginWrapper:M[1]};return Object(Ht.jsx)(f.a,{basename:"/viewer",history:n,children:Object(Ht.jsxs)(d.c,{children:[Object(Ht.jsx)(d.a,{path:"/networks/:uuid",children:Object(Ht.jsx)(cn.Provider,{value:G,children:Object(Ht.jsx)(Qc,{})})}),Object(Ht.jsx)(d.a,{path:"/signup",children:Object(Ht.jsx)(cn.Provider,{value:G,children:Object(Ht.jsx)(Kc,{children:Object(Ht.jsx)($c,{})})})}),Object(Ht.jsx)(d.a,{path:"/recoverPassword",children:Object(Ht.jsx)(cn.Provider,{value:G,children:Object(Ht.jsx)(Kc,{children:Object(Ht.jsx)(ts,{})})})}),Object(Ht.jsx)(d.a,{path:"/",children:Object(Ht.jsx)(rs,{config:t})})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var cs=n(529),ss=n(528),ls=n(354),us=n.n(ls),ds=n(353),fs=n.n(ds),hs=n(355),ps=Object(hs.a)({palette:{primary:{main:"#FFFFFF"},secondary:{main:fs.a[800]},error:{main:us.a.A200},background:{default:"#EFEFEF"}}}),bs=function(e){Object(bt.a)(n,e);var t=Object(gt.a)(n);function n(){var e;Object(ht.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={hasError:!1,error:null},e}return Object(pt.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log({error:e,errorInfo:t}),this.setState({hasError:!0,error:e})}},{key:"render",value:function(){var e=this.state,t=e.hasError,n=e.error,r="";return null!==n&&void 0!==n.message&&(r=n.message),t?Object(Ht.jsx)("div",{style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(Ht.jsxs)("div",{style:{textAlign:"center"},children:[Object(Ht.jsxs)(m.a,{variant:"h4",style:{margin:"1rem"},children:["Sorry, there was an error loading this page."," "]}),Object(Ht.jsxs)(m.a,{variant:"h6",children:["(",r,")"]}),Object(Ht.jsx)(m.a,{onClick:function(){window.location.reload()},color:"secondary",variant:"h5",style:{cursor:"pointer",margin:"1rem"},children:"Click here to reload the page."}),Object(Ht.jsx)(m.a,{color:"secondary",onClick:function(){window.open("https://home.ndexbio.org/report-a-bug/","_blank")},variant:"h5",style:{cursor:"pointer",margin:"1rem"},children:"Click here to report a bug."})]})}):this.props.children}}]),n}(i.Component),gs="root",ms=window.location;"localhost"!==ms.hostname&&"https:"!==ms.protocol&&ms.replace("https:".concat(ms.href.substring(ms.protocol.length)));var vs=ms.href,js=vs.split("//")[0],Os=vs.replace("".concat(js,"//"),""),xs=Os.replace(/\/\/+/g,"/");xs!==Os&&ms.replace("".concat(js,"//").concat(xs));var ys=new Dn.QueryCache,ws=new Dn.QueryClient({queryCache:ys,defaultOptions:{queries:{refetchOnWindowFocus:!1}}});function Cs(){return(Cs=Object(a.a)(o.a.mark((function e(){var t,n,r,a,i,s,u,d,f,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/viewer","/resource.json"));case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error("Failed to load resource file.  Could not find NDEx server location");case 5:return e.next=7,t.json();case 7:n=e.sent,console.log("* Resource file loaded:",n),r=n.ndexUrl,a=n.googleClientId,i=n.viewerThreshold,s=n.maxNumObjects,u=n.maxEdgeQuery,d=n.maxDataSize,f=n.warningThreshold,h={ndexUrl:r,ndexHttps:"https://".concat(r),googleClientId:a,viewerThreshold:i,maxNumObjects:s,maxDataSize:d,maxEdgeQuery:u,warningThreshold:f},l.a.render(Object(Ht.jsx)(c.a.StrictMode,{children:Object(Ht.jsxs)(ss.a,{theme:ps,children:[Object(Ht.jsx)(cs.a,{}),Object(Ht.jsx)(Dn.QueryClientProvider,{client:ws,children:Object(Ht.jsx)(bs,{children:Object(Ht.jsx)(is,{config:h})})})]})}),document.getElementById(gs));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){Cs.apply(this,arguments)}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[450,1,2]]]);
//# sourceMappingURL=main.9e578d71.chunk.js.map